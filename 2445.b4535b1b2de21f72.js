"use strict";(self.webpackChunkKapow_Maps_Exam=self.webpackChunkKapow_Maps_Exam||[]).push([[2445],{22445:(T,E,t)=>{t.r(E),t.d(E,{createLabelFunction:()=>L,formatField:()=>v});var D=t(15861),M=t(26584),g=t(63290),p=t(88411),O=t(15348),P=t(36630),m=t(86793),h=t(46679);const C=g.Z.getLogger("esri.layers.support.labelFormatUtils"),y={type:"simple",evaluate:()=>null},x={getAttribute:(n,a)=>n.field(a)};function L(n,a,e){return c.apply(this,arguments)}function c(){return(c=(0,D.Z)(function*(n,a,e){if(!n||!n.symbol)return y;const u=n.where,l=(0,m.hV)(n),_=u?yield t.e(410).then(t.bind(t,10410)):null;let i;if("arcade"===l.type){const r=yield(0,h.WW)(l.expression,e,a);i={type:"arcade",evaluate(o){try{const s=r.evaluate({$feature:"attributes"in o?r.repurposeFeature(o):o});if(null!=s)return s.toString()}catch(s){C.error(new M.Z("bad-arcade-expression","Encountered an error when evaluating label expression for feature",{feature:o,expression:l}))}return null},needsHydrationToEvaluate:()=>null==(0,m.el)(l.expression)}}else i={type:"simple",evaluate:r=>l.expression.replace(/{[^}]*}/g,o=>{const s=o.slice(1,-1),d=a.get(s);if(!d)return o;let f=null;return"attributes"in r?r&&r.attributes&&(f=r.attributes[d.name]):f=r.field(d.name),null==f?"":v(f,d)})};if(u){let r;try{r=_.WhereClause.create(u,a)}catch(s){return y}const o=i.evaluate;i.evaluate=s=>r.testFeature(s,"attributes"in s?void 0:x)?o(s):null}return i})).apply(this,arguments)}function v(n,a){if(null==n)return"";const e=a.domain;if(e)if("codedValue"===e.type||"coded-value"===e.type){const l=n;for(const _ of e.codedValues)if(_.code===l)return _.name}else if("range"===e.type){const l=+n,i="range"in e?e.range[1]:e.maxValue;if(("range"in e?e.range[0]:e.minValue)<=l&&l<=i)return e.name}let u=n;return"date"===a.type||"esriFieldTypeDate"===a.type?u=(0,p.p6)(u,(0,p.Ze)("short-date")):(0,P.H7)(a)&&(u=(0,O.uf)(+u)),u||""}}}]);