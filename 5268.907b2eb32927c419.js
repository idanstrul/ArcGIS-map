"use strict";var We=Object.defineProperty,Xe=Object.defineProperties,Je=Object.getOwnPropertyDescriptors,ze=Object.getOwnPropertySymbols,$e=Object.prototype.hasOwnProperty,Qe=Object.prototype.propertyIsEnumerable,Ye=(oe,K,S)=>K in oe?We(oe,K,{enumerable:!0,configurable:!0,writable:!0,value:S}):oe[K]=S,de=(oe,K)=>{for(var S in K||(K={}))$e.call(K,S)&&Ye(oe,S,K[S]);if(ze)for(var S of ze(K))Qe.call(K,S)&&Ye(oe,S,K[S]);return oe},Ke=(oe,K)=>Xe(oe,Je(K));(self.webpackChunkKapow_Maps_Exam=self.webpackChunkKapow_Maps_Exam||[]).push([[5268],{98148:(oe,K,S)=>{function Z(X,H){const O=X.count;H||(H=new X.TypedArrayConstructor(O));for(let B=0;B<O;B++)H[B]=X.get(B);return H}S.d(K,{m:()=>Z}),Object.freeze({__proto__:null,copy:function U(X,H,O){const B=X.typedBuffer,x=X.typedBufferStride,b=H.typedBuffer,C=H.typedBufferStride,E=O?O.count:H.count;let N=(O&&O.dstIndex?O.dstIndex:0)*x,w=(O&&O.srcIndex?O.srcIndex:0)*C;for(let D=0;D<E;++D)B[N]=b[w],N+=x,w+=C},makeDense:Z})},35995:(oe,K,S)=>{S.d(K,{f:()=>X,n:()=>W});var U=S(81096);function Z(O,B,x){const b=O.typedBuffer,C=O.typedBufferStride,E=B.typedBuffer,N=B.typedBufferStride,w=x?x.count:B.count;let D=(x&&x.dstIndex?x.dstIndex:0)*C,R=(x&&x.srcIndex?x.srcIndex:0)*N;for(let k=0;k<w;++k)b[D]=E[R],b[D+1]=E[R+1],D+=C,R+=N}function W(O,B,x){const b=O.typedBuffer,C=O.typedBufferStride,E=B.typedBuffer,N=B.typedBufferStride,w=x?x.count:B.count;let D=(x&&x.dstIndex?x.dstIndex:0)*C,R=(x&&x.srcIndex?x.srcIndex:0)*N;if((0,U.U)(B.elementType)){const k=(0,U.Op)(B.elementType);if((0,U.B3)(B.elementType))for(let ee=0;ee<w;++ee)b[D]=Math.max(E[R]/k,-1),b[D+1]=Math.max(E[R+1]/k,-1),D+=C,R+=N;else for(let ee=0;ee<w;++ee)b[D]=E[R]/k,b[D+1]=E[R+1]/k,D+=C,R+=N}else Z(O,B,x);return O}function X(O,B,x,b){var C,E;const N=O.typedBuffer,w=O.typedBufferStride,D=null!=(C=null==b?void 0:b.count)?C:O.count;let R=(null!=(E=null==b?void 0:b.dstIndex)?E:0)*w;for(let k=0;k<D;++k)N[R]=B,N[R+1]=x,R+=w}Object.freeze({__proto__:null,copy:Z,normalizeIntegerBuffer:W,fill:X})},63657:(oe,K,S)=>{S.d(K,{a:()=>H,s:()=>X,t:()=>W});var U=S(96286);function W(B,x,b){if(B.count!==x.count)return void U.c.error("source and destination buffers need to have the same number of elements");const C=B.count,E=b[0],N=b[1],w=b[2],D=b[3],R=b[4],k=b[5],ee=b[6],j=b[7],Q=b[8],$=B.typedBuffer,ne=B.typedBufferStride,re=x.typedBuffer,ge=x.typedBufferStride;for(let Te=0;Te<C;Te++){const xe=Te*ne,pe=Te*ge,me=re[pe],Ee=re[pe+1],fe=re[pe+2],Oe=re[pe+3];$[xe]=E*me+D*Ee+ee*fe,$[xe+1]=N*me+R*Ee+j*fe,$[xe+2]=w*me+k*Ee+Q*fe,$[xe+3]=Oe}}function X(B,x,b){const C=Math.min(B.count,x.count),E=B.typedBuffer,N=B.typedBufferStride,w=x.typedBuffer,D=x.typedBufferStride;for(let R=0;R<C;R++){const k=R*N,ee=R*D;E[k]=b*w[ee],E[k+1]=b*w[ee+1],E[k+2]=b*w[ee+2],E[k+3]=b*w[ee+3]}}function H(B,x,b){const C=Math.min(B.count,x.count),E=B.typedBuffer,N=B.typedBufferStride,w=x.typedBuffer,D=x.typedBufferStride;for(let R=0;R<C;R++){const k=R*N,ee=R*D;E[k]=w[ee]>>b,E[k+1]=w[ee+1]>>b,E[k+2]=w[ee+2]>>b,E[k+3]=w[ee+3]>>b}}Object.freeze({__proto__:null,transformMat4:function Z(B,x,b){if(B.count!==x.count)return void U.c.error("source and destination buffers need to have the same number of elements");const C=B.count,E=b[0],N=b[1],w=b[2],D=b[3],R=b[4],k=b[5],ee=b[6],j=b[7],Q=b[8],$=b[9],ne=b[10],re=b[11],ge=b[12],Te=b[13],xe=b[14],pe=b[15],me=B.typedBuffer,Ee=B.typedBufferStride,fe=x.typedBuffer,Oe=x.typedBufferStride;for(let he=0;he<C;he++){const ie=he*Ee,Se=he*Oe,_e=fe[Se],le=fe[Se+1],ue=fe[Se+2],be=fe[Se+3];me[ie]=E*_e+R*le+Q*ue+ge*be,me[ie+1]=N*_e+k*le+$*ue+Te*be,me[ie+2]=w*_e+ee*le+ne*ue+xe*be,me[ie+3]=D*_e+j*le+re*ue+pe*be}},transformMat3:W,scale:X,shiftRight:H})},63470:(oe,K,S)=>{function U(X,H,O){const B=X.typedBuffer,x=X.typedBufferStride,b=H.typedBuffer,C=H.typedBufferStride,E=O?O.count:H.count;let N=(O&&O.dstIndex?O.dstIndex:0)*x,w=(O&&O.srcIndex?O.srcIndex:0)*C;for(let D=0;D<E;++D)B[N]=b[w],B[N+1]=b[w+1],B[N+2]=b[w+2],B[N+3]=b[w+3],N+=x,w+=C}function Z(X,H,O,B,x,b){var C,E;const N=X.typedBuffer,w=X.typedBufferStride,D=null!=(C=null==b?void 0:b.count)?C:X.count;let R=(null!=(E=null==b?void 0:b.dstIndex)?E:0)*w;for(let k=0;k<D;++k)N[R]=H,N[R+1]=O,N[R+2]=B,N[R+3]=x,R+=w}S.d(K,{c:()=>U,f:()=>Z}),Object.freeze({__proto__:null,copy:U,fill:Z})},4794:(oe,K,S)=>{function U(){return[0,0,0,0]}function W(Q,$,ne,re){return[Q,$,ne,re]}function H(Q,$){return new Float64Array(Q,$,4)}function B(){return W(1,1,1,1)}function x(){return W(1,0,0,0)}function b(){return W(0,1,0,0)}function C(){return W(0,0,1,0)}function E(){return W(0,0,0,1)}S.d(K,{a:()=>H,c:()=>U,f:()=>W});const w=B(),D=x(),R=b(),k=C(),ee=E();Object.freeze({__proto__:null,create:U,clone:function Z(Q){return[Q[0],Q[1],Q[2],Q[3]]},fromValues:W,fromArray:function X(Q){const $=[0,0,0,0],ne=Math.min(4,Q.length);for(let re=0;re<ne;++re)$[re]=Q[re];return $},createView:H,zeros:function O(){return[0,0,0,0]},ones:B,unitX:x,unitY:b,unitZ:C,unitW:E,ZEROS:[0,0,0,0],ONES:w,UNIT_X:D,UNIT_Y:R,UNIT_Z:k,UNIT_W:ee})},97535:(oe,K,S)=>{S.d(K,{x:()=>Z});var U=S(79682);class Z{constructor(H){this.allocator=H,this._items=[],this._itemsPtr=0,this._grow()}get(){return 0===this._itemsPtr&&(0,U.Y)(()=>this._reset()),this._itemsPtr===this._items.length&&this._grow(),this._items[this._itemsPtr++]}_reset(){const H=Math.min(3*Math.max(8,this._itemsPtr),this._itemsPtr+3*W);this._items.length=Math.min(H,this._items.length),this._itemsPtr=0}_grow(){for(let H=0;H<Math.max(8,Math.min(this._items.length,W));H++)this._items.push(this.allocator())}}const W=1024},81096:(oe,K,S)=>{function Z(O){switch(O){case"u8":case"i8":return 1;case"u16":case"i16":return 2;case"u32":case"i32":case"f32":return 4;case"f64":return 8;default:return}}function W(O){switch(O){case"u8":case"u16":case"u32":return!1;case"i8":case"i16":case"i32":case"f32":case"f64":return!0;default:return}}function X(O){switch(O){case"u8":case"u16":case"u32":case"i8":case"i16":case"i32":return!0;case"f32":case"f64":return!1;default:return}}function H(O){switch(O){case"u8":return 255;case"u16":return 65535;case"u32":return 4294967295;case"i8":return 127;case"i16":return 32767;case"i32":return 2147483647;case"f32":return 3402823e32;case"f64":return 179769e303;default:return}}S.d(K,{B3:()=>W,Op:()=>H,U:()=>X,n1:()=>Z}),S(8314)},60490:(oe,K,S)=>{S.d(K,{gS:()=>C});var U=S(81096);function C(E,N){return new E(new ArrayBuffer(N*E.ElementCount*(0,U.n1)(E.ElementType)))}Object.freeze({__proto__:null,copy:function Z(E,N,w){const D=E.typedBuffer,R=E.typedBufferStride,k=N.typedBuffer,ee=N.typedBufferStride,j=w?w.count:N.count;let Q=(w&&w.dstIndex?w.dstIndex:0)*R,$=(w&&w.srcIndex?w.srcIndex:0)*ee;for(let ne=0;ne<j;++ne){for(let re=0;re<9;++re)D[Q+re]=k[$+re];Q+=R,$+=ee}}}),Object.freeze({__proto__:null,copy:function X(E,N,w){const D=E.typedBuffer,R=E.typedBufferStride,k=N.typedBuffer,ee=N.typedBufferStride,j=w?w.count:N.count;let Q=(w&&w.dstIndex?w.dstIndex:0)*R,$=(w&&w.srcIndex?w.srcIndex:0)*ee;for(let ne=0;ne<j;++ne){for(let re=0;re<16;++re)D[Q+re]=k[$+re];Q+=R,$+=ee}}}),S(98148),S(35995),S(9554),S(63470)},26242:(oe,K,S)=>{S.d(K,{MP:()=>R,WM:()=>N});var U=S(27306),Z=S(79682),W=S(550),X=S(43703),H=S(78451),O=S(99770),B=S(28093),x=S(4794);class b{constructor(j,Q,$){this.itemByteSize=j,this.itemCreate=Q,this._buffers=new Array,this._items=new Array,this._itemsPtr=0,this._itemsPerBuffer=Math.ceil($/this.itemByteSize)}get(){0===this._itemsPtr&&(0,Z.Y)(()=>this._reset());const j=Math.floor(this._itemsPtr/this._itemsPerBuffer);for(;this._buffers.length<=j;){const Q=new ArrayBuffer(this._itemsPerBuffer*this.itemByteSize);for(let $=0;$<this._itemsPerBuffer;++$)this._items.push(this.itemCreate(Q,$*this.itemByteSize));this._buffers.push(Q)}return this._items[this._itemsPtr++]}_reset(){const j=2*(Math.floor(this._itemsPtr/this._itemsPerBuffer)+1);for(;this._buffers.length>j;)this._buffers.pop(),this._items.length=this._buffers.length*this._itemsPerBuffer;this._itemsPtr=0}static createVec2f64(j=C){return new b(16,O.c,j)}static createVec3f64(j=C){return new b(24,B.b,j)}static createVec4f64(j=C){return new b(32,x.a,j)}static createMat3f64(j=C){return new b(72,W.a,j)}static createMat4f64(j=C){return new b(128,X.a,j)}static createQuatf64(j=C){return new b(32,H.c,j)}get test(){return{size:this._buffers.length*this._itemsPerBuffer*this.itemByteSize}}}const C=4*U.Y8.KILOBYTES,N=(b.createVec2f64(),b.createVec3f64()),R=(b.createVec4f64(),b.createMat3f64(),b.createMat4f64());b.createQuatf64()},9160:(oe,K,S)=>{S.d(K,{C:()=>x});var U=S(15861),Z=S(84792),W=S(59213),X=S(26584),H=S(62208),O=S(10699),B=S(21726);class x{constructor(E){this.streamDataRequester=E}loadJSON(E,N){var w=this;return(0,U.Z)(function*(){return w._load("json",E,N)})()}loadBinary(E,N){var w=this;return(0,U.Z)(function*(){return(0,B.HK)(E)?((0,O.k_)(N),(0,B.AH)(E)):w._load("binary",E,N)})()}loadImage(E,N){var w=this;return(0,U.Z)(function*(){return w._load("image",E,N)})()}_load(E,N,w){var D=this;return(0,U.Z)(function*(){if((0,H.Wi)(D.streamDataRequester))return(yield(0,Z.default)(N,{responseType:b[E]})).data;const R=yield(0,W.q6)(D.streamDataRequester.request(N,E,w));if(!0===R.ok)return R.value;throw(0,O.r9)(R.error),new X.Z("",`Request for resource failed: ${R.error}`)})()}}const b={image:"image",binary:"array-buffer",json:"json"}},96170:(oe,K,S)=>{S.d(K,{DA:()=>X,jX:()=>H,nh:()=>W});var U=S(55713),Z=S(73825);function W(O,B=Z.p){return"number"==typeof O?B(O):(0,U.Uc)(O)||(0,U.lq)(O)?new Uint32Array(O):O}function X(O){const B="number"==typeof O?O:O.length;if(B<3)return new Uint16Array(0);const x=B-2,b=x<=65536?new Uint16Array(3*x):new Uint32Array(3*x);if("number"==typeof O){let C=0;for(let E=0;E<x;E+=1)E%2==0?(b[C++]=E,b[C++]=E+1,b[C++]=E+2):(b[C++]=E+1,b[C++]=E,b[C++]=E+2)}else{let C=0;for(let E=0;E<x;E+=1)if(E%2==0){const w=O[E+1],D=O[E+2];b[C++]=O[E],b[C++]=w,b[C++]=D}else{const w=O[E],D=O[E+2];b[C++]=O[E+1],b[C++]=w,b[C++]=D}}return b}function H(O){const B="number"==typeof O?O:O.length;if(B<3)return new Uint16Array(0);const x=B-2,b=x<=65536?new Uint16Array(3*x):new Uint32Array(3*x);if("number"==typeof O){let C=0;for(let E=0;E<x;++E)b[C++]=0,b[C++]=E+1,b[C++]=E+2;return b}{const C=O[0];let E=O[1],N=0;for(let w=0;w<x;++w){const D=O[w+2];b[N++]=C,b[N++]=E,b[N++]=D,E=D}return b}}},93831:(oe,K,S)=>{S.d(K,{z:()=>ye});var U=S(15861),Z=S(62208),W=S(43703),X=S(26584);const O=S(63290).Z.getLogger("esri.views.3d.glTF");var ne,re,T,x=S(67969),E=S(94573),N=S(88159),w=S(21726),D=S(10349),R=S(28347),k=S(48977),ee=S(78451),j=S(60479),Q=S(98148);class ${constructor(a){this.data=a,this.offset4=0,this.dataUint32=new Uint32Array(this.data,0,Math.floor(this.data.byteLength/4))}readUint32(){const a=this.offset4;return this.offset4+=1,this.dataUint32[a]}readUint8Array(a){const y=4*this.offset4;return this.offset4+=a/4,new Uint8Array(this.data,y,a)}remainingBytes(){return this.data.byteLength-4*this.offset4}}(T=ne||(ne={})).SCALAR="SCALAR",T.VEC2="VEC2",T.VEC3="VEC3",T.VEC4="VEC4",T.MAT2="MAT2",T.MAT3="MAT3",T.MAT4="MAT4",function(T){T[T.ARRAY_BUFFER=34962]="ARRAY_BUFFER",T[T.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER"}(re||(re={}));const ge={baseColorFactor:[1,1,1,1],metallicFactor:1,roughnessFactor:1},Te={pbrMetallicRoughness:ge,emissiveFactor:[0,0,0],alphaMode:"OPAQUE",alphaCutoff:.5,doubleSided:!1},xe={ESRI_externalColorMixMode:"tint"},pe=(T={})=>{const a=de(de({},ge),T.pbrMetallicRoughness),y=function me(T){switch(T.ESRI_externalColorMixMode){case"multiply":case"tint":case"ignore":case"replace":break;default:(0,E.Bg)(T.ESRI_externalColorMixMode),T.ESRI_externalColorMixMode="tint"}return T}(de(de({},xe),T.extras));return Ke(de(de({},Te),T),{pbrMetallicRoughness:a,extras:y})},Ee={magFilter:x.cw.LINEAR,minFilter:x.cw.LINEAR_MIPMAP_LINEAR,wrapS:x.e8.REPEAT,wrapT:x.e8.REPEAT};class ie{constructor(a,y,h,d,_){this.context=a,this.errorContext=y,this.uri=h,this.json=d,this.glbBuffer=_,this.bufferLoaders=new Map,this.textureLoaders=new Map,this.textureCache=new Map,this.materialCache=new Map,this.nodeParentMap=new Map,this.nodeTransformCache=new Map,this.baseUri=function Oe(T){let a,y;return T.replace(/^(.*\/)?([^/]*)$/,(h,d,_)=>(a=d||"",y=_||"","")),{dirPart:a,filePart:y}}(this.uri).dirPart,this._checkVersionSupported(),this._checkRequiredExtensionsSupported(),y.errorUnsupportedIf(null==d.scenes,"Scenes must be defined."),y.errorUnsupportedIf(null==d.meshes,"Meshes must be defined"),y.errorUnsupportedIf(null==d.nodes,"Nodes must be defined."),this._computeNodeParents()}static load(a,y,h,d){var _=this;return(0,U.Z)(function*(){if((0,w.HK)(h)){const Y=(0,w.sJ)(h);if("model/gltf-binary"!==Y.mediaType)try{const L=JSON.parse(Y.isBase64?atob(Y.data):Y.data);return new ie(a,y,h,L)}catch(L){}const J=(0,w.AH)(h);if(ie._isGLBData(J))return _._fromGLBData(a,y,h,J)}if(h.endsWith(".gltf")){const Y=yield a.loadJSON(h,d);return new ie(a,y,h,Y)}const A=yield a.loadBinary(h,d);if(ie._isGLBData(A))return _._fromGLBData(a,y,h,A);const F=yield a.loadJSON(h,d);return new ie(a,y,h,F)})()}static _isGLBData(a){const y=new $(a);return y.remainingBytes()>=4&&1179937895===y.readUint32()}static _fromGLBData(a,y,h,d){return(0,U.Z)(function*(){const _=yield ie._parseGLBData(y,d);return new ie(a,y,h,_.json,_.binaryData)})()}static _parseGLBData(a,y){return(0,U.Z)(function*(){const h=new $(y);a.assert(h.remainingBytes()>=12,"GLB binary data is insufficiently large.");const d=h.readUint32(),_=h.readUint32(),A=h.readUint32();a.assert(1179937895===d,"Magic first 4 bytes do not fit to expected GLB value."),a.assert(y.byteLength>=A,"GLB binary data is smaller than header specifies."),a.errorUnsupportedIf(2!==_,"An unsupported GLB container version was detected. Only version 2 is supported.");let F,Y,J=0;for(;h.remainingBytes()>=8;){const L=h.readUint32(),q=h.readUint32();0===J?(a.assert(1313821514===q,"First GLB chunk must be JSON."),a.assert(L>=0,"No JSON data found."),F=yield De(h.readUint8Array(L))):1===J?(a.errorUnsupportedIf(5130562!==q,"Second GLB chunk expected to be BIN."),Y=h.readUint8Array(L)):a.warnUnsupported("More than 2 GLB chunks detected. Skipping."),J+=1}return F||a.error("No GLB JSON chunk detected."),{json:F,binaryData:Y}})()}getBuffer(a,y){var h=this;return(0,U.Z)(function*(){const d=h.json.buffers[a],_=h.errorContext;if(null==d.uri)return _.assert(null!=h.glbBuffer,"GLB buffer not present"),h.glbBuffer;const A=yield h._getBufferLoader(a,y);return _.assert(A.byteLength===d.byteLength,"Buffer byte lengths should match."),A})()}_getBufferLoader(a,y){var h=this;return(0,U.Z)(function*(){const d=h.bufferLoaders.get(a);if(d)return d;const A=h.context.loadBinary(h._resolveUri(h.json.buffers[a].uri),y).then(F=>new Uint8Array(F));return h.bufferLoaders.set(a,A),A})()}getAccessor(a,y){var h=this;return(0,U.Z)(function*(){const d=h.errorContext;d.errorUnsupportedIf(!h.json.accessors,"Accessors missing.");const _=h.json.accessors[a];d.errorUnsupportedIf(null==(null==_?void 0:_.bufferView),"Some accessor does not specify a bufferView."),d.errorUnsupportedIf(_.type in[ne.MAT2,ne.MAT3,ne.MAT4],`AttributeType ${_.type} is not supported`);const A=h.json.bufferViews[_.bufferView],F=yield h.getBuffer(A.buffer,y),Y=ue[_.type],J=be[_.componentType],L=Y*J,q=A.byteStride||L;return{raw:F.buffer,byteStride:q,byteOffset:F.byteOffset+(A.byteOffset||0)+(_.byteOffset||0),entryCount:_.count,isDenselyPacked:q===L,componentCount:Y,componentByteSize:J,componentType:_.componentType,min:_.min,max:_.max,normalized:!!_.normalized}})()}getIndexData(a,y){var h=this;return(0,U.Z)(function*(){if(null==a.indices)return null;const d=yield h.getAccessor(a.indices,y);if(d.isDenselyPacked)switch(d.componentType){case x.g.UNSIGNED_BYTE:return new Uint8Array(d.raw,d.byteOffset,d.entryCount);case x.g.UNSIGNED_SHORT:return new Uint16Array(d.raw,d.byteOffset,d.entryCount);case x.g.UNSIGNED_INT:return new Uint32Array(d.raw,d.byteOffset,d.entryCount)}else switch(d.componentType){case x.g.UNSIGNED_BYTE:return(0,Q.m)(h._wrapAccessor(j.D_,d));case x.g.UNSIGNED_SHORT:return(0,Q.m)(h._wrapAccessor(j.av,d));case x.g.UNSIGNED_INT:return(0,Q.m)(h._wrapAccessor(j.Nu,d))}})()}getPositionData(a,y){var h=this;return(0,U.Z)(function*(){const d=h.errorContext;d.errorUnsupportedIf(null==a.attributes.POSITION,"No POSITION vertex data found.");const _=yield h.getAccessor(a.attributes.POSITION,y);return d.errorUnsupportedIf(_.componentType!==x.g.FLOAT,"Expected type FLOAT for POSITION vertex attribute, but found "+Ne[_.componentType]),d.errorUnsupportedIf(3!==_.componentCount,"POSITION vertex attribute must have 3 components, but found "+_.componentCount.toFixed()),h._wrapAccessor(j.ct,_)})()}getNormalData(a,y){var h=this;return(0,U.Z)(function*(){const d=h.errorContext;d.assert(null!=a.attributes.NORMAL,"No NORMAL vertex data found.");const _=yield h.getAccessor(a.attributes.NORMAL,y);return d.errorUnsupportedIf(_.componentType!==x.g.FLOAT,"Expected type FLOAT for NORMAL vertex attribute, but found "+Ne[_.componentType]),d.errorUnsupportedIf(3!==_.componentCount,"NORMAL vertex attribute must have 3 components, but found "+_.componentCount.toFixed()),h._wrapAccessor(j.ct,_)})()}getTangentData(a,y){var h=this;return(0,U.Z)(function*(){const d=h.errorContext;d.assert(null!=a.attributes.TANGENT,"No TANGENT vertex data found.");const _=yield h.getAccessor(a.attributes.TANGENT,y);return d.errorUnsupportedIf(_.componentType!==x.g.FLOAT,"Expected type FLOAT for TANGENT vertex attribute, but found "+Ne[_.componentType]),d.errorUnsupportedIf(4!==_.componentCount,"TANGENT vertex attribute must have 4 components, but found "+_.componentCount.toFixed()),new j.ek(_.raw,_.byteOffset,_.byteStride,_.byteOffset+_.byteStride*_.entryCount)})()}getTextureCoordinates(a,y){var h=this;return(0,U.Z)(function*(){const d=h.errorContext;d.assert(null!=a.attributes.TEXCOORD_0,"No TEXCOORD_0 vertex data found.");const _=yield h.getAccessor(a.attributes.TEXCOORD_0,y);return d.errorUnsupportedIf(2!==_.componentCount,"TEXCOORD_0 vertex attribute must have 2 components, but found "+_.componentCount.toFixed()),_.componentType===x.g.FLOAT?h._wrapAccessor(j.Eu,_):(d.errorUnsupportedIf(!_.normalized,"Integer component types are only supported for a normalized accessor for TEXCOORD_0."),function Ue(T){switch(T.componentType){case x.g.BYTE:return new j.Vs(T.raw,T.byteOffset,T.byteStride,T.byteOffset+T.byteStride*T.entryCount);case x.g.UNSIGNED_BYTE:return new j.xA(T.raw,T.byteOffset,T.byteStride,T.byteOffset+T.byteStride*T.entryCount);case x.g.SHORT:return new j.or(T.raw,T.byteOffset,T.byteStride,T.byteOffset+T.byteStride*T.entryCount);case x.g.UNSIGNED_SHORT:return new j.TS(T.raw,T.byteOffset,T.byteStride,T.byteOffset+T.byteStride*T.entryCount);case x.g.UNSIGNED_INT:return new j.qt(T.raw,T.byteOffset,T.byteStride,T.byteOffset+T.byteStride*T.entryCount);case x.g.FLOAT:return new j.Eu(T.raw,T.byteOffset,T.byteStride,T.byteOffset+T.byteStride*T.entryCount);default:return void(0,E.Bg)(T.componentType)}}(_))})()}getVertexColors(a,y){var h=this;return(0,U.Z)(function*(){const d=h.errorContext;d.assert(null!=a.attributes.COLOR_0,"No COLOR_0 vertex data found.");const _=yield h.getAccessor(a.attributes.COLOR_0,y);if(d.errorUnsupportedIf(4!==_.componentCount&&3!==_.componentCount,"COLOR_0 attribute must have 3 or 4 components, but found "+_.componentCount.toFixed()),4===_.componentCount){if(_.componentType===x.g.FLOAT)return h._wrapAccessor(j.ek,_);if(_.componentType===x.g.UNSIGNED_BYTE)return h._wrapAccessor(j.mc,_);if(_.componentType===x.g.UNSIGNED_SHORT)return h._wrapAccessor(j.v6,_)}else if(3===_.componentCount){if(_.componentType===x.g.FLOAT)return h._wrapAccessor(j.ct,_);if(_.componentType===x.g.UNSIGNED_BYTE)return h._wrapAccessor(j.ne,_);if(_.componentType===x.g.UNSIGNED_SHORT)return h._wrapAccessor(j.mw,_)}d.errorUnsupported("Unsupported component type for COLOR_0 attribute: "+Ne[_.componentType])})()}hasPositions(a){return void 0!==a.attributes.POSITION}hasNormals(a){return void 0!==a.attributes.NORMAL}hasVertexColors(a){return void 0!==a.attributes.COLOR_0}hasTextureCoordinates(a){return void 0!==a.attributes.TEXCOORD_0}hasTangents(a){return void 0!==a.attributes.TANGENT}getMaterial(a,y,h){var d=this;return(0,U.Z)(function*(){let _=d.materialCache.get(a.material);if(!_){const A=null!=a.material?pe(d.json.materials[a.material]):pe(),F=A.pbrMetallicRoughness,Y=d.hasVertexColors(a),J=d.getTexture(F.baseColorTexture,y),L=d.getTexture(A.normalTexture,y),q=h?d.getTexture(A.occlusionTexture,y):null,te=h?d.getTexture(A.emissiveTexture,y):null,ae=h?d.getTexture(F.metallicRoughnessTexture,y):null,Ae=null!=a.material?a.material:-1;_={alphaMode:A.alphaMode,alphaCutoff:A.alphaCutoff,color:F.baseColorFactor,doubleSided:!!A.doubleSided,colorTexture:yield J,normalTexture:yield L,name:A.name,id:Ae,occlusionTexture:yield q,emissiveTexture:yield te,emissiveFactor:A.emissiveFactor,metallicFactor:F.metallicFactor,roughnessFactor:F.roughnessFactor,metallicRoughnessTexture:yield ae,vertexColors:Y,ESRI_externalColorMixMode:A.extras.ESRI_externalColorMixMode}}return _})()}getTexture(a,y){var h=this;return(0,U.Z)(function*(){if(!a)return null;h.errorContext.errorUnsupportedIf(0!==(a.texCoord||0),"Only TEXCOORD with index 0 is supported.");const d=a.index,_=h.errorContext,A=h.json.textures[d],F=(T=>de(de({},Ee),T))(null!=A.sampler?h.json.samplers[A.sampler]:{});_.errorUnsupportedIf(null==A.source,"Source is expected to be defined for a texture.");const Y=h.json.images[A.source],J=yield h._loadTextureImageData(d,A,y);return(0,N.s1)(h.textureCache,d,()=>{const L=te=>33071===te||33648===te||10497===te,q=te=>(_.error(`Unexpected TextureSampler WrapMode: ${te}. Using default REPEAT(10497).`),10497);return{data:J,wrapS:L(F.wrapS)?F.wrapS:q(F.wrapS),wrapT:L(F.wrapT)?F.wrapT:q(F.wrapT),minFilter:F.minFilter,name:Y.name,id:d}})})()}getNodeTransform(a){if(void 0===a)return _e;let y=this.nodeTransformCache.get(a);if(!y){const h=this.getNodeTransform(this._getNodeParent(a)),d=this.json.nodes[a];d.matrix?y=(0,R.m)((0,W.c)(),h,d.matrix):d.translation||d.rotation||d.scale?(y=(0,W.b)(h),d.translation&&(0,R.j)(y,y,d.translation),d.rotation&&(le[3]=(0,k.g)(le,d.rotation),(0,R.e)(y,y,le[3],le)),d.scale&&(0,R.h)(y,y,d.scale)):y=h,this.nodeTransformCache.set(a,y)}return y}_wrapAccessor(a,y){return new a(y.raw,y.byteOffset,y.byteStride,y.byteOffset+y.byteStride*(y.entryCount-1)+y.componentByteSize*y.componentCount)}_resolveUri(a){return(0,w.hF)(a,this.baseUri)}_getNodeParent(a){return this.nodeParentMap.get(a)}_checkVersionSupported(){const a=D.G.parse(this.json.asset.version,"glTF");Se.validate(a)}_checkRequiredExtensionsSupported(){const a=this.json;a.extensionsRequired&&0!==a.extensionsRequired.length&&this.errorContext.errorUnsupported("gltf loader was not able to load unsupported feature. Required extensions: "+a.extensionsRequired.join(", "))}_computeNodeParents(){this.json.nodes.forEach((a,y)=>{a.children&&a.children.forEach(h=>{this.nodeParentMap.set(h,y)})})}_loadTextureImageData(a,y,h){var d=this;return(0,U.Z)(function*(){const _=d.textureLoaders.get(a);if(_)return _;const A=d._createTextureLoader(y,h);return d.textureLoaders.set(a,A),A})()}_createTextureLoader(a,y){var h=this;return(0,U.Z)(function*(){const d=h.json.images[a.source];if(d.uri)return h.context.loadImage(h._resolveUri(d.uri),y);const _=h.errorContext;_.errorUnsupportedIf(null==d.bufferView,"Image bufferView must be defined."),_.errorUnsupportedIf(null==d.mimeType,"Image mimeType must be defined.");const A=h.json.bufferViews[d.bufferView],F=yield h.getBuffer(A.buffer,y);return _.errorUnsupportedIf(null!=A.byteStride,"byteStride not supported for image buffer"),function Fe(T,a){return Be.apply(this,arguments)}(new Uint8Array(F.buffer,F.byteOffset+(A.byteOffset||0),A.byteLength),d.mimeType)})()}}const Se=new D.G(2,0,"glTF"),_e=(0,R.y)((0,W.c)(),Math.PI/2),le=(0,ee.a)(),ue={SCALAR:1,VEC2:2,VEC3:3,VEC4:4},be={[x.g.BYTE]:1,[x.g.UNSIGNED_BYTE]:1,[x.g.SHORT]:2,[x.g.UNSIGNED_SHORT]:2,[x.g.FLOAT]:4,[x.g.UNSIGNED_INT]:4};function De(T){return we.apply(this,arguments)}function we(){return we=(0,U.Z)(function*(T){return new Promise((a,y)=>{const h=new Blob([T]),d=new FileReader;d.onload=()=>{a(JSON.parse(d.result))},d.onerror=_=>{y(_)},d.readAsText(h)})}),we.apply(this,arguments)}function Be(){return Be=(0,U.Z)(function*(T,a){return new Promise((y,h)=>{const d=new Blob([T],{type:a}),_=URL.createObjectURL(d),A=new Image;A.addEventListener("load",()=>{URL.revokeObjectURL(_),"decode"in A?A.decode().then(()=>y(A),()=>y(A)):y(A)}),A.addEventListener("error",F=>{URL.revokeObjectURL(_),h(F)}),A.src=_})}),Be.apply(this,arguments)}const Ne={5120:"BYTE",5121:"UNSIGNED_BYTE",5122:"SHORT",5123:"UNSIGNED_SHORT",5125:"UNSIGNED_INT",5126:"FLOAT"};let se=0;function ye(T,a){return Ie.apply(this,arguments)}function Ie(){return Ie=(0,U.Z)(function*(T,a,y={},h=!0){const d=yield ie.load(T,P,a,y),_="gltf_"+se++,A={lods:[],materials:new Map,textures:new Map,meta:ce(d)},F=!(!d.json.asset.extras||"symbolResource"!==d.json.asset.extras.ESRI_type),Y=new Map;yield v(d,function(){var J=(0,U.Z)(function*(L,q,te,ae){var Ae;const Me=null!=(Ae=Y.get(te))?Ae:0;Y.set(te,Me+1);const ve=void 0!==L.mode?L.mode:x.MX.TRIANGLES,Ce=ve===x.MX.TRIANGLES||ve===x.MX.TRIANGLE_STRIP||ve===x.MX.TRIANGLE_FAN?ve:null;if((0,Z.Wi)(Ce))return void P.warnUnsupported("Unsupported primitive mode ("+z[ve]+"). Skipping primitive.");if(!d.hasPositions(L))return void P.warn("Skipping primitive without POSITION vertex attribute.");const Le=d.getPositionData(L,y),Pe=d.getMaterial(L,y,h),Re=d.hasNormals(L)?d.getNormalData(L,y):null,je=d.hasTangents(L)?d.getTangentData(L,y):null,Ge=d.hasTextureCoordinates(L)?d.getTextureCoordinates(L,y):null,Ve=d.hasVertexColors(L)?d.getVertexColors(L,y):null,He=d.getIndexData(L,y),ke={transform:(0,W.b)(q),attributes:{position:yield Le,normal:Re?yield Re:null,texCoord0:Ge?yield Ge:null,color:Ve?yield Ve:null,tangent:je?yield je:null},indices:yield He,primitiveType:Ce,material:V(A,yield Pe,_)};let Ze=null;(0,Z.pC)(A.meta)&&(0,Z.pC)(A.meta.ESRI_lod)&&"screenSpaceRadius"===A.meta.ESRI_lod.metric&&(Ze=A.meta.ESRI_lod.thresholds[te]),A.lods[te]=A.lods[te]||{parts:[],name:ae,lodThreshold:Ze},A.lods[te].parts[Me]=ke});return function(L,q,te,ae){return J.apply(this,arguments)}}());for(const J of A.lods)J.parts=J.parts.filter(L=>!!L);return{model:A,meta:{isEsriSymbolResource:F,uri:d.uri},customMeta:{}}}),Ie.apply(this,arguments)}function ce(T){let y=null;return T.json.nodes.forEach(h=>{const d=h.extras;(0,Z.pC)(d)&&(d.ESRI_proxyEllipsoid||d.ESRI_lod)&&(y=d)}),y}function v(T,a){return I.apply(this,arguments)}function I(){return I=(0,U.Z)(function*(T,a){const y=T.json,h=y.scenes[y.scene||0].nodes,d=h.length>1,_=[];for(const Y of h){const J=y.nodes[Y];_.push(A(Y,0)),M(J)&&!d&&J.extensions.MSFT_lod.ids.forEach((L,q)=>A(L,q+1))}function A(Y,J){return F.apply(this,arguments)}function F(){return(F=(0,U.Z)(function*(Y,J){const L=y.nodes[Y],q=T.getNodeTransform(Y);if(P.warnUnsupportedIf(null!=L.weights,"Morph targets are not supported."),null!=L.mesh){const te=y.meshes[L.mesh];for(const ae of te.primitives)_.push(a(ae,q,J,te.name))}for(const te of L.children||[])_.push(A(te,J))})).apply(this,arguments)}yield Promise.all(_)}),I.apply(this,arguments)}function M(T){return T.extensions&&T.extensions.MSFT_lod&&Array.isArray(T.extensions.MSFT_lod.ids)}function V(T,a,y){const h=_=>{const A=`${y}_tex_${_&&_.id}${_&&_.name?"_"+_.name:""}`;if(_&&!T.textures.has(A)){const F=function C(T,a={}){return{data:T,parameters:de({wrap:de({s:x.e8.REPEAT,t:x.e8.REPEAT},a.wrap),noUnpackFlip:!0,mipmap:!1},a)}}(_.data,{wrap:{s:_.wrapS,t:_.wrapT},mipmap:G.some(Y=>Y===_.minFilter),noUnpackFlip:!0});T.textures.set(A,F)}return A},d=`${y}_mat_${a.id}_${a.name}`;if(!T.materials.has(d)){const _=function b(T={}){return de({color:[1,1,1],opacity:1,alphaMode:"OPAQUE",alphaCutoff:.5,doubleSided:!1,castShadows:!0,receiveShadows:!0,receiveAmbientOcclustion:!0,textureColor:null,textureNormal:null,textureOcclusion:null,textureEmissive:null,textureMetallicRoughness:null,emissiveFactor:[0,0,0],metallicFactor:1,roughnessFactor:1,colorMixMode:"multiply"},T)}({color:[a.color[0],a.color[1],a.color[2]],opacity:a.color[3],alphaMode:a.alphaMode,alphaCutoff:a.alphaCutoff,doubleSided:a.doubleSided,colorMixMode:a.ESRI_externalColorMixMode,textureColor:a.colorTexture?h(a.colorTexture):void 0,textureNormal:a.normalTexture?h(a.normalTexture):void 0,textureOcclusion:a.occlusionTexture?h(a.occlusionTexture):void 0,textureEmissive:a.emissiveTexture?h(a.emissiveTexture):void 0,textureMetallicRoughness:a.metallicRoughnessTexture?h(a.metallicRoughnessTexture):void 0,emissiveFactor:[a.emissiveFactor[0],a.emissiveFactor[1],a.emissiveFactor[2]],metallicFactor:a.metallicFactor,roughnessFactor:a.roughnessFactor});T.materials.set(d,_)}return d}const P=new class B{error(a){throw new X.Z("gltf-loader-error",a)}errorUnsupported(a){throw new X.Z("gltf-loader-unsupported-feature",a)}errorUnsupportedIf(a,y){a&&this.errorUnsupported(y)}assert(a,y){a||this.error(y)}warn(a){O.warn(a)}warnUnsupported(a){this.warn("[Unsupported Feature] "+a)}warnUnsupportedIf(a,y){a&&this.warnUnsupported(y)}},G=[x.cw.LINEAR_MIPMAP_LINEAR,x.cw.LINEAR_MIPMAP_NEAREST],z=["POINTS","LINES","LINE_LOOP","LINE_STRIP","TRIANGLES","TRIANGLE_STRIP","TRIANGLE_FAN"]},73825:(oe,K,S)=>{S.d(K,{NO:()=>Be,cM:()=>Fe,p:()=>De,DX:()=>we});var U=S(84161),Z=S(28093),W=S(97535);function he(v,I,M){return(0,U.f)(_e,I,v),(0,U.f)(le,M,v),(0,U.l)((0,U.c)(_e,_e,le))/2}S(67831),S(21286),S(26242),(0,Z.c)(),(0,Z.c)(),new W.x(()=>({origin:null,vector:null})),new W.x(function B(v){return v?{origin:(0,Z.a)(v.origin),vector:(0,Z.a)(v.vector)}:{origin:(0,Z.c)(),vector:(0,Z.c)()}}),new W.x(()=>({p0:null,p1:null,p2:null}));const _e=(0,Z.c)(),le=(0,Z.c)();let ue=(()=>{const v=new Uint32Array(131072);for(let I=0;I<v.length;++I)v[I]=I;return v})();const be=new Uint16Array([0]),Ue=(()=>{const v=new Uint16Array(65536);for(let I=0;I<v.length;++I)v[I]=I;return v})();function De(v){if(1===v)return be;if(v<Ue.length)return new Uint16Array(Ue.buffer,0,v);if(v>ue.length){const I=Math.max(2*ue.length,v);ue=new Uint32Array(I);for(let M=0;M<ue.length;M++)ue[M]=M}return new Uint32Array(ue.buffer,0,v)}function we(v){if(1===v)return new Uint16Array(be);if(v<Ue.length)return new Uint16Array(Ue.slice(0,v));if(v>ue.length){const I=new Uint32Array(v);for(let M=0;M<I.length;M++)I[M]=M;return I}return new Uint32Array(ue.slice(0,v))}function Fe(v,I,M){if(!v)return!1;const{size:V,data:P}=v;(0,U.s)(M,0,0,0),(0,U.s)(ce,0,0,0);let G=0,z=0;for(let T=0;T<I.length-2;T+=3){const a=I[T+0]*V,y=I[T+1]*V,h=I[T+2]*V;(0,U.s)(se,P[a+0],P[a+1],P[a+2]),(0,U.s)(ye,P[y+0],P[y+1],P[y+2]),(0,U.s)(Ie,P[h+0],P[h+1],P[h+2]);const d=he(se,ye,Ie);d?((0,U.b)(se,se,ye),(0,U.b)(se,se,Ie),(0,U.a)(se,se,1/3*d),(0,U.b)(M,M,se),G+=d):((0,U.b)(ce,ce,se),(0,U.b)(ce,ce,ye),(0,U.b)(ce,ce,Ie),z+=3)}return!(0===z&&0===G||(0!==G?((0,U.a)(M,M,1/G),0):0===z||((0,U.a)(M,ce,1/z),0)))}function Be(v,I,M){if(!v||!I)return!1;const{size:V,data:P}=v;(0,U.s)(M,0,0,0);let G=-1,z=0;for(let T=0;T<I.length;T++){const a=I[T]*V;G!==a&&(M[0]+=P[a+0],M[1]+=P[a+1],M[2]+=P[a+2],z++),G=a}return z>1&&(0,U.a)(M,M,1/z),z>0}const se=(0,Z.c)(),ye=(0,Z.c)(),Ie=(0,Z.c)(),ce=(0,Z.c)()},79331:(oe,K,S)=>{S.d(K,{K:()=>U});const U=2.1}}]);