"use strict";(self.webpackChunkKapow_Maps_Exam=self.webpackChunkKapow_Maps_Exam||[]).push([[3930],{79767:(Z,N,V)=>{V.d(N,{Z:()=>B});var v=V(17626),x=V(2076),g=V(77712),C=(V(85931),V(8314),V(90912),V(76898)),k=V(86810),D=V(79023),w=V(10012);const z=new x.X({classBreaksDef:"class-breaks-definition",uniqueValueDef:"unique-value-definition"});let F=class extends k.wq{constructor(){super(...arguments),this.baseSymbol=null,this.colorRamp=null,this.type=null}};(0,v._)([(0,g.Cb)({type:w.Z,json:{write:!0}})],F.prototype,"baseSymbol",void 0),(0,v._)([(0,g.Cb)({types:D.V,json:{read:{reader:D.i},write:!0}})],F.prototype,"colorRamp",void 0),(0,v._)([(0,g.Cb)({json:{read:z.read,write:z.write}})],F.prototype,"type",void 0),F=(0,v._)([(0,C.j)("esri.rest.support.ClassificationDefinition")],F);const q=F,T=new x.X({esriClassifyEqualInterval:"equal-interval",esriClassifyManual:"manual",esriClassifyNaturalBreaks:"natural-breaks",esriClassifyQuantile:"quantile",esriClassifyStandardDeviation:"standard-deviation",esriClassifyDefinedInterval:"defined-interval"}),I=new x.X({esriNormalizeByLog:"log",esriNormalizeByPercentOfTotal:"percent-of-total",esriNormalizeByField:"field"});let y=class extends q{constructor(){super(...arguments),this.breakCount=null,this.classificationField=null,this.classificationMethod=null,this.normalizationField=null,this.normalizationType=null,this.type="class-breaks-definition"}set standardDeviationInterval(S){"standard-deviation"===this.classificationMethod&&this._set("standardDeviationInterval",S)}set definedInterval(S){"defined-interval"===this.classificationMethod&&this._set("definedInterval",S)}};(0,v._)([(0,g.Cb)({json:{write:!0}})],y.prototype,"breakCount",void 0),(0,v._)([(0,g.Cb)({json:{write:!0}})],y.prototype,"classificationField",void 0),(0,v._)([(0,g.Cb)({type:String,json:{read:T.read,write:T.write}})],y.prototype,"classificationMethod",void 0),(0,v._)([(0,g.Cb)({json:{write:!0}})],y.prototype,"normalizationField",void 0),(0,v._)([(0,g.Cb)({json:{read:I.read,write:I.write}})],y.prototype,"normalizationType",void 0),(0,v._)([(0,g.Cb)({value:null,json:{write:!0}})],y.prototype,"standardDeviationInterval",null),(0,v._)([(0,g.Cb)({value:null,json:{write:!0}})],y.prototype,"definedInterval",null),(0,v._)([(0,g.Cb)()],y.prototype,"type",void 0),y=(0,v._)([(0,C.j)("esri.rest.support.ClassBreaksDefinition")],y);const B=y},63930:(Z,N,V)=>{V.d(N,{G2:()=>Q,oF:()=>ae,XL:()=>E,i5:()=>O,H0:()=>H,eT:()=>$,Qm:()=>_,Lq:()=>R,fk:()=>ee,S5:()=>P,F_:()=>W,DL:()=>ne});var v=V(79767);function x(e,l){return Number(e.toFixed(l))}function G(e){const l=e.definition,{classificationMethod:t,breakCount:n,normalizationType:a,definedInterval:r}=l,i=[];let s=e.values;if(0===s.length)return[];s=s.sort((u,m)=>u-m);const d=s[0],p=s[s.length-1];if("equal-interval"===t)if(s.length>=n){const u=(p-d)/n;let m=d;for(let c=1;c<n;c++){const o=x(d+c*u,6);i.push({minValue:m,maxValue:o,label:b(m,o,a)}),m=o}i.push({minValue:m,maxValue:p,label:b(m,p,a)})}else s.forEach(u=>{i.push({minValue:u,maxValue:u,label:b(u,u,a)})});else if("natural-breaks"===t){const u=function C(e){const l=[],t=[];let n=Number.MIN_VALUE,a=1,r=-1;for(let i=0;i<e.length;i++){const s=e[i];s===n?(a++,t[r]=a):null!==s&&(l.push(s),n=s,a=1,t.push(a),r++)}return{uniqueValues:l,valueFrequency:t}}(s),c=function k(e,l,t){const n=e.length,a=[];t>n&&(t=n);for(let i=0;i<t;i++)a.push(Math.round(i*n/t-1));a.push(n-1);let r=D(a,e,l,t);return function w(e,l,t,n,a,r){let i=0,s=0,d=0,p=0,u=!0;for(let m=0;m<2&&u;m++){0===m&&(u=!1);for(let c=0;c<r-1;c++)for(;t[c+1]+1!==t[c+2];){t[c+1]=t[c+1]+1;const o=T(c,t,n,a);d=o.sbMean,i=o.sbSdcm;const f=T(c+1,t,n,a);if(p=f.sbMean,s=f.sbSdcm,!(i+s<l[c]+l[c+1])){t[c+1]=t[c+1]-1;break}l[c]=i,l[c+1]=s,e[c]=d,e[c+1]=p,u=!0}for(let c=r-1;c>0;c--)for(;t[c]!==t[c-1]+1;){t[c]=t[c]-1;const o=T(c-1,t,n,a);d=o.sbMean,i=o.sbSdcm;const f=T(c,t,n,a);if(p=f.sbMean,s=f.sbSdcm,!(i+s<l[c-1]+l[c])){t[c]=t[c]+1;break}l[c-1]=i,l[c]=s,e[c-1]=d,e[c]=p,u=!0}}return u}(r.mean,r.sdcm,a,e,l,t)&&(r=D(a,e,l,t)),a}(u.uniqueValues,e.valueFrequency||u.valueFrequency,n);let o=d;for(let f=1;f<n;f++)if(u.uniqueValues.length>f){const h=x(u.uniqueValues[c[f]],6);i.push({minValue:o,maxValue:h,label:b(o,h,a)}),o=h}i.push({minValue:o,maxValue:p,label:b(o,p,a)})}else if("quantile"===t)if(s.length>=n&&d!==p){let u=d,m=Math.ceil(s.length/n),c=0;for(let o=1;o<n;o++){let f=m+c-1;f>s.length&&(f=s.length-1),f<0&&(f=0),i.push({minValue:u,maxValue:s[f],label:b(u,s[f],a)}),u=s[f],c+=m,m=Math.ceil((s.length-c)/(n-o))}i.push({minValue:u,maxValue:p,label:b(u,p,a)})}else{let u=-1;for(let m=0;m<s.length;m++){const c=s[m];c!==u&&(u=c,i.push({minValue:u,maxValue:c,label:b(u,c,a)}),u=c)}}else if("standard-deviation"===t){const u=function F(e){let l=0;for(let t=0;t<e.length;t++)l+=e[t];return l/=e.length,l}(s),m=function q(e,l){let t=0;for(let n=0;n<e.length;n++){const a=e[n];t+=(a-l)*(a-l)}return t/=e.length,Math.sqrt(t)}(s,u);if(0===m)i.push({minValue:s[0],maxValue:s[0],label:b(s[0],s[0],a)});else{const c=function z(e,l,t,n,a){let r=Math.max(n-e,l-n)/a/t;return r=r>=1?1:r>=.5?.5:.25,r}(d,p,n,u,m)*m;let o=0,f=d;for(let M=n;M>=1;M--){const j=x(u-(M-.5)*c,6);i.push({minValue:f,maxValue:j,label:b(f,j,a)}),f=j,o++}let h=x(u+.5*c,6);i.push({minValue:f,maxValue:h,label:b(f,h,a)}),f=h,o++;for(let M=1;M<=n;M++)h=o===2*n?p:x(u+(M+.5)*c,6),i.push({minValue:f,maxValue:h,label:b(f,h,a)}),f=h,o++}}else if("defined-interval"===t){if(!r)return i;const u=s[0],m=s[s.length-1],c=Math.ceil((m-u)/r);let o=u;for(let f=1;f<c;f++){const h=x(u+f*r,6);i.push({minValue:o,maxValue:h,label:b(o,h,a)}),o=h}i.push({minValue:o,maxValue:m,label:b(o,m,a)})}return i}function b(e,l,t){let n=null;return n=e===l?t&&"percent-of-total"===t?e+"%":e.toString():t&&"percent-of-total"===t?e+"% - "+l+"%":e+" - "+l,n}function D(e,l,t,n){let a=[],r=[],i=[],s=0;const d=[],p=[];for(let o=0;o<n;o++){const f=T(o,e,l,t);d.push(f.sbMean),p.push(f.sbSdcm),s+=p[o]}let u,m=s,c=!0;for(;c||s<m;){c=!1,a=[];for(let o=0;o<n;o++)a.push(e[o]);for(let o=0;o<n;o++)for(let f=e[o]+1;f<=e[o+1];f++)if(u=l[f],o>0&&f!==e[o+1]&&Math.abs(u-d[o])>Math.abs(u-d[o-1]))e[o]=f;else if(o<n-1&&e[o]!==f-1&&Math.abs(u-d[o])>Math.abs(u-d[o+1])){e[o+1]=f-1;break}m=s,s=0,r=[],i=[];for(let o=0;o<n;o++){r.push(d[o]),i.push(p[o]);const f=T(o,e,l,t);d[o]=f.sbMean,p[o]=f.sbSdcm,s+=p[o]}}if(s>m){for(let o=0;o<n;o++)e[o]=a[o],d[o]=r[o],p[o]=i[o];s=m}return{mean:d,sdcm:p}}function T(e,l,t,n){let a=0,r=0;for(let d=l[e]+1;d<=l[e+1];d++){const p=n[d];a+=t[d]*p,r+=p}r<=0&&console.log("Exception in Natural Breaks calculation");const i=a/r;let s=0;for(let d=l[e]+1;d<=l[e+1];d++)s+=n[d]*(t[d]-i)**2;return{sbMean:i,sbSdcm:s}}const K=/\s*(\+|-)?((\d+(\.\d+)?)|(\.\d+))\s*/gi,L=new Set(["esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeSingle","esriFieldTypeDouble"]),Y=["min","max","avg","stddev","count","sum","variance","nullcount","median"];function P(e){return!(null!=e.normalizationField||null!=e.normalizationType||null!=e.minValue||null!=e.maxValue||e.sqlExpression&&e.supportsSQLExpression)}function H(e){const l=e.returnDistinct?[...new Set(e.values)]:e.values,t=l.filter(a=>null!=a).length,n={count:t};return e.supportsNullCount&&(n.nullcount=l.length-t),e.percentileParams&&(n.median=E(l,e.percentileParams)),n}function O(e){const{values:l,useSampleStdDev:t,supportsNullCount:n}=e;let a=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY,i=null,s=null,d=null,p=null,u=0;const m=null==e.minValue?-1/0:e.minValue,c=null==e.maxValue?1/0:e.maxValue;for(const f of l)Number.isFinite(f)?f>=m&&f<=c&&(i+=f,a=Math.min(a,f),r=Math.max(r,f),u++):"string"==typeof f&&u++;if(u&&null!=i){s=i/u;let f=0;for(const h of l)Number.isFinite(h)&&h>=m&&h<=c&&(f+=(h-s)**2);p=t?u>1?f/(u-1):0:u>0?f/u:0,d=Math.sqrt(p)}else a=null,r=null;const o={avg:s,count:u,max:r,min:a,stddev:d,sum:i,variance:p};return n&&(o.nullcount=l.length-u),e.percentileParams&&(o.median=E(l,e.percentileParams)),o}function E(e,l){const{fieldType:t,value:n,orderBy:a,isDiscrete:r}=l,i=R(t,"desc"===a);if(0===(e=[...e].filter(o=>null!=o).sort((o,f)=>i(o,f))).length)return null;if(n<=0)return e[0];if(n>=1)return e[e.length-1];const s=(e.length-1)*n,d=Math.floor(s),p=d+1,u=s%1,m=e[d],c=e[p];return p>=e.length||r||"string"==typeof m||"string"==typeof c?m:m*(1-u)+c*u}function R(e,l){const t=l?1:-1,n=function J(e){return e?(l,t)=>t-l:(l,t)=>l-t}(l),a=X(l);if(!e||!["esriFieldTypeDate","esriFieldTypeString","esriFieldTypeGUID","esriFieldTypeGlobalID",...L].includes(e))return(r,i)=>"number"==typeof r&&"number"==typeof i?n(r,i):"string"==typeof r&&"string"==typeof i?a(r,i):t;if("esriFieldTypeDate"===e)return(r,i)=>{const s=new Date(r).getTime(),d=new Date(i).getTime();return isNaN(s)||isNaN(d)?t:n(s,d)};if(L.has(e))return(r,i)=>n(r,i);if("esriFieldTypeString"===e)return(r,i)=>a(r,i);if("esriFieldTypeGUID"===e||"esriFieldTypeGlobalID"===e){const r=X(l);return(i,s)=>r(A(i),A(s))}return l?(r,i)=>1:(r,i)=>-1}function X(e){return e?(l,t)=>{var n,a;return(l=null==(n=l)?void 0:n.toUpperCase())>(t=null==(a=t)?void 0:a.toUpperCase())?-1:l<t?1:0}:(l,t)=>{var n,a;return(l=null==(n=l)?void 0:n.toUpperCase())<(t=null==(a=t)?void 0:a.toUpperCase())?-1:l>t?1:0}}function A(e){return e.substr(24,12)+e.substr(19,4)+e.substr(16,2)+e.substr(14,2)+e.substr(11,2)+e.substr(9,2)+e.substr(6,2)+e.substr(4,2)+e.substr(2,2)+e.substr(0,2)}function W(e,l){let t;for(t in e)Y.indexOf(t)>-1&&(Number.isFinite(e[t])||(e[t]=null));return l&&["avg","stddev","variance"].forEach(n=>{null!=e[n]&&(e[n]=Math.ceil(e[n]))}),e}function $(e){const l={};for(let t of e)(null==t||"string"==typeof t&&""===t.trim())&&(t=null),null==l[t]?l[t]={count:1,data:t}:l[t].count++;return{count:l}}function _(e,l,t){const n=e.count,a=[];t&&l&&"coded-value"===l.type&&l.codedValues.forEach(r=>{const i=r.code;n.hasOwnProperty(i)||(n[i]={data:i,count:0})});for(const r in n){const i=n[r];a.push({value:i.data,count:i.count,label:i.label})}return{uniqueValueInfos:a}}function ee(e,l,t,n){let a=null;switch(l){case"log":0!==e&&(a=Math.log(e)*Math.LOG10E);break;case"percent-of-total":Number.isFinite(n)&&0!==n&&(a=e/n*100);break;case"field":Number.isFinite(t)&&0!==t&&(a=e/t);break;case"natural-log":e>0&&(a=Math.log(e));break;case"square-root":e>0&&(a=e**.5)}return a}function Q(e,l){const t=function le(e){const l=e.field,t=e.classificationMethod||"equal-interval",n=e.normalizationType,a=e.normalizationField,r=new v.Z;return r.classificationField=l,r.breakCount=e.breakCount,r.classificationMethod=t,r.standardDeviationInterval="standard-deviation"===t?e.standardDeviationInterval||1:void 0,r.normalizationType=n,r.normalizationField="field"===n?a:void 0,r}({field:l.field,normalizationType:l.normalizationType,normalizationField:l.normalizationField,classificationMethod:l.classificationMethod,standardDeviationInterval:l.standardDeviationInterval,breakCount:l.numClasses||5});return e=function te(e,l,t){return l=null==l?-1/0:l,t=null==t?1/0:t,e.filter(n=>Number.isFinite(n)&&n>=l&&n<=t)}(e,l.minValue,l.maxValue),function U(e){const{normalizationTotal:l}=e;return{classBreaks:G(e),normalizationTotal:l}}({definition:t,values:e,normalizationTotal:l.normalizationTotal})}function ne(e,l){let t=e.classBreaks;const a=t[0].minValue,r=t[t.length-1].maxValue,i="standard-deviation"===l,s=K;return t=t.map(d=>{const p=d.label,u={minValue:d.minValue,maxValue:d.maxValue,label:p};if(i&&p){const m=p.match(s).map(c=>+c.trim());2===m.length?(u.minStdDev=m[0],u.maxStdDev=m[1],m[0]<0&&m[1]>0&&(u.hasAvg=!0)):1===m.length&&(p.includes("<")?(u.minStdDev=null,u.maxStdDev=m[0]):p.includes(">")&&(u.minStdDev=m[0],u.maxStdDev=null))}return u}),{minValue:a,maxValue:r,classBreakInfos:t,normalizationTotal:e.normalizationTotal}}function ae(e,l){const{min:t,max:n,intervals:a}=function ie(e,l){const{field:t,classificationMethod:n,standardDeviationInterval:a,normalizationType:r,normalizationField:i,normalizationTotal:s,minValue:d,maxValue:p}=l,u=l.numBins||10;let m=null,c=null,o=null;if(n&&"equal-interval"!==n||r){const{classBreaks:f}=Q(e,{field:t,normalizationType:r,normalizationField:i,normalizationTotal:s,classificationMethod:n,standardDeviationInterval:a,minValue:d,maxValue:p,numClasses:u});m=f[0].minValue,c=f[f.length-1].maxValue,o=f.map(h=>[h.minValue,h.maxValue])}else{if(null!=d&&null!=p)m=d,c=p;else{const f=O({values:e,minValue:d,maxValue:p,useSampleStdDev:!r,supportsNullCount:P({normalizationType:r,normalizationField:i,minValue:d,maxValue:p})});m=f.min,c=f.max}o=function se(e,l,t){const n=(l-e)/t,a=[];let r,i=e;for(let s=1;s<=t;s++)r=i+n,r=Number(r.toFixed(16)),a.push([i,s===t?l:r]),i=r;return a}(m,c,u)}return{min:m,max:c,intervals:o}}(e,l),r=a.map((i,s)=>({minValue:a[s][0],maxValue:a[s][1],count:0}));for(const i of e)if(null!=i&&i>=t&&i<=n){const s=oe(a,i);s>-1&&r[s].count++}return{bins:r,minValue:t,maxValue:n,normalizationTotal:l.normalizationTotal}}function oe(e,l){let t=-1;for(let n=e.length-1;n>=0;n--)if(l>=e[n][0]){t=n;break}return t}}}]);