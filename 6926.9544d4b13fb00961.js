"use strict";(self.webpackChunkKapow_Maps_Exam=self.webpackChunkKapow_Maps_Exam||[]).push([[6926],{80355:(wt,st,S)=>{S.d(st,{BH:()=>lt,K:()=>g,KC:()=>$,NL:()=>W,QI:()=>it,Tg:()=>G,Yx:()=>J,nb:()=>l,wF:()=>x,xQ:()=>Y});var Q=S(2076),et=S(62208),Z=S(60295),X=S(77692);const B=new Map;B.set("meter-per-second",1),B.set("kilometer-per-hour",.277778),B.set("knots",.514444),B.set("feet-per-second",.3048),B.set("mile-per-hour",.44704);const z=180/Math.PI,W=new Q.X({esriMetersPerSecond:"meter-per-second",esriKilometersPerHour:"kilometer-per-hour",esriKnots:"knots",esriFeetPerSecond:"feet-per-second",esriMilesPerHour:"mile-per-hour"});function J(t,n){return B.get(t)/B.get(n)||1}function nt(t){return(450-t)%360}function G(t,n="geographic"){const[e,r]=t,a=Math.sqrt(e*e+r*r);let o=Math.atan2(r,e)*z;return o=(360+o)%360,"geographic"===n&&(o=nt(o)),[a,o]}function rt(t,n="geographic"){let e=t[1];"geographic"===n&&(e=nt(e)),e%=360;const r=t[0];return[r*Math.cos(e/z),r*Math.sin(e/z)]}function Y(t,n,e,r="geographic"){if(!(0,X.nk)(t)||(0,et.Wi)(e))return t;const a="vector-magdir"===n?t.clone():(0,et.Wg)($(t,n)),o=a.pixels[1];for(let c=0;c<o.length;c++)o[c]="geographic"===r?(o[c]+e[c]+270)%360:(o[c]+360-e[c])%360;return"vector-magdir"===n?a:$(a,"vector-magdir")}function $(t,n,e="geographic",r=1){if(!(0,X.nk)(t))return t;const{pixels:a,width:o,height:c}=t,M=o*c,w=a[0],s=a[1],u=t.pixelType.startsWith("f")?t.pixelType:"f32",i=Z.Z.createEmptyBand(u,M),p=Z.Z.createEmptyBand(u,M);let h=0;for(let A=0;A<c;A++)for(let D=0;D<o;D++)"vector-uv"===n?([i[h],p[h]]=G([w[h],s[h]],e),i[h]*=r):([i[h],p[h]]=rt([w[h],s[h]],e),i[h]*=r,p[h]*=r),h++;const f=new Z.Z({pixelType:u,width:t.width,height:t.height,mask:t.mask,validPixelCount:t.validPixelCount,maskIsAlpha:t.maskIsAlpha,pixels:[i,p]});return f.updateStatistics(),f}function it(t,n,e=1){if(1===e||!(0,X.nk)(t))return t;const r=t.clone(),{pixels:a,width:o,height:c}=r,M=a[0],w=a[1];let s=0;for(let u=0;u<c;u++)for(let i=0;i<o;i++)"vector-uv"===n?(M[s]*=e,w[s]*=e):M[s]*=e,s++;return r.updateStatistics(),r}function lt(t,n,e,r,a){if(!(0,et.pC)(a)||!a.spatialReference.equals(t.spatialReference))return{extent:t,width:Math.round(n/r),height:Math.round(e/r),resolution:t.width/n};const o=a.xmin,c=a.ymax,M=(t.xmax-t.xmin)/n*r,w=(t.ymax-t.ymin)/e*r,s=(M+w)/2;return t.xmin=o+Math.floor((t.xmin-o)/M)*M,t.xmax=o+Math.ceil((t.xmax-o)/M)*M,t.ymin=c+Math.floor((t.ymin-c)/w)*w,t.ymax=c+Math.ceil((t.ymax-c)/w)*w,{extent:t,width:Math.round(t.width/M),height:Math.round(t.height/w),resolution:s}}const q=function ht(t=0,n=0,e=Math.PI,r=!0){r&&(e=(2*Math.PI-e)%(2*Math.PI));const a=r?-1:1,o=13*a,c=-7*a,M=-2*a,w=-16*a,s=21.75,[u,i]=C(0,n+o,e,s),[p,h]=C(t-5.5,n+c,e,s),[f,A]=C(t+5.5,n+c,e,s),[D,I]=C(t-1.5,n+M,e,s),[b,P]=C(t+1.5,n+M,e,s),[O,k]=C(t-1.5,n+w,e,s),[E,L]=C(t+1.5,n+w,e,s);return[u,i,p,h,D,I,b,P,f,A,O,k,E,L]}(0,0,0);function ct(t=0,n=Math.PI,e=!0){e&&(n=(2*Math.PI-n)%(2*Math.PI));const a=e?-1:1,o=5*a,c=20*a,M=25*a,w=45,h=2*a;let[f,A]=[5,0-c],[D,I]=[f+2,A],[b,P]=[D-0,I+h],[O,k]=[-5,0-M],[E,L]=[O+0,k-h],T=Math.ceil(t/5),v=Math.floor(T/10);T-=8*v;const U=[],F=[];for(let dt=0;dt<T/2;dt++,v--){v<=0&&T%2==1&&dt===(T-1)/2&&(O=0,E=O+0,k=(k+A)/2,L=k-h);const[Mt,xt]=C(O,k,n,w);if(v>0){const[pt,_t]=C(D,k,n,w),[mt,gt]=C(f,A,n,w);U.push(pt),U.push(_t),U.push(Mt),U.push(xt),U.push(mt),U.push(gt)}else{const[pt,_t]=C(D,I,n,w),[mt,gt]=C(b,P,n,w),[vt,At]=C(E,L,n,w);F.push(Mt),F.push(xt),F.push(vt),F.push(At),F.push(mt),F.push(gt),F.push(pt),F.push(_t)}k+=o,A+=o,I+=o,P+=o,L+=o}const[j,V]=C(5,0+c,n,w),[at,ut]=C(7,0+c,n,w),[ft,yt]=C(5,0-M,n,w),[Pt,Et]=C(7,0-M,n,w);return{pennants:U,barbs:F,shaft:[j,V,at,ut,ft,yt,Pt,Et]}}function C(t,n,e,r=1){const a=Math.sqrt(t*t+n*n)/r,o=(2*Math.PI+Math.atan2(n,t))%(2*Math.PI);return[a,(2*Math.PI+o-e)%(2*Math.PI)]}const H=[0,1,3,6,10,16,21,27,33,40,47,55,63],tt=[0,.5,1,1.5,2],ot=[0,.25,.5,1,1.5,2,2.5,3,3.5,4];function K(t,n,e,r){const a=J(r||"knots",e);let o;for(o=1;o<n.length;o++)if(o===n.length-1){if(t<n[o]*a)break}else if(t<=n[o]*a)break;return Math.min(o-1,n.length-2)}function _(t,n,e,r,a){let o=0;switch(n){case"beaufort_kn":o=K(t,H,"knots",e);break;case"beaufort_km":o=K(t,H,"kilometer-per-hour",e);break;case"beaufort_ft":o=K(t,H,"feet-per-second",e);break;case"beaufort_m":o=K(t,H,"meter-per-second",e);break;case"classified_arrow":o=K(t,a,r,e);break;case"ocean_current_m":o=K(t,tt,"meter-per-second",e);break;case"ocean_current_kn":o=K(t,ot,"knots",e)}return o}const m=[];function g(t,n){let r=0,a=0;const{width:o,height:c,mask:M}=t,w=t.pixels[0],s=[],u=[],i=J(W.fromJSON(n.inputUnit),"knots"),p="wind_speed"===n.style?5:Number.MAX_VALUE;for(let h=0;h<c;h++)for(let f=0;f<o;f++){const A=w[h*o+f]*i;if((!M||M[h*o+f])&&A<p){for(let I=0;I<4;I++)s[r++]=(f+.5)/o,s[r++]=(h+.5)/c,s[r++]=I<2?-.5:.5,s[r++]=I%2==0?-.5:.5,s[r++]=0,s[r++]=A;const D=4*(r/24-1);u[a++]=D,u[a++]=D+1,u[a++]=D+2,u[a++]=D+1,u[a++]=D+2,u[a++]=D+3}}return{vertexData:new Float32Array(s),indexData:new Uint32Array(u)}}function x(t,n){return"simple_scalar"===n.style?g(t,n):"wind_speed"===n.style?function y(t,n){if(0===m.length)for(let f=0;f<30;f++)m.push(ct(5*f,0));const e=J(W.fromJSON(n.inputUnit),"knots"),{width:r,height:a,mask:o}=t,c=t.pixels[0],M=t.pixels[1],s=[],u=[];let i=0,p=0;for(let f=0;f<a;f++)for(let A=0;A<r;A++){const D=f*r+A,I=c[D]*e;if((!o||o[f*r+A])&&I>=5){var h;const b=null!=(h=(M[D]+360)%360/180*Math.PI)?h:2*Math.PI*Math.random(),{pennants:P,barbs:O,shaft:k}=m[Math.min(Math.floor(I/5),29)];if(P.length+O.length===0)continue;let E=s.length/6;const L=(A+.5)/r,T=(f+.5)/a;for(let v=0;v<P.length;v+=2)s[i++]=L,s[i++]=T,s[i++]=P[v],s[i++]=P[v+1]+b,s[i++]=0,s[i++]=I;for(let v=0;v<O.length;v+=2)s[i++]=L,s[i++]=T,s[i++]=O[v],s[i++]=O[v+1]+b,s[i++]=0,s[i++]=I;for(let v=0;v<k.length;v+=2)s[i++]=L,s[i++]=T,s[i++]=k[v],s[i++]=k[v+1]+b,s[i++]=0,s[i++]=I;for(let v=0;v<P.length/6;v++)u[p++]=E,u[p++]=E+1,u[p++]=E+2,E+=3;for(let v=0;v<O.length/8;v++)u[p++]=E,u[p++]=E+1,u[p++]=E+2,u[p++]=E+1,u[p++]=E+2,u[p++]=E+3,E+=4;u[p++]=E+0,u[p++]=E+1,u[p++]=E+2,u[p++]=E+1,u[p++]=E+3,u[p++]=E+2,E+=4}}return{vertexData:new Float32Array(s),indexData:new Uint32Array(u)}}(t,n):function d(t,n){const{style:e,inputUnit:r,outputUnit:a,breakValues:o}=n,c=W.fromJSON(r),M=W.fromJSON(a);let u=0,i=0;const{width:p,height:h,mask:f}=t,A=t.pixels[0],D=t.pixels[1],I=f?f.filter(k=>k>0).length:p*h,b=new Float32Array(42*I),P=new Uint32Array(15*I);for(let k=0;k<h;k++)for(let E=0;E<p;E++){const L=k*p+E;if(!f||f[k*p+E]){var O;const T=null!=(O=(D[L]+360)%360/180*Math.PI)?O:2*Math.PI*Math.random(),v=_(A[L],e,c,M,o);for(let F=0;F<q.length;F+=2)b[u++]=(E+.5)/p,b[u++]=(k+.5)/h,b[u++]=q[F],b[u++]=q[F+1]+T,b[u++]=v,b[u++]=A[L];const U=7*(u/42-1);P[i++]=U,P[i++]=U+1,P[i++]=U+2,P[i++]=U+0,P[i++]=U+4,P[i++]=U+3,P[i++]=U+0,P[i++]=U+2,P[i++]=U+3,P[i++]=U+2,P[i++]=U+5,P[i++]=U+3,P[i++]=U+5,P[i++]=U+6,P[i++]=U+3}}return{vertexData:b,indexData:P}}(t,n)}function l(t,n,e,r=[0,0],a=.5){const{width:o,height:c,mask:M}=t,[w,s]=t.pixels,[u,i]=r,p=Math.round((o-u)/e),h=Math.round((c-i)/e),f=p*h,A=new Float32Array(f),D=new Float32Array(f),I=new Uint8Array(f),b="vector-uv"===n;for(let O=0;O<h;O++)for(let k=0;k<p;k++){let E=0;const L=O*p+k,T=Math.max(0,O*e+i),v=Math.max(0,k*e+u),U=Math.min(c,T+e),F=Math.min(o,v+e);for(let j=T;j<U;j++)for(let V=v;V<F;V++){const R=j*o+V;if(!M||M[R]){E++;const at=b?[w[R],s[R]]:[w[R],(360+s[R])%360],[ut,ft]=b?at:rt(at);A[L]+=ut,D[L]+=ft}}if(E>=(U-T)*(F-v)*(1-a)){I[L]=1;const[j,V]=G([A[L]/E,D[L]/E]);A[L]=j,D[L]=V}else I[L]=0,A[L]=0,D[L]=0}const P=new Z.Z({width:p,height:h,pixels:[A,D],mask:I});return P.updateStatistics(),P}},37084:(wt,st,S)=>{S.d(st,{KK:()=>H,z_:()=>rt});var Q=S(15861),Z=(S(29132),S(63290)),X=S(21286),B=S(62208),z=S(10699),N=S(4619),W=S(37053),J=S(2004);const nt=Z.Z.getLogger("esri.views.2d.engine.flow.dataUtils");function rt(_,d,m){return Y.apply(this,arguments)}function Y(){return(Y=(0,Q.Z)(function*(_,d,m){const y=performance.now(),g=$(_,d),x=performance.now(),l=lt(_,g,d.width,d.height),t=performance.now(),n=ht(l,!0),e=performance.now(),r=ct(n),a=performance.now();if(_.profile){const o={"_createFlowFieldFromData()":Math.round(x-y),"_getStreamlines()":Math.round(t-x),"createAnimatedLinesData()":Math.round(e-t),"createLinesMesh()":Math.round(a-e),"Total elapsed time":Math.round(a-y)};nt.info("createStreamlinesMesh profile",o)}return yield Promise.resolve(),(0,z.k_)(m),r})).apply(this,arguments)}function $(_,d){const m=function q(_,d,m,y){if(0===y)return _;const g=Math.round(3*y),x=new Array(2*g+1);let l=0;for(let e=-g;e<=g;e++){const r=Math.exp(-e*e/(y*y));x[e+g]=r,l+=r}for(let e=-g;e<=g;e++)x[e+g]/=l;const t=new Float32Array(_.length);for(let e=0;e<m;e++)for(let r=0;r<d;r++){let a=0,o=0;for(let c=-g;c<=g;c++){if(r+c<0||r+c>=d)continue;const M=x[c+g];a+=M*_[2*(e*d+(r+c))+0],o+=M*_[2*(e*d+(r+c))+1]}t[2*(e*d+r)+0]=a,t[2*(e*d+r)+1]=o}const n=new Float32Array(_.length);for(let e=0;e<d;e++)for(let r=0;r<m;r++){let a=0,o=0;for(let c=-g;c<=g;c++){if(r+c<0||r+c>=m)continue;const M=x[c+g];a+=M*t[2*((r+c)*d+e)+0],o+=M*t[2*((r+c)*d+e)+1]}n[2*(r*d+e)+0]=a,n[2*(r*d+e)+1]=o}return n}(d.data,d.width,d.height,_.smoothing);return _.interpolate?(y,g)=>{const x=Math.floor(y),l=Math.floor(g);if(x<0||x>=d.width)return[0,0];if(l<0||l>=d.height)return[0,0];const t=y-x,n=g-l,a=x<d.width-1?x+1:x,o=l<d.height-1?l+1:l;return[(m[2*(l*d.width+x)]*(1-n)+m[2*(o*d.width+x)]*n)*(1-t)+(m[2*(l*d.width+a)]*(1-n)+m[2*(o*d.width+a)]*n)*t,(m[2*(l*d.width+x)+1]*(1-n)+m[2*(o*d.width+x)+1]*n)*(1-t)+(m[2*(l*d.width+a)+1]*(1-n)+m[2*(o*d.width+a)+1]*n)*t]}:(y,g)=>{const x=Math.round(y),l=Math.round(g);return x<0||x>=d.width||l<0||l>=d.height?[0,0]:[m[2*(l*d.width+x)+0],m[2*(l*d.width+x)+1]]}}function it(_,d,m,y,g,x,l,t,n){const e=[];let r=m,a=y,o=0,[c,M]=d(r,a);c*=_.velocityScale,M*=_.velocityScale;const w=Math.sqrt(c*c+M*M);let s,u;e.push({x:r,y:a,t:o,speed:w});for(let i=0;i<_.verticesPerLine;i++){let[p,h]=d(r,a);p*=_.velocityScale,h*=_.velocityScale;const f=Math.sqrt(p*p+h*h);if(f<_.minSpeedThreshold)return e;const A=p/f,D=h/f;if(r+=A*_.segmentLength,a+=D*_.segmentLength,o+=_.segmentLength/f,Math.acos(A*s+D*u)>_.maxTurnAngle)return e;if(_.mergeLines){const I=Math.round(r*n),b=Math.round(a*n);if(I<0||I>l-1||b<0||b>t-1)return e;const P=x[b*l+I];if(-1!==P&&P!==g)return e;x[b*l+I]=g}e.push({x:r,y:a,t:o,speed:f}),s=A,u=D}return e}function lt(_,d,m,y){const g=[],x=new N.Z,l=1/Math.max(_.lineCollisionWidth,1),t=Math.round(m*l),n=Math.round(y*l),e=new Int32Array(t*n);for(let a=0;a<e.length;a++)e[a]=-1;const r=[];for(let a=0;a<y;a+=_.lineSpacing)for(let o=0;o<m;o+=_.lineSpacing)r.push({x:o,y:a,sort:x.getFloat()});r.sort((a,o)=>a.sort-o.sort);for(const{x:a,y:o}of r)if(x.getFloat()<_.density){const c=it(_,d,a,o,g.length,e,t,n,l);if(c.length<2)continue;g.push(c)}return g}function ht(_,d){const m=new N.Z,y=_.reduce((n,e)=>n+e.length,0),g=new Float32Array(4*y),x=new Array(_.length);let l=0,t=0;for(const n of _){const e=l;for(const r of n)g[4*l+0]=r.x,g[4*l+1]=r.y,g[4*l+2]=r.t,g[4*l+3]=r.speed,l++;x[t++]={startVertex:e,numberOfVertices:n.length,totalTime:n[n.length-1].t,timeSeed:d?m.getFloat():0}}return{lineVertices:g,lineDescriptors:x}}function ct(_,d=10){const{lineVertices:m,lineDescriptors:y}=_;let g=0,x=0;for(const o of y)g+=2*o.numberOfVertices,x+=6*(o.numberOfVertices-1);const l=new Float32Array(9*g),t=new Uint32Array(x);let n=0,e=0;function a(o,c,M,w,s,u,i,p){const h=9*n;let f=0;l[h+f++]=o,l[h+f++]=c,l[h+f++]=1,l[h+f++]=M,l[h+f++]=u,l[h+f++]=i,l[h+f++]=w/2,l[h+f++]=s/2,l[h+f++]=p,n++,l[h+f++]=o,l[h+f++]=c,l[h+f++]=-1,l[h+f++]=M,l[h+f++]=u,l[h+f++]=i,l[h+f++]=-w/2,l[h+f++]=-s/2,l[h+f++]=p,n++}for(const o of y){const{totalTime:c,timeSeed:M}=o;let w=null,s=null,u=null,i=null,p=null,h=null;for(let f=0;f<o.numberOfVertices;f++){const A=m[4*(o.startVertex+f)+0],D=m[4*(o.startVertex+f)+1],I=m[4*(o.startVertex+f)+2],b=m[4*(o.startVertex+f)+3];let P=null,O=null,k=null,E=null;if(f>0){P=A-w,O=D-s;const L=Math.sqrt(P*P+O*O);if(P/=L,O/=L,f>1){let T=P+p,v=O+h;const U=Math.sqrt(T*T+v*v);T/=U,v/=U;const F=Math.min(1/(T*P+v*O),d);T*=F,v*=F,k=-v,E=T}else k=-O,E=P;null!==k&&null!==E&&(a(w,s,u,k,E,c,M,b),t[e++]=n-2,t[e++]=n,t[e++]=n-1,t[e++]=n,t[e++]=n+1,t[e++]=n-1)}w=A,s=D,u=I,p=P,h=O,i=b}a(w,s,u,-h,p,c,M,i)}return{vertexData:l,indexData:t}}function C(_,d){const m=d.pixels,{width:y,height:g}=d,x=new Float32Array(y*g*2);if("vector-uv"===_)for(let l=0;l<y*g;l++)x[2*l+0]=m[0][l],x[2*l+1]=-m[1][l];else if("vector-magdir"===_)for(let l=0;l<y*g;l++){const t=m[0][l],n=(0,X.Vl)(m[1][l]),e=Math.cos(n-Math.PI/2),r=Math.sin(n-Math.PI/2);x[2*l+0]=e*t,x[2*l+1]=r*t}return{data:x,width:y,height:g}}function H(_,d,m,y,g,x){return tt.apply(this,arguments)}function tt(){return(tt=(0,Q.Z)(function*(_,d,m,y,g,x){const l=(0,W.C5)(d.spatialReference);if(!l)return ot(_,d,m,y,g,x);const[t,n]=l.valid,r=Math.ceil(d.width/(n-t)),a=d.width/r,o=Math.round(m/r);let c=d.xmin;const M=[];for(let i=0;i<r;i++){const p=new J.Z({xmin:c,xmax:c+a,ymin:d.ymin,ymax:d.ymax,spatialReference:d.spatialReference});M.push(ot(_,p,o,y,g,x)),c+=a}const w=yield Promise.all(M),s={data:new Float32Array(m*y*2),width:m,height:y};let u=0;for(const i of w){for(let p=0;p<i.height;p++)for(let h=0;h<i.width;h++)u+h>=m||(s.data[2*(p*m+u+h)+0]=i.data[2*(p*i.width+h)+0],s.data[2*(p*m+u+h)+1]=i.data[2*(p*i.width+h)+1]);u+=i.width}return s})).apply(this,arguments)}function ot(_,d,m,y,g,x){return K.apply(this,arguments)}function K(){return(K=(0,Q.Z)(function*(_,d,m,y,g,x){const l={requestProjectedLocalDirections:!0,signal:x};if((0,B.pC)(g)&&(l.timeExtent=g),"imagery"===_.type){yield _.load({signal:x});const e=_.rasterInfo.dataType,r=yield _.fetchImage(d,m,y,l);return!r||(0,B.Wi)(r.pixelData)||(0,B.Wi)(r.pixelData.pixelBlock)?{data:new Float32Array(m*y*2),width:m,height:y}:C(e,r.pixelData.pixelBlock)}yield _.load({signal:x});const t=_.rasterInfo.dataType,n=yield _.fetchPixels(d,m,y,l);return!n||(0,B.Wi)(n.pixelBlock)?{data:new Float32Array(m*y*2),width:m,height:y}:C(t,n.pixelBlock)})).apply(this,arguments)}}}]);