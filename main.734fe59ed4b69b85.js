var EF=Object.defineProperty,bF=Object.defineProperties,MF=Object.getOwnPropertyDescriptors,Tf=Object.getOwnPropertySymbols,Kw=Object.prototype.hasOwnProperty,zw=Object.prototype.propertyIsEnumerable,$w=(Qe,Me,E)=>Me in Qe?EF(Qe,Me,{enumerable:!0,configurable:!0,writable:!0,value:E}):Qe[Me]=E,Ct=(Qe,Me)=>{for(var E in Me||(Me={}))Kw.call(Me,E)&&$w(Qe,E,Me[E]);if(Tf)for(var E of Tf(Me))zw.call(Me,E)&&$w(Qe,E,Me[E]);return Qe},Bn=(Qe,Me)=>bF(Qe,MF(Me)),Gw=(Qe,Me)=>{var E={};for(var M in Qe)Kw.call(Qe,M)&&Me.indexOf(M)<0&&(E[M]=Qe[M]);if(null!=Qe&&Tf)for(var M of Tf(Qe))Me.indexOf(M)<0&&zw.call(Qe,M)&&(E[M]=Qe[M]);return E};(self.webpackChunkKapow_Maps_Exam=self.webpackChunkKapow_Maps_Exam||[]).push([[179],{48828:(Qe,Me,E)=>{"use strict";function M(p){return"function"==typeof p}function O(p){const v=p(b=>{Error.call(b),b.stack=(new Error).stack});return v.prototype=Object.create(Error.prototype),v.prototype.constructor=v,v}const X=O(p=>function(v){p(this),this.message=v?`${v.length} errors occurred during unsubscription:\n${v.map((b,C)=>`${C+1}) ${b.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=v});function B(p,g){if(p){const v=p.indexOf(g);0<=v&&p.splice(v,1)}}class N{constructor(g){this.initialTeardown=g,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let g;if(!this.closed){this.closed=!0;const{_parentage:v}=this;if(v)if(this._parentage=null,Array.isArray(v))for(const D of v)D.remove(this);else v.remove(this);const{initialTeardown:b}=this;if(M(b))try{b()}catch(D){g=D instanceof X?D.errors:[D]}const{_finalizers:C}=this;if(C){this._finalizers=null;for(const D of C)try{L(D)}catch(P){g=null!=g?g:[],P instanceof X?g=[...g,...P.errors]:g.push(P)}}if(g)throw new X(g)}}add(g){var v;if(g&&g!==this)if(this.closed)L(g);else{if(g instanceof N){if(g.closed||g._hasParent(this))return;g._addParent(this)}(this._finalizers=null!==(v=this._finalizers)&&void 0!==v?v:[]).push(g)}}_hasParent(g){const{_parentage:v}=this;return v===g||Array.isArray(v)&&v.includes(g)}_addParent(g){const{_parentage:v}=this;this._parentage=Array.isArray(v)?(v.push(g),v):v?[v,g]:g}_removeParent(g){const{_parentage:v}=this;v===g?this._parentage=null:Array.isArray(v)&&B(v,g)}remove(g){const{_finalizers:v}=this;v&&B(v,g),g instanceof N&&g._removeParent(this)}}N.EMPTY=(()=>{const p=new N;return p.closed=!0,p})();const ee=N.EMPTY;function z(p){return p instanceof N||p&&"closed"in p&&M(p.remove)&&M(p.add)&&M(p.unsubscribe)}function L(p){M(p)?p():p.unsubscribe()}const T={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},x={setTimeout(p,g,...v){const{delegate:b}=x;return(null==b?void 0:b.setTimeout)?b.setTimeout(p,g,...v):setTimeout(p,g,...v)},clearTimeout(p){const{delegate:g}=x;return((null==g?void 0:g.clearTimeout)||clearTimeout)(p)},delegate:void 0};function Z(p){x.setTimeout(()=>{const{onUnhandledError:g}=T;if(!g)throw p;g(p)})}function Y(){}const $=j("C",void 0,void 0);function j(p,g,v){return{kind:p,value:g,error:v}}let I=null;function w(p){if(T.useDeprecatedSynchronousErrorHandling){const g=!I;if(g&&(I={errorThrown:!1,error:null}),p(),g){const{errorThrown:v,error:b}=I;if(I=null,v)throw b}}else p()}class k extends N{constructor(g){super(),this.isStopped=!1,g?(this.destination=g,z(g)&&g.add(this)):this.destination=oe}static create(g,v,b){return new ue(g,v,b)}next(g){this.isStopped?pe(function ne(p){return j("N",p,void 0)}(g),this):this._next(g)}error(g){this.isStopped?pe(function se(p){return j("E",void 0,p)}(g),this):(this.isStopped=!0,this._error(g))}complete(){this.isStopped?pe($,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(g){this.destination.next(g)}_error(g){try{this.destination.error(g)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const W=Function.prototype.bind;function re(p,g){return W.call(p,g)}class Q{constructor(g){this.partialObserver=g}next(g){const{partialObserver:v}=this;if(v.next)try{v.next(g)}catch(b){he(b)}}error(g){const{partialObserver:v}=this;if(v.error)try{v.error(g)}catch(b){he(b)}else he(g)}complete(){const{partialObserver:g}=this;if(g.complete)try{g.complete()}catch(v){he(v)}}}class ue extends k{constructor(g,v,b){let C;if(super(),M(g)||!g)C={next:null!=g?g:void 0,error:null!=v?v:void 0,complete:null!=b?b:void 0};else{let D;this&&T.useDeprecatedNextContext?(D=Object.create(g),D.unsubscribe=()=>this.unsubscribe(),C={next:g.next&&re(g.next,D),error:g.error&&re(g.error,D),complete:g.complete&&re(g.complete,D)}):C=g}this.destination=new Q(C)}}function he(p){T.useDeprecatedSynchronousErrorHandling?function F(p){T.useDeprecatedSynchronousErrorHandling&&I&&(I.errorThrown=!0,I.error=p)}(p):Z(p)}function pe(p,g){const{onStoppedNotification:v}=T;v&&x.setTimeout(()=>v(p,g))}const oe={closed:!0,next:Y,error:function fe(p){throw p},complete:Y},K="function"==typeof Symbol&&Symbol.observable||"@@observable";function de(p){return p}let ce=(()=>{class p{constructor(v){v&&(this._subscribe=v)}lift(v){const b=new p;return b.source=this,b.operator=v,b}subscribe(v,b,C){const D=function ie(p){return p&&p instanceof k||function J(p){return p&&M(p.next)&&M(p.error)&&M(p.complete)}(p)&&z(p)}(v)?v:new ue(v,b,C);return w(()=>{const{operator:P,source:V}=this;D.add(P?P.call(D,V):V?this._subscribe(D):this._trySubscribe(D))}),D}_trySubscribe(v){try{return this._subscribe(v)}catch(b){v.error(b)}}forEach(v,b){return new(b=ge(b))((C,D)=>{const P=new ue({next:V=>{try{v(V)}catch(ae){D(ae),P.unsubscribe()}},error:D,complete:C});this.subscribe(P)})}_subscribe(v){var b;return null===(b=this.source)||void 0===b?void 0:b.subscribe(v)}[K](){return this}pipe(...v){return function me(p){return 0===p.length?de:1===p.length?p[0]:function(v){return p.reduce((b,C)=>C(b),v)}}(v)(this)}toPromise(v){return new(v=ge(v))((b,C)=>{let D;this.subscribe(P=>D=P,P=>C(P),()=>b(D))})}}return p.create=g=>new p(g),p})();function ge(p){var g;return null!==(g=null!=p?p:T.Promise)&&void 0!==g?g:Promise}const De=O(p=>function(){p(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let _e=(()=>{class p extends ce{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(v){const b=new Ie(this,this);return b.operator=v,b}_throwIfClosed(){if(this.closed)throw new De}next(v){w(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const b of this.currentObservers)b.next(v)}})}error(v){w(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=v;const{observers:b}=this;for(;b.length;)b.shift().error(v)}})}complete(){w(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:v}=this;for(;v.length;)v.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var v;return(null===(v=this.observers)||void 0===v?void 0:v.length)>0}_trySubscribe(v){return this._throwIfClosed(),super._trySubscribe(v)}_subscribe(v){return this._throwIfClosed(),this._checkFinalizedStatuses(v),this._innerSubscribe(v)}_innerSubscribe(v){const{hasError:b,isStopped:C,observers:D}=this;return b||C?ee:(this.currentObservers=null,D.push(v),new N(()=>{this.currentObservers=null,B(D,v)}))}_checkFinalizedStatuses(v){const{hasError:b,thrownError:C,isStopped:D}=this;b?v.error(C):D&&v.complete()}asObservable(){const v=new ce;return v.source=this,v}}return p.create=(g,v)=>new Ie(g,v),p})();class Ie extends _e{constructor(g,v){super(),this.destination=g,this.source=v}next(g){var v,b;null===(b=null===(v=this.destination)||void 0===v?void 0:v.next)||void 0===b||b.call(v,g)}error(g){var v,b;null===(b=null===(v=this.destination)||void 0===v?void 0:v.error)||void 0===b||b.call(v,g)}complete(){var g,v;null===(v=null===(g=this.destination)||void 0===g?void 0:g.complete)||void 0===v||v.call(g)}_subscribe(g){var v,b;return null!==(b=null===(v=this.source)||void 0===v?void 0:v.subscribe(g))&&void 0!==b?b:ee}}function ke(p){return g=>{if(function xe(p){return M(null==p?void 0:p.lift)}(g))return g.lift(function(v){try{return p(v,this)}catch(b){this.error(b)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ve(p,g,v,b,C){return new ve(p,g,v,b,C)}class ve extends k{constructor(g,v,b,C,D,P){super(g),this.onFinalize=D,this.shouldUnsubscribe=P,this._next=v?function(V){try{v(V)}catch(ae){g.error(ae)}}:super._next,this._error=C?function(V){try{C(V)}catch(ae){g.error(ae)}finally{this.unsubscribe()}}:super._error,this._complete=b?function(){try{b()}catch(V){g.error(V)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var g;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:v}=this;super.unsubscribe(),!v&&(null===(g=this.onFinalize)||void 0===g||g.call(this))}}}function ut(p){return this instanceof ut?(this.v=p,this):new ut(p)}function Et(p,g,v){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var C,b=v.apply(p,g||[]),D=[];return C={},P("next"),P("throw"),P("return"),C[Symbol.asyncIterator]=function(){return this},C;function P(Xe){b[Xe]&&(C[Xe]=function(rt){return new Promise(function(It,Zt){D.push([Xe,rt,It,Zt])>1||V(Xe,rt)})})}function V(Xe,rt){try{!function ae(Xe){Xe.value instanceof ut?Promise.resolve(Xe.value.v).then(be,Pe):Fe(D[0][2],Xe)}(b[Xe](rt))}catch(It){Fe(D[0][3],It)}}function be(Xe){V("next",Xe)}function Pe(Xe){V("throw",Xe)}function Fe(Xe,rt){Xe(rt),D.shift(),D.length&&V(D[0][0],D[0][1])}}function kt(p){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var v,g=p[Symbol.asyncIterator];return g?g.call(p):(p=function at(p){var g="function"==typeof Symbol&&Symbol.iterator,v=g&&p[g],b=0;if(v)return v.call(p);if(p&&"number"==typeof p.length)return{next:function(){return p&&b>=p.length&&(p=void 0),{value:p&&p[b++],done:!p}}};throw new TypeError(g?"Object is not iterable.":"Symbol.iterator is not defined.")}(p),v={},b("next"),b("throw"),b("return"),v[Symbol.asyncIterator]=function(){return this},v);function b(D){v[D]=p[D]&&function(P){return new Promise(function(V,ae){!function C(D,P,V,ae){Promise.resolve(ae).then(function(be){D({value:be,done:V})},P)}(V,ae,(P=p[D](P)).done,P.value)})}}}const Dn=p=>p&&"number"==typeof p.length&&"function"!=typeof p;function st(p){return M(null==p?void 0:p.then)}function Dt(p){return M(p[K])}function jt(p){return Symbol.asyncIterator&&M(null==p?void 0:p[Symbol.asyncIterator])}function Wt(p){return new TypeError(`You provided ${null!==p&&"object"==typeof p?"an invalid object":`'${p}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Nt=function Ht(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Yt(p){return M(null==p?void 0:p[Nt])}function Jt(p){return Et(this,arguments,function*(){const v=p.getReader();try{for(;;){const{value:b,done:C}=yield ut(v.read());if(C)return yield ut(void 0);yield yield ut(b)}}finally{v.releaseLock()}})}function an(p){return M(null==p?void 0:p.getReader)}function Ot(p){if(p instanceof ce)return p;if(null!=p){if(Dt(p))return function yt(p){return new ce(g=>{const v=p[K]();if(M(v.subscribe))return v.subscribe(g);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(p);if(Dn(p))return function ze(p){return new ce(g=>{for(let v=0;v<p.length&&!g.closed;v++)g.next(p[v]);g.complete()})}(p);if(st(p))return function mt(p){return new ce(g=>{p.then(v=>{g.closed||(g.next(v),g.complete())},v=>g.error(v)).then(null,Z)})}(p);if(jt(p))return et(p);if(Yt(p))return function Ae(p){return new ce(g=>{for(const v of p)if(g.next(v),g.closed)return;g.complete()})}(p);if(an(p))return function Tt(p){return et(Jt(p))}(p)}throw Wt(p)}function et(p){return new ce(g=>{(function Qt(p,g){var v,b,C,D;return function je(p,g,v,b){return new(v||(v=Promise))(function(D,P){function V(Pe){try{be(b.next(Pe))}catch(Fe){P(Fe)}}function ae(Pe){try{be(b.throw(Pe))}catch(Fe){P(Fe)}}function be(Pe){Pe.done?D(Pe.value):function C(D){return D instanceof v?D:new v(function(P){P(D)})}(Pe.value).then(V,ae)}be((b=b.apply(p,g||[])).next())})}(this,void 0,void 0,function*(){try{for(v=kt(p);!(b=yield v.next()).done;)if(g.next(b.value),g.closed)return}catch(P){C={error:P}}finally{try{b&&!b.done&&(D=v.return)&&(yield D.call(v))}finally{if(C)throw C.error}}g.complete()})})(p,g).catch(v=>g.error(v))})}function on(p,g,v,b=0,C=!1){const D=g.schedule(function(){v(),C?p.add(this.schedule(null,b)):this.unsubscribe()},b);if(p.add(D),!C)return D}function Vt(p,g,v=1/0){return M(g)?Vt((b,C)=>function we(p,g){return ke((v,b)=>{let C=0;v.subscribe(Ve(b,D=>{b.next(p.call(g,D,C++))}))})}((D,P)=>g(b,D,C,P))(Ot(p(b,C))),v):("number"==typeof g&&(v=g),ke((b,C)=>function it(p,g,v,b,C,D,P,V){const ae=[];let be=0,Pe=0,Fe=!1;const Xe=()=>{Fe&&!ae.length&&!be&&g.complete()},rt=Zt=>be<b?It(Zt):ae.push(Zt),It=Zt=>{D&&g.next(Zt),be++;let Xt=!1;Ot(v(Zt,Pe++)).subscribe(Ve(g,tn=>{null==C||C(tn),D?rt(tn):g.next(tn)},()=>{Xt=!0},void 0,()=>{if(Xt)try{for(be--;ae.length&&be<b;){const tn=ae.shift();P?on(g,P,()=>It(tn)):It(tn)}Xe()}catch(tn){g.error(tn)}}))};return p.subscribe(Ve(g,rt,()=>{Fe=!0,Xe()})),()=>{null==V||V()}}(b,C,p,v)))}const rn=new ce(p=>p.complete());function fr(p){return p[p.length-1]}function Wr(p,g=0){return ke((v,b)=>{v.subscribe(Ve(b,C=>on(b,p,()=>b.next(C),g),()=>on(b,p,()=>b.complete(),g),C=>on(b,p,()=>b.error(C),g)))})}function zr(p,g=0){return ke((v,b)=>{b.add(p.schedule(()=>v.subscribe(b),g))})}function ni(p,g){if(!p)throw new Error("Iterable cannot be null");return new ce(v=>{on(v,g,()=>{const b=p[Symbol.asyncIterator]();on(v,g,()=>{b.next().then(C=>{C.done?v.complete():v.next(C.value)})},0,!0)})})}function Jr(p,g){return g?function Gs(p,g){if(null!=p){if(Dt(p))return function ti(p,g){return Ot(p).pipe(zr(g),Wr(g))}(p,g);if(Dn(p))return function ls(p,g){return new ce(v=>{let b=0;return g.schedule(function(){b===p.length?v.complete():(v.next(p[b++]),v.closed||this.schedule())})})}(p,g);if(st(p))return function Vi(p,g){return Ot(p).pipe(zr(g),Wr(g))}(p,g);if(jt(p))return ni(p,g);if(Yt(p))return function li(p,g){return new ce(v=>{let b;return on(v,g,()=>{b=p[Nt](),on(v,g,()=>{let C,D;try{({value:C,done:D}=b.next())}catch(P){return void v.error(P)}D?v.complete():v.next(C)},0,!0)}),()=>M(null==b?void 0:b.return)&&b.return()})}(p,g);if(an(p))return function As(p,g){return ni(Jt(p),g)}(p,g)}throw Wt(p)}(p,g):Ot(p)}function ks(...p){const g=function Lr(p){return function mr(p){return p&&M(p.schedule)}(fr(p))?p.pop():void 0}(p),v=function zs(p,g){return"number"==typeof fr(p)?p.pop():g}(p,1/0),b=p;return b.length?1===b.length?Ot(b[0]):function $t(p=1/0){return Vt(de,p)}(v)(Jr(b,g)):rn}function Kt(p,g,...v){return!0===g?(p(),null):!1===g?null:g(...v).pipe(function Ms(p){return p<=0?()=>rn:ke((g,v)=>{let b=0;g.subscribe(Ve(v,C=>{++b<=p&&(v.next(C),p<=b&&v.complete())}))})}(1)).subscribe(()=>p())}function wt(p){for(let g in p)if(p[g]===wt)return g;throw Error("Could not find renamed property on target object.")}function cn(p){if("string"==typeof p)return p;if(Array.isArray(p))return"["+p.map(cn).join(", ")+"]";if(null==p)return""+p;if(p.overriddenName)return`${p.overriddenName}`;if(p.name)return`${p.name}`;const g=p.toString();if(null==g)return""+g;const v=g.indexOf("\n");return-1===v?g:g.substring(0,v)}function Mn(p,g){return null==p||""===p?null===g?"":g:null==g||""===g?p:p+" "+g}const Wn=wt({__forward_ref__:wt});function dt(p){return p.__forward_ref__=dt,p.toString=function(){return cn(this())},p}function bt(p){return function pt(p){return"function"==typeof p&&p.hasOwnProperty(Wn)&&p.__forward_ref__===dt}(p)?p():p}class _t extends Error{constructor(g,v){super(function un(p,g){return`NG0${Math.abs(p)}${g?": "+g:""}`}(g,v)),this.code=g}}function pn(p){return"function"==typeof p?p.name||p.toString():"object"==typeof p&&null!=p&&"function"==typeof p.type?p.type.name||p.type.toString():function hn(p){return"string"==typeof p?p:null==p?"":String(p)}(p)}function er(p,g){const v=g?` in ${g}`:"";throw new _t(-201,`No provider for ${pn(p)} found${v}`)}function pr(p,g){null==p&&function nr(p,g,v,b){throw new Error(`ASSERTION ERROR: ${p}`+(null==b?"":` [Expected=> ${v} ${b} ${g} <=Actual]`))}(g,p,null,"!=")}function Nr(p){return{token:p.token,providedIn:p.providedIn||null,factory:p.factory,value:void 0}}function wi(p){return{providers:p.providers||[],imports:p.imports||[]}}function Yr(p){return ci(p,_n)||ci(p,Pr)}function ci(p,g){return p.hasOwnProperty(g)?p[g]:null}function ln(p){return p&&(p.hasOwnProperty($n)||p.hasOwnProperty(Ir))?p[$n]:null}const _n=wt({\u0275prov:wt}),$n=wt({\u0275inj:wt}),Pr=wt({ngInjectableDef:wt}),Ir=wt({ngInjectorDef:wt});var Cn=(()=>((Cn=Cn||{})[Cn.Default=0]="Default",Cn[Cn.Host=1]="Host",Cn[Cn.Self=2]="Self",Cn[Cn.SkipSelf=4]="SkipSelf",Cn[Cn.Optional=8]="Optional",Cn))();let di;function qe(p){const g=di;return di=p,g}function gt(p,g,v){const b=Yr(p);return b&&"root"==b.providedIn?void 0===b.value?b.value=b.factory():b.value:v&Cn.Optional?null:void 0!==g?g:void er(cn(p),"Injector")}function Rt(p){return{toString:p}.toString()}var Ut=(()=>((Ut=Ut||{})[Ut.OnPush=0]="OnPush",Ut[Ut.Default=1]="Default",Ut))(),ct=(()=>{return(p=ct||(ct={}))[p.Emulated=0]="Emulated",p[p.None=2]="None",p[p.ShadowDom=3]="ShadowDom",ct;var p})();const At="undefined"!=typeof globalThis&&globalThis,en="undefined"!=typeof window&&window,En="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,zn=At||"undefined"!=typeof global&&global||en||En,yr={},ar=[],hi=wt({\u0275cmp:wt}),cs=wt({\u0275dir:wt}),Rc=wt({\u0275pipe:wt}),nh=wt({\u0275mod:wt}),xo=wt({\u0275fac:wt}),Pl=wt({__NG_ELEMENT_ID__:wt});let xf=0;function Qo(p){return Rt(()=>{const v={},b={type:p.type,providersResolver:null,decls:p.decls,vars:p.vars,factory:null,template:p.template||null,consts:p.consts||null,ngContentSelectors:p.ngContentSelectors,hostBindings:p.hostBindings||null,hostVars:p.hostVars||0,hostAttrs:p.hostAttrs||null,contentQueries:p.contentQueries||null,declaredInputs:v,inputs:null,outputs:null,exportAs:p.exportAs||null,onPush:p.changeDetection===Ut.OnPush,directiveDefs:null,pipeDefs:null,selectors:p.selectors||ar,viewQuery:p.viewQuery||null,features:p.features||null,data:p.data||{},encapsulation:p.encapsulation||ct.Emulated,id:"c",styles:p.styles||ar,_:null,setInput:null,schemas:p.schemas||null,tView:null},C=p.directives,D=p.features,P=p.pipes;return b.id+=xf++,b.inputs=Lc(p.inputs,v),b.outputs=Lc(p.outputs),D&&D.forEach(V=>V(b)),b.directiveDefs=C?()=>("function"==typeof C?C():C).map(rh):null,b.pipeDefs=P?()=>("function"==typeof P?P():P).map(sh):null,b})}function rh(p){return ys(p)||function Xo(p){return p[cs]||null}(p)}function sh(p){return function Pi(p){return p[Rc]||null}(p)}const ih={};function Il(p){return Rt(()=>{const g={type:p.type,bootstrap:p.bootstrap||ar,declarations:p.declarations||ar,imports:p.imports||ar,exports:p.exports||ar,transitiveCompileScopes:null,schemas:p.schemas||null,id:p.id||null};return null!=p.id&&(ih[p.id]=p.type),g})}function Lc(p,g){if(null==p)return yr;const v={};for(const b in p)if(p.hasOwnProperty(b)){let C=p[b],D=C;Array.isArray(C)&&(D=C[1],C=C[0]),v[C]=b,g&&(g[C]=D)}return v}function es(p){return{type:p.type,name:p.name,factory:null,pure:!1!==p.pure,onDestroy:p.type.prototype.ngOnDestroy||null}}function ys(p){return p[hi]||null}function Ki(p,g){const v=p[nh]||null;if(!v&&!0===g)throw new Error(`Type ${cn(p)} does not have '\u0275mod' property.`);return v}function mo(p){return Array.isArray(p)&&"object"==typeof p[1]}function to(p){return Array.isArray(p)&&!0===p[1]}function Uc(p){return 0!=(8&p.flags)}function au(p){return 2==(2&p.flags)}function qa(p){return 1==(1&p.flags)}function no(p){return null!==p.template}function Ff(p){return 0!=(512&p[2])}function qo(p,g){return p.hasOwnProperty(xo)?p[xo]:null}class ch{constructor(g,v,b){this.previousValue=g,this.currentValue=v,this.firstChange=b}isFirstChange(){return this.firstChange}}function ea(){return Nc}function Nc(p){return p.type.prototype.ngOnChanges&&(p.setInput=du),Tl}function Tl(){const p=Bc(this),g=null==p?void 0:p.current;if(g){const v=p.previous;if(v===yr)p.previous=g;else for(let b in g)v[b]=g[b];p.current=null,this.ngOnChanges(g)}}function du(p,g,v,b){const C=Bc(p)||function dh(p,g){return p[hu]=g}(p,{previous:yr,current:null}),D=C.current||(C.current={}),P=C.previous,V=this.declaredInputs[v],ae=P[V];D[V]=new ch(ae&&ae.currentValue,g,P===yr),p[b]=g}ea.ngInherit=!0;const hu="__ngSimpleChanges__";function Bc(p){return p[hu]||null}let fu;function Se(p){return!!p.listen}const Be={createRenderer:(p,g)=>function Oa(){return void 0!==fu?fu:"undefined"!=typeof document?document:void 0}()};function Ce(p){for(;Array.isArray(p);)p=p[0];return p}function Pt(p,g){return Ce(g[p.index])}function sn(p,g){return p.data[g]}function vn(p,g){const v=g[p];return mo(v)?v:v[0]}function Pn(p){return 4==(4&p[2])}function Qn(p){return 128==(128&p[2])}function vr(p,g){return null==g?null:p[g]}function Ar(p){p[18]=0}function ir(p,g){p[5]+=g;let v=p,b=p[3];for(;null!==b&&(1===g&&1===v[5]||-1===g&&0===v[5]);)b[5]+=g,v=b,b=b[3]}const Xn={lFrame:iv(null),bindingsEnabled:!0};function yh(){return Xn.bindingsEnabled}function Sn(){return Xn.lFrame.lView}function Rr(){return Xn.lFrame.tView}function _s(){let p=q_();for(;null!==p&&64===p.type;)p=p.parent;return p}function q_(){return Xn.lFrame.currentTNode}function ta(p,g){const v=Xn.lFrame;v.currentTNode=p,v.isParent=g}function qf(){return Xn.lFrame.isParent}function Jw(p,g){const v=Xn.lFrame;v.bindingIndex=v.bindingRootIndex=p,t0(g)}function t0(p){Xn.lFrame.currentDirectiveIndex=p}function nv(){return Xn.lFrame.currentQueryIndex}function r0(p){Xn.lFrame.currentQueryIndex=p}function Qw(p){const g=p[1];return 2===g.type?g.declTNode:1===g.type?p[6]:null}function rv(p,g,v){if(v&Cn.SkipSelf){let C=g,D=p;for(;!(C=C.parent,null!==C||v&Cn.Host||(C=Qw(D),null===C||(D=D[15],10&C.type))););if(null===C)return!1;g=C,p=D}const b=Xn.lFrame=sv();return b.currentTNode=g,b.lView=p,!0}function vh(p){const g=sv(),v=p[1];Xn.lFrame=g,g.currentTNode=v.firstChild,g.lView=p,g.tView=v,g.contextLView=p,g.bindingIndex=v.bindingStartIndex,g.inI18n=!1}function sv(){const p=Xn.lFrame,g=null===p?null:p.child;return null===g?iv(p):g}function iv(p){const g={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:p,child:null,inI18n:!1};return null!==p&&(p.child=g),g}function ov(){const p=Xn.lFrame;return Xn.lFrame=p.parent,p.currentTNode=null,p.lView=null,p}const av=ov;function Eh(){const p=ov();p.isParent=!0,p.tView=null,p.selectedIndex=-1,p.contextLView=null,p.elementDepthCount=0,p.currentDirectiveIndex=-1,p.currentNamespace=null,p.bindingRootIndex=-1,p.bindingIndex=-1,p.currentQueryIndex=0}function Ri(){return Xn.lFrame.selectedIndex}function el(p){Xn.lFrame.selectedIndex=p}function bh(p,g){for(let v=g.directiveStart,b=g.directiveEnd;v<b;v++){const D=p.data[v].type.prototype,{ngAfterContentInit:P,ngAfterContentChecked:V,ngAfterViewInit:ae,ngAfterViewChecked:be,ngOnDestroy:Pe}=D;P&&(p.contentHooks||(p.contentHooks=[])).push(-v,P),V&&((p.contentHooks||(p.contentHooks=[])).push(v,V),(p.contentCheckHooks||(p.contentCheckHooks=[])).push(v,V)),ae&&(p.viewHooks||(p.viewHooks=[])).push(-v,ae),be&&((p.viewHooks||(p.viewHooks=[])).push(v,be),(p.viewCheckHooks||(p.viewCheckHooks=[])).push(v,be)),null!=Pe&&(p.destroyHooks||(p.destroyHooks=[])).push(v,Pe)}}function Mh(p,g,v){uv(p,g,3,v)}function Ch(p,g,v,b){(3&p[2])===v&&uv(p,g,v,b)}function s0(p,g){let v=p[2];(3&v)===g&&(v&=2047,v+=1,p[2]=v)}function uv(p,g,v,b){const D=null!=b?b:-1,P=g.length-1;let V=0;for(let ae=void 0!==b?65535&p[18]:0;ae<P;ae++)if("number"==typeof g[ae+1]){if(V=g[ae],null!=b&&V>=b)break}else g[ae]<0&&(p[18]+=65536),(V<D||-1==D)&&(iP(p,v,g,ae),p[18]=(4294901760&p[18])+ae+2),ae++}function iP(p,g,v,b){const C=v[b]<0,D=v[b+1],V=p[C?-v[b]:v[b]];if(C){if(p[2]>>11<p[18]>>16&&(3&p[2])===g){p[2]+=2048;try{D.call(V)}finally{}}}else try{D.call(V)}finally{}}class $c{constructor(g,v,b){this.factory=g,this.resolving=!1,this.canSeeViewProviders=v,this.injectImpl=b}}function Dh(p,g,v){const b=Se(p);let C=0;for(;C<v.length;){const D=v[C];if("number"==typeof D){if(0!==D)break;C++;const P=v[C++],V=v[C++],ae=v[C++];b?p.setAttribute(g,V,ae,P):g.setAttributeNS(P,V,ae)}else{const P=D,V=v[++C];a0(P)?b&&p.setProperty(g,P,V):b?p.setAttribute(g,P,V):g.setAttribute(P,V),C++}}return C}function cv(p){return 3===p||4===p||6===p}function a0(p){return 64===p.charCodeAt(0)}function Sh(p,g){if(null!==g&&0!==g.length)if(null===p||0===p.length)p=g.slice();else{let v=-1;for(let b=0;b<g.length;b++){const C=g[b];"number"==typeof C?v=C:0===v||dv(p,v,C,null,-1===v||2===v?g[++b]:null)}}return p}function dv(p,g,v,b,C){let D=0,P=p.length;if(-1===g)P=-1;else for(;D<p.length;){const V=p[D++];if("number"==typeof V){if(V===g){P=-1;break}if(V>g){P=D-1;break}}}for(;D<p.length;){const V=p[D];if("number"==typeof V)break;if(V===v){if(null===b)return void(null!==C&&(p[D+1]=C));if(b===p[D+1])return void(p[D+2]=C)}D++,null!==b&&D++,null!==C&&D++}-1!==P&&(p.splice(P,0,g),D=P+1),p.splice(D++,0,v),null!==b&&p.splice(D++,0,b),null!==C&&p.splice(D++,0,C)}function hv(p){return-1!==p}function yu(p){return 32767&p}function gu(p,g){let v=function cP(p){return p>>16}(p),b=g;for(;v>0;)b=b[15],v--;return b}let l0=!0;function Oh(p){const g=l0;return l0=p,g}let dP=0;function zc(p,g){const v=c0(p,g);if(-1!==v)return v;const b=g[1];b.firstCreatePass&&(p.injectorIndex=g.length,u0(b.data,p),u0(g,null),u0(b.blueprint,null));const C=wh(p,g),D=p.injectorIndex;if(hv(C)){const P=yu(C),V=gu(C,g),ae=V[1].data;for(let be=0;be<8;be++)g[D+be]=V[P+be]|ae[P+be]}return g[D+8]=C,D}function u0(p,g){p.push(0,0,0,0,0,0,0,0,g)}function c0(p,g){return-1===p.injectorIndex||p.parent&&p.parent.injectorIndex===p.injectorIndex||null===g[p.injectorIndex+8]?-1:p.injectorIndex}function wh(p,g){if(p.parent&&-1!==p.parent.injectorIndex)return p.parent.injectorIndex;let v=0,b=null,C=g;for(;null!==C;){const D=C[1],P=D.type;if(b=2===P?D.declTNode:1===P?C[6]:null,null===b)return-1;if(v++,C=C[15],-1!==b.injectorIndex)return b.injectorIndex|v<<16}return-1}function Ph(p,g,v){!function hP(p,g,v){let b;"string"==typeof v?b=v.charCodeAt(0)||0:v.hasOwnProperty(Pl)&&(b=v[Pl]),null==b&&(b=v[Pl]=dP++);const C=255&b;g.data[p+(C>>5)]|=1<<C}(p,g,v)}function mv(p,g,v){if(v&Cn.Optional)return p;er(g,"NodeInjector")}function yv(p,g,v,b){if(v&Cn.Optional&&void 0===b&&(b=null),0==(v&(Cn.Self|Cn.Host))){const C=p[9],D=qe(void 0);try{return C?C.get(g,b,v&Cn.Optional):gt(g,b,v&Cn.Optional)}finally{qe(D)}}return mv(b,g,v)}function gv(p,g,v,b=Cn.Default,C){if(null!==p){const D=function yP(p){if("string"==typeof p)return p.charCodeAt(0)||0;const g=p.hasOwnProperty(Pl)?p[Pl]:void 0;return"number"==typeof g?g>=0?255&g:fP:g}(v);if("function"==typeof D){if(!rv(g,p,b))return b&Cn.Host?mv(C,v,b):yv(g,v,b,C);try{const P=D(b);if(null!=P||b&Cn.Optional)return P;er(v)}finally{av()}}else if("number"==typeof D){let P=null,V=c0(p,g),ae=-1,be=b&Cn.Host?g[16][6]:null;for((-1===V||b&Cn.SkipSelf)&&(ae=-1===V?wh(p,g):g[V+8],-1!==ae&&Ev(b,!1)?(P=g[1],V=yu(ae),g=gu(ae,g)):V=-1);-1!==V;){const Pe=g[1];if(vv(D,V,Pe.data)){const Fe=mP(V,g,v,P,b,be);if(Fe!==_v)return Fe}ae=g[V+8],-1!==ae&&Ev(b,g[1].data[V+8]===be)&&vv(D,V,g)?(P=Pe,V=yu(ae),g=gu(ae,g)):V=-1}}}return yv(g,v,b,C)}const _v={};function fP(){return new _u(_s(),Sn())}function mP(p,g,v,b,C,D){const P=g[1],V=P.data[p+8],Pe=Ih(V,P,v,null==b?au(V)&&l0:b!=P&&0!=(3&V.type),C&Cn.Host&&D===V);return null!==Pe?Gc(g,P,Pe,V):_v}function Ih(p,g,v,b,C){const D=p.providerIndexes,P=g.data,V=1048575&D,ae=p.directiveStart,Pe=D>>20,Xe=C?V+Pe:p.directiveEnd;for(let rt=b?V:V+Pe;rt<Xe;rt++){const It=P[rt];if(rt<ae&&v===It||rt>=ae&&It.type===v)return rt}if(C){const rt=P[ae];if(rt&&no(rt)&&rt.type===v)return ae}return null}function Gc(p,g,v,b){let C=p[v];const D=g.data;if(function oP(p){return p instanceof $c}(C)){const P=C;P.resolving&&function Fn(p,g){const v=g?`. Dependency path: ${g.join(" > ")} > ${p}`:"";throw new _t(-200,`Circular dependency in DI detected for ${p}${v}`)}(pn(D[v]));const V=Oh(P.canSeeViewProviders);P.resolving=!0;const ae=P.injectImpl?qe(P.injectImpl):null;rv(p,b,Cn.Default);try{C=p[v]=P.factory(void 0,D,p,b),g.firstCreatePass&&v>=b.directiveStart&&function sP(p,g,v){const{ngOnChanges:b,ngOnInit:C,ngDoCheck:D}=g.type.prototype;if(b){const P=Nc(g);(v.preOrderHooks||(v.preOrderHooks=[])).push(p,P),(v.preOrderCheckHooks||(v.preOrderCheckHooks=[])).push(p,P)}C&&(v.preOrderHooks||(v.preOrderHooks=[])).push(0-p,C),D&&((v.preOrderHooks||(v.preOrderHooks=[])).push(p,D),(v.preOrderCheckHooks||(v.preOrderCheckHooks=[])).push(p,D))}(v,D[v],g)}finally{null!==ae&&qe(ae),Oh(V),P.resolving=!1,av()}}return C}function vv(p,g,v){return!!(v[g+(p>>5)]&1<<p)}function Ev(p,g){return!(p&Cn.Self||p&Cn.Host&&g)}class _u{constructor(g,v){this._tNode=g,this._lView=v}get(g,v,b){return gv(this._tNode,this._lView,g,b,v)}}class kr{constructor(g,v){this._desc=g,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof v?this.__NG_ELEMENT_ID__=v:void 0!==v&&(this.\u0275prov=Nr({token:this,providedIn:v.providedIn||"root",factory:v.factory}))}toString(){return`InjectionToken ${this._desc}`}}function yo(p,g){void 0===g&&(g=p);for(let v=0;v<p.length;v++){let b=p[v];Array.isArray(b)?(g===p&&(g=p.slice(0,v)),yo(b,g)):g!==p&&g.push(b)}return g}function na(p,g){p.forEach(v=>Array.isArray(v)?na(v,g):g(v))}function Mv(p,g,v){g>=p.length?p.push(v):p.splice(g,0,v)}function Th(p,g){return g>=p.length-1?p.pop():p.splice(g,1)[0]}const Yc={},Ah="ngTempTokenPath",PP=/\n/gm,wv="__source",TP=wt({provide:String,useValue:wt});let Qc;function Pv(p){const g=Qc;return Qc=p,g}function xP(p,g=Cn.Default){if(void 0===Qc)throw new _t(203,"");return null===Qc?gt(p,void 0,g):Qc.get(p,g&Cn.Optional?null:void 0,g)}function ts(p,g=Cn.Default){return(function Ge(){return di}()||xP)(bt(p),g)}const AP=ts;function _0(p){const g=[];for(let v=0;v<p.length;v++){const b=bt(p[v]);if(Array.isArray(b)){if(0===b.length)throw new _t(900,"");let C,D=Cn.Default;for(let P=0;P<b.length;P++){const V=b[P],ae=RP(V);"number"==typeof ae?-1===ae?C=V.token:D|=ae:C=V}g.push(ts(C,D))}else g.push(ts(b))}return g}function RP(p){return p.__NG_DI_FLAG__}const Hv="__ngContext__";function Mi(p,g){p[Hv]=g}function P0(p){const g=function rd(p){return p[Hv]||null}(p);return g?Array.isArray(g)?g:g.lView:null}function T0(p){return p.ngOriginalError}function SI(p,...g){p.error(...g)}class sd{constructor(){this._console=console}handleError(g){const v=this._findOriginalError(g),b=function DI(p){return p&&p.ngErrorLogger||SI}(g);b(this._console,"ERROR",g),v&&b(this._console,"ORIGINAL ERROR",v)}_findOriginalError(g){let v=g&&T0(g);for(;v&&T0(v);)v=T0(v);return v||null}}const jI=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(zn))();function sa(p){return p instanceof Function?p():p}var io=(()=>((io=io||{})[io.Important=1]="Important",io[io.DashCase=2]="DashCase",io))();function A0(p,g){return undefined(p,g)}function id(p){const g=p[3];return to(g)?g[3]:g}function R0(p){return r1(p[13])}function L0(p){return r1(p[4])}function r1(p){for(;null!==p&&!to(p);)p=p[4];return p}function wu(p,g,v,b,C){if(null!=b){let D,P=!1;to(b)?D=b:mo(b)&&(P=!0,b=b[0]);const V=Ce(b);0===p&&null!==v?null==C?u1(g,v,V):Rl(g,v,V,C||null,!0):1===p&&null!==v?Rl(g,v,V,C||null,!0):2===p?function y1(p,g,v){const b=Wh(p,g);b&&function JI(p,g,v,b){Se(p)?p.removeChild(g,v,b):g.removeChild(v)}(p,b,g,v)}(g,V,P):3===p&&g.destroyNode(V),null!=D&&function XI(p,g,v,b,C){const D=v[7];D!==Ce(v)&&wu(g,p,b,D,C);for(let V=10;V<v.length;V++){const ae=v[V];od(ae[1],ae,p,g,b,D)}}(g,p,D,v,C)}}function U0(p,g,v){if(Se(p))return p.createElement(g,v);{const b=null!==v?function ph(p){const g=p.toLowerCase();return"svg"===g?"http://www.w3.org/2000/svg":"math"===g?"http://www.w3.org/1998/MathML/":null}(v):null;return null===b?p.createElement(g):p.createElementNS(b,g)}}function i1(p,g){const v=p[9],b=v.indexOf(g),C=g[3];1024&g[2]&&(g[2]&=-1025,ir(C,-1)),v.splice(b,1)}function F0(p,g){if(p.length<=10)return;const v=10+g,b=p[v];if(b){const C=b[17];null!==C&&C!==p&&i1(C,b),g>0&&(p[v-1][4]=b[4]);const D=Th(p,10+g);!function VI(p,g){od(p,g,g[11],2,null,null),g[0]=null,g[6]=null}(b[1],b);const P=D[19];null!==P&&P.detachView(D[1]),b[3]=null,b[4]=null,b[2]&=-129}return b}function o1(p,g){if(!(256&g[2])){const v=g[11];Se(v)&&v.destroyNode&&od(p,g,v,3,null,null),function KI(p){let g=p[13];if(!g)return N0(p[1],p);for(;g;){let v=null;if(mo(g))v=g[13];else{const b=g[10];b&&(v=b)}if(!v){for(;g&&!g[4]&&g!==p;)mo(g)&&N0(g[1],g),g=g[3];null===g&&(g=p),mo(g)&&N0(g[1],g),v=g&&g[4]}g=v}}(g)}}function N0(p,g){if(!(256&g[2])){g[2]&=-129,g[2]|=256,function HI(p,g){let v;if(null!=p&&null!=(v=p.destroyHooks))for(let b=0;b<v.length;b+=2){const C=g[v[b]];if(!(C instanceof $c)){const D=v[b+1];if(Array.isArray(D))for(let P=0;P<D.length;P+=2){const V=C[D[P]],ae=D[P+1];try{ae.call(V)}finally{}}else try{D.call(C)}finally{}}}}(p,g),function kI(p,g){const v=p.cleanup,b=g[7];let C=-1;if(null!==v)for(let D=0;D<v.length-1;D+=2)if("string"==typeof v[D]){const P=v[D+1],V="function"==typeof P?P(g):Ce(g[P]),ae=b[C=v[D+2]],be=v[D+3];"boolean"==typeof be?V.removeEventListener(v[D],ae,be):be>=0?b[C=be]():b[C=-be].unsubscribe(),D+=2}else{const P=b[C=v[D+1]];v[D].call(P)}if(null!==b){for(let D=C+1;D<b.length;D++)b[D]();g[7]=null}}(p,g),1===g[1].type&&Se(g[11])&&g[11].destroy();const v=g[17];if(null!==v&&to(g[3])){v!==g[3]&&i1(v,g);const b=g[19];null!==b&&b.detachView(p)}}}function a1(p,g,v){return function l1(p,g,v){let b=g;for(;null!==b&&40&b.type;)b=(g=b).parent;if(null===b)return v[0];if(2&b.flags){const C=p.data[b.directiveStart].encapsulation;if(C===ct.None||C===ct.Emulated)return null}return Pt(b,v)}(p,g.parent,v)}function Rl(p,g,v,b,C){Se(p)?p.insertBefore(g,v,b,C):g.insertBefore(v,b,C)}function u1(p,g,v){Se(p)?p.appendChild(g,v):g.appendChild(v)}function c1(p,g,v,b,C){null!==b?Rl(p,g,v,b,C):u1(p,g,v)}function Wh(p,g){return Se(p)?p.parentNode(g):g.parentNode}let p1=function h1(p,g,v){return 40&p.type?Pt(p,v):null};function Vh(p,g,v,b){const C=a1(p,b,g),D=g[11],V=function d1(p,g,v){return p1(p,g,v)}(b.parent||g[6],b,g);if(null!=C)if(Array.isArray(v))for(let ae=0;ae<v.length;ae++)c1(D,C,v[ae],V,!1);else c1(D,C,v,V,!1)}function Zh(p,g){if(null!==g){const v=g.type;if(3&v)return Pt(g,p);if(4&v)return W0(-1,p[g.index]);if(8&v){const b=g.child;if(null!==b)return Zh(p,b);{const C=p[g.index];return to(C)?W0(-1,C):Ce(C)}}if(32&v)return A0(g,p)()||Ce(p[g.index]);{const b=m1(p,g);return null!==b?Array.isArray(b)?b[0]:Zh(id(p[16]),b):Zh(p,g.next)}}return null}function m1(p,g){return null!==g?p[16][6].projection[g.projection]:null}function W0(p,g){const v=10+p+1;if(v<g.length){const b=g[v],C=b[1].firstChild;if(null!==C)return Zh(b,C)}return g[7]}function V0(p,g,v,b,C,D,P){for(;null!=v;){const V=b[v.index],ae=v.type;if(P&&0===g&&(V&&Mi(Ce(V),b),v.flags|=4),64!=(64&v.flags))if(8&ae)V0(p,g,v.child,b,C,D,!1),wu(g,p,C,V,D);else if(32&ae){const be=A0(v,b);let Pe;for(;Pe=be();)wu(g,p,C,Pe,D);wu(g,p,C,V,D)}else 16&ae?g1(p,g,b,v,C,D):wu(g,p,C,V,D);v=P?v.projectionNext:v.next}}function od(p,g,v,b,C,D){V0(v,b,p.firstChild,g,C,D,!1)}function g1(p,g,v,b,C,D){const P=v[16],ae=P[6].projection[b.projection];if(Array.isArray(ae))for(let be=0;be<ae.length;be++)wu(g,p,C,ae[be],D);else V0(p,g,ae,P[3],C,D,!0)}function _1(p,g,v){Se(p)?p.setAttribute(g,"style",v):g.style.cssText=v}function Z0(p,g,v){Se(p)?""===v?p.removeAttribute(g,"class"):p.setAttribute(g,"class",v):g.className=v}function v1(p,g,v){let b=p.length;for(;;){const C=p.indexOf(g,v);if(-1===C)return C;if(0===C||p.charCodeAt(C-1)<=32){const D=g.length;if(C+D===b||p.charCodeAt(C+D)<=32)return C}v=C+1}}const E1="ng-template";function eT(p,g,v){let b=0;for(;b<p.length;){let C=p[b++];if(v&&"class"===C){if(C=p[b],-1!==v1(C.toLowerCase(),g,0))return!0}else if(1===C){for(;b<p.length&&"string"==typeof(C=p[b++]);)if(C.toLowerCase()===g)return!0;return!1}}return!1}function b1(p){return 4===p.type&&p.value!==E1}function tT(p,g,v){return g===(4!==p.type||v?p.value:E1)}function nT(p,g,v){let b=4;const C=p.attrs||[],D=function iT(p){for(let g=0;g<p.length;g++)if(cv(p[g]))return g;return p.length}(C);let P=!1;for(let V=0;V<g.length;V++){const ae=g[V];if("number"!=typeof ae){if(!P)if(4&b){if(b=2|1&b,""!==ae&&!tT(p,ae,v)||""===ae&&1===g.length){if(Ro(b))return!1;P=!0}}else{const be=8&b?ae:g[++V];if(8&b&&null!==p.attrs){if(!eT(p.attrs,be,v)){if(Ro(b))return!1;P=!0}continue}const Fe=rT(8&b?"class":ae,C,b1(p),v);if(-1===Fe){if(Ro(b))return!1;P=!0;continue}if(""!==be){let Xe;Xe=Fe>D?"":C[Fe+1].toLowerCase();const rt=8&b?Xe:null;if(rt&&-1!==v1(rt,be,0)||2&b&&be!==Xe){if(Ro(b))return!1;P=!0}}}}else{if(!P&&!Ro(b)&&!Ro(ae))return!1;if(P&&Ro(ae))continue;P=!1,b=ae|1&b}}return Ro(b)||P}function Ro(p){return 0==(1&p)}function rT(p,g,v,b){if(null===g)return-1;let C=0;if(b||!v){let D=!1;for(;C<g.length;){const P=g[C];if(P===p)return C;if(3===P||6===P)D=!0;else{if(1===P||2===P){let V=g[++C];for(;"string"==typeof V;)V=g[++C];continue}if(4===P)break;if(0===P){C+=4;continue}}C+=D?1:2}return-1}return function oT(p,g){let v=p.indexOf(4);if(v>-1)for(v++;v<p.length;){const b=p[v];if("number"==typeof b)return-1;if(b===g)return v;v++}return-1}(g,p)}function M1(p,g,v=!1){for(let b=0;b<g.length;b++)if(nT(p,g[b],v))return!0;return!1}function C1(p,g){return p?":not("+g.trim()+")":g}function lT(p){let g=p[0],v=1,b=2,C="",D=!1;for(;v<p.length;){let P=p[v];if("string"==typeof P)if(2&b){const V=p[++v];C+="["+P+(V.length>0?'="'+V+'"':"")+"]"}else 8&b?C+="."+P:4&b&&(C+=" "+P);else""!==C&&!Ro(P)&&(g+=C1(D,C),C=""),b=P,D=D||!Ro(b);v++}return""!==C&&(g+=C1(D,C)),g}const gr={};function S1(p,g,v,b){if(!b)if(3==(3&g[2])){const D=p.preOrderCheckHooks;null!==D&&Mh(g,D,v)}else{const D=p.preOrderHooks;null!==D&&Ch(g,D,0,v)}el(v)}function U1(p,g){const v=p.contentQueries;if(null!==v)for(let b=0;b<v.length;b+=2){const C=v[b],D=v[b+1];if(-1!==D){const P=p.data[D];r0(C),P.contentQueries(2,g[D],D)}}}function ad(p,g,v,b,C,D,P,V,ae,be){const Pe=g.blueprint.slice();return Pe[0]=C,Pe[2]=140|b,Ar(Pe),Pe[3]=Pe[15]=p,Pe[8]=v,Pe[10]=P||p&&p[10],Pe[11]=V||p&&p[11],Pe[12]=ae||p&&p[12]||null,Pe[9]=be||p&&p[9]||null,Pe[6]=D,Pe[16]=2==g.type?p[16]:Pe,Pe}function Pu(p,g,v,b,C){let D=p.data[g];if(null===D)D=function em(p,g,v,b,C){const D=q_(),P=qf(),ae=p.data[g]=function OT(p,g,v,b,C,D){return{type:v,index:b,insertBeforeIndex:null,injectorIndex:g?g.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:C,attrs:D,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:g,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,P?D:D&&D.parent,v,g,b,C);return null===p.firstChild&&(p.firstChild=ae),null!==D&&(P?null==D.child&&null!==ae.parent&&(D.child=ae):null===D.next&&(D.next=ae)),ae}(p,g,v,b,C),function Hw(){return Xn.lFrame.inI18n}()&&(D.flags|=64);else if(64&D.type){D.type=v,D.value=b,D.attrs=C;const P=function Zc(){const p=Xn.lFrame,g=p.currentTNode;return p.isParent?g:g.parent}();D.injectorIndex=null===P?-1:P.injectorIndex}return ta(D,!0),D}function Iu(p,g,v,b){if(0===v)return-1;const C=g.length;for(let D=0;D<v;D++)g.push(b),p.blueprint.push(b),p.data.push(null);return C}function ld(p,g,v){vh(g);try{const b=p.viewQuery;null!==b&&um(1,b,v);const C=p.template;null!==C&&F1(p,g,C,1,v),p.firstCreatePass&&(p.firstCreatePass=!1),p.staticContentQueries&&U1(p,g),p.staticViewQueries&&um(2,p.viewQuery,v);const D=p.components;null!==D&&function CT(p,g){for(let v=0;v<g.length;v++)KT(p,g[v])}(g,D)}catch(b){throw p.firstCreatePass&&(p.incompleteFirstPass=!0,p.firstCreatePass=!1),b}finally{g[2]&=-5,Eh()}}function Tu(p,g,v,b){const C=g[2];if(256!=(256&C)){vh(g);try{Ar(g),function ev(p){return Xn.lFrame.bindingIndex=p}(p.bindingStartIndex),null!==v&&F1(p,g,v,2,b);const P=3==(3&C);if(P){const be=p.preOrderCheckHooks;null!==be&&Mh(g,be,null)}else{const be=p.preOrderHooks;null!==be&&Ch(g,be,0,null),s0(g,0)}if(function ZT(p){for(let g=R0(p);null!==g;g=L0(g)){if(!g[2])continue;const v=g[9];for(let b=0;b<v.length;b++){const C=v[b],D=C[3];0==(1024&C[2])&&ir(D,1),C[2]|=1024}}}(g),function VT(p){for(let g=R0(p);null!==g;g=L0(g))for(let v=10;v<g.length;v++){const b=g[v],C=b[1];Qn(b)&&Tu(C,b,C.template,b[8])}}(g),null!==p.contentQueries&&U1(p,g),P){const be=p.contentCheckHooks;null!==be&&Mh(g,be)}else{const be=p.contentHooks;null!==be&&Ch(g,be,1),s0(g,1)}!function bT(p,g){const v=p.hostBindingOpCodes;if(null!==v)try{for(let b=0;b<v.length;b++){const C=v[b];if(C<0)el(~C);else{const D=C,P=v[++b],V=v[++b];Jw(P,D),V(2,g[D])}}}finally{el(-1)}}(p,g);const V=p.components;null!==V&&function MT(p,g){for(let v=0;v<g.length;v++)$T(p,g[v])}(g,V);const ae=p.viewQuery;if(null!==ae&&um(2,ae,b),P){const be=p.viewCheckHooks;null!==be&&Mh(g,be)}else{const be=p.viewHooks;null!==be&&Ch(g,be,2),s0(g,2)}!0===p.firstUpdatePass&&(p.firstUpdatePass=!1),g[2]&=-73,1024&g[2]&&(g[2]&=-1025,ir(g[3],-1))}finally{Eh()}}}function DT(p,g,v,b){const C=g[10],P=Pn(g);try{!P&&C.begin&&C.begin(),P&&ld(p,g,b),Tu(p,g,v,b)}finally{!P&&C.end&&C.end()}}function F1(p,g,v,b,C){const D=Ri(),P=2&b;try{el(-1),P&&g.length>20&&S1(p,g,20,!1),v(b,C)}finally{el(D)}}function B1(p){const g=p.tView;return null===g||g.incompleteFirstPass?p.tView=Gh(1,null,p.template,p.decls,p.vars,p.directiveDefs,p.pipeDefs,p.viewQuery,p.schemas,p.consts):g}function Gh(p,g,v,b,C,D,P,V,ae,be){const Pe=20+b,Fe=Pe+C,Xe=function ST(p,g){const v=[];for(let b=0;b<g;b++)v.push(b<p?null:gr);return v}(Pe,Fe),rt="function"==typeof be?be():be;return Xe[1]={type:p,blueprint:Xe,template:v,queries:null,viewQuery:V,declTNode:g,data:Xe.slice().fill(null,Pe),bindingStartIndex:Pe,expandoStartIndex:Fe,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof D?D():D,pipeRegistry:"function"==typeof P?P():P,firstChild:null,schemas:ae,consts:rt,incompleteFirstPass:!1}}function Z1(p,g,v,b){const C=X1(g);null===v?C.push(b):(C.push(v),p.firstCreatePass&&q1(p).push(b,C.length-1))}function $1(p,g,v){for(let b in p)if(p.hasOwnProperty(b)){const C=p[b];(v=null===v?{}:v).hasOwnProperty(b)?v[b].push(g,C):v[b]=[g,C]}return v}function z1(p,g,v,b,C,D){const P=D.hostBindings;if(P){let V=p.hostBindingOpCodes;null===V&&(V=p.hostBindingOpCodes=[]);const ae=~g.index;(function AT(p){let g=p.length;for(;g>0;){const v=p[--g];if("number"==typeof v&&v<0)return v}return 0})(V)!=ae&&V.push(ae),V.push(b,C,P)}}function G1(p,g){null!==p.hostBindings&&p.hostBindings(1,g)}function k1(p,g){g.flags|=2,(p.components||(p.components=[])).push(g.index)}function FT(p,g,v){if(v){if(g.exportAs)for(let b=0;b<g.exportAs.length;b++)v[g.exportAs[b]]=p;no(g)&&(v[""]=p)}}function H1(p,g,v){p.flags|=1,p.directiveStart=g,p.directiveEnd=g+v,p.providerIndexes=g}function J1(p,g,v,b,C){p.data[b]=C;const D=C.factory||(C.factory=qo(C.type)),P=new $c(D,no(C),null);p.blueprint[b]=P,v[b]=P,z1(p,g,0,b,Iu(p,v,C.hostVars,gr),C)}function NT(p,g,v){const b=Pt(g,p),C=B1(v),D=p[10],P=kh(p,ad(p,C,null,v.onPush?64:16,b,g,D,D.createRenderer(b,v),null,null));p[g.index]=P}function BT(p,g,v,b,C,D){const P=D[g];if(null!==P){const V=b.setInput;for(let ae=0;ae<P.length;){const be=P[ae++],Pe=P[ae++],Fe=P[ae++];null!==V?b.setInput(v,Fe,be,Pe):v[Pe]=Fe}}}function WT(p,g){let v=null,b=0;for(;b<g.length;){const C=g[b];if(0!==C)if(5!==C){if("number"==typeof C)break;p.hasOwnProperty(C)&&(null===v&&(v=[]),v.push(C,p[C],g[b+1])),b+=2}else b+=2;else b+=4}return v}function $T(p,g){const v=vn(g,p);if(Qn(v)){const b=v[1];80&v[2]?Tu(b,v,b.template,v[8]):v[5]>0&&im(v)}}function im(p){for(let b=R0(p);null!==b;b=L0(b))for(let C=10;C<b.length;C++){const D=b[C];if(1024&D[2]){const P=D[1];Tu(P,D,P.template,D[8])}else D[5]>0&&im(D)}const v=p[1].components;if(null!==v)for(let b=0;b<v.length;b++){const C=vn(v[b],p);Qn(C)&&C[5]>0&&im(C)}}function KT(p,g){const v=vn(g,p),b=v[1];(function zT(p,g){for(let v=g.length;v<p.blueprint.length;v++)g.push(p.blueprint[v])})(b,v),ld(b,v,v[8])}function kh(p,g){return p[13]?p[14][4]=g:p[13]=g,p[14]=g,g}function om(p){for(;p;){p[2]|=64;const g=id(p);if(Ff(p)&&!g)return p;p=g}return null}function Q1(p){!function am(p){for(let g=0;g<p.components.length;g++){const v=p.components[g],b=P0(v),C=b[1];DT(C,b,C.template,v)}}(p[8])}function um(p,g,v){r0(0),g(p,v)}const kT=(()=>Promise.resolve(null))();function X1(p){return p[7]||(p[7]=[])}function q1(p){return p.cleanup||(p.cleanup=[])}function tE(p,g){const v=p[9],b=v?v.get(sd,null):null;b&&b.handleError(g)}function nE(p,g,v,b,C){for(let D=0;D<v.length;){const P=v[D++],V=v[D++],ae=g[P],be=p.data[P];null!==be.setInput?be.setInput(ae,C,b,V):ae[V]=C}}function Hh(p,g,v){let b=v?p.styles:null,C=v?p.classes:null,D=0;if(null!==g)for(let P=0;P<g.length;P++){const V=g[P];"number"==typeof V?D=V:1==D?C=Mn(C,V):2==D&&(b=Mn(b,V+": "+g[++P]+";"))}v?p.styles=b:p.stylesWithoutHost=b,v?p.classes=C:p.classesWithoutHost=C}const cm=new kr("INJECTOR",-1);class rE{get(g,v=Yc){if(v===Yc){const b=new Error(`NullInjectorError: No provider for ${cn(g)}!`);throw b.name="NullInjectorError",b}return v}}const dm=new kr("Set Injector scope."),ud={},YT={};let hm;function sE(){return void 0===hm&&(hm=new rE),hm}function iE(p,g=null,v=null,b){const C=oE(p,g,v,b);return C._resolveInjectorDefTypes(),C}function oE(p,g=null,v=null,b){return new QT(p,v,g||sE(),b)}class QT{constructor(g,v,b,C=null){this.parent=b,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const D=[];v&&na(v,V=>this.processProvider(V,g,v)),na([g],V=>this.processInjectorType(V,[],D)),this.records.set(cm,xu(void 0,this));const P=this.records.get(dm);this.scope=null!=P?P.value:null,this.source=C||("object"==typeof g?null:cn(g))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(g=>g.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(g,v=Yc,b=Cn.Default){this.assertNotDestroyed();const C=Pv(this),D=qe(void 0);try{if(!(b&Cn.SkipSelf)){let V=this.records.get(g);if(void 0===V){const ae=function i2(p){return"function"==typeof p||"object"==typeof p&&p instanceof kr}(g)&&Yr(g);V=ae&&this.injectableDefInScope(ae)?xu(pm(g),ud):null,this.records.set(g,V)}if(null!=V)return this.hydrate(g,V)}return(b&Cn.Self?sE():this.parent).get(g,v=b&Cn.Optional&&v===Yc?null:v)}catch(P){if("NullInjectorError"===P.name){if((P[Ah]=P[Ah]||[]).unshift(cn(g)),C)throw P;return function LP(p,g,v,b){const C=p[Ah];throw g[wv]&&C.unshift(g[wv]),p.message=function jP(p,g,v,b=null){p=p&&"\n"===p.charAt(0)&&"\u0275"==p.charAt(1)?p.substr(2):p;let C=cn(g);if(Array.isArray(g))C=g.map(cn).join(" -> ");else if("object"==typeof g){let D=[];for(let P in g)if(g.hasOwnProperty(P)){let V=g[P];D.push(P+":"+("string"==typeof V?JSON.stringify(V):cn(V)))}C=`{${D.join(", ")}}`}return`${v}${b?"("+b+")":""}[${C}]: ${p.replace(PP,"\n  ")}`}("\n"+p.message,C,v,b),p.ngTokenPath=C,p[Ah]=null,p}(P,g,"R3InjectorError",this.source)}throw P}finally{qe(D),Pv(C)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(g=>this.get(g))}toString(){const g=[];return this.records.forEach((b,C)=>g.push(cn(C))),`R3Injector[${g.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new _t(205,!1)}processInjectorType(g,v,b){if(!(g=bt(g)))return!1;let C=ln(g);const D=null==C&&g.ngModule||void 0,P=void 0===D?g:D,V=-1!==b.indexOf(P);if(void 0!==D&&(C=ln(D)),null==C)return!1;if(null!=C.imports&&!V){let Pe;b.push(P);try{na(C.imports,Fe=>{this.processInjectorType(Fe,v,b)&&(void 0===Pe&&(Pe=[]),Pe.push(Fe))})}finally{}if(void 0!==Pe)for(let Fe=0;Fe<Pe.length;Fe++){const{ngModule:Xe,providers:rt}=Pe[Fe];na(rt,It=>this.processProvider(It,Xe,rt||ar))}}this.injectorDefTypes.add(P);const ae=qo(P)||(()=>new P);this.records.set(P,xu(ae,ud));const be=C.providers;if(null!=be&&!V){const Pe=g;na(be,Fe=>this.processProvider(Fe,Pe,be))}return void 0!==D&&void 0!==g.providers}processProvider(g,v,b){let C=Au(g=bt(g))?g:bt(g&&g.provide);const D=function qT(p,g,v){return lE(p)?xu(void 0,p.useValue):xu(function aE(p,g,v){let b;if(Au(p)){const C=bt(p);return qo(C)||pm(C)}if(lE(p))b=()=>bt(p.useValue);else if(function t2(p){return!(!p||!p.useFactory)}(p))b=()=>p.useFactory(..._0(p.deps||[]));else if(function e2(p){return!(!p||!p.useExisting)}(p))b=()=>ts(bt(p.useExisting));else{const C=bt(p&&(p.useClass||p.provide));if(!function r2(p){return!!p.deps}(p))return qo(C)||pm(C);b=()=>new C(..._0(p.deps))}return b}(p),ud)}(g);if(Au(g)||!0!==g.multi)this.records.get(C);else{let P=this.records.get(C);P||(P=xu(void 0,ud,!0),P.factory=()=>_0(P.multi),this.records.set(C,P)),C=g,P.multi.push(g)}this.records.set(C,D)}hydrate(g,v){return v.value===ud&&(v.value=YT,v.value=v.factory()),"object"==typeof v.value&&v.value&&function s2(p){return null!==p&&"object"==typeof p&&"function"==typeof p.ngOnDestroy}(v.value)&&this.onDestroy.add(v.value),v.value}injectableDefInScope(g){if(!g.providedIn)return!1;const v=bt(g.providedIn);return"string"==typeof v?"any"===v||v===this.scope:this.injectorDefTypes.has(v)}}function pm(p){const g=Yr(p),v=null!==g?g.factory:qo(p);if(null!==v)return v;if(p instanceof kr)throw new _t(204,!1);if(p instanceof Function)return function XT(p){const g=p.length;if(g>0)throw function Jc(p,g){const v=[];for(let b=0;b<p;b++)v.push(g);return v}(g,"?"),new _t(204,!1);const v=function Zi(p){const g=p&&(p[_n]||p[Pr]);if(g){const v=function xt(p){if(p.hasOwnProperty("name"))return p.name;const g=(""+p).match(/^function\s*([^\s(]+)/);return null===g?"":g[1]}(p);return console.warn(`DEPRECATED: DI is instantiating a token "${v}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${v}" class.`),g}return null}(p);return null!==v?()=>v.factory(p):()=>new p}(p);throw new _t(204,!1)}function xu(p,g,v=!1){return{factory:p,value:g,multi:v?[]:void 0}}function lE(p){return null!==p&&"object"==typeof p&&TP in p}function Au(p){return"function"==typeof p}let oa=(()=>{class p{static create(v,b){var C;if(Array.isArray(v))return iE({name:""},b,v,"");{const D=null!==(C=v.name)&&void 0!==C?C:"";return iE({name:D},v.parent,v.providers,D)}}}return p.THROW_IF_NOT_FOUND=Yc,p.NULL=new rE,p.\u0275prov=Nr({token:p,providedIn:"any",factory:()=>ts(cm)}),p.__NG_ELEMENT_ID__=-1,p})();function p2(p,g){bh(P0(p)[1],_s())}let Jh=null;function Ru(){if(!Jh){const p=zn.Symbol;if(p&&p.iterator)Jh=p.iterator;else{const g=Object.getOwnPropertyNames(Map.prototype);for(let v=0;v<g.length;++v){const b=g[v];"entries"!==b&&"size"!==b&&Map.prototype[b]===Map.prototype.entries&&(Jh=b)}}}return Jh}function Ci(p,g,v){return!Object.is(p[g],v)&&(p[g]=v,!0)}function Or(p,g=Cn.Default){const v=Sn();return null===v?ts(p,g):gv(_s(),v,bt(p),g)}function Mm(p,g,v){const b=Sn();return Ci(b,function mu(){return Xn.lFrame.bindingIndex++}(),g)&&function oo(p,g,v,b,C,D,P,V){const ae=Pt(g,v);let Pe,be=g.inputs;!V&&null!=be&&(Pe=be[b])?(nE(p,v,Pe,b,C),au(g)&&function IT(p,g){const v=vn(g,p);16&v[2]||(v[2]|=64)}(v,g.index)):3&g.type&&(b=function PT(p){return"class"===p?"className":"for"===p?"htmlFor":"formaction"===p?"formAction":"innerHtml"===p?"innerHTML":"readonly"===p?"readOnly":"tabindex"===p?"tabIndex":p}(b),C=null!=P?P(C,g.value||"",b):C,Se(D)?D.setProperty(ae,b,C):a0(b)||(ae.setProperty?ae.setProperty(b,C):ae[b]=C))}(Rr(),function ws(){const p=Xn.lFrame;return sn(p.tView,p.selectedIndex)}(),b,p,g,b[11],v,!1),Mm}function Cm(p,g,v,b,C){const P=C?"class":"style";nE(p,v,g.inputs[P],P,b)}function Zs(p,g,v,b){const C=Sn(),D=Rr(),P=20+p,V=C[11],ae=C[P]=U0(V,g,function rP(){return Xn.lFrame.currentNamespace}()),be=D.firstCreatePass?function H2(p,g,v,b,C,D,P){const V=g.consts,be=Pu(g,p,2,C,vr(V,D));return function rm(p,g,v,b){let C=!1;if(yh()){const D=function jT(p,g,v){const b=p.directiveRegistry;let C=null;if(b)for(let D=0;D<b.length;D++){const P=b[D];M1(v,P.selectors,!1)&&(C||(C=[]),Ph(zc(v,g),p,P.type),no(P)?(k1(p,v),C.unshift(P)):C.push(P))}return C}(p,g,v),P=null===b?null:{"":-1};if(null!==D){C=!0,H1(v,p.data.length,D.length);for(let Pe=0;Pe<D.length;Pe++){const Fe=D[Pe];Fe.providersResolver&&Fe.providersResolver(Fe)}let V=!1,ae=!1,be=Iu(p,g,D.length,null);for(let Pe=0;Pe<D.length;Pe++){const Fe=D[Pe];v.mergedAttrs=Sh(v.mergedAttrs,Fe.hostAttrs),J1(p,v,g,be,Fe),FT(be,Fe,P),null!==Fe.contentQueries&&(v.flags|=8),(null!==Fe.hostBindings||null!==Fe.hostAttrs||0!==Fe.hostVars)&&(v.flags|=128);const Xe=Fe.type.prototype;!V&&(Xe.ngOnChanges||Xe.ngOnInit||Xe.ngDoCheck)&&((p.preOrderHooks||(p.preOrderHooks=[])).push(v.index),V=!0),!ae&&(Xe.ngOnChanges||Xe.ngDoCheck)&&((p.preOrderCheckHooks||(p.preOrderCheckHooks=[])).push(v.index),ae=!0),be++}!function wT(p,g){const b=g.directiveEnd,C=p.data,D=g.attrs,P=[];let V=null,ae=null;for(let be=g.directiveStart;be<b;be++){const Pe=C[be],Fe=Pe.inputs,Xe=null===D||b1(g)?null:WT(Fe,D);P.push(Xe),V=$1(Fe,be,V),ae=$1(Pe.outputs,be,ae)}null!==V&&(V.hasOwnProperty("class")&&(g.flags|=16),V.hasOwnProperty("style")&&(g.flags|=32)),g.initialInputs=P,g.inputs=V,g.outputs=ae}(p,v)}P&&function UT(p,g,v){if(g){const b=p.localNames=[];for(let C=0;C<g.length;C+=2){const D=v[g[C+1]];if(null==D)throw new _t(-301,!1);b.push(g[C],D)}}}(v,b,P)}return v.mergedAttrs=Sh(v.mergedAttrs,v.attrs),C}(g,v,be,vr(V,P)),null!==be.attrs&&Hh(be,be.attrs,!1),null!==be.mergedAttrs&&Hh(be,be.mergedAttrs,!0),null!==g.queries&&g.queries.elementStart(g,be),be}(P,D,C,0,g,v,b):D.data[P];ta(be,!0);const Pe=be.mergedAttrs;null!==Pe&&Dh(V,ae,Pe);const Fe=be.classes;null!==Fe&&Z0(V,ae,Fe);const Xe=be.styles;return null!==Xe&&_1(V,ae,Xe),64!=(64&be.flags)&&Vh(D,C,ae,be),0===function mh(){return Xn.lFrame.elementDepthCount}()&&Mi(ae,C),function Al(){Xn.lFrame.elementDepthCount++}(),qa(be)&&(function tm(p,g,v){!yh()||(function RT(p,g,v,b){const C=v.directiveStart,D=v.directiveEnd;p.firstCreatePass||zc(v,g),Mi(b,g);const P=v.initialInputs;for(let V=C;V<D;V++){const ae=p.data[V],be=no(ae);be&&NT(g,v,ae);const Pe=Gc(g,p,V,v);Mi(Pe,g),null!==P&&BT(0,V-C,Pe,ae,0,P),be&&(vn(v.index,g)[8]=Pe)}}(p,g,v,Pt(v,g)),128==(128&v.flags)&&function LT(p,g,v){const b=v.directiveStart,C=v.directiveEnd,P=v.index,V=function Yw(){return Xn.lFrame.currentDirectiveIndex}();try{el(P);for(let ae=b;ae<C;ae++){const be=p.data[ae],Pe=g[ae];t0(ae),(null!==be.hostBindings||0!==be.hostVars||null!==be.hostAttrs)&&G1(be,Pe)}}finally{el(-1),t0(V)}}(p,g,v))}(D,C,be),function N1(p,g,v){if(Uc(g)){const C=g.directiveEnd;for(let D=g.directiveStart;D<C;D++){const P=p.data[D];P.contentQueries&&P.contentQueries(1,v[D],D)}}}(D,be,C)),null!==b&&function nm(p,g,v=Pt){const b=g.localNames;if(null!==b){let C=g.index+1;for(let D=0;D<b.length;D+=2){const P=b[D+1],V=-1===P?v(g,p):p[P];p[C++]=V}}}(C,be),Zs}function js(){let p=_s();qf()?function e0(){Xn.lFrame.isParent=!1}():(p=p.parent,ta(p,!1));const g=p;!function Yf(){Xn.lFrame.elementDepthCount--}();const v=Rr();return v.firstCreatePass&&(bh(v,p),Uc(p)&&v.queries.elementEnd(p)),null!=g.classesWithoutHost&&function lP(p){return 0!=(16&p.flags)}(g)&&Cm(v,g,Sn(),g.classesWithoutHost,!0),null!=g.stylesWithoutHost&&function uP(p){return 0!=(32&p.flags)}(g)&&Cm(v,g,Sn(),g.stylesWithoutHost,!1),js}function jl(p,g,v,b){return Zs(p,g,v,b),js(),jl}function Om(p){return!!p&&"function"==typeof p.then}function $E(p){return!!p&&"function"==typeof p.subscribe}const Q2=$E;function Ul(p,g,v,b){const C=Sn(),D=Rr(),P=_s();return function zE(p,g,v,b,C,D,P,V){const ae=qa(b),Pe=p.firstCreatePass&&q1(p),Fe=g[8],Xe=X1(g);let rt=!0;if(3&b.type||V){const Xt=Pt(b,g),tn=V?V(Xt):Xt,Gt=Xe.length,On=V?Ln=>V(Ce(Ln[b.index])):b.index;if(Se(v)){let Ln=null;if(!V&&ae&&(Ln=function X2(p,g,v,b){const C=p.cleanup;if(null!=C)for(let D=0;D<C.length-1;D+=2){const P=C[D];if(P===v&&C[D+1]===b){const V=g[7],ae=C[D+2];return V.length>ae?V[ae]:null}"string"==typeof P&&(D+=2)}return null}(p,g,C,b.index)),null!==Ln)(Ln.__ngLastListenerFn__||Ln).__ngNextListenerFn__=D,Ln.__ngLastListenerFn__=D,rt=!1;else{D=wm(b,g,Fe,D,!1);const Kn=v.listen(tn,C,D);Xe.push(D,Kn),Pe&&Pe.push(C,On,Gt,Gt+1)}}else D=wm(b,g,Fe,D,!0),tn.addEventListener(C,D,P),Xe.push(D),Pe&&Pe.push(C,On,Gt,P)}else D=wm(b,g,Fe,D,!1);const It=b.outputs;let Zt;if(rt&&null!==It&&(Zt=It[C])){const Xt=Zt.length;if(Xt)for(let tn=0;tn<Xt;tn+=2){const qn=g[Zt[tn]][Zt[tn+1]].subscribe(D),Hr=Xe.length;Xe.push(D,qn),Pe&&Pe.push(C,b.index,Hr,-(Hr+1))}}}(D,C,C[11],P,p,g,!!v,b),Ul}function GE(p,g,v,b){try{return!1!==v(b)}catch(C){return tE(p,C),!1}}function wm(p,g,v,b,C){return function D(P){if(P===Function)return b;const V=2&p.flags?vn(p.index,g):g;0==(32&g[2])&&om(V);let ae=GE(g,0,b,P),be=D.__ngNextListenerFn__;for(;be;)ae=GE(g,0,be,P)&&ae,be=be.__ngNextListenerFn__;return C&&!1===ae&&(P.preventDefault(),P.returnValue=!1),ae}}function zi(p,g=""){const v=Sn(),b=Rr(),C=p+20,D=b.firstCreatePass?Pu(b,C,1,g,null):b.data[C],P=v[C]=function j0(p,g){return Se(p)?p.createText(g):p.createTextNode(g)}(v[11],g);Vh(b,v,P,D),ta(D,!1)}const qh="en-US";let Bb=qh;class cM{}class $A{resolveComponentFactory(g){throw function ZA(p){const g=Error(`No component factory found for ${cn(p)}. Did you add it to @NgModule.entryComponents?`);return g.ngComponent=p,g}(g)}}let sp=(()=>{class p{}return p.NULL=new $A,p})();function KA(){return ku(_s(),Sn())}function ku(p,g){return new Hu(Pt(p,g))}let Hu=(()=>{class p{constructor(v){this.nativeElement=v}}return p.__NG_ELEMENT_ID__=KA,p})();function zA(p){return p instanceof Hu?p.nativeElement:p}class hM{}let HA=(()=>{class p{}return p.\u0275prov=Nr({token:p,providedIn:"root",factory:()=>null}),p})();class Fm{constructor(g){this.full=g,this.major=g.split(".")[0],this.minor=g.split(".")[1],this.patch=g.split(".").slice(2).join(".")}}const JA=new Fm("13.3.11"),Nm={};function ip(p,g,v,b,C=!1){for(;null!==v;){const D=g[v.index];if(null!==D&&b.push(Ce(D)),to(D))for(let V=10;V<D.length;V++){const ae=D[V],be=ae[1].firstChild;null!==be&&ip(ae[1],ae,be,b)}const P=v.type;if(8&P)ip(p,g,v.child,b);else if(32&P){const V=A0(v,g);let ae;for(;ae=V();)b.push(ae)}else if(16&P){const V=m1(g,v);if(Array.isArray(V))b.push(...V);else{const ae=id(g[16]);ip(ae[1],ae,V,b,!0)}}v=C?v.projectionNext:v.next}return b}class gd{constructor(g,v){this._lView=g,this._cdRefInjectingView=v,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const g=this._lView,v=g[1];return ip(v,g,v.firstChild,[])}get context(){return this._lView[8]}set context(g){this._lView[8]=g}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const g=this._lView[3];if(to(g)){const v=g[8],b=v?v.indexOf(this):-1;b>-1&&(F0(g,b),Th(v,b))}this._attachedToViewContainer=!1}o1(this._lView[1],this._lView)}onDestroy(g){Z1(this._lView[1],this._lView,null,g)}markForCheck(){om(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){!function lm(p,g,v){const b=g[10];b.begin&&b.begin();try{Tu(p,g,p.template,v)}catch(C){throw tE(g,C),C}finally{b.end&&b.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new _t(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function $I(p,g){od(p,g,g[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(g){if(this._attachedToViewContainer)throw new _t(902,"");this._appRef=g}}class YA extends gd{constructor(g){super(g),this._view=g}detectChanges(){Q1(this._view)}checkNoChanges(){}get context(){return null}}class fM extends sp{constructor(g){super(),this.ngModule=g}resolveComponentFactory(g){const v=ys(g);return new Bm(v,this.ngModule)}}function mM(p){const g=[];for(let v in p)p.hasOwnProperty(v)&&g.push({propName:p[v],templateName:v});return g}class Bm extends cM{constructor(g,v){super(),this.componentDef=g,this.ngModule=v,this.componentType=g.type,this.selector=function uT(p){return p.map(lT).join(",")}(g.selectors),this.ngContentSelectors=g.ngContentSelectors?g.ngContentSelectors:[],this.isBoundToModule=!!v}get inputs(){return mM(this.componentDef.inputs)}get outputs(){return mM(this.componentDef.outputs)}create(g,v,b,C){const D=(C=C||this.ngModule)?function XA(p,g){return{get:(v,b,C)=>{const D=p.get(v,Nm,C);return D!==Nm||b===Nm?D:g.get(v,b,C)}}}(g,C.injector):g,P=D.get(hM,Be),V=D.get(HA,null),ae=P.createRenderer(null,this.componentDef),be=this.componentDef.selectors[0][0]||"div",Pe=b?function V1(p,g,v){if(Se(p))return p.selectRootElement(g,v===ct.ShadowDom);let b="string"==typeof g?p.querySelector(g):g;return b.textContent="",b}(ae,b,this.componentDef.encapsulation):U0(P.createRenderer(null,this.componentDef),be,function QA(p){const g=p.toLowerCase();return"svg"===g?"svg":"math"===g?"math":null}(be)),Fe=this.componentDef.onPush?576:528,Xe=function vE(p,g){return{components:[],scheduler:p||jI,clean:kT,playerHandler:g||null,flags:0}}(),rt=Gh(0,null,null,1,0,null,null,null,null,null),It=ad(null,rt,Xe,Fe,null,null,P,ae,V,D);let Zt,Xt;vh(It);try{const tn=function gE(p,g,v,b,C,D){const P=v[1];v[20]=p;const ae=Pu(P,20,2,"#host",null),be=ae.mergedAttrs=g.hostAttrs;null!==be&&(Hh(ae,be,!0),null!==p&&(Dh(C,p,be),null!==ae.classes&&Z0(C,p,ae.classes),null!==ae.styles&&_1(C,p,ae.styles)));const Pe=b.createRenderer(p,g),Fe=ad(v,B1(g),null,g.onPush?64:16,v[20],ae,b,Pe,D||null,null);return P.firstCreatePass&&(Ph(zc(ae,v),P,g.type),k1(P,ae),H1(ae,v.length,1)),kh(v,Fe),v[20]=Fe}(Pe,this.componentDef,It,P,ae);if(Pe)if(b)Dh(ae,Pe,["ng-version",JA.full]);else{const{attrs:Gt,classes:On}=function cT(p){const g=[],v=[];let b=1,C=2;for(;b<p.length;){let D=p[b];if("string"==typeof D)2===C?""!==D&&g.push(D,p[++b]):8===C&&v.push(D);else{if(!Ro(C))break;C=D}b++}return{attrs:g,classes:v}}(this.componentDef.selectors[0]);Gt&&Dh(ae,Pe,Gt),On&&On.length>0&&Z0(ae,Pe,On.join(" "))}if(Xt=sn(rt,20),void 0!==v){const Gt=Xt.projection=[];for(let On=0;On<this.ngContentSelectors.length;On++){const Ln=v[On];Gt.push(null!=Ln?Array.from(Ln):null)}}Zt=function _E(p,g,v,b,C){const D=v[1],P=function xT(p,g,v){const b=_s();p.firstCreatePass&&(v.providersResolver&&v.providersResolver(v),J1(p,b,g,Iu(p,g,1,null),v));const C=Gc(g,p,b.directiveStart,b);Mi(C,g);const D=Pt(b,g);return D&&Mi(D,g),C}(D,v,g);if(b.components.push(P),p[8]=P,C&&C.forEach(ae=>ae(P,g)),g.contentQueries){const ae=_s();g.contentQueries(1,P,ae.directiveStart)}const V=_s();return!D.firstCreatePass||null===g.hostBindings&&null===g.hostAttrs||(el(V.index),z1(v[1],V,0,V.directiveStart,V.directiveEnd,g),G1(g,P)),P}(tn,this.componentDef,It,Xe,[p2]),ld(rt,It,null)}finally{Eh()}return new eR(this.componentType,Zt,ku(Xt,It),It,Xt)}}class eR extends class VA{}{constructor(g,v,b,C,D){super(),this.location=b,this._rootLView=C,this._tNode=D,this.instance=v,this.hostView=this.changeDetectorRef=new YA(C),this.componentType=g}get injector(){return new _u(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(g){this.hostView.onDestroy(g)}}class Ju{}const Yu=new Map;class _M extends Ju{constructor(g,v){super(),this._parent=v,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new fM(this);const b=Ki(g);this._bootstrapComponents=sa(b.bootstrap),this._r3Injector=oE(g,v,[{provide:Ju,useValue:this},{provide:sp,useValue:this.componentFactoryResolver}],cn(g)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(g)}get(g,v=oa.THROW_IF_NOT_FOUND,b=Cn.Default){return g===oa||g===Ju||g===cm?this:this._r3Injector.get(g,v,b)}destroy(){const g=this._r3Injector;!g.destroyed&&g.destroy(),this.destroyCbs.forEach(v=>v()),this.destroyCbs=null}onDestroy(g){this.destroyCbs.push(g)}}class Wm extends class nR{}{constructor(g){super(),this.moduleType=g,null!==Ki(g)&&function rR(p){const g=new Set;!function v(b){const C=Ki(b,!0),D=C.id;null!==D&&(function yM(p,g,v){if(g&&g!==v)throw new Error(`Duplicate module registered for ${p} - ${cn(g)} vs ${cn(g.name)}`)}(D,Yu.get(D),b),Yu.set(D,b));const P=sa(C.imports);for(const V of P)g.has(V)||(g.add(V),v(V))}(p)}(g)}create(g){return new _M(this.moduleType,g)}}function vM(p,g,v,b,C,D){const P=g+v;return Ci(p,P,C)?function aa(p,g,v){return p[g]=v}(p,P+1,D?b.call(D,C):b(C)):function _d(p,g){const v=p[g];return v===gr?void 0:v}(p,P+1)}function SM(p,g,v){const b=p+20,C=Sn(),D=function wn(p,g){return p[g]}(C,b);return function vd(p,g){return p[1].data[g].pure}(C,b)?vM(C,function Ai(){const p=Xn.lFrame;let g=p.bindingRootIndex;return-1===g&&(g=p.bindingRootIndex=p.tView.bindingStartIndex),g}(),g,D.transform,v,D):D.transform(v)}function Vm(p){return g=>{setTimeout(p,void 0,g)}}const _o=class vR extends _e{constructor(g=!1){super(),this.__isAsync=g}emit(g){super.next(g)}subscribe(g,v,b){var C,D,P;let V=g,ae=v||(()=>null),be=b;if(g&&"object"==typeof g){const Fe=g;V=null===(C=Fe.next)||void 0===C?void 0:C.bind(Fe),ae=null===(D=Fe.error)||void 0===D?void 0:D.bind(Fe),be=null===(P=Fe.complete)||void 0===P?void 0:P.bind(Fe)}this.__isAsync&&(ae=Vm(ae),V&&(V=Vm(V)),be&&(be=Vm(be)));const Pe=super.subscribe({next:V,error:ae,complete:be});return g instanceof N&&g.add(Pe),Pe}};function ER(){return this._results[Ru()]()}class Zm{constructor(g=!1){this._emitDistinctChangesOnly=g,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const v=Ru(),b=Zm.prototype;b[v]||(b[v]=ER)}get changes(){return this._changes||(this._changes=new _o)}get(g){return this._results[g]}map(g){return this._results.map(g)}filter(g){return this._results.filter(g)}find(g){return this._results.find(g)}reduce(g,v){return this._results.reduce(g,v)}forEach(g){this._results.forEach(g)}some(g){return this._results.some(g)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(g,v){const b=this;b.dirty=!1;const C=yo(g);(this._changesDetected=!function vP(p,g,v){if(p.length!==g.length)return!1;for(let b=0;b<p.length;b++){let C=p[b],D=g[b];if(v&&(C=v(C),D=v(D)),D!==C)return!1}return!0}(b._results,C,v))&&(b._results=C,b.length=C.length,b.last=C[this.length-1],b.first=C[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let xa=(()=>{class p{}return p.__NG_ELEMENT_ID__=CR,p})();const bR=xa,MR=class extends bR{constructor(g,v,b){super(),this._declarationLView=g,this._declarationTContainer=v,this.elementRef=b}createEmbeddedView(g){const v=this._declarationTContainer.tViews,b=ad(this._declarationLView,v,g,16,null,v.declTNode,null,null,null,null);b[17]=this._declarationLView[this._declarationTContainer.index];const D=this._declarationLView[19];return null!==D&&(b[19]=D.createEmbeddedView(v)),ld(v,b,g),new gd(b)}};function CR(){return op(_s(),Sn())}function op(p,g){return 4&p.type?new MR(g,p,ku(p,g)):null}let ca=(()=>{class p{}return p.__NG_ELEMENT_ID__=DR,p})();function DR(){return PM(_s(),Sn())}const SR=ca,OM=class extends SR{constructor(g,v,b){super(),this._lContainer=g,this._hostTNode=v,this._hostLView=b}get element(){return ku(this._hostTNode,this._hostLView)}get injector(){return new _u(this._hostTNode,this._hostLView)}get parentInjector(){const g=wh(this._hostTNode,this._hostLView);if(hv(g)){const v=gu(g,this._hostLView),b=yu(g);return new _u(v[1].data[b+8],v)}return new _u(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(g){const v=wM(this._lContainer);return null!==v&&v[g]||null}get length(){return this._lContainer.length-10}createEmbeddedView(g,v,b){const C=g.createEmbeddedView(v||{});return this.insert(C,b),C}createComponent(g,v,b,C,D){const P=g&&!function Hc(p){return"function"==typeof p}(g);let V;if(P)V=v;else{const Fe=v||{};V=Fe.index,b=Fe.injector,C=Fe.projectableNodes,D=Fe.ngModuleRef}const ae=P?g:new Bm(ys(g)),be=b||this.parentInjector;if(!D&&null==ae.ngModule){const Xe=(P?be:this.parentInjector).get(Ju,null);Xe&&(D=Xe)}const Pe=ae.create(be,C,void 0,D);return this.insert(Pe.hostView,V),Pe}insert(g,v){const b=g._lView,C=b[1];if(function ur(p){return to(p[3])}(b)){const Pe=this.indexOf(g);if(-1!==Pe)this.detach(Pe);else{const Fe=b[3],Xe=new OM(Fe,Fe[6],Fe[3]);Xe.detach(Xe.indexOf(g))}}const D=this._adjustIndex(v),P=this._lContainer;!function zI(p,g,v,b){const C=10+b,D=v.length;b>0&&(v[C-1][4]=g),b<D-10?(g[4]=v[C],Mv(v,10+b,g)):(v.push(g),g[4]=null),g[3]=v;const P=g[17];null!==P&&v!==P&&function GI(p,g){const v=p[9];g[16]!==g[3][3][16]&&(p[2]=!0),null===v?p[9]=[g]:v.push(g)}(P,g);const V=g[19];null!==V&&V.insertView(p),g[2]|=128}(C,b,P,D);const V=W0(D,P),ae=b[11],be=Wh(ae,P[7]);return null!==be&&function ZI(p,g,v,b,C,D){b[0]=C,b[6]=g,od(p,b,v,1,C,D)}(C,P[6],ae,b,be,V),g.attachToViewContainerRef(),Mv($m(P),D,g),g}move(g,v){return this.insert(g,v)}indexOf(g){const v=wM(this._lContainer);return null!==v?v.indexOf(g):-1}remove(g){const v=this._adjustIndex(g,-1),b=F0(this._lContainer,v);b&&(Th($m(this._lContainer),v),o1(b[1],b))}detach(g){const v=this._adjustIndex(g,-1),b=F0(this._lContainer,v);return b&&null!=Th($m(this._lContainer),v)?new gd(b):null}_adjustIndex(g,v=0){return null==g?this.length+v:g}};function wM(p){return p[8]}function $m(p){return p[8]||(p[8]=[])}function PM(p,g){let v;const b=g[p.index];if(to(b))v=b;else{let C;if(8&p.type)C=Ce(b);else{const D=g[11];C=D.createComment("");const P=Pt(p,g);Rl(D,Wh(D,P),C,function YI(p,g){return Se(p)?p.nextSibling(g):g.nextSibling}(D,P),!1)}g[p.index]=v=function Y1(p,g,v,b){return new Array(p,!0,!1,g,null,0,b,v,null,null)}(b,g,C,p),kh(g,v)}return new OM(v,p,g)}class Km{constructor(g){this.queryList=g,this.matches=null}clone(){return new Km(this.queryList)}setDirty(){this.queryList.setDirty()}}class zm{constructor(g=[]){this.queries=g}createEmbeddedView(g){const v=g.queries;if(null!==v){const b=null!==g.contentQueries?g.contentQueries[0]:v.length,C=[];for(let D=0;D<b;D++){const P=v.getByIndex(D);C.push(this.queries[P.indexInDeclarationView].clone())}return new zm(C)}return null}insertView(g){this.dirtyQueriesWithMatches(g)}detachView(g){this.dirtyQueriesWithMatches(g)}dirtyQueriesWithMatches(g){for(let v=0;v<this.queries.length;v++)null!==UM(g,v).matches&&this.queries[v].setDirty()}}class IM{constructor(g,v,b=null){this.predicate=g,this.flags=v,this.read=b}}class Gm{constructor(g=[]){this.queries=g}elementStart(g,v){for(let b=0;b<this.queries.length;b++)this.queries[b].elementStart(g,v)}elementEnd(g){for(let v=0;v<this.queries.length;v++)this.queries[v].elementEnd(g)}embeddedTView(g){let v=null;for(let b=0;b<this.length;b++){const C=null!==v?v.length:0,D=this.getByIndex(b).embeddedTView(g,C);D&&(D.indexInDeclarationView=b,null!==v?v.push(D):v=[D])}return null!==v?new Gm(v):null}template(g,v){for(let b=0;b<this.queries.length;b++)this.queries[b].template(g,v)}getByIndex(g){return this.queries[g]}get length(){return this.queries.length}track(g){this.queries.push(g)}}class km{constructor(g,v=-1){this.metadata=g,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=v}elementStart(g,v){this.isApplyingToNode(v)&&this.matchTNode(g,v)}elementEnd(g){this._declarationNodeIndex===g.index&&(this._appliesToNextNode=!1)}template(g,v){this.elementStart(g,v)}embeddedTView(g,v){return this.isApplyingToNode(g)?(this.crossesNgTemplate=!0,this.addMatch(-g.index,v),new km(this.metadata)):null}isApplyingToNode(g){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const v=this._declarationNodeIndex;let b=g.parent;for(;null!==b&&8&b.type&&b.index!==v;)b=b.parent;return v===(null!==b?b.index:-1)}return this._appliesToNextNode}matchTNode(g,v){const b=this.metadata.predicate;if(Array.isArray(b))for(let C=0;C<b.length;C++){const D=b[C];this.matchTNodeWithReadOption(g,v,PR(v,D)),this.matchTNodeWithReadOption(g,v,Ih(v,g,D,!1,!1))}else b===xa?4&v.type&&this.matchTNodeWithReadOption(g,v,-1):this.matchTNodeWithReadOption(g,v,Ih(v,g,b,!1,!1))}matchTNodeWithReadOption(g,v,b){if(null!==b){const C=this.metadata.read;if(null!==C)if(C===Hu||C===ca||C===xa&&4&v.type)this.addMatch(v.index,-2);else{const D=Ih(v,g,C,!1,!1);null!==D&&this.addMatch(v.index,D)}else this.addMatch(v.index,b)}}addMatch(g,v){null===this.matches?this.matches=[g,v]:this.matches.push(g,v)}}function PR(p,g){const v=p.localNames;if(null!==v)for(let b=0;b<v.length;b+=2)if(v[b]===g)return v[b+1];return null}function TR(p,g,v,b){return-1===v?function IR(p,g){return 11&p.type?ku(p,g):4&p.type?op(p,g):null}(g,p):-2===v?function xR(p,g,v){return v===Hu?ku(g,p):v===xa?op(g,p):v===ca?PM(g,p):void 0}(p,g,b):Gc(p,p[1],v,g)}function TM(p,g,v,b){const C=g[19].queries[b];if(null===C.matches){const D=p.data,P=v.matches,V=[];for(let ae=0;ae<P.length;ae+=2){const be=P[ae];V.push(be<0?null:TR(g,D[be],P[ae+1],v.metadata.read))}C.matches=V}return C.matches}function Hm(p,g,v,b){const C=p.queries.getByIndex(v),D=C.matches;if(null!==D){const P=TM(p,g,C,v);for(let V=0;V<D.length;V+=2){const ae=D[V];if(ae>0)b.push(P[V/2]);else{const be=D[V+1],Pe=g[-ae];for(let Fe=10;Fe<Pe.length;Fe++){const Xe=Pe[Fe];Xe[17]===Xe[3]&&Hm(Xe[1],Xe,be,b)}if(null!==Pe[9]){const Fe=Pe[9];for(let Xe=0;Xe<Fe.length;Xe++){const rt=Fe[Xe];Hm(rt[1],rt,be,b)}}}}}return b}function xM(p){const g=Sn(),v=Rr(),b=nv();r0(b+1);const C=UM(v,b);if(p.dirty&&Pn(g)===(2==(2&C.metadata.flags))){if(null===C.matches)p.reset([]);else{const D=C.crossesNgTemplate?Hm(v,g,b,[]):TM(v,g,C,b);p.reset(D,zA),p.notifyOnChanges()}return!0}return!1}function AM(p,g,v){const b=Rr();b.firstCreatePass&&(function jM(p,g,v){null===p.queries&&(p.queries=new Gm),p.queries.track(new km(g,v))}(b,new IM(p,g,v),-1),2==(2&g)&&(b.staticViewQueries=!0)),function LM(p,g,v){const b=new Zm(4==(4&v));Z1(p,g,b,b.destroy),null===g[19]&&(g[19]=new zm),g[19].queries.push(new Km(b))}(b,Sn(),g)}function UM(p,g){return p.queries.getByIndex(g)}function up(...p){}const qM=new kr("Application Initializer");let ey=(()=>{class p{constructor(v){this.appInits=v,this.resolve=up,this.reject=up,this.initialized=!1,this.done=!1,this.donePromise=new Promise((b,C)=>{this.resolve=b,this.reject=C})}runInitializers(){if(this.initialized)return;const v=[],b=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let C=0;C<this.appInits.length;C++){const D=this.appInits[C]();if(Om(D))v.push(D);else if(Q2(D)){const P=new Promise((V,ae)=>{D.subscribe({complete:V,error:ae})});v.push(P)}}Promise.all(v).then(()=>{b()}).catch(C=>{this.reject(C)}),0===v.length&&b(),this.initialized=!0}}return p.\u0275fac=function(v){return new(v||p)(ts(qM,8))},p.\u0275prov=Nr({token:p,factory:p.\u0275fac,providedIn:"root"}),p})();const bd=new kr("AppId",{providedIn:"root",factory:function eC(){return`${ty()}${ty()}${ty()}`}});function ty(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const tC=new kr("Platform Initializer"),nC=new kr("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),XR=new kr("appBootstrapListener"),il=new kr("LocaleId",{providedIn:"root",factory:()=>AP(il,Cn.Optional|Cn.SkipSelf)||function qR(){return"undefined"!=typeof $localize&&$localize.locale||qh}()}),rL=(()=>Promise.resolve(0))();function ny(p){"undefined"==typeof Zone?rL.then(()=>{p&&p.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",p)}class Gi{constructor({enableLongStackTrace:g=!1,shouldCoalesceEventChangeDetection:v=!1,shouldCoalesceRunChangeDetection:b=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new _o(!1),this.onMicrotaskEmpty=new _o(!1),this.onStable=new _o(!1),this.onError=new _o(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const C=this;C._nesting=0,C._outer=C._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(C._inner=C._inner.fork(new Zone.TaskTrackingZoneSpec)),g&&Zone.longStackTraceZoneSpec&&(C._inner=C._inner.fork(Zone.longStackTraceZoneSpec)),C.shouldCoalesceEventChangeDetection=!b&&v,C.shouldCoalesceRunChangeDetection=b,C.lastRequestAnimationFrameId=-1,C.nativeRequestAnimationFrame=function sL(){let p=zn.requestAnimationFrame,g=zn.cancelAnimationFrame;if("undefined"!=typeof Zone&&p&&g){const v=p[Zone.__symbol__("OriginalDelegate")];v&&(p=v);const b=g[Zone.__symbol__("OriginalDelegate")];b&&(g=b)}return{nativeRequestAnimationFrame:p,nativeCancelAnimationFrame:g}}().nativeRequestAnimationFrame,function aL(p){const g=()=>{!function oL(p){p.isCheckStableRunning||-1!==p.lastRequestAnimationFrameId||(p.lastRequestAnimationFrameId=p.nativeRequestAnimationFrame.call(zn,()=>{p.fakeTopEventTask||(p.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{p.lastRequestAnimationFrameId=-1,sy(p),p.isCheckStableRunning=!0,ry(p),p.isCheckStableRunning=!1},void 0,()=>{},()=>{})),p.fakeTopEventTask.invoke()}),sy(p))}(p)};p._inner=p._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(v,b,C,D,P,V)=>{try{return rC(p),v.invokeTask(C,D,P,V)}finally{(p.shouldCoalesceEventChangeDetection&&"eventTask"===D.type||p.shouldCoalesceRunChangeDetection)&&g(),sC(p)}},onInvoke:(v,b,C,D,P,V,ae)=>{try{return rC(p),v.invoke(C,D,P,V,ae)}finally{p.shouldCoalesceRunChangeDetection&&g(),sC(p)}},onHasTask:(v,b,C,D)=>{v.hasTask(C,D),b===C&&("microTask"==D.change?(p._hasPendingMicrotasks=D.microTask,sy(p),ry(p)):"macroTask"==D.change&&(p.hasPendingMacrotasks=D.macroTask))},onHandleError:(v,b,C,D)=>(v.handleError(C,D),p.runOutsideAngular(()=>p.onError.emit(D)),!1)})}(C)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Gi.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Gi.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(g,v,b){return this._inner.run(g,v,b)}runTask(g,v,b,C){const D=this._inner,P=D.scheduleEventTask("NgZoneEvent: "+C,g,iL,up,up);try{return D.runTask(P,v,b)}finally{D.cancelTask(P)}}runGuarded(g,v,b){return this._inner.runGuarded(g,v,b)}runOutsideAngular(g){return this._outer.run(g)}}const iL={};function ry(p){if(0==p._nesting&&!p.hasPendingMicrotasks&&!p.isStable)try{p._nesting++,p.onMicrotaskEmpty.emit(null)}finally{if(p._nesting--,!p.hasPendingMicrotasks)try{p.runOutsideAngular(()=>p.onStable.emit(null))}finally{p.isStable=!0}}}function sy(p){p.hasPendingMicrotasks=!!(p._hasPendingMicrotasks||(p.shouldCoalesceEventChangeDetection||p.shouldCoalesceRunChangeDetection)&&-1!==p.lastRequestAnimationFrameId)}function rC(p){p._nesting++,p.isStable&&(p.isStable=!1,p.onUnstable.emit(null))}function sC(p){p._nesting--,ry(p)}class lL{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new _o,this.onMicrotaskEmpty=new _o,this.onStable=new _o,this.onError=new _o}run(g,v,b){return g.apply(v,b)}runGuarded(g,v,b){return g.apply(v,b)}runOutsideAngular(g){return g()}runTask(g,v,b,C){return g.apply(v,b)}}let iy=(()=>{class p{constructor(v){this._ngZone=v,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),v.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Gi.assertNotInAngularZone(),ny(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())ny(()=>{for(;0!==this._callbacks.length;){let v=this._callbacks.pop();clearTimeout(v.timeoutId),v.doneCb(this._didWork)}this._didWork=!1});else{let v=this.getPendingTasks();this._callbacks=this._callbacks.filter(b=>!b.updateCb||!b.updateCb(v)||(clearTimeout(b.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(v=>({source:v.source,creationLocation:v.creationLocation,data:v.data})):[]}addCallback(v,b,C){let D=-1;b&&b>0&&(D=setTimeout(()=>{this._callbacks=this._callbacks.filter(P=>P.timeoutId!==D),v(this._didWork,this.getPendingTasks())},b)),this._callbacks.push({doneCb:v,timeoutId:D,updateCb:C})}whenStable(v,b,C){if(C&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(v,b,C),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(v,b,C){return[]}}return p.\u0275fac=function(v){return new(v||p)(ts(Gi))},p.\u0275prov=Nr({token:p,factory:p.\u0275fac}),p})(),uL=(()=>{class p{constructor(){this._applications=new Map,oy.addToWindow(this)}registerApplication(v,b){this._applications.set(v,b)}unregisterApplication(v){this._applications.delete(v)}unregisterAllApplications(){this._applications.clear()}getTestability(v){return this._applications.get(v)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(v,b=!0){return oy.findTestabilityInTree(this,v,b)}}return p.\u0275fac=function(v){return new(v||p)},p.\u0275prov=Nr({token:p,factory:p.\u0275fac,providedIn:"platform"}),p})();class cL{addToWindow(g){}findTestabilityInTree(g,v,b){return null}}let oy=new cL,Nl=null;const iC=new kr("AllowMultipleToken"),oC=new kr("PlatformOnDestroy");function aC(p,g,v=[]){const b=`Platform: ${g}`,C=new kr(b);return(D=[])=>{let P=ay();if(!P||P.injector.get(iC,!1)){const V=[...v,...D,{provide:C,useValue:!0}];p?p(V):function fL(p){if(Nl&&!Nl.get(iC,!1))throw new _t(400,"");Nl=p;const g=p.get(lC),v=p.get(tC,null);v&&v.forEach(b=>b())}(function yL(p=[],g){return oa.create({name:g,providers:[{provide:dm,useValue:"platform"},{provide:oC,useValue:()=>Nl=null},...p]})}(V,b))}return function mL(p){const g=ay();if(!g)throw new _t(401,"");return g}()}}function ay(){var p;return null!==(p=null==Nl?void 0:Nl.get(lC))&&void 0!==p?p:null}let lC=(()=>{class p{constructor(v){this._injector=v,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(v,b){const V=function gL(p,g){let v;return v="noop"===p?new lL:("zone.js"===p?void 0:p)||new Gi({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==g?void 0:g.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==g?void 0:g.ngZoneRunCoalescing)}),v}(b?b.ngZone:void 0,{ngZoneEventCoalescing:b&&b.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:b&&b.ngZoneRunCoalescing||!1}),ae=[{provide:Gi,useValue:V}];return V.run(()=>{const be=oa.create({providers:ae,parent:this.injector,name:v.moduleType.name}),Pe=v.create(be),Fe=Pe.injector.get(sd,null);if(!Fe)throw new _t(402,"");return V.runOutsideAngular(()=>{const Xe=V.onError.subscribe({next:rt=>{Fe.handleError(rt)}});Pe.onDestroy(()=>{ly(this._modules,Pe),Xe.unsubscribe()})}),function _L(p,g,v){try{const b=v();return Om(b)?b.catch(C=>{throw g.runOutsideAngular(()=>p.handleError(C)),C}):b}catch(b){throw g.runOutsideAngular(()=>p.handleError(b)),b}}(Fe,V,()=>{const Xe=Pe.injector.get(ey);return Xe.runInitializers(),Xe.donePromise.then(()=>(function zx(p){pr(p,"Expected localeId to be defined"),"string"==typeof p&&(Bb=p.toLowerCase().replace(/_/g,"-"))}(Pe.injector.get(il,qh)||qh),this._moduleDoBootstrap(Pe),Pe))})})}bootstrapModule(v,b=[]){const C=uC({},b);return function hL(p,g,v){const b=new Wm(v);return Promise.resolve(b)}(0,0,v).then(D=>this.bootstrapModuleFactory(D,C))}_moduleDoBootstrap(v){const b=v.injector.get(cC);if(v._bootstrapComponents.length>0)v._bootstrapComponents.forEach(C=>b.bootstrap(C));else{if(!v.instance.ngDoBootstrap)throw new _t(403,"");v.instance.ngDoBootstrap(b)}this._modules.push(v)}onDestroy(v){this._destroyListeners.push(v)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new _t(404,"");this._modules.slice().forEach(b=>b.destroy()),this._destroyListeners.forEach(b=>b());const v=this._injector.get(oC,null);null==v||v(),this._destroyed=!0}get destroyed(){return this._destroyed}}return p.\u0275fac=function(v){return new(v||p)(ts(oa))},p.\u0275prov=Nr({token:p,factory:p.\u0275fac,providedIn:"platform"}),p})();function uC(p,g){return Array.isArray(g)?g.reduce(uC,p):Object.assign(Object.assign({},p),g)}let cC=(()=>{class p{constructor(v,b,C,D){this._zone=v,this._injector=b,this._exceptionHandler=C,this._initStatus=D,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const P=new ce(ae=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{ae.next(this._stable),ae.complete()})}),V=new ce(ae=>{let be;this._zone.runOutsideAngular(()=>{be=this._zone.onStable.subscribe(()=>{Gi.assertNotInAngularZone(),ny(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,ae.next(!0))})})});const Pe=this._zone.onUnstable.subscribe(()=>{Gi.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{ae.next(!1)}))});return()=>{be.unsubscribe(),Pe.unsubscribe()}});this.isStable=ks(P,V.pipe(function Le(p={}){const{connector:g=(()=>new _e),resetOnError:v=!0,resetOnComplete:b=!0,resetOnRefCountZero:C=!0}=p;return D=>{let P=null,V=null,ae=null,be=0,Pe=!1,Fe=!1;const Xe=()=>{null==V||V.unsubscribe(),V=null},rt=()=>{Xe(),P=ae=null,Pe=Fe=!1},It=()=>{const Zt=P;rt(),null==Zt||Zt.unsubscribe()};return ke((Zt,Xt)=>{be++,!Fe&&!Pe&&Xe();const tn=ae=null!=ae?ae:g();Xt.add(()=>{be--,0===be&&!Fe&&!Pe&&(V=Kt(It,C))}),tn.subscribe(Xt),P||(P=new ue({next:Gt=>tn.next(Gt),error:Gt=>{Fe=!0,Xe(),V=Kt(rt,v,Gt),tn.error(Gt)},complete:()=>{Pe=!0,Xe(),V=Kt(rt,b),tn.complete()}}),Jr(Zt).subscribe(P))})(D)}}()))}bootstrap(v,b){if(!this._initStatus.done)throw new _t(405,"");let C;C=v instanceof cM?v:this._injector.get(sp).resolveComponentFactory(v),this.componentTypes.push(C.componentType);const D=function pL(p){return p.isBoundToModule}(C)?void 0:this._injector.get(Ju),V=C.create(oa.NULL,[],b||C.selector,D),ae=V.location.nativeElement,be=V.injector.get(iy,null),Pe=be&&V.injector.get(uL);return be&&Pe&&Pe.registerApplication(ae,be),V.onDestroy(()=>{this.detachView(V.hostView),ly(this.components,V),Pe&&Pe.unregisterApplication(ae)}),this._loadComponent(V),V}tick(){if(this._runningTick)throw new _t(101,"");try{this._runningTick=!0;for(let v of this._views)v.detectChanges()}catch(v){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(v))}finally{this._runningTick=!1}}attachView(v){const b=v;this._views.push(b),b.attachToAppRef(this)}detachView(v){const b=v;ly(this._views,b),b.detachFromAppRef()}_loadComponent(v){this.attachView(v.hostView),this.tick(),this.components.push(v),this._injector.get(XR,[]).concat(this._bootstrapListeners).forEach(C=>C(v))}ngOnDestroy(){this._views.slice().forEach(v=>v.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return p.\u0275fac=function(v){return new(v||p)(ts(Gi),ts(oa),ts(sd),ts(ey))},p.\u0275prov=Nr({token:p,factory:p.\u0275fac,providedIn:"root"}),p})();function ly(p,g){const v=p.indexOf(g);v>-1&&p.splice(v,1)}let hC=!0,bL=(()=>{class p{}return p.__NG_ELEMENT_ID__=ML,p})();function ML(p){return function CL(p,g,v){if(au(p)&&!v){const b=vn(p.index,g);return new gd(b,b)}return 47&p.type?new gd(g[16],g):null}(_s(),Sn(),16==(16&p))}const UL=aC(null,"core",[]);let FL=(()=>{class p{constructor(v){}}return p.\u0275fac=function(v){return new(v||p)(ts(cC))},p.\u0275mod=Il({type:p}),p.\u0275inj=wi({}),p})(),pp=null;function Cd(){return pp}const da=new kr("DocumentToken");class N3{createSubscription(g,v){return g.subscribe({next:v,error:b=>{throw b}})}dispose(g){g.unsubscribe()}onDestroy(g){g.unsubscribe()}}class B3{createSubscription(g,v){return g.then(v,b=>{throw b})}dispose(g){}onDestroy(g){}}const W3=new B3,V3=new N3;let UC=(()=>{class p{constructor(v){this._ref=v,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(v){return this._obj?v!==this._obj?(this._dispose(),this.transform(v)):this._latestValue:(v&&this._subscribe(v),this._latestValue)}_subscribe(v){this._obj=v,this._strategy=this._selectStrategy(v),this._subscription=this._strategy.createSubscription(v,b=>this._updateLatestValue(v,b))}_selectStrategy(v){if(Om(v))return W3;if($E(v))return V3;throw function Bo(p,g){return new _t(2100,"")}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(v,b){v===this._obj&&(this._latestValue=b,this._ref.markForCheck())}}return p.\u0275fac=function(v){return new(v||p)(Or(bL,16))},p.\u0275pipe=es({name:"async",type:p,pure:!1}),p})(),sj=(()=>{class p{}return p.\u0275fac=function(v){return new(v||p)},p.\u0275mod=Il({type:p}),p.\u0275inj=wi({}),p})();class Oy extends class cj extends class WL{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function BL(p){pp||(pp=p)}(new Oy)}onAndCancel(g,v,b){return g.addEventListener(v,b,!1),()=>{g.removeEventListener(v,b,!1)}}dispatchEvent(g,v){g.dispatchEvent(v)}remove(g){g.parentNode&&g.parentNode.removeChild(g)}createElement(g,v){return(v=v||this.getDefaultDocument()).createElement(g)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(g){return g.nodeType===Node.ELEMENT_NODE}isShadowRoot(g){return g instanceof DocumentFragment}getGlobalEventTarget(g,v){return"window"===v?window:"document"===v?g:"body"===v?g.body:null}getBaseHref(g){const v=function dj(){return Od=Od||document.querySelector("base"),Od?Od.getAttribute("href"):null}();return null==v?null:function hj(p){Cp=Cp||document.createElement("a"),Cp.setAttribute("href",p);const g=Cp.pathname;return"/"===g.charAt(0)?g:`/${g}`}(v)}resetBaseElement(){Od=null}getUserAgent(){return window.navigator.userAgent}getCookie(g){return function O3(p,g){g=encodeURIComponent(g);for(const v of p.split(";")){const b=v.indexOf("="),[C,D]=-1==b?[v,""]:[v.slice(0,b),v.slice(b+1)];if(C.trim()===g)return decodeURIComponent(D)}return null}(document.cookie,g)}}let Cp,Od=null;const WC=new kr("TRANSITION_ID"),fj=[{provide:qM,useFactory:function pj(p,g,v){return()=>{v.get(ey).donePromise.then(()=>{const b=Cd(),C=g.querySelectorAll(`style[ng-transition="${p}"]`);for(let D=0;D<C.length;D++)b.remove(C[D])})}},deps:[WC,da,oa],multi:!0}];class wy{static init(){!function dL(p){oy=p}(new wy)}addToWindow(g){zn.getAngularTestability=(b,C=!0)=>{const D=g.findTestabilityInTree(b,C);if(null==D)throw new Error("Could not find testability for element.");return D},zn.getAllAngularTestabilities=()=>g.getAllTestabilities(),zn.getAllAngularRootElements=()=>g.getAllRootElements(),zn.frameworkStabilizers||(zn.frameworkStabilizers=[]),zn.frameworkStabilizers.push(b=>{const C=zn.getAllAngularTestabilities();let D=C.length,P=!1;const V=function(ae){P=P||ae,D--,0==D&&b(P)};C.forEach(function(ae){ae.whenStable(V)})})}findTestabilityInTree(g,v,b){if(null==v)return null;const C=g.getTestability(v);return null!=C?C:b?Cd().isShadowRoot(v)?this.findTestabilityInTree(g,v.host,!0):this.findTestabilityInTree(g,v.parentElement,!0):null}}let mj=(()=>{class p{build(){return new XMLHttpRequest}}return p.\u0275fac=function(v){return new(v||p)},p.\u0275prov=Nr({token:p,factory:p.\u0275fac}),p})();const Dp=new kr("EventManagerPlugins");let Sp=(()=>{class p{constructor(v,b){this._zone=b,this._eventNameToPlugin=new Map,v.forEach(C=>C.manager=this),this._plugins=v.slice().reverse()}addEventListener(v,b,C){return this._findPluginFor(b).addEventListener(v,b,C)}addGlobalEventListener(v,b,C){return this._findPluginFor(b).addGlobalEventListener(v,b,C)}getZone(){return this._zone}_findPluginFor(v){const b=this._eventNameToPlugin.get(v);if(b)return b;const C=this._plugins;for(let D=0;D<C.length;D++){const P=C[D];if(P.supports(v))return this._eventNameToPlugin.set(v,P),P}throw new Error(`No event manager plugin found for event ${v}`)}}return p.\u0275fac=function(v){return new(v||p)(ts(Dp),ts(Gi))},p.\u0275prov=Nr({token:p,factory:p.\u0275fac}),p})();class VC{constructor(g){this._doc=g}addGlobalEventListener(g,v,b){const C=Cd().getGlobalEventTarget(this._doc,g);if(!C)throw new Error(`Unsupported event target ${C} for event ${v}`);return this.addEventListener(C,v,b)}}let ZC=(()=>{class p{constructor(){this._stylesSet=new Set}addStyles(v){const b=new Set;v.forEach(C=>{this._stylesSet.has(C)||(this._stylesSet.add(C),b.add(C))}),this.onStylesAdded(b)}onStylesAdded(v){}getAllStyles(){return Array.from(this._stylesSet)}}return p.\u0275fac=function(v){return new(v||p)},p.\u0275prov=Nr({token:p,factory:p.\u0275fac}),p})(),wd=(()=>{class p extends ZC{constructor(v){super(),this._doc=v,this._hostNodes=new Map,this._hostNodes.set(v.head,[])}_addStylesToHost(v,b,C){v.forEach(D=>{const P=this._doc.createElement("style");P.textContent=D,C.push(b.appendChild(P))})}addHost(v){const b=[];this._addStylesToHost(this._stylesSet,v,b),this._hostNodes.set(v,b)}removeHost(v){const b=this._hostNodes.get(v);b&&b.forEach($C),this._hostNodes.delete(v)}onStylesAdded(v){this._hostNodes.forEach((b,C)=>{this._addStylesToHost(v,C,b)})}ngOnDestroy(){this._hostNodes.forEach(v=>v.forEach($C))}}return p.\u0275fac=function(v){return new(v||p)(ts(da))},p.\u0275prov=Nr({token:p,factory:p.\u0275fac}),p})();function $C(p){Cd().remove(p)}const Py={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Iy=/%COMP%/g;function Op(p,g,v){for(let b=0;b<g.length;b++){let C=g[b];Array.isArray(C)?Op(p,C,v):(C=C.replace(Iy,p),v.push(C))}return v}function GC(p){return g=>{if("__ngUnwrap__"===g)return p;!1===p(g)&&(g.preventDefault(),g.returnValue=!1)}}let Ty=(()=>{class p{constructor(v,b,C){this.eventManager=v,this.sharedStylesHost=b,this.appId=C,this.rendererByCompId=new Map,this.defaultRenderer=new xy(v)}createRenderer(v,b){if(!v||!b)return this.defaultRenderer;switch(b.encapsulation){case ct.Emulated:{let C=this.rendererByCompId.get(b.id);return C||(C=new bj(this.eventManager,this.sharedStylesHost,b,this.appId),this.rendererByCompId.set(b.id,C)),C.applyToHost(v),C}case 1:case ct.ShadowDom:return new Mj(this.eventManager,this.sharedStylesHost,v,b);default:if(!this.rendererByCompId.has(b.id)){const C=Op(b.id,b.styles,[]);this.sharedStylesHost.addStyles(C),this.rendererByCompId.set(b.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return p.\u0275fac=function(v){return new(v||p)(ts(Sp),ts(wd),ts(bd))},p.\u0275prov=Nr({token:p,factory:p.\u0275fac}),p})();class xy{constructor(g){this.eventManager=g,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(g,v){return v?document.createElementNS(Py[v]||v,g):document.createElement(g)}createComment(g){return document.createComment(g)}createText(g){return document.createTextNode(g)}appendChild(g,v){g.appendChild(v)}insertBefore(g,v,b){g&&g.insertBefore(v,b)}removeChild(g,v){g&&g.removeChild(v)}selectRootElement(g,v){let b="string"==typeof g?document.querySelector(g):g;if(!b)throw new Error(`The selector "${g}" did not match any elements`);return v||(b.textContent=""),b}parentNode(g){return g.parentNode}nextSibling(g){return g.nextSibling}setAttribute(g,v,b,C){if(C){v=C+":"+v;const D=Py[C];D?g.setAttributeNS(D,v,b):g.setAttribute(v,b)}else g.setAttribute(v,b)}removeAttribute(g,v,b){if(b){const C=Py[b];C?g.removeAttributeNS(C,v):g.removeAttribute(`${b}:${v}`)}else g.removeAttribute(v)}addClass(g,v){g.classList.add(v)}removeClass(g,v){g.classList.remove(v)}setStyle(g,v,b,C){C&(io.DashCase|io.Important)?g.style.setProperty(v,b,C&io.Important?"important":""):g.style[v]=b}removeStyle(g,v,b){b&io.DashCase?g.style.removeProperty(v):g.style[v]=""}setProperty(g,v,b){g[v]=b}setValue(g,v){g.nodeValue=v}listen(g,v,b){return"string"==typeof g?this.eventManager.addGlobalEventListener(g,v,GC(b)):this.eventManager.addEventListener(g,v,GC(b))}}class bj extends xy{constructor(g,v,b,C){super(g),this.component=b;const D=Op(C+"-"+b.id,b.styles,[]);v.addStyles(D),this.contentAttr=function _j(p){return"_ngcontent-%COMP%".replace(Iy,p)}(C+"-"+b.id),this.hostAttr=function vj(p){return"_nghost-%COMP%".replace(Iy,p)}(C+"-"+b.id)}applyToHost(g){super.setAttribute(g,this.hostAttr,"")}createElement(g,v){const b=super.createElement(g,v);return super.setAttribute(b,this.contentAttr,""),b}}class Mj extends xy{constructor(g,v,b,C){super(g),this.sharedStylesHost=v,this.hostEl=b,this.shadowRoot=b.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const D=Op(C.id,C.styles,[]);for(let P=0;P<D.length;P++){const V=document.createElement("style");V.textContent=D[P],this.shadowRoot.appendChild(V)}}nodeOrShadowRoot(g){return g===this.hostEl?this.shadowRoot:g}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(g,v){return super.appendChild(this.nodeOrShadowRoot(g),v)}insertBefore(g,v,b){return super.insertBefore(this.nodeOrShadowRoot(g),v,b)}removeChild(g,v){return super.removeChild(this.nodeOrShadowRoot(g),v)}parentNode(g){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(g)))}}let Cj=(()=>{class p extends VC{constructor(v){super(v)}supports(v){return!0}addEventListener(v,b,C){return v.addEventListener(b,C,!1),()=>this.removeEventListener(v,b,C)}removeEventListener(v,b,C){return v.removeEventListener(b,C)}}return p.\u0275fac=function(v){return new(v||p)(ts(da))},p.\u0275prov=Nr({token:p,factory:p.\u0275fac}),p})();const HC=["alt","control","meta","shift"],Sj={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},JC={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Oj={alt:p=>p.altKey,control:p=>p.ctrlKey,meta:p=>p.metaKey,shift:p=>p.shiftKey};let wj=(()=>{class p extends VC{constructor(v){super(v)}supports(v){return null!=p.parseEventName(v)}addEventListener(v,b,C){const D=p.parseEventName(b),P=p.eventCallback(D.fullKey,C,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Cd().onAndCancel(v,D.domEventName,P))}static parseEventName(v){const b=v.toLowerCase().split("."),C=b.shift();if(0===b.length||"keydown"!==C&&"keyup"!==C)return null;const D=p._normalizeKey(b.pop());let P="";if(HC.forEach(ae=>{const be=b.indexOf(ae);be>-1&&(b.splice(be,1),P+=ae+".")}),P+=D,0!=b.length||0===D.length)return null;const V={};return V.domEventName=C,V.fullKey=P,V}static getEventFullKey(v){let b="",C=function Pj(p){let g=p.key;if(null==g){if(g=p.keyIdentifier,null==g)return"Unidentified";g.startsWith("U+")&&(g=String.fromCharCode(parseInt(g.substring(2),16)),3===p.location&&JC.hasOwnProperty(g)&&(g=JC[g]))}return Sj[g]||g}(v);return C=C.toLowerCase()," "===C?C="space":"."===C&&(C="dot"),HC.forEach(D=>{D!=C&&Oj[D](v)&&(b+=D+".")}),b+=C,b}static eventCallback(v,b,C){return D=>{p.getEventFullKey(D)===v&&C.runGuarded(()=>b(D))}}static _normalizeKey(v){return"esc"===v?"escape":v}}return p.\u0275fac=function(v){return new(v||p)(ts(da))},p.\u0275prov=Nr({token:p,factory:p.\u0275fac}),p})();const Aj=aC(UL,"browser",[{provide:nC,useValue:"browser"},{provide:tC,useValue:function Ij(){Oy.makeCurrent(),wy.init()},multi:!0},{provide:da,useFactory:function xj(){return function Os(p){fu=p}(document),document},deps:[]}]),Rj=[{provide:dm,useValue:"root"},{provide:sd,useFactory:function Tj(){return new sd},deps:[]},{provide:Dp,useClass:Cj,multi:!0,deps:[da,Gi,nC]},{provide:Dp,useClass:wj,multi:!0,deps:[da]},{provide:Ty,useClass:Ty,deps:[Sp,wd,bd]},{provide:hM,useExisting:Ty},{provide:ZC,useExisting:wd},{provide:wd,useClass:wd,deps:[da]},{provide:iy,useClass:iy,deps:[Gi]},{provide:Sp,useClass:Sp,deps:[Dp,Gi]},{provide:class uj{},useClass:mj,deps:[]}];let Lj=(()=>{class p{constructor(v){if(v)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(v){return{ngModule:p,providers:[{provide:bd,useValue:v.appId},{provide:WC,useExisting:bd},fj]}}}return p.\u0275fac=function(v){return new(v||p)(ts(p,12))},p.\u0275mod=Il({type:p}),p.\u0275inj=wi({providers:Rj,imports:[sj,FL]}),p})();"undefined"!=typeof window&&window;class XC extends _e{constructor(g){super(),this._value=g}get value(){return this.getValue()}_subscribe(g){const v=super._subscribe(g);return!v.closed&&g.next(this._value),v}getValue(){const{hasError:g,thrownError:v,_value:b}=this;if(g)throw v;return this._throwIfClosed(),b}next(g){super.next(this._value=g)}}let zj=(()=>{class p{constructor(){this._locations$=new XC(null),this.locations$=this._locations$.asObservable(),this.prevLocations=[],this.israelCoordinates={target:[35.0818,31.4117],scale:5e6},this.defaultMapScale={scale:1e6}}changeScale(){console.log("this is:",this),this._locations$.next(this.defaultMapScale)}panToIsrael(){this._locations$.next(this.israelCoordinates)}returnToPrevLocation(){const v=this.prevLocations.pop();this._locations$.next(v||null)}saveLocation(v){console.log(v),this.prevLocations.push(v)}}return p.\u0275fac=function(v){return new(v||p)},p.\u0275prov=Nr({token:p,factory:p.\u0275fac,providedIn:"root"}),p})(),Gj=(()=>{class p{constructor(){}ngOnInit(){}}return p.\u0275fac=function(v){return new(v||p)},p.\u0275cmp=Qo({type:p,selectors:[["app-burger-menu-svg"]],decls:2,vars:0,consts:[["height","28px","id","Layer_1","version","1.1","viewBox","0 0 32 32","width","28px",0,"xml","space","preserve","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","color","current-color",2,"enable-background","new 0 0 32 32"],["fill","currentColor","d","M4,10h24c1.104,0,2-0.896,2-2s-0.896-2-2-2H4C2.896,6,2,6.896,2,8S2.896,10,4,10z M28,14H4c-1.104,0-2,0.896-2,2  s0.896,2,2,2h24c1.104,0,2-0.896,2-2S29.104,14,28,14z M28,22H4c-1.104,0-2,0.896-2,2s0.896,2,2,2h24c1.104,0,2-0.896,2-2  S29.104,22,28,22z"]],template:function(v,b){1&v&&(function lv(){Xn.lFrame.currentNamespace="svg"}(),Zs(0,"svg",0),jl(1,"path",1),js())},styles:["[_nghost-%COMP%]{display:flex}@media (min-width: 531px){[_nghost-%COMP%]{display:none}}"]}),p})(),kj=(()=>{class p{constructor(){}ngOnInit(){}}return p.\u0275fac=function(v){return new(v||p)},p.\u0275cmp=Qo({type:p,selectors:[["app-main-header"]],decls:19,vars:0,consts:[[1,"main-header","flex","align-center","main-layout"],[1,"logo"],[1,"main-nav"],[1,"clean-list","flex"],["href","#"]],template:function(v,b){1&v&&(Zs(0,"header",0)(1,"div",1),zi(2,"GISMAPS"),js(),Zs(3,"nav",2)(4,"ul",3)(5,"li")(6,"a",4),zi(7,"Link"),js(),Zs(8,"span"),zi(9,"|"),js()(),Zs(10,"li")(11,"a",4),zi(12,"Link"),js(),Zs(13,"span"),zi(14,"|"),js()(),Zs(15,"li")(16,"a",4),zi(17,"Link"),js()()()(),jl(18,"app-burger-menu-svg"),js())},directives:[Gj],styles:['.main-header[_ngcontent-%COMP%]{position:relative;min-height:40px}@media (max-width: 530px){.main-header[_ngcontent-%COMP%]   .main-nav[_ngcontent-%COMP%]{display:none}}@media (min-width: 531px){.main-header[_ngcontent-%COMP%]{min-height:80px}}.main-header[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%], .main-header[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{flex:1 0 140px;font-family:hexagon;font-size:2rem;text-transform:lowercase}@media (min-width: 531px){.main-header[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%], .main-header[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{font-size:3rem}}.main-header[_ngcontent-%COMP%]:after{content:"";box-shadow:#00000014 0 1px;position:absolute;height:100%;width:100%;z-index:-1;transition:transform .25s ease,opacity .25s ease;left:0;right:0}']}),p})();var jy,Un=E(15861),ye=E(17626),Hj=E(24263),Ry=E(73386),Xu=E(91558),ds=E(48701),Jj=E(89726),Yj=E(94573),Rn=E(26584),Br=E(86810),Qs=E(58817),Pd=E(47996),qC=E(47877),ns=E(63290),Er=E(10699),Oe=E(77712),ha=E(90912),bn=E(76898),ao=E(99433),Qj=E(85931),Wo=E(8314),Ly=(E(82255),E(55342));let wp=jy=class extends Br.wq{constructor(p){super(p),this.type="none"}clone(){return new jy({type:this.type})}};(0,ye._)([(0,Ly.J)({none:"none",stayAbove:"stay-above"})],wp.prototype,"type",void 0),wp=jy=(0,ye._)([(0,bn.j)("esri.ground.NavigationConstraint")],wp);var Uy,eD=E(92236);const tD=ns.Z.getLogger("esri.Ground");let Ra=Uy=class extends((0,Br.eC)(Pd.Z)){constructor(p){super(p),this.opacity=1,this.surfaceColor=null,this.navigationConstraint=null,this.layers=new ds.Z;const g=b=>{b.parent&&b.parent!==this&&"remove"in b.parent&&b.parent.remove(b),b.parent=this,"elevation"!==b.type&&"base-elevation"!==b.type&&tD.error(`Layer '${b.title}, id:${b.id}' of type '${b.type}' is not supported as a ground layer and will therefore be ignored. Only layers of type 'elevation' are supported.`)};this.layers.on("after-add",b=>g(b.item)),this.layers.on("after-remove",b=>(b=>{b.parent=null})(b.item))}initialize(){this.when().catch(p=>{tD.error("#load()","Failed to load ground",p)}),this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)}destroy(){const p=this.layers.removeAll();for(const g of p)g.destroy();this.layers.destroy()}normalizeCtorArgs(p){return p&&"resourceInfo"in p&&(this._set("resourceInfo",p.resourceInfo),delete(p=Ct({},p)).resourceInfo),p}set layers(p){this._set("layers",(0,Jj.Z)(p,this._get("layers")))}writeLayers(p,g,v,b){const C=[];p&&(b=Bn(Ct({},b),{layerContainerType:"ground"}),p.forEach(D=>{if("write"in D){const P={};(0,Yj.sM)(D)().write(P,b)&&C.push(P)}else b&&b.messages&&b.messages.push(new Rn.Z("layer:unsupported",`Layers (${D.title}, ${D.id}) of type '${D.declaredClass}' cannot be persisted in the ground`,{layer:D}))})),g.layers=C}load(p){return this.addResolvingPromise(this._loadFromSource(p)),Promise.resolve(this)}loadAll(){return(0,qC.G)(this,p=>{p(this.layers)})}queryElevation(p,g){var v=this;return(0,Un.Z)(function*(){yield v.load({signal:null==g?void 0:g.signal});const{ElevationQuery:b}=yield E.e(1991).then(E.bind(E,1991));(0,Er.k_)(g);const C=new b,D=v.layers.filter(nD).toArray();return C.queryAll(D,p,g)})()}createElevationSampler(p,g){var v=this;return(0,Un.Z)(function*(){yield v.load({signal:null==g?void 0:g.signal});const{ElevationQuery:b}=yield E.e(1991).then(E.bind(E,1991));(0,Er.k_)(g);const C=new b,D=v.layers.filter(nD).toArray();return C.createSamplerAll(D,p,g)})()}clone(){const p={opacity:this.opacity,surfaceColor:(0,Qs.d9)(this.surfaceColor),navigationConstraint:(0,Qs.d9)(this.navigationConstraint),layers:this.layers.slice()};return this.loaded&&(p.loadStatus="loaded"),new Uy({resourceInfo:this.resourceInfo}).set(p)}read(p,g){this.resourceInfo||this._set("resourceInfo",{data:p,context:g}),super.read(p,g)}_loadFromSource(p){const g=this.resourceInfo;return g?this._loadLayersFromJSON(g.data,g.context,p):Promise.resolve(null)}_loadLayersFromJSON(p,g,v){const b=g&&g.origin||"web-scene",C=g&&g.portal||null,D=g&&g.url||null;return Promise.all([E.e(7534),E.e(1074)]).then(E.bind(E,71074)).then(({populateOperationalLayers:P})=>{(0,Er.k_)(v);const V=[];return p.layers&&Array.isArray(p.layers)&&V.push(P(this.layers,p.layers,{context:{origin:b,url:D,portal:C,layerContainerType:"ground"},defaultLayerType:"ArcGISTiledElevationServiceLayer"})),(0,Er.as)(V)}).then(()=>{})}};function nD(p){return"elevation"===p.type||function Xj(p){return p&&"createElevationSampler"in p}(p)}(0,ye._)([(0,Oe.Cb)({json:{read:!1}})],Ra.prototype,"layers",null),(0,ye._)([(0,ao.c)("layers")],Ra.prototype,"writeLayers",null),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],Ra.prototype,"resourceInfo",void 0),(0,ye._)([(0,Oe.Cb)({type:Number,nonNullable:!0,range:{min:0,max:1},json:{type:ha.z8,read:{reader:eD.b,source:"transparency"},write:{writer:(p,g)=>{g.transparency=(0,eD.a)(p)},target:"transparency"}}})],Ra.prototype,"opacity",void 0),(0,ye._)([(0,Oe.Cb)({type:Xu.Z,json:{type:[ha.z8],write:(p,g)=>{g.surfaceColor=p.toJSON().slice(0,3)}}})],Ra.prototype,"surfaceColor",void 0),(0,ye._)([(0,Oe.Cb)({type:wp,json:{write:!0}})],Ra.prototype,"navigationConstraint",void 0),Ra=Uy=(0,ye._)([(0,bn.j)("esri.Ground")],Ra);const Pp=Ra;var Ur=E(14517),qu=E(46882),Id=E(61885),nn=E(62208),lo=E(66656);function qj(p){var g;return!(!(p&&p.loaded&&"capabilities"in p&&null!=p&&null!=(g=p.capabilities)&&g.operations&&"supportsEditing"in p.capabilities.operations&&!0===p.capabilities.operations.supportsEditing)||"editingEnabled"in p&&!p.editingEnabled)}var Td=E(59318),al=E(21726),rD=E(33954);const sD=ns.Z.getLogger("esri.support.basemapUtils");function aD(p){if(lD(p.url))return!0;if("vector-tile"===p.type)for(const g in p.sourceNameToSource){const v=p.sourceNameToSource[g];if(lD(null==v?void 0:v.sourceUrl))return!0}return!1}const s6=/^(basemaps|ibasemaps).*-api\.arcgis\.com$/i;function lD(p){if(!p)return!1;const g=new al.R9((0,al.hF)(p));return s6.test(g.authority)}const o6=ns.Z.getLogger("esri.support.groundUtils"),yD={"world-elevation":{id:"worldElevation",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/Terrain3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"},"world-topobathymetry":{id:"worldTopoBathymetry",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/TopoBathy3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"}};var l6=E(6432),u6=E(6119);let pa=class extends((0,u6.Q)((0,l6.K)(Id.Z.EventedMixin(Ur.Z)))){constructor(p){super(p),this.allLayers=new qu.Z({getCollections:()=>{var g,v,b;return[null==(g=this.basemap)?void 0:g.baseLayers,null==(v=this.ground)?void 0:v.layers,this.layers,null==(b=this.basemap)?void 0:b.referenceLayers]},getChildrenFunction:g=>"layers"in g?g.layers:null}),this.allTables=new qu.Z({getCollections:()=>[this.tables,this.layers],getChildrenFunction:g=>{const v=[];return"tables"in g&&v.push(g.tables),"layers"in g&&v.push(g.layers),v},itemFilterFunction:g=>{const v=g.parent;return v&&"tables"in v&&v.tables.includes(g)}}),this.basemap=null,this.editableLayers=new qu.Z({getCollections:()=>[this.allLayers],itemFilterFunction:qj}),this.ground=new Pp,this._basemapCache={}}destroy(){var p,g;this.allLayers.destroy(),this.allTables.destroy(),this.editableLayers.destroy(),null==(p=this.ground)||p.destroy(),null==(g=this.basemap)||g.destroy(),function t6(p){for(const g in p){const v=p[g];!1===(null==v?void 0:v.destroyed)&&v.destroy(),delete p[g]}}(this._basemapCache),this._basemapCache=null}castBasemap(p){return function iD(p,g){var v;let b;if("string"==typeof p){if(!(p in rD.s)){const C=Object.entries(rD.s).filter(([D,P])=>Td.Z.apiKey&&!P.classic||!Td.Z.apiKey&&P.classic&&!P.deprecated).map(([D])=>`"${D}"`).join(", ");return sD.warn(`Unable to find basemap definition for: ${p}. Try one of these: ${C}`),null}g&&(b=g[p]),b||(b=Ry.default.fromId(p),g&&(g[p]=b))}else b=(0,ha.se)(Ry.default,p);return null!=(v=b)&&v.destroyed&&(sD.warn("The provided basemap is already destroyed",{basemap:b}),b=null),b}(p,this._basemapCache)}castGround(p){const g=function a6(p){let g=null;return"string"==typeof p?p in yD?g=new Pp({resourceInfo:{data:{layers:[yD[p]]}}}):o6.warn(`Unable to find ground definition for: ${p}. Try "world-elevation"`):g=(0,ha.se)(Pp,p),g}(p);return(0,nn.Wi)(g)?this._get("ground"):g}findLayerById(p){return this.allLayers.find(g=>g.id===p)}findTableById(p){return this.allTables.find(g=>g.id===p)}};(0,ye._)([(0,Oe.Cb)({readOnly:!0,dependsOn:[]})],pa.prototype,"allLayers",void 0),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],pa.prototype,"allTables",void 0),(0,ye._)([(0,Oe.Cb)({type:Ry.default})],pa.prototype,"basemap",void 0),(0,ye._)([(0,lo.p)("basemap")],pa.prototype,"castBasemap",null),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],pa.prototype,"editableLayers",void 0),(0,ye._)([(0,Oe.Cb)({type:Pp,nonNullable:!0})],pa.prototype,"ground",void 0),(0,ye._)([(0,lo.p)("ground")],pa.prototype,"castGround",null),pa=(0,ye._)([(0,bn.j)("esri.Map")],pa);const gD=pa;var Fi=E(76687),Ip=E(99959),By=E(60330),dr=E(32917),La=E(68653),c6=E(52489),d6=E(29338),Ni=E(65234),Tp=E(37053),Wl=E(46367),xp=E(38305),ll=E(84792),fa=E(2004);const h6=ns.Z.getLogger("esri.networks.Network");let si=class extends((0,Ip.R)(Pd.Z)){constructor(p){super(p),this.id=null,this.title=null,this.layerUrl=null,this.dataElement=null,this.fullExtent=null,this.spatialReference=null,this.type=null,this.sourceJSON=null}initialize(){this.when().catch(p=>{var g,v;(0,Er.D_)(p)||h6.error("#load()",`Failed to load layer (title: '${null!=(g=this.title)?g:"no title"}', id: '${null!=(v=this.id)?v:"no id"}')`,{error:p})})}get datasetName(){var p;return null==(p=this.dataElement)?void 0:p.name}get owner(){var p;return null==(p=this.dataElement)?void 0:p.userIdentity}get schemaGeneration(){var p;return null==(p=this.dataElement)?void 0:p.schemaGeneration}get parsedUrl(){const p=this.layerUrl;return p?(0,al.mN)(p):null}get featureServiceUrl(){const p=this.parsedUrl&&(0,xp.Qc)(this.parsedUrl.path);return(0,nn.pC)(p)?p.url.path:null}get networkServiceUrl(){return this.featureServiceUrl?this.featureServiceUrl.replace(/\/FeatureServer/i,"/UtilityNetworkServer"):null}get layerId(){const p=this.parsedUrl&&(0,xp.Qc)(this.parsedUrl.path);return(0,nn.pC)(p)?p.sublayer:null}load(p){var g=this;return(0,Un.Z)(function*(){return g.addResolvingPromise(g._fetchDataElement(g.featureServiceUrl,g.layerId.toString(),p)),g.addResolvingPromise(g._fetchLayerMetaData(g.layerUrl,p)),g})()}getLayerIdBySourceId(p){if(this.dataElement){const g=this.dataElement.domainNetworks;for(const v of g){for(const b of v.edgeSources?v.edgeSources:[])if(b.sourceId===p)return b.layerId;for(const b of v.junctionSources?v.junctionSources:[])if(b.sourceId===p)return b.layerId}return null}return null}_fetchLayerMetaData(p,g){var v=this;return(0,Un.Z)(function*(){const b=yield(0,ll.default)(p,Ct({responseType:"json",query:{f:"json"}},g));v.sourceJSON=b.data,v.read(b.data,{origin:"service"})})()}_fetchDataElement(p,g,v){var b=this;return(0,Un.Z)(function*(){if(b.dataElement)return;const C=yield(0,ll.default)(`${p}/queryDataElements`,Ct({responseType:"json",query:{layers:JSON.stringify([g]),f:"json"}},v)).then(D=>{var P;return null==(P=D.data.layerDataElements)?void 0:P[0]});C&&b.read(C,{origin:"service"})})()}};(0,ye._)([(0,Oe.Cb)({type:String,nonNullable:!0,json:{origins:{"web-map":{read:!0,write:{isRequired:!0}}},read:!1}})],si.prototype,"id",void 0),(0,ye._)([(0,Oe.Cb)({type:String,nonNullable:!0,json:{origins:{"web-map":{read:!0,write:{isRequired:!0}}},read:!1}})],si.prototype,"title",void 0),(0,ye._)([(0,Oe.Cb)({type:String,nonNullable:!0,json:{origins:{"web-map":{read:{source:"url"},write:{target:"url",isRequired:!0}}},read:!1}})],si.prototype,"layerUrl",void 0),(0,ye._)([(0,Oe.Cb)({type:Object,json:{origins:{service:{read:!0}},read:!1}})],si.prototype,"dataElement",void 0),(0,ye._)([(0,Oe.Cb)({type:fa.Z,json:{origins:{service:{read:{source:"extent"}}},read:!1}})],si.prototype,"fullExtent",void 0),(0,ye._)([(0,Oe.Cb)({type:Ni.Z,json:{origins:{service:{read:{source:"extent.spatialReference"}}},read:!1}})],si.prototype,"spatialReference",void 0),(0,ye._)([(0,Oe.Cb)({type:["utility","trace"],readOnly:!0,json:{read:!1,write:!1}})],si.prototype,"type",void 0),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],si.prototype,"datasetName",null),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],si.prototype,"owner",null),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],si.prototype,"schemaGeneration",null),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],si.prototype,"parsedUrl",null),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],si.prototype,"featureServiceUrl",null),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],si.prototype,"networkServiceUrl",null),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],si.prototype,"layerId",null),(0,ye._)([(0,Oe.Cb)()],si.prototype,"sourceJSON",void 0),si=(0,ye._)([(0,bn.j)("esri.networks.Network")],si);const p6=si;let bo=class extends Br.wq{constructor(p){super(p),this.conditionBarriers=[],this.outputConditions=[],this.functions=[],this.functionBarriers=[],this.traversabilityScope=null,this.shortestPathNetworkAttributeName=null,this.includeBarriers=null,this.validateConsistency=null,this.ignoreBarriersAtStartingPoints=null}};(0,ye._)([(0,Oe.Cb)({type:[Object],json:{write:!0}})],bo.prototype,"conditionBarriers",void 0),(0,ye._)([(0,Oe.Cb)({type:[Object],json:{write:!0}})],bo.prototype,"outputConditions",void 0),(0,ye._)([(0,Oe.Cb)({type:[Object],json:{write:!0}})],bo.prototype,"functions",void 0),(0,ye._)([(0,Oe.Cb)({type:[Object],json:{write:!0}})],bo.prototype,"functionBarriers",void 0),(0,ye._)([(0,Oe.Cb)({type:["junctions","edges","junctionsAndEdges"],json:{write:!0}})],bo.prototype,"traversabilityScope",void 0),(0,ye._)([(0,Oe.Cb)({type:String,json:{write:!0}})],bo.prototype,"shortestPathNetworkAttributeName",void 0),(0,ye._)([(0,Oe.Cb)({type:Boolean,json:{write:!0}})],bo.prototype,"includeBarriers",void 0),(0,ye._)([(0,Oe.Cb)({type:Boolean,json:{write:!0}})],bo.prototype,"validateConsistency",void 0),(0,ye._)([(0,Oe.Cb)({type:Boolean,json:{write:!0}})],bo.prototype,"ignoreBarriersAtStartingPoints",void 0),bo=(0,ye._)([(0,bn.j)("esri.networks.support.TraceConfiguration")],bo);const Wy=bo;var Vy=E(2076);const Zy=new Vy.X({connected:"connected",upstream:"upstream",downstream:"downstream",shortestPath:"shortest-path",subnetwork:"subnetwork","subnetwork controllers":"subnetwork-controllers",loops:"loops",isolation:"isolation"});let Fs=class extends Wy{constructor(p){super(p),this.filterBarriers=[],this.domainNetworkName=null,this.filterBitsetNetworkAttributeName=null,this.filterFunctionBarriers=[],this.filterScope=null,this.includeContainers=null,this.includeContent=null,this.includeIsolated=null,this.includeStructures=null,this.includeUpToFirstSpatialContainer=null,this.nearestNeighbor=null,this.outputFilterCategories=[],this.outputFilters=[],this.propagators=[],this.subnetworkName=null,this.targetTierName=null,this.tierName=null,this.validateLocatability=null}};(0,ye._)([(0,Oe.Cb)({type:[Object],json:{write:!0}})],Fs.prototype,"filterBarriers",void 0),(0,ye._)([(0,Oe.Cb)({type:String,json:{write:!0}})],Fs.prototype,"domainNetworkName",void 0),(0,ye._)([(0,Oe.Cb)({type:String,json:{write:!0}})],Fs.prototype,"filterBitsetNetworkAttributeName",void 0),(0,ye._)([(0,Oe.Cb)({type:[Object],json:{write:!0}})],Fs.prototype,"filterFunctionBarriers",void 0),(0,ye._)([(0,Oe.Cb)({type:["junctions","edges","junctionsAndEdges"],json:{write:!0}})],Fs.prototype,"filterScope",void 0),(0,ye._)([(0,Oe.Cb)({type:Boolean,json:{write:!0}})],Fs.prototype,"includeContainers",void 0),(0,ye._)([(0,Oe.Cb)({type:Boolean,json:{write:!0}})],Fs.prototype,"includeContent",void 0),(0,ye._)([(0,Oe.Cb)({type:Boolean,json:{write:!0}})],Fs.prototype,"includeIsolated",void 0),(0,ye._)([(0,Oe.Cb)({type:Boolean,json:{write:!0}})],Fs.prototype,"includeStructures",void 0),(0,ye._)([(0,Oe.Cb)({type:Boolean,json:{write:!0}})],Fs.prototype,"includeUpToFirstSpatialContainer",void 0),(0,ye._)([(0,Oe.Cb)({type:Object,json:{write:!0}})],Fs.prototype,"nearestNeighbor",void 0),(0,ye._)([(0,Oe.Cb)({type:[Object],json:{write:!0}})],Fs.prototype,"outputFilterCategories",void 0),(0,ye._)([(0,Oe.Cb)({type:[Object],json:{write:!0}})],Fs.prototype,"outputFilters",void 0),(0,ye._)([(0,Oe.Cb)({type:[Object],json:{write:!0}})],Fs.prototype,"propagators",void 0),(0,ye._)([(0,Oe.Cb)({type:String,json:{write:!0}})],Fs.prototype,"subnetworkName",void 0),(0,ye._)([(0,Oe.Cb)({type:String,json:{write:!0}})],Fs.prototype,"targetTierName",void 0),(0,ye._)([(0,Oe.Cb)({type:String,json:{write:!0}})],Fs.prototype,"tierName",void 0),(0,ye._)([(0,Oe.Cb)({type:Boolean,json:{write:!0}})],Fs.prototype,"validateLocatability",void 0),Fs=(0,ye._)([(0,bn.j)("esri.networks.support.UNTraceConfiguration")],Fs);const f6=Fs;let Hi=class extends Ip.w{constructor(p){super(p),this.globalId=null,this.title=null,this.traceConfiguration=null,this.creationDate=null,this.creator=null,this.description=null,this.minStartingPoints=null,this.resultTypes=[],this.tags=[],this.traceType=null}readTraceConfiguration(p,g){return void 0!==p.tierName?f6.fromJSON(p):Wy.fromJSON(p)}};(0,ye._)([(0,Oe.Cb)({type:String,nonNullable:!0,json:{origins:{"web-map":{read:{source:"id"},write:{target:"id",isRequired:!0}},service:{read:{source:"globalId"}}},read:!1}})],Hi.prototype,"globalId",void 0),(0,ye._)([(0,Oe.Cb)({type:String,nonNullable:!0,json:{origins:{"web-map":{read:{source:"title"},write:{target:"title",isRequired:!0}},service:{read:{source:"name"}}},read:!1}})],Hi.prototype,"title",void 0),(0,ye._)([(0,Oe.Cb)({type:Wy,json:{origins:{service:{read:!0}},read:!1}})],Hi.prototype,"traceConfiguration",void 0),(0,ye._)([(0,La.r)("service","traceConfiguration")],Hi.prototype,"readTraceConfiguration",null),(0,ye._)([(0,Oe.Cb)({type:Date,json:{origins:{service:{read:!0}},read:!1}})],Hi.prototype,"creationDate",void 0),(0,ye._)([(0,Oe.Cb)({type:String,json:{origins:{service:{read:!0}},read:!1}})],Hi.prototype,"creator",void 0),(0,ye._)([(0,Oe.Cb)({type:String,json:{origins:{service:{read:!0}},read:!1}})],Hi.prototype,"description",void 0),(0,ye._)([(0,Oe.Cb)({type:["none","one","many"],json:{origins:{service:{read:{source:"minNumStartingPoints"}}},read:!1}})],Hi.prototype,"minStartingPoints",void 0),(0,ye._)([(0,Oe.Cb)({type:[Object],json:{origins:{service:{read:!0}},read:!1}})],Hi.prototype,"resultTypes",void 0),(0,ye._)([(0,Oe.Cb)({type:[String],json:{origins:{service:{read:!0}},read:!1}})],Hi.prototype,"tags",void 0),(0,ye._)([(0,Oe.Cb)({type:Zy.apiValues,json:{type:Zy.jsonValues,origins:{service:{read:Zy.read}},read:!1}})],Hi.prototype,"traceType",void 0),Hi=(0,ye._)([(0,bn.j)("esri.networks.support.NamedTraceConfiguration")],Hi);const m6=Hi;let ec=class extends Br.wq{constructor(p){super(p),this.id=null,this.name=null}};(0,ye._)([(0,Oe.Cb)({type:Number,json:{read:{source:"terminalId"},write:{target:"terminalId"}}})],ec.prototype,"id",void 0),(0,ye._)([(0,Oe.Cb)({type:String,json:{read:{source:"terminalName"},write:{target:"terminalName"}}})],ec.prototype,"name",void 0),(0,ye._)([(0,Oe.Cb)({type:Boolean,json:{write:!0}})],ec.prototype,"isUpstreamTerminal",void 0),ec=(0,ye._)([(0,bn.j)("esri.networks.support.Terminal")],ec);const y6=ec,Ap=new Vy.X({esriUNTMBidirectional:"bidirectional",esriUNTMDirectional:"directional"});let ul=class extends Br.wq{constructor(p){super(p),this.defaultConfiguration=null,this.id=null,this.name=null,this.terminals=[],this.traversabilityModel=null}};(0,ye._)([(0,Oe.Cb)({type:String,json:{write:!0}})],ul.prototype,"defaultConfiguration",void 0),(0,ye._)([(0,Oe.Cb)({type:Number,json:{read:{source:"terminalConfigurationId"},write:{target:"terminalConfigurationId"}}})],ul.prototype,"id",void 0),(0,ye._)([(0,Oe.Cb)({type:String,json:{read:{source:"terminalConfigurationName"},write:{target:"terminalConfigurationName"}}})],ul.prototype,"name",void 0),(0,ye._)([(0,Oe.Cb)({type:[y6],json:{write:!0}})],ul.prototype,"terminals",void 0),(0,ye._)([(0,Oe.Cb)({type:Ap.apiValues,json:{type:Ap.jsonValues,read:Ap.read,write:Ap.write}})],ul.prototype,"traversabilityModel",void 0),ul=(0,ye._)([(0,bn.j)("esri.networks.support.TerminalConfiguration")],ul);const _D=ul;let Mo=class extends p6{constructor(p){super(p),this.sharedNamedTraceConfigurations=[],this.type="utility"}get serviceTerritoryFeatureLayerId(){var p;return null==(p=this.dataElement)?void 0:p.serviceTerritoryFeatureLayerId}get rulesTableId(){var p;return null==(p=this.sourceJSON)?void 0:p.systemLayers.rulesTableId}get rulesTableUrl(){return this.sourceJSON?`${this.featureServiceUrl}/${this.rulesTableId}`:null}get subnetworksTableId(){var p;return null==(p=this.sourceJSON)?void 0:p.systemLayers.subnetworksTableId}get subnetworksTableUrl(){return this.sourceJSON?`${this.featureServiceUrl}/${this.subnetworksTableId}`:null}get terminalConfigurations(){var p;return(null==(p=this.dataElement)?void 0:p.terminalConfigurations.map(g=>_D.fromJSON(g)))||[]}get domainNetworkNames(){var p;return(null==(p=this.dataElement)?void 0:p.domainNetworks.map(g=>g.domainNetworkName))||[]}load(p){var g=()=>super.load,v=this;return(0,Un.Z)(function*(){return v.addResolvingPromise(g().call(v,p)),v.addResolvingPromise(v._loadNamedTraceConfigurationsFromNetwork(p)),v})()}getTerminalConfiguration(p){let g=null,v=null;const b=p.layer;let C=null;if("feature"!==(null==b?void 0:b.type)||(C=b.layerId,null===C))return null;const D=p.attributes;if(null==D)return null;for(const Fe of Object.keys(D))"ASSETGROUP"===Fe.toUpperCase()&&(g=p.getAttribute(Fe)),"ASSETTYPE"===Fe.toUpperCase()&&(v=p.getAttribute(Fe));if(!this.dataElement)return null;let P=null;const V=this.dataElement.domainNetworks;for(const Fe of V){var ae;const Xe=null==(ae=Fe.junctionSources)?void 0:ae.find(rt=>rt.layerId===C);if(Xe){var be;const rt=null==(be=Xe.assetGroups)?void 0:be.find(It=>It.assetGroupCode===g);if(rt){var Pe;const It=null==(Pe=rt.assetTypes)?void 0:Pe.find(Zt=>Zt.assetTypeCode===v);if(It){P=It.terminalConfigurationId;break}}}}if(null!=P){const Fe=this.dataElement.terminalConfigurations,Xe=null==Fe?void 0:Fe.find(rt=>rt.terminalConfigurationId===P);return Xe?_D.fromJSON(Xe):null}return null}getTierNames(p){var g;const v=null==(g=this.dataElement)?void 0:g.domainNetworks.find(b=>b.domainNetworkName===p);return(null==v?void 0:v.tiers.map(b=>b.name))||[]}_loadNamedTraceConfigurationsFromNetwork(p){var g=this;return(0,Un.Z)(function*(){var v;if(0===(null==(v=g.sharedNamedTraceConfigurations)?void 0:v.length))return;const b=g.sharedNamedTraceConfigurations.map(D=>D.globalId),C=yield g._fetchTraceConfigData(g.networkServiceUrl,b,p);for(const D of g.sharedNamedTraceConfigurations){const P=null==C?void 0:C.find(V=>V.globalId===D.globalId);P&&D.read(P,{origin:"service"})}})()}_fetchTraceConfigData(p,g,v){return(0,ll.default)(`${p}/traceConfigurations/query`,Ct({responseType:"json",query:{globalIds:JSON.stringify(g),f:"json"}},v)).then(b=>b.data.traceConfigurations)}};(0,ye._)([(0,Oe.Cb)({type:[m6],json:{origins:{"web-map":{read:{source:"traceConfigurations"},write:{target:"traceConfigurations"}},service:{read:{source:"traceConfigurations"}}},read:!1}})],Mo.prototype,"sharedNamedTraceConfigurations",void 0),(0,ye._)([(0,Oe.Cb)({type:["utility"],readOnly:!0,json:{read:!1,write:!1}})],Mo.prototype,"type",void 0),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],Mo.prototype,"serviceTerritoryFeatureLayerId",null),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],Mo.prototype,"rulesTableId",null),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],Mo.prototype,"rulesTableUrl",null),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],Mo.prototype,"subnetworksTableId",null),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],Mo.prototype,"subnetworksTableUrl",null),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],Mo.prototype,"terminalConfigurations",null),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],Mo.prototype,"domainNetworkNames",null),Mo=(0,ye._)([(0,bn.j)("esri.networks.UtilityNetwork")],Mo);const g6=Mo;var Vl=E(84687),vD=E(55463),Ns=E(37281),$y=E(39636),Ky=E(77294);let cl=class extends Br.wq{constructor(p){super(p),this.facilityIdField=null,this.layerId=null,this.nameField=null,this.siteIdField=null,this.sublayerId=null}};(0,ye._)([(0,Oe.Cb)({type:String,json:{write:!0}})],cl.prototype,"facilityIdField",void 0),(0,ye._)([(0,Oe.Cb)({type:String,json:{write:!0}})],cl.prototype,"layerId",void 0),(0,ye._)([(0,Oe.Cb)({type:String,json:{write:!0}})],cl.prototype,"nameField",void 0),(0,ye._)([(0,Oe.Cb)({type:String,json:{write:!0}})],cl.prototype,"siteIdField",void 0),(0,ye._)([(0,Oe.Cb)({type:Number,json:{read:{source:"subLayerId"},write:{target:"subLayerId"},origins:{"web-scene":{read:!1,write:!1}}}})],cl.prototype,"sublayerId",void 0),cl=(0,ye._)([(0,bn.j)("esri.layers.support.FacilityLayerInfo")],cl);const _6=cl;let Vo=class extends Br.wq{constructor(p){super(p),this.facilityIdField=null,this.layerId=null,this.levelIdField=null,this.levelNumberField=null,this.longNameField=null,this.shortNameField=null,this.sublayerId=null,this.verticalOrderField=null}};(0,ye._)([(0,Oe.Cb)({type:String,json:{write:!0}})],Vo.prototype,"facilityIdField",void 0),(0,ye._)([(0,Oe.Cb)({type:String,json:{write:!0}})],Vo.prototype,"layerId",void 0),(0,ye._)([(0,Oe.Cb)({type:String,json:{write:!0}})],Vo.prototype,"levelIdField",void 0),(0,ye._)([(0,Oe.Cb)({type:String,json:{write:!0}})],Vo.prototype,"levelNumberField",void 0),(0,ye._)([(0,Oe.Cb)({type:String,json:{write:!0}})],Vo.prototype,"longNameField",void 0),(0,ye._)([(0,Oe.Cb)({type:String,json:{write:!0}})],Vo.prototype,"shortNameField",void 0),(0,ye._)([(0,Oe.Cb)({type:Number,json:{read:{source:"subLayerId"},write:{target:"subLayerId"},origins:{"web-scene":{read:!1,write:!1}}}})],Vo.prototype,"sublayerId",void 0),(0,ye._)([(0,Oe.Cb)({type:String,json:{write:!0}})],Vo.prototype,"verticalOrderField",void 0),Vo=(0,ye._)([(0,bn.j)("esri.layers.support.LevelLayerInfo")],Vo);const v6=Vo;let Zl=class extends Br.wq{constructor(p){super(p),this.layerId=null,this.nameField=null,this.siteIdField=null,this.sublayerId=null}};(0,ye._)([(0,Oe.Cb)({type:String,json:{write:!0}})],Zl.prototype,"layerId",void 0),(0,ye._)([(0,Oe.Cb)({type:String,json:{write:!0}})],Zl.prototype,"nameField",void 0),(0,ye._)([(0,Oe.Cb)({type:String,json:{write:!0}})],Zl.prototype,"siteIdField",void 0),(0,ye._)([(0,Oe.Cb)({type:Number,json:{read:{source:"subLayerId"},write:{target:"subLayerId"},origins:{"web-scene":{read:!1,write:!1}}}})],Zl.prototype,"sublayerId",void 0),Zl=(0,ye._)([(0,bn.j)("esri.layers.support.SiteLayerInfo")],Zl);const E6=Zl;let tc=class extends Br.wq{constructor(p){super(p),this.levelLayer=null,this.facilityLayer=null,this.siteLayer=null}};(0,ye._)([(0,Oe.Cb)({type:v6,json:{write:!0}})],tc.prototype,"levelLayer",void 0),(0,ye._)([(0,Oe.Cb)({type:_6,json:{write:!0}})],tc.prototype,"facilityLayer",void 0),(0,ye._)([(0,Oe.Cb)({type:E6,json:{write:!0}})],tc.prototype,"siteLayer",void 0),tc=(0,ye._)([(0,bn.j)("esri.support.MapFloorInfo")],tc);const b6=tc;var zy;let nc=zy=class extends Br.wq{constructor(p){super(p),this.activeRange=null,this.currentRangeExtent=null,this.fullRangeExtent=null}clone(){return new zy((0,Qs.d9)({activeRange:this.activeRange,currentRangeExtent:this.currentRangeExtent,fullRangeExtent:this.fullRangeExtent}))}};(0,ye._)([(0,Oe.Cb)({type:String,nonNullable:!0,json:{read:{source:"activeRangeName"},write:{target:"activeRangeName",isRequired:!0}}})],nc.prototype,"activeRange",void 0),(0,ye._)([(0,Oe.Cb)({type:[Number],json:{write:!0}})],nc.prototype,"currentRangeExtent",void 0),(0,ye._)([(0,Oe.Cb)({type:[Number],json:{write:!0}})],nc.prototype,"fullRangeExtent",void 0),nc=zy=(0,ye._)([(0,bn.j)("esri.webdoc.RangeInfo")],nc);const Gy=nc;var ky;let ma=ky=class extends Br.wq{constructor(p){super(p),this.enabled=!1,this.longNames=!1,this.minimized=!1,this.pinnedLevels=!1,this.site=null,this.facility=null,this.level=null}clone(){return new ky((0,Qs.d9)({enabled:this.enabled,longNames:this.longNames,minimized:this.minimized,pinnedLevels:this.pinnedLevels,site:this.site,facility:this.facility,level:this.level}))}};(0,ye._)([(0,Oe.Cb)({type:Boolean,json:{read:{source:"enabled"},write:{target:"enabled"}}})],ma.prototype,"enabled",void 0),(0,ye._)([(0,Oe.Cb)({type:Boolean,json:{read:{source:"longNames"},write:{target:"longNames"}}})],ma.prototype,"longNames",void 0),(0,ye._)([(0,Oe.Cb)({type:Boolean,json:{read:{source:"minimized"},write:{target:"minimized"}}})],ma.prototype,"minimized",void 0),(0,ye._)([(0,Oe.Cb)({type:Boolean,json:{read:{source:"pinnedLevels"},write:{target:"pinnedLevels"}}})],ma.prototype,"pinnedLevels",void 0),(0,ye._)([(0,Oe.Cb)({type:String,json:{read:{source:"site"},write:{target:"site"}}})],ma.prototype,"site",void 0),(0,ye._)([(0,Oe.Cb)({type:String,json:{read:{source:"facility"},write:{target:"facility"}}})],ma.prototype,"facility",void 0),(0,ye._)([(0,Oe.Cb)({type:String,json:{read:{source:"level"},write:{target:"level"}}})],ma.prototype,"level",void 0),ma=ky=(0,ye._)([(0,bn.j)("esri.webdoc.widgets.FloorFilter")],ma);const M6=ma;var Hy;const Rp=new Vy.X({slider:"slider",picker:"picker"});let rc=Hy=class extends Br.wq{constructor(p){super(p),this.interactionMode=null,this.numStops=null,this.stopInterval=null}clone(){return new Hy({interactionMode:this.interactionMode,numStops:this.numStops,stopInterval:this.stopInterval})}};(0,ye._)([(0,Oe.Cb)({type:Rp.apiValues,nonNullable:!0,json:{type:Rp.jsonValues,default:null,read:{reader:Rp.read},write:{isRequired:!0,writer:Rp.write}}})],rc.prototype,"interactionMode",void 0),(0,ye._)([(0,Oe.Cb)({type:Number,json:{read:{source:"numberOfStops"},write:{target:"numberOfStops",overridePolicy(){const p=null!=this.stopInterval;return{enabled:!p,isRequired:!p}}}}})],rc.prototype,"numStops",void 0),(0,ye._)([(0,Oe.Cb)({type:Number,json:{write:{overridePolicy(){return{isRequired:null==this.numStops}}}}})],rc.prototype,"stopInterval",void 0),rc=Hy=(0,ye._)([(0,bn.j)("esri.webdoc.widgets.Range")],rc);const C6=rc;var Yy,sc=E(97478),ED=E(20849),Jy=E(94113);let Xs=Yy=class extends Br.wq{constructor(p){super(p),this.currentTimeExtent=null,this.fullTimeExtent=null,this.loop=!1,this.numStops=null,this.numThumbs=null,this.stopDelay=null,this.stopInterval=null,this.stops=null}readCurrentTimeExtent(p){if(!p)return;const g=null!=p[0]?new Date(p[0]):null,v=null!=p[1]?new Date(p[1]):null;return new sc.Z({start:g,end:v})}writeCurrentTimeExtent(p,g,v){p&&(0,Jy.RB)(v,[(0,nn.pC)(p.start)?p.start.getTime():null,(0,nn.pC)(p.end)?p.end.getTime():null],g)}readFullTimeExtent(p,g){const v=g.properties;if(!v)return;const b=null!=v.endTime?new Date(v.endTime):null,C=null!=v.startTime?new Date(v.startTime):null;return new sc.Z({start:C,end:b})}writeFullTimeExtent(p,g){if(!p)return;const v=g.properties=g.properties||{},b=p.end,C=p.start;b&&(v.endTime=(0,nn.pC)(b)?b.getTime():null),C&&(v.startTime=(0,nn.pC)(C)?C.getTime():null)}readStopInterval(p,g,v){return p?ED.Z.fromJSON({value:p.interval,unit:p.units},v):null}writeStopInterval(p,g,v,b){if(!p)return;const C=p.toJSON(b);(0,Jy.RB)(v,{interval:C.value,units:C.unit},g)}readStops(p){return p&&p.length?p.map(g=>new Date(g)):null}writeStops(p,g,v){p&&p.length&&(0,Jy.RB)(v,p.map(b=>b.getTime()),g)}clone(){return new Yy((0,Qs.d9)({currentTimeExtent:this.currentTimeExtent,fullTimeExtent:this.fullTimeExtent,loop:this.loop,numStops:this.numStops,numThumbs:this.numThumbs,stopDelay:this.stopDelay,stopInterval:this.stopInterval,stops:this.stops}))}};(0,ye._)([(0,Oe.Cb)({type:sc.Z,json:{read:{source:"properties.currentTimeExtent"},write:{target:"properties.currentTimeExtent"}}})],Xs.prototype,"currentTimeExtent",void 0),(0,ye._)([(0,La.r)("currentTimeExtent")],Xs.prototype,"readCurrentTimeExtent",null),(0,ye._)([(0,ao.c)("currentTimeExtent")],Xs.prototype,"writeCurrentTimeExtent",null),(0,ye._)([(0,Oe.Cb)({type:sc.Z,json:{read:{source:["properties.endTime","properties.startTime"]},write:{target:{"properties.endTime":{type:Number},"properties.startTime":{type:Number}}}}})],Xs.prototype,"fullTimeExtent",void 0),(0,ye._)([(0,La.r)("fullTimeExtent")],Xs.prototype,"readFullTimeExtent",null),(0,ye._)([(0,ao.c)("fullTimeExtent")],Xs.prototype,"writeFullTimeExtent",null),(0,ye._)([(0,Oe.Cb)({type:Boolean,nonNullable:!0,json:{default:!1,read:{source:"properties.loop"},write:{target:"properties.loop"}}})],Xs.prototype,"loop",void 0),(0,ye._)([(0,Oe.Cb)({type:Number,json:{read:{source:"properties.numberOfStops"},write:{target:"properties.numberOfStops",overridePolicy(){var p;const v=!(null==(p=this.stops)||!p.length),b=!(this.stopInterval||v);return{enabled:b,isRequired:b}}}}})],Xs.prototype,"numStops",void 0),(0,ye._)([(0,Oe.Cb)({type:[1,2],nonNullable:!0,json:{read:{source:"properties.thumbCount"},write:{target:"properties.thumbCount",isRequired:!0}}})],Xs.prototype,"numThumbs",void 0),(0,ye._)([(0,Oe.Cb)({type:Number,nonNullable:!0,json:{read:{source:"properties.thumbMovingRate"},write:{target:"properties.thumbMovingRate",isRequired:!0}}})],Xs.prototype,"stopDelay",void 0),(0,ye._)([(0,Oe.Cb)({type:ED.Z,json:{read:{source:"properties.timeStopInterval"},write:{target:"properties.timeStopInterval",overridePolicy(){var p;const v=!(null==(p=this.stops)||!p.length);return{enabled:!v,isRequired:!(null!=this.numStops||v)}}}}})],Xs.prototype,"stopInterval",void 0),(0,ye._)([(0,La.r)("stopInterval")],Xs.prototype,"readStopInterval",null),(0,ye._)([(0,ao.c)("stopInterval")],Xs.prototype,"writeStopInterval",null),(0,ye._)([(0,Oe.Cb)({type:[Date],json:{read:{source:"properties.stops"},write:{target:"properties.stops",overridePolicy(){return{isRequired:null==this.numStops&&!this.stopInterval}}}}})],Xs.prototype,"stops",void 0),(0,ye._)([(0,La.r)("stops")],Xs.prototype,"readStops",null),(0,ye._)([(0,ao.c)("stops")],Xs.prototype,"writeStops",null),Xs=Yy=(0,ye._)([(0,bn.j)("esri.webdoc.widgets.TimeSlider")],Xs);const D6=Xs;var Qy;let ic=Qy=class extends Br.wq{constructor(p){super(p),this.range=null,this.timeSlider=null,this.floorFilter=null}clone(){return new Qy((0,Qs.d9)({range:this.range,timeSlider:this.timeSlider,floorFilter:this.floorFilter}))}};(0,ye._)([(0,Oe.Cb)({type:C6,json:{write:!0}})],ic.prototype,"range",void 0),(0,ye._)([(0,Oe.Cb)({type:D6,json:{write:!0}})],ic.prototype,"timeSlider",void 0),(0,ye._)([(0,Oe.Cb)({type:M6,json:{write:!0}})],ic.prototype,"floorFilter",void 0),ic=Qy=(0,ye._)([(0,bn.j)("esri.webdoc.Widgets")],ic);const S6=ic,O6={width:600,height:400};var P6=E(32584);function bD(p){return{enabled:!(null==p||!p.length)}}var Xy,MD=E(85);let oc=Xy=class extends Br.wq{constructor(p){super(p),this.exactMatch=!1,this.name=null,this.type=null}clone(){return new Xy({exactMatch:this.exactMatch,type:this.type,name:this.name})}};(0,ye._)([(0,Oe.Cb)({type:Boolean,json:{write:!0}})],oc.prototype,"exactMatch",void 0),(0,ye._)([(0,Oe.Cb)({type:String,json:{write:!0}})],oc.prototype,"name",void 0),(0,ye._)([(0,Ly.J)(MD.v)],oc.prototype,"type",void 0),oc=Xy=(0,ye._)([(0,bn.j)("esri.webdoc.applicationProperties.SearchLayerField")],oc);const I6=oc;var qy;let ac=qy=class extends Br.wq{constructor(p){super(p),this.field=null,this.id=null,this.subLayer=null}clone(){return new qy((0,Qs.d9)({field:this.field,id:this.id,subLayer:this.subLayer}))}};(0,ye._)([(0,Oe.Cb)({type:I6,json:{write:{isRequired:!0}}})],ac.prototype,"field",void 0),(0,ye._)([(0,Oe.Cb)({type:String,json:{write:{isRequired:!0}}})],ac.prototype,"id",void 0),(0,ye._)([(0,Oe.Cb)({type:ha.z8,json:{write:!0}})],ac.prototype,"subLayer",void 0),ac=qy=(0,ye._)([(0,bn.j)("esri.webdoc.applicationProperties.SearchLayer")],ac);const T6=ac;var eg;let lc=eg=class extends Br.wq{constructor(p){super(p),this.exactMatch=!1,this.name=null,this.type=null}clone(){return new eg({exactMatch:this.exactMatch,type:this.type,name:this.name})}};(0,ye._)([(0,Oe.Cb)({type:Boolean,json:{write:!0}})],lc.prototype,"exactMatch",void 0),(0,ye._)([(0,Oe.Cb)({type:String,json:{write:!0}})],lc.prototype,"name",void 0),(0,ye._)([(0,Ly.J)(MD.v)],lc.prototype,"type",void 0),lc=eg=(0,ye._)([(0,bn.j)("esri.webdoc.applicationProperties.SearchTableField")],lc);const x6=lc;var tg;let xd=tg=class extends Br.wq{constructor(p){super(p),this.field=null,this.id=null}clone(){return new tg((0,Qs.d9)({field:this.field,id:this.id}))}};(0,ye._)([(0,Oe.Cb)({type:x6,json:{write:{isRequired:!0}}})],xd.prototype,"field",void 0),(0,ye._)([(0,Oe.Cb)({type:String,json:{write:{isRequired:!0}}})],xd.prototype,"id",void 0),xd=tg=(0,ye._)([(0,bn.j)("esri.webdoc.applicationProperties.SearchTable")],xd);const A6=xd;var ng;const CD=ds.Z.ofType(T6),DD=ds.Z.ofType(A6);let ya=ng=class extends Br.wq{constructor(p){super(p),this.addressSearchEnabled=!0,this.enabled=!0,this.hintText=null,this.layers=new CD,this.tables=new DD}readAddressSearchEnabled(p){return!p}writeAddressSearchEnabled(p,g,v){g[v]=!p}clone(){return new ng((0,Qs.d9)({addressSearchEnabled:this.addressSearchEnabled,enabled:this.enabled,hintText:this.hintText,layers:this.layers,tables:this.tables}))}};(0,ye._)([(0,Oe.Cb)({type:Boolean,nonNullable:!0,json:{read:{source:"disablePlaceFinder"},write:{target:"disablePlaceFinder",isRequired:!0},origins:{"web-scene":{read:!1,write:!1}}}})],ya.prototype,"addressSearchEnabled",void 0),(0,ye._)([(0,La.r)("addressSearchEnabled")],ya.prototype,"readAddressSearchEnabled",null),(0,ye._)([(0,ao.c)("addressSearchEnabled")],ya.prototype,"writeAddressSearchEnabled",null),(0,ye._)([(0,Oe.Cb)({type:Boolean,nonNullable:!0,json:{write:!0,origins:{"web-map":{write:{isRequired:!0}},"web-scene":{default:!0,write:!0}}}})],ya.prototype,"enabled",void 0),(0,ye._)([(0,Oe.Cb)({type:String,json:{write:!0}})],ya.prototype,"hintText",void 0),(0,ye._)([(0,Oe.Cb)({type:CD,json:{write:{overridePolicy:bD},origins:{"web-scene":{write:{isRequired:!0}}}}})],ya.prototype,"layers",void 0),(0,ye._)([(0,Oe.Cb)({type:DD,json:{read:!0,write:{overridePolicy:bD}}})],ya.prototype,"tables",void 0),ya=ng=(0,ye._)([(0,bn.j)("esri.webdoc.applicationProperties.Search")],ya);const R6=ya;var rg;let jp=rg=class extends Br.wq{constructor(p){super(p),this.search=null}clone(){return new rg((0,Qs.d9)({search:this.search}))}};(0,ye._)([(0,Oe.Cb)({type:R6,json:{write:!0}})],jp.prototype,"search",void 0),jp=rg=(0,ye._)([(0,bn.j)("esri.webdoc.applicationProperties.Viewing")],jp);const L6=jp;var sg;let uc=sg=class extends Br.wq{constructor(p){super(p),this.editing=null,this.offline=null,this.viewing=null}clone(){return new sg((0,Qs.d9)({editing:this.editing,offline:this.offline,viewing:this.viewing}))}};(0,ye._)([(0,Oe.Cb)({json:{write:!0}})],uc.prototype,"editing",void 0),(0,ye._)([(0,Oe.Cb)({json:{write:!0}})],uc.prototype,"offline",void 0),(0,ye._)([(0,Oe.Cb)({type:L6,json:{write:!0}})],uc.prototype,"viewing",void 0),uc=sg=(0,ye._)([(0,bn.j)("esri.webmap.ApplicationProperties")],uc);const j6=uc;var ig,Ad=E(55538),SD=E(61996);let $l=ig=class extends Br.wq{constructor(){super(...arguments),this.url=""}destroy(){this.url=""}clone(){return new ig({url:this.url})}};var og;(0,ye._)([(0,Oe.Cb)({type:String,json:{write:{isRequired:!0}}})],$l.prototype,"url",void 0),$l=ig=(0,ye._)([(0,bn.j)("esri.webdoc.support.SlideThumbnail")],$l);const OD="esri.webmap.Bookmark",ag=ns.Z.getLogger(OD);let Zo=og=class extends((0,SD.I)(Br.wq)){constructor(p){super(p),this.name=null,this.thumbnail=new $l,this.timeExtent=null}set extent(p){(0,Ad.Mr)(ag,"extent",{replacement:"viewpoint",version:"4.17"}),this._set("viewpoint",new Fi.Z({targetGeometry:p.clone()})),this._set("extent",p)}castThumbnail(p){return"string"==typeof p?new $l({url:p}):(0,ha.se)($l,p)}set viewpoint(p){const{targetGeometry:g,scale:v}=p;(0,nn.pC)(g)&&("extent"===g.type?this._set("extent",g.clone()):"point"===g.type&&(0,nn.Wi)(v)&&ag.warn("Bookmark.viewpoint should include 'scale' when its targetGeometry is a point.",p)),this._set("viewpoint",p)}readViewpoint(p,g){const{extent:v,viewpoint:b}=g;return Fi.Z.fromJSON(b||{targetGeometry:v})}writeViewpoint(p,g,v,b){if(!p)return;const{targetGeometry:C}=p;if((0,nn.pC)(C)&&"extent"!==C.type){const D="Bookmark.viewpoint cannot be written to JSON when the viewpoint's targetGeometry is not an extent.";null!=b&&b.messages?b.messages.push(new Rn.Z("property:unsupported",D)):ag.error(D)}else g[v]=p.toJSON()}clone(){return new og((0,Qs.d9)({name:this.name,thumbnail:this.thumbnail,timeExtent:this.timeExtent,viewpoint:this.viewpoint}))}};(0,ye._)([(0,Oe.Cb)({type:fa.Z,nonNullable:!0,json:{read:!1,write:{isRequired:!0}}})],Zo.prototype,"extent",null),(0,ye._)([(0,Oe.Cb)({type:String,nonNullable:!0,json:{write:{isRequired:!0}}})],Zo.prototype,"name",void 0),(0,ye._)([(0,Oe.Cb)({type:$l,json:{write:{overridePolicy:p=>({enabled:!(!p||!p.url)})}}})],Zo.prototype,"thumbnail",void 0),(0,ye._)([(0,lo.p)("thumbnail")],Zo.prototype,"castThumbnail",null),(0,ye._)([(0,Oe.Cb)({type:sc.Z,json:{write:!0}})],Zo.prototype,"timeExtent",void 0),(0,ye._)([(0,Oe.Cb)({type:Fi.Z,nonNullable:!0,json:{write:!0}})],Zo.prototype,"viewpoint",null),(0,ye._)([(0,La.r)("viewpoint",["extent","viewpoint"])],Zo.prototype,"readViewpoint",null),(0,ye._)([(0,ao.c)("viewpoint")],Zo.prototype,"writeViewpoint",null),Zo=og=(0,ye._)([(0,bn.j)(OD)],Zo);const U6=Zo;var lg;let Up=lg=class extends Br.wq{constructor(p){super(p),this.color=new Xu.Z([0,0,0,1])}clone(){return new lg((0,Qs.d9)({color:this.color}))}};(0,ye._)([(0,Oe.Cb)({type:Xu.Z,json:{write:!0}})],Up.prototype,"color",void 0),Up=lg=(0,ye._)([(0,bn.j)("esri.webmap.background.ColorBackground")],Up);const Fp=Up;var ug;let Kl=ug=class extends Ur.Z{constructor(p){super(p),this.background=null,this.rangeInfo=null,this.spatialReference=null,this.viewpoint=null}clone(){return new ug((0,Qs.d9)({background:this.background,rangeInfo:this.rangeInfo,spatialReference:this.spatialReference,viewpoint:this.viewpoint}))}};(0,ye._)([(0,Oe.Cb)({type:Fp})],Kl.prototype,"background",void 0),(0,ye._)([(0,Oe.Cb)({type:Gy})],Kl.prototype,"rangeInfo",void 0),(0,ye._)([(0,Oe.Cb)({type:Ni.Z})],Kl.prototype,"spatialReference",void 0),(0,ye._)([(0,Oe.Cb)({type:Fi.Z})],Kl.prototype,"viewpoint",void 0),Kl=ug=(0,ye._)([(0,bn.j)("esri.webmap.InitialViewProperties")],Kl);const Np=Kl;var F6=E(10349);class Rd extends F6.G{constructor(g,v){super(g,v,"webmap")}}const Bp=new Rd(2,24),cg="Web Map",wD=ds.Z.ofType(U6),N6=ds.Z.ofType(g6),Wp=ns.Z.getLogger("esri.WebMap"),Ld=new Map;Ld.set("image/jpeg","jpeg"),Ld.set("image/jpg","jpg"),Ld.set("image/png","png"),Ld.set("image/gif","gif");const PD="ArcGIS API for JavaScript",ID="CollectorDisabled",TD="Collector",xD="Data Editing",AD="OfflineDisabled",RD="Offline",LD="Workforce Project",jD="Workforce Worker",UD="Workforce Dispatcher",FD="DeveloperBasemap",Z6=["NatGeo_World_Map","Ocean_Basemap","USA_Topo_Maps","World_Imagery","World_Street_Map","World_Terrain_Base","World_Topo_Map","World_Hillshade","Canvas/World_Light_Gray_Base","Canvas/World_Light_Gray_Reference","Canvas/World_Dark_Gray_Base","Canvas/World_Dark_Gray_Reference","Ocean/World_Ocean_Base","Ocean/World_Ocean_Reference","Reference/World_Boundaries_and_Places","Reference/World_Reference_Overlay","Reference/World_Transportation"].map(p=>p.toLowerCase());let Xr=class extends((0,Ip.R)(Pd.Z.LoadableMixin((0,By.v)(gD)))){constructor(p){super(p),this.applicationProperties=null,this.bookmarks=new wD,this.floorInfo=null,this.initialViewProperties=new Np,this.portalItem=null,this.presentation=null,this.sourceVersion=null,this.widgets=null,this.utilityNetworks=null,this.authoringApp=this.authoringAppVersion=null,this._isAuthoringAppSetByUser=this._isAuthoringAppVersionSetByUser=!1}destroy(){const p=this.portalItem;this.portalItem=null,null==p||p.destroy()}initialize(){if(this.when().catch(p=>{Wp.error("#load()","Failed to load web map",p)}),this.resourceInfo){let p;try{p=this._validateJSON(this.resourceInfo)}catch(g){return void this.addResolvingPromise(Promise.reject(g))}this.read(p)}}set authoringApp(p){this._isAuthoringAppSetByUser=!0,this._set("authoringApp",p)}writeAuthoringApp(p,g){g.authoringApp=p&&this._isAuthoringAppSetByUser?p:PD}set authoringAppVersion(p){this._isAuthoringAppVersionSetByUser=!0,this._set("authoringAppVersion",p)}writeAuthoringAppVersion(p,g){g.authoringAppVersion=p&&this._isAuthoringAppVersionSetByUser?p:Hj.i8}readInitialViewProperties(p,g){var v;const b=new Np;g.background&&(b.background=Fp.fromJSON(g.background));const C=null==(v=g.initialState)?void 0:v.viewpoint;return C&&(C.rotation&&Rd.parse(g.version||"","webmap").lessThan(2,20)&&"ArcGIS Pro"===g.authoringApp&&(C.rotation*=-1),b.viewpoint=Fi.Z.fromJSON(C)),g.mapRangeInfo&&(b.rangeInfo=Gy.fromJSON(g.mapRangeInfo)),g.spatialReference&&(b.spatialReference=Ni.Z.fromJSON(g.spatialReference)),b}writeInitialViewProperties(p,g,v,b){if(!p)return;const C=p.background;C&&C.color&&(g.background=C.write({},b)),p.viewpoint&&(g.initialState={viewpoint:p.viewpoint.write({},b)}),p.rangeInfo&&(g.mapRangeInfo=p.rangeInfo.toJSON(b)),p.spatialReference&&(g.spatialReference=p.spatialReference.write({},b))}writeLayers(p,g,v,b){g[v]=this._writeLayers(p,b,"operational-layers")}readSourceVersion(p,g){const[v,b]=g.version.split(".");return new Rd(parseInt(v,10),parseInt(b,10))}writeSourceVersion(p,g,v){g[v]=`${Bp.major}.${Bp.minor}`}writeTables(p,g,v,b){const C=this._writeLayers(p,b,"tables");C.length&&(g[v]=C)}get thumbnailUrl(){return this.portalItem&&this.portalItem.thumbnailUrl||null}set thumbnailUrl(p){p?(this._override("thumbnailUrl",p),this._thumbnailFilename=this._generateCustomThumbnailFilename(p)):this._clearThumbnailOverride()}load(p){return this.addResolvingPromise(this._loadFromSource()),Promise.resolve(this)}loadAll(){return(0,qC.G)(this,p=>{p(this.ground,this.basemap,this.layers,this.tables)})}read(p,g){g=Bn(Ct({},g),{origin:"web-map"});const v=this._getAuthoringPropsState();(0,d6.$)(this,p,b=>super.read(p,b),g),this._restoreAuthoringPropsFromState(v)}write(p,g){if("loaded"!==this.loadStatus){const v=new Rn.Z("webmap:not-loaded","Web map must be loaded before it can be serialized");throw Wp.error("#toJSON()","Web map must be loaded before it can be serialized",this.loadError||this.loadStatus),v}return this._removeDanglingLayerRefs(),g=Bn(Ct({},g),{origin:"web-map",restrictedWebMapWriting:!0,webmap:this}),super.write(p,g)}save(p){var g=this;return(0,Un.Z)(function*(){p=p||{},g._validateItem(),yield g._updateFromPromise,yield g.load(),yield g._loadLayerContainers(),yield g._beforeSave(),yield g._validateMap();const v=g.portalItem,b={origin:"web-map",messages:[],writtenProperties:[],url:v.itemUrl&&(0,al.mN)(v.itemUrl),portal:v.portal||Vl.Z.getDefault()},C=g.write({},b);return g._validateJSONForWriting(b,p),yield g._updateItemProperties(v),yield g._updateItem(v,C,b),yield g._updateItemThumbnail(),v})()}saveAs(p,g){var v=this;return(0,Un.Z)(function*(){g=g||{};const b=v._getPortalItem(p);yield v._updateFromPromise,yield v.load(),yield v._loadLayerContainers(),yield v._beforeSave(),yield v._validateMap();const C={origin:"web-map",messages:[],writtenProperties:[],url:null,portal:b.portal},D=v.write({},C);v._validateJSONForWriting(C,g),yield v._updateItemPropertiesForSaveAs(b);const P=v._getThumbnailState();return yield v._createItem(b,D,C,g),v._restoreThumbnailFromState(P),yield v._updateItemThumbnail(),b})()}updateFrom(p,g){var v=this;return(0,Un.Z)(function*(){const b=v._updateFromInternal(p,g);v._updateFromPromise=b,yield b,b===v._updateFromPromise&&(v._updateFromPromise=null)})()}getLayerJSONFromResourceInfo(p){var g,v,b,C;const D=this.resourceInfo;return this._collectAllLayersJSON((0,Qj.xH)([null==D||null==(g=D.baseMap)?void 0:g.baseMapLayers,null==D?void 0:D.operationalLayers,null==(v=this.basemap)||null==(b=v.resourceInfo)||null==(C=b.data)?void 0:C.baseMapLayers])).find(P=>P.id===p.id)}_collectAllLayersJSON(p){return p.reduce((g,v)=>(g.push(v),"GroupLayer"===v.layerType&&(g=g.concat(this._collectAllLayersJSON(v.layers||[]))),g),[])}_writeLayers(p,g,v){return g=Bn(Ct({},g),{layerContainerType:v}),p.map(b=>(0,nn.Wg)((0,P6.Nw)(b,"tables"===v?null:this.getLayerJSONFromResourceInfo(b),g))).filter(Boolean).toArray()}_loadFromSource(){return this.resourceInfo?this._loadFromJSON(this.resourceInfo,{origin:"web-map"}):this.portalItem&&this.portalItem.id?this._loadFromItem(this.portalItem):Promise.resolve(null)}_loadFromItem(p){return p.load().catch(g=>{throw new Rn.Z("webmap:load-portal-item","Failed to load portal item",{error:g})}).then(()=>{if("Web Map"!==p.type)throw new Rn.Z("webmap:invalid-portal-item","Invalid portal item type '${type}', expected 'Web Map'",{type:p.type})}).then(()=>p.fetchData()).then(g=>(this.resourceInfo=g,this._readAndLoadFromJSON(g,{origin:"web-map",portal:p.portal||Vl.Z.getDefault()}))).then(()=>this._computeInitialViewpoint())}_readAndLoadFromJSON(p,g){const v=this._validateJSON(p);return this.read(v,g),this._loadFromJSON(v,g)}_validateJSON(p){const g=Rd.parse(p.version||"","webmap");return Bp.validate(g),p.version=`${g.major}.${g.minor}`,p}_loadFromJSON(p,g){const v={context:Bn(Ct({},g),{layerContainerType:"operational-layers"})};return this.portalItem&&(v.context.portal=this.portalItem.portal||Vl.Z.getDefault()),Promise.all([E.e(7534),E.e(1074)]).then(E.bind(E,71074)).then(({populateOperationalLayers:b})=>{const C=[],D=p.operationalLayers;D&&D.length&&C.push(b(this.layers,D,v));const P=Bn(Ct({},v),{context:Bn(Ct({},v.context),{layerContainerType:"tables"}),defaultLayerType:"ArcGISFeatureLayer"}),V=p.tables;return V&&V.length&&C.push(b(this.tables,V,P)),(0,Er.as)(C).then(()=>{})})}_computeInitialViewpoint(){var p=this;return(0,Un.Z)(function*(){var g,v;let b=p.initialViewProperties;if(null==(g=b)||null==(v=g.viewpoint)?void 0:v.targetGeometry)return;const C=yield p._getExtentFromItem();C&&(b=b?b.clone():new Np,b.viewpoint=new Fi.Z,b.viewpoint.targetGeometry=C,p.initialViewProperties=b)})()}_getExtentFromItem(){var p=this;return(0,Un.Z)(function*(){var g,v;const b=null==(g=p.initialViewProperties)?void 0:g.spatialReference,C=null==(v=p.portalItem)?void 0:v.extent;return b&&C?b.isWGS84?C.clone():b.isWebMercator?(0,Wl.$)(C):(yield E.e(5082).then(E.bind(E,35082))).getGeometryServiceURL(p.portalItem).then(D=>{const P=new Ky.Z;return P.geometries=[C],P.outSpatialReference=b,(0,$y.i)(D,P)}).then(D=>D[0]).catch(D=>(Wp.error("Error projecting item's extent:",D),null)):null})()}_removeDanglingLayerRefs(){const p=this.applicationProperties,g=p&&p.viewing&&p.viewing.search,v=D=>!!this.allLayers.find(P=>P.id===D);g&&g.layers&&(g.layers=g.layers.filter(D=>v(D.id))),g&&g.tables&&(g.tables=g.tables.filter(D=>!!this.tables.find(P=>P.id===D.id)));const b=p&&p.editing&&p.editing.locationTracking;b&&b.info&&!v(b.info.layerId)&&(p.editing=null);const C=this.presentation&&this.presentation.slides;C&&C.forEach(D=>{D.visibleLayers&&(D.visibleLayers=D.visibleLayers.filter(P=>v(P.id)))})}_validateMap(){var p=this;return(0,Un.Z)(function*(){var g;if(null==(g=p.basemap)||!g.baseLayers.length)throw new Rn.Z("webmap:save","Map does not have a valid basemap with a base layer.");let v=null;if(yield(0,dr.N1)(()=>{const b=function r6(p,g){var v,b,C;if((0,nn.Wi)(g)||(0,nn.Wi)(p))return{spatialReference:null,updating:!1};if("not-loaded"===g.loadStatus)return g.load(),{spatialReference:null,updating:!0};if(g.spatialReference)return{spatialReference:g.spatialReference,updating:!1};if(0===g.baseLayers.length)return{spatialReference:null,updating:!1};const D=g.baseLayers.getItemAt(0);switch(D.loadStatus){case"not-loaded":D.load();case"loading":return{spatialReference:null,updating:!0};case"failed":return{spatialReference:null,updating:!1}}const P=(("supportedSpatialReferences"in D?D.supportedSpatialReferences:null)||["tileInfo"in D?null==(v=D.tileInfo)?void 0:v.spatialReference:D.spatialReference]).filter(Boolean);return p.spatialReference?{spatialReference:null!=(b=null!=(C=P.find(V=>p.spatialReference.equals(V)))?C:P[0])?b:null,updating:!1}:{spatialReference:P[0],updating:!1}}(p.initialViewProperties,p.basemap);return v=b.spatialReference,!b.updating}),!(0,Tp.fS)(v,p.initialViewProperties.spatialReference))throw new Rn.Z("webmap:save","The spatial reference of the basemap is not compatible with the one from the map.",{expected:p.initialViewProperties.spatialReference,actual:v})})()}_validateItem(){if(!this.portalItem)throw Wp.error("save: requires the portalItem property to be set"),new Rn.Z("webmap:portal-item-not-set","Portal item to save to has not been set on the WebMap");this._validateItemType(this.portalItem)}_validateItemType(p){if(p.type!==cg)throw new Rn.Z("webmap:portal-item-wrong-type",`Portal item needs to have type "${cg}"`)}_loadLayerContainers(){const p=[];return this.basemap&&p.push(this.basemap.load()),this.ground&&p.push(this.ground.load()),(0,Er.as)(p).then(()=>{})}_beforeSave(){var p=this;return(0,Un.Z)(function*(){const g=[];for(const v of p.allLayers)if("beforeSave"in v&&"function"==typeof v.beforeSave){const b=v.beforeSave();b&&g.push(b)}yield(0,Er.as)(g)})()}_loadAllLayers(){const p=this._getAllLayersAndTables().map(g=>g.load());return(0,Er.as)(p).then(()=>{})}_getAllLayersAndTables(){return this.allLayers.concat(this.allTables)}_validateJSONForWriting(p,g){let v=p.messages.filter(b=>"error"===b.type).map(b=>new Rn.Z(b.name,b.message,b.details));if(g.ignoreUnsupported&&(v=v.filter(b=>"layer:unsupported"!==b.name&&"symbol:unsupported"!==b.name&&"symbol-layer:unsupported"!==b.name&&"property:unsupported"!==b.name&&"url:unsupported"!==b.name)),v.length>0)throw new Rn.Z("webmap:save","Failed to save webmap due to unsupported or invalid content. See 'details.errors' for more detailed information",{errors:v})}_updateItemProperties(p){var g=this;return(0,Un.Z)(function*(){p.extent=yield g._getWGS84Extent(g.initialViewProperties.viewpoint.targetGeometry),yield g._updateTypeKeywords(p)})()}_updateItemPropertiesForSaveAs(p){var g=this;return(0,Un.Z)(function*(){(0,Ns.ck)(p,ID),(0,Ns.ck)(p,AD),(0,Ns.ck)(p,LD),(0,Ns.ck)(p,jD),(0,Ns.ck)(p,UD),(0,Ns.ck)(p,"Offline Map Areas"),(0,Ns.ck)(p,"FieldMapsDisabled"),yield g._updateItemProperties(p)})()}_getWGS84Extent(p){var g=this;return(0,Un.Z)(function*(){const v=p.clone().normalize();let b;if(v.length>1)for(const C of v)b?C.width>b.width&&(b=C):b=C;else b=v[0];return g._projectToWGS84(b)})()}_projectToWGS84(p){var g=this;return(0,Un.Z)(function*(){const v=p.spatialReference;if(v.isWGS84)return p.clone();if(v.isWebMercator)return(0,Wl.Sx)(p);const b=yield E.e(5082).then(E.bind(E,35082)),C=yield b.getGeometryServiceURL(g.portalItem),D=new Ky.Z;return D.geometries=[p],D.outSpatialReference=Ni.Z.WGS84,(yield(0,$y.i)(C,D))[0]})()}_updateTypeKeywords(p){var g=this;return(0,Un.Z)(function*(){(0,Ns.qj)(p,PD),yield g._loadAllLayers(),g._evalCollectorKeyword(p),g._evalDataEditingKeyword(p),g._evalOfflineKeyword(p),g._evalDeveloperBasemapKeyword(p),p.typeKeywords&&(p.typeKeywords=p.typeKeywords.filter((v,b,C)=>C.indexOf(v)===b))})()}_evalCollectorKeyword(p){(0,Ns._$)(p,ID)||(0,Ns._$)(p,LD)||(0,Ns._$)(p,jD)||(0,Ns._$)(p,UD)||!this._hasEditableFeatureLayer()?(0,Ns.ck)(p,TD):(0,Ns.qj)(p,TD)}_evalDataEditingKeyword(p){this._hasEditableFeatureLayer()?(0,Ns.qj)(p,xD):(0,Ns.ck)(p,xD)}_evalOfflineKeyword(p){!(0,Ns._$)(p,AD)&&this._isOfflineCapableMap()?(0,Ns.qj)(p,RD):(0,Ns.ck)(p,RD)}_evalDeveloperBasemapKeyword(p){!function n6(p){return!(null==p||!p.baseLayers.concat(p.referenceLayers).some(aD))}(this.basemap)?(0,Ns.ck)(p,FD):(0,Ns.qj)(p,FD)}_hasEditableFeatureLayer(){return this._getAllLayersAndTables().some(p=>p.loaded&&this._isFeatureServiceLayer(p)&&p.capabilities.operations.supportsEditing&&p.editingEnabled)}_isFeatureServiceLayer(p){return!("feature"!==p.type||!p.source||"feature-layer"!==p.source.type)}_isOfflineCapableMap(){return this._getAllLayersAndTables().filter(p=>"group"!==p.type).every(p=>p.loaded&&this._isOfflineCapableLayer(p))}_isOfflineCapableLayer(p){return this._isFeatureServiceLayer(p)&&p.capabilities.operations.supportsSync||("tile"===p.type||"vector-tile"===p.type)&&(p.capabilities.operations.supportsExportTiles||this._isExportableAGOLTileLayer(p)||aD(p))&&p.spatialReference.equals(this.initialViewProperties.spatialReference)}_isExportableAGOLTileLayer(p){return"tile"===p.type&&(0,xp.h3)(p.url)&&Z6.some(g=>p.url.toLowerCase().indexOf("/"+g+"/")>-1)}_updateItem(p,g,v){var b=this;return(0,Un.Z)(function*(){yield p.update({data:g}),b._syncUpInstanceWithItem(p,g,v)})()}_createItem(p,g,v,b){var C=this;return(0,Un.Z)(function*(){const D=C.portalItem,P=!!(D&&D.id&&D.portal.user),V=p.portal;if(yield V._signIn(),!(yield C._canCopyItem(D,P,V)))throw new Rn.Z("webmap:save-as-copy-not-allowed","Owner of this map does not allow others to save a copy");yield V.user.addItem({item:p,folder:b.folder,data:g}),C.portalItem=p,C._syncUpInstanceWithItem(p,g,v)})()}_canCopyItem(p,g,v){return(0,Un.Z)(function*(){return!((0,nn.pC)(p)&&p.id&&p.typeKeywords&&p.typeKeywords.indexOf("useOnly")>-1)||p.portal.portalHostname===v.portalHostname&&(g||(yield p.reload()),"admin"===p.itemControl||"update"===p.itemControl)})()}_syncUpInstanceWithItem(p,g,v){Ip.w.prototype.read.call(this,{version:g.version,authoringApp:g.authoringApp,authoringAppVersion:g.authoringAppVersion},{origin:"web-map",ignoreDefaults:!0,url:p.itemUrl&&(0,al.mN)(p.itemUrl)}),(0,c6.D)(v),this.resourceInfo=g}_updateItemThumbnail(){var p=this;return(0,Un.Z)(function*(){p.thumbnailUrl&&p._isOverridden("thumbnailUrl")&&(yield p.portalItem.updateThumbnail({thumbnail:p.thumbnailUrl,filename:p._thumbnailFilename}),p._clearThumbnailOverride())})()}_getPortalItem(p){let g=vD.default.from(p);return g.id&&(g=g.clone(),g.id=null),g.type||(g.type=cg),g.portal||(g.portal=Vl.Z.getDefault()),this._validateItemType(g),g}_updateFromInternal(p,g){var v=this;return(0,Un.Z)(function*(){if(g=g||{},yield(0,dr.N1)(()=>p.ready),v._updateInitialViewProperties(p,g),p.map===v)for(const b of p.allLayerViews)for(const C of["visible","featureEffect"])C in b&&C in b.layer&&b._isOverridden(C)&&(b.layer[C]=b[C]);yield v._updateThumbnailUrl(p,g)})()}_updateInitialViewProperties(p,g){var v;if(g.backgroundExcluded||(this.initialViewProperties.background=null==(v=p.background)?void 0:v.clone()),this.initialViewProperties.spatialReference=p.spatialReference.clone(),g.viewpointExcluded||(this.initialViewProperties.viewpoint=new Fi.Z({rotation:p.rotation,scale:g.scalePreserved?p.scale:null,targetGeometry:this._getViewExtent(p)})),!g.widgetsExcluded)for(const b of p.persistableViewModels)b.updateWebDocument(this)}_getViewExtent(p){const g=p.center.clone().normalize(),v=p.extent.clone(),b=v.width/2;return v.xmin=g.x-b,v.xmax=g.x+b,v}_updateThumbnailUrl(p,g){var v=this;return(0,Un.Z)(function*(){if(g.thumbnailExcluded)return;const b=function w6(p,g){g=g||O6;let{width:v,height:b}=g;const C=v/b;return C<1.5?b=v/1.5:C>1.5&&(v=1.5*b),v>p.width&&(b*=p.width/v,v=p.width),b>p.height&&(v*=p.height/b,b=p.height),{width:Math.round(v),height:Math.round(b)}}(p,g.thumbnailSize),C=yield p.takeScreenshot({format:"png",width:b.width,height:b.height});v._setAutoGeneratedThumbnail(C.dataUrl)})()}_setAutoGeneratedThumbnail(p){this.thumbnailUrl=p,this._thumbnailFilename=null}_clearThumbnailOverride(){this._clearOverride("thumbnailUrl"),this.clear("thumbnailUrl","user"),this._thumbnailFilename=null}_generateCustomThumbnailFilename(p){if((0,al.HK)(p)){const g=(0,al.sJ)(p),v=g&&g.mediaType,b=v&&Ld.get(v.toLowerCase())||null,C=`thumbnail${Date.now()}`;return b?`${C}.${b}`:C}return null}_getThumbnailState(){let p=this.thumbnailUrl;return p&&(p=this._isOverridden("thumbnailUrl")?p:(0,al.ZN)(p,"w","8192")),{thumbnailUrl:p,filename:this._thumbnailFilename}}_restoreThumbnailFromState(p){this.thumbnailUrl=p.thumbnailUrl,this._thumbnailFilename=p.filename}_getAuthoringPropsState(){return{authoringApp:this.authoringApp,authoringAppVersion:this.authoringAppVersion,isAuthoringAppSetByUser:this._isAuthoringAppSetByUser,isAuthoringAppVersionSetByUser:this._isAuthoringAppVersionSetByUser}}_restoreAuthoringPropsFromState(p){p.isAuthoringAppSetByUser?this.authoringApp=p.authoringApp:this._isAuthoringAppSetByUser=!1,p.isAuthoringAppVersionSetByUser?this.authoringAppVersion=p.authoringAppVersion:this._isAuthoringAppVersionSetByUser=!1}static fromJSON(p){const g=p;if(!g)throw new Rn.Z("webmap:empty-resource","Expected a JSON resource but got nothing");return new this({resourceInfo:g})}};Xr.VERSION=Bp,(0,ye._)([(0,Oe.Cb)({type:j6,json:{write:!0}})],Xr.prototype,"applicationProperties",void 0),(0,ye._)([(0,Oe.Cb)({type:String,json:{write:{allowNull:!0,ignoreOrigin:!0}}})],Xr.prototype,"authoringApp",null),(0,ye._)([(0,ao.c)("authoringApp")],Xr.prototype,"writeAuthoringApp",null),(0,ye._)([(0,Oe.Cb)({type:String,json:{write:{allowNull:!0,ignoreOrigin:!0}}})],Xr.prototype,"authoringAppVersion",null),(0,ye._)([(0,ao.c)("authoringAppVersion")],Xr.prototype,"writeAuthoringAppVersion",null),(0,ye._)([(0,Oe.Cb)({json:{read:{source:"baseMap"},write:{target:"baseMap"}}})],Xr.prototype,"basemap",void 0),(0,ye._)([(0,Oe.Cb)({type:wD,json:{write:{overridePolicy:p=>({enabled:!!(p&&p.length>0),ignoreOrigin:!0})}}})],Xr.prototype,"bookmarks",void 0),(0,ye._)([(0,Oe.Cb)({type:b6,json:{read:{source:"mapFloorInfo"},write:{target:"mapFloorInfo"}}})],Xr.prototype,"floorInfo",void 0),(0,ye._)([(0,Oe.Cb)({type:Np,nonNullable:!0,json:{read:{source:["background","initialState.viewpoint","mapRangeInfo","spatialReference"]},write:{ignoreOrigin:!0,target:{background:{type:Fp},"initialState.viewpoint":{type:Fi.Z},mapRangeInfo:{type:Gy},spatialReference:{type:Ni.Z}}}}})],Xr.prototype,"initialViewProperties",void 0),(0,ye._)([(0,La.r)("initialViewProperties")],Xr.prototype,"readInitialViewProperties",null),(0,ye._)([(0,ao.c)("initialViewProperties")],Xr.prototype,"writeInitialViewProperties",null),(0,ye._)([(0,Oe.Cb)({json:{read:!1,write:{target:"operationalLayers",ignoreOrigin:!0}}})],Xr.prototype,"layers",void 0),(0,ye._)([(0,ao.c)("layers")],Xr.prototype,"writeLayers",null),(0,ye._)([(0,Oe.Cb)({type:vD.default})],Xr.prototype,"portalItem",void 0),(0,ye._)([(0,Oe.Cb)({json:{write:!0}})],Xr.prototype,"presentation",void 0),(0,ye._)([(0,Oe.Cb)()],Xr.prototype,"resourceInfo",void 0),(0,ye._)([(0,Oe.Cb)({readOnly:!0,type:Rd,json:{read:{source:"version"},write:{allowNull:!0,ignoreOrigin:!0,target:"version",isRequired:!0}}})],Xr.prototype,"sourceVersion",void 0),(0,ye._)([(0,La.r)("sourceVersion")],Xr.prototype,"readSourceVersion",null),(0,ye._)([(0,ao.c)("sourceVersion")],Xr.prototype,"writeSourceVersion",null),(0,ye._)([(0,Oe.Cb)({json:{read:!1,write:{ignoreOrigin:!0}}})],Xr.prototype,"tables",void 0),(0,ye._)([(0,ao.c)("tables")],Xr.prototype,"writeTables",null),(0,ye._)([(0,Oe.Cb)()],Xr.prototype,"thumbnailUrl",null),(0,ye._)([(0,Oe.Cb)({type:S6,json:{write:!0}})],Xr.prototype,"widgets",void 0),(0,ye._)([(0,Oe.Cb)({type:N6,json:{read:!0,write:!0}})],Xr.prototype,"utilityNetworks",void 0),Xr=(0,ye._)([(0,bn.j)("esri.WebMap")],Xr);const $6=Xr;var ja=E(88879),ND=E(56354),ii=E(23841),BD=E(14889),K6=E(59289),hs=E(49672),ga=E(55915),z6=E(2584),Vp=E(35575),Co=E(72392);const Zp={widthBreakpoint:{getValue(p){const g=p.viewSize[0],v=p.breakpoints,b=this.values;return g<=v.xsmall?b.xsmall:g<=v.small?b.small:g<=v.medium?b.medium:g<=v.large?b.large:b.xlarge},values:{xsmall:"xsmall",small:"small",medium:"medium",large:"large",xlarge:"xlarge"},valueToClassName:{xsmall:"esri-view-width-xsmall esri-view-width-less-than-small esri-view-width-less-than-medium esri-view-width-less-than-large esri-view-width-less-than-xlarge",small:"esri-view-width-small esri-view-width-greater-than-xsmall esri-view-width-less-than-medium esri-view-width-less-than-large esri-view-width-less-than-xlarge",medium:"esri-view-width-medium esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-less-than-large esri-view-width-less-than-xlarge",large:"esri-view-width-large esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-greater-than-medium esri-view-width-less-than-xlarge",xlarge:"esri-view-width-xlarge esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-greater-than-medium esri-view-width-greater-than-large"}},heightBreakpoint:{getValue(p){const g=p.viewSize[1],v=p.breakpoints,b=this.values;return g<=v.xsmall?b.xsmall:g<=v.small?b.small:g<=v.medium?b.medium:g<=v.large?b.large:b.xlarge},values:{xsmall:"xsmall",small:"small",medium:"medium",large:"large",xlarge:"xlarge"},valueToClassName:{xsmall:"esri-view-height-xsmall esri-view-height-less-than-small esri-view-height-less-than-medium esri-view-height-less-than-large esri-view-height-less-than-xlarge",small:"esri-view-height-small esri-view-height-greater-than-xsmall esri-view-height-less-than-medium esri-view-height-less-than-large esri-view-height-less-than-xlarge",medium:"esri-view-height-medium esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-less-than-large esri-view-height-less-than-xlarge",large:"esri-view-height-large esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-greater-than-medium esri-view-height-less-than-xlarge",xlarge:"esri-view-height-xlarge esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-greater-than-medium esri-view-height-greater-than-large"}},orientation:{getValue(p){const g=p.viewSize,C=this.values;return g[1]>=g[0]?C.portrait:C.landscape},values:{portrait:"portrait",landscape:"landscape"},valueToClassName:{portrait:"esri-view-orientation-portrait",landscape:"esri-view-orientation-landscape"}}},dg={xsmall:544,small:768,medium:992,large:1200};function hg(p,g){return g?Zp[p].valueToClassName[g].split(" "):[]}const k6=p=>{let g=class extends p{constructor(...v){super(...v),this._breakpointsHandles=new Co.Z,this.orientation=null,this.widthBreakpoint=null,this.heightBreakpoint=null,this.breakpoints=dg}initialize(){this._breakpointsHandles.add((0,dr.YP)(()=>[this.breakpoints,this.size],()=>this._updateClassNames(),dr.nn))}destroy(){this.destroyed||(this._removeActiveClassNames(),this._breakpointsHandles=(0,nn.SC)(this._breakpointsHandles))}set breakpoints(v){if(v===this._get("breakpoints"))return;const b=function G6(p){return p&&p.xsmall<p.small&&p.small<p.medium&&p.medium<p.large}(v);if(!b){const C=JSON.stringify(dg,null,2);console.warn("provided breakpoints are not valid, using defaults:"+C)}this._set("breakpoints",Ct({},v=b?v:dg))}_updateClassNames(){if(!this.container)return;const v=Vp.Z.acquire(),b=Vp.Z.acquire();let C,D=!1;for(C in Zp){const P=this[C],V=Zp[C].getValue({viewSize:this.size,breakpoints:this.breakpoints});P!==V&&(D=!0,this[C]=V,hg(C,P).forEach(ae=>b.push(ae)),hg(C,V).forEach(ae=>v.push(ae)))}D&&(this._applyClassNameChanges(v,b),Vp.Z.release(v),Vp.Z.release(b))}_applyClassNameChanges(v,b){const C=this.container;C&&(b.forEach(D=>C.classList.remove(D)),v.forEach(D=>C.classList.add(D)))}_removeActiveClassNames(){const v=this.container;if(!v)return;let b;for(b in Zp)hg(b,this[b]).forEach(C=>v.classList.remove(C))}};return(0,ye._)([(0,Oe.Cb)()],g.prototype,"breakpoints",null),(0,ye._)([(0,Oe.Cb)()],g.prototype,"orientation",void 0),(0,ye._)([(0,Oe.Cb)()],g.prototype,"widthBreakpoint",void 0),(0,ye._)([(0,Oe.Cb)()],g.prototype,"heightBreakpoint",void 0),g=(0,ye._)([(0,bn.j)("esri.views.BreakpointsOwner")],g),g};var dl=E(40764),zl=E(50618),WD=(E(50645),E(62996)),VD=E(70257);let hl=class extends Ur.Z{constructor(){super(...arguments),this.items=new ds.Z,this._watchUpdatingTracking=new VD.t,this._callbacks=new Map,this._projector=(0,WD.E)(),this._hiddenProjector=(0,WD.E)()}get needsRender(){return this.items.length>0}initialize(){const p=document.createElement("div");p.className="esri-overlay-surface",this._set("surface",p),this._hiddenSurface=document.createElement("div"),this._hiddenSurface.setAttribute("style","visibility: hidden;"),p.appendChild(this._hiddenSurface),this._watchUpdatingTracking.addOnCollectionChange(()=>this.items,g=>{for(const v of g.added){const b=()=>v.render();this._callbacks.set(v,b),this._projector.append(this.surface,b)}for(const v of g.removed){const b=this._projector.detach(this._callbacks.get(v));this.surface.removeChild(b.domNode),this._callbacks.delete(v)}})}addItem(p){this.items.add(p)}removeItem(p){this.items.remove(p)}destroy(){this.items.removeAll(),this._callbacks.forEach(p=>this._projector.detach(p)),this._callbacks=null,this._projector=null,this._watchUpdatingTracking.destroy()}render(){this._projector.renderNow()}computeBoundingRect(p){const g=this._hiddenSurface,v=this._hiddenProjector;let b=null;const C=()=>(b=p.render(),b);v.append(g,C),v.renderNow();const D={left:0,top:0,right:0,bottom:0};if(b&&b.domNode){const P=b.domNode.getBoundingClientRect();D.left=P.left,D.top=P.top,D.right=P.right,D.bottom=P.bottom}for(v.detach(C);g.firstChild;)g.removeChild(g.firstChild);return D}overlaps(p,g){const v=this.computeBoundingRect(p),b=this.computeBoundingRect(g);return Math.max(v.left,b.left)<=Math.min(v.right,b.right)&&Math.max(v.top,b.top)<=Math.min(v.bottom,b.bottom)}get hasVisibleItems(){return this.items.some(p=>p.visible)}renderCanvas(p){if(!this.items.some(v=>v.visible))return;const g=p.getContext("2d");g.save(),g.font=`10px ${getComputedStyle(this.surface).fontFamily}`,this.items.forEach(v=>{g.save(),v.renderCanvas(g),g.restore()}),g.restore()}};(0,ye._)([(0,Oe.Cb)({readOnly:!0})],hl.prototype,"surface",void 0),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],hl.prototype,"items",void 0),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],hl.prototype,"needsRender",null),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],hl.prototype,"_watchUpdatingTracking",void 0),(0,ye._)([(0,Oe.Cb)({readOnly:!0,aliasOf:"_watchUpdatingTracking.updating"})],hl.prototype,"updating",void 0),hl=(0,ye._)([(0,bn.j)("esri.views.overlay.ViewOverlay")],hl);const ZD=hl;E(52515);var Ua=E(17770),pg=E(7074),Jn=E(27e3),Nn=E(83960),oi=E(6785),$D=E(27306),jd=E(21286),Gl=E(77275),KD=E(16730),fg=E(15348);const zD=["B","kB","MB","GB","TB"];var kl=E(80542),Y6=E(87183),GD=E(67736),Ud=E(88411),kD=E(36630),Q6=E(66845),HD=E(46679);const JD=ns.Z.getLogger("esri.widgets.Feature.support.featureUtils"),q6=/href=(""|'')/gi,e8=/(\{([^\{\r\n]+)\})/g,t8=/\'/g,YD=/^\s*expression\//i,n8=/(\n)/gi,r8=/[\u00A0-\u9999<>\&]/gim,s8=/href\s*=\s*(?:\"([^\"]+)\"|\'([^\']+)\')/gi,i8=/^(?:mailto:|tel:)/,QD="relationships/",mg=(0,Ud.Ze)("short-date-short-time");function XD(p){if(!(0,nn.Wi)(p))return p.get("sourceLayer")||p.get("layer")}function $p(p,g){return yg.apply(this,arguments)}function yg(){return(yg=(0,Un.Z)(function*(p,g){return"function"==typeof p?p.call(null,g):p})).apply(this,arguments)}function qD(p=""){if(p)return!i8.test(p.trim().toLowerCase())}function eS(p){return!!p&&YD.test(p)}function tS(p,g){const v=function o8(p,g){if(!eS(g)||!p)return null;const v=g.replace(YD,"").toLowerCase();let b;return p.some(C=>C.name.toLowerCase()===v&&(b=C,!0)),b}(g,null==p?void 0:p.fieldName);return v?v.title||null:p?p.label||p.fieldName:null}function Kp(p,g){const v=gg(g,p);return v?v.name:p}function gg(p,g){return p&&"function"==typeof p.getField?p.getField(g):null}function nS(p){return`${p}`.trim()}function Hl({attributes:p,globalAttributes:g,layer:v,text:b,expressionAttributes:C,fieldInfoMap:D}){return b?_g({formattedAttributes:g,template:p8(b,Ct(Ct(Ct({},g),C),p),v),fieldInfoMap:D}):""}function _g({formattedAttributes:p,template:g,fieldInfoMap:v}){return nS(function l8(p){return p.replace(q6,"")}((0,Gl.gx)((0,Gl.gx)(g,b=>function a8(p,g){const v=g.get(p.toLowerCase());return`{${v&&v.fieldName||p}}`}(b,v)),p)))}function vg(p,g){return p.replace(e8,(v,b,C)=>{const D=gg(g,C);return D?`{${D.name}}`:b})}function p8(p,g,v){const b=vg(p,v);return b&&b.replace(s8,(C,D,P)=>function h8(p,g,v){const b=(g=nS(g))&&"{"!==g[0];return(0,Gl.gx)(p,function d8(p,g=!1){const v=Ct({},p);return Object.keys(v).forEach(b=>function c8(p,g,v=!1){const b=g[p];if("string"==typeof b){const C="%27",D=(v?encodeURIComponent(b):b).replace(t8,C);g[p]=D}}(b,v,g)),v}(v,b))}(C,D||P,g))}function rS(p,g){const b=g.fieldName,C=sS(g.fieldInfos,b),D=null==C?void 0:C.clone(),P=g.preventPlacesFormatting,V=g.layer,ae=gg(V,b);if(D&&"date"===(null==ae?void 0:ae.type)){const Pe=D.format||new Q6.Z;Pe.dateFormat=Pe.dateFormat||"short-date-short-time",Pe.dateTimeFormatOptions=function m8(p){return"feature"===(null==p?void 0:p.type)}(V)&&V.datesInUnknownTimezone||function g8(p){return!(null==p||!p.layer)}(V)&&function y8(p){return"map-image"===(null==p?void 0:p.type)}(V.layer)&&V.layer.datesInUnknownTimezone?{timeZone:"UTC"}:null,D.format=Pe}const be=D&&D.format;return"string"==typeof(p=function f8(p,g){if("string"==typeof p&&g&&null==g.dateFormat&&(null!=g.places||null!=g.digitSeparator)){const v=Number(p);if(!isNaN(v))return v}return p}(p,be))||null==p||null==be?Fd(p):P?(0,fg.uf)(p,Bn(Ct({},(0,fg.sh)(be)),{minimumFractionDigits:0,maximumFractionDigits:20})):be.format(p)}function sS(p,g){if(!p||!p.length||!g)return;const v=g.toLowerCase();let b;return p.some(C=>!(!C.fieldName||C.fieldName.toLowerCase()!==v||(b=C,0))),b}function iS(p){const g=[];if(!p)return g;const{fieldInfos:v,content:b}=p;return v&&g.push(...v),b&&Array.isArray(b)&&b.forEach(C=>{if("fields"===C.type){const D=C&&C.fieldInfos;D&&g.push(...D)}}),g}function Eg(p){return p.replace(r8,g=>`&#${g.charCodeAt(0)};`)}function Fd(p){return"string"==typeof p?p.replace(n8,'<br class="esri-text-new-line" />'):p}function bg({fieldInfos:p,attributes:g,layer:v,graphic:b,fieldInfoMap:C,relatedInfos:D}){const P={};return null==D||D.forEach(V=>function w8(p,g){p&&g&&(g.relatedFeatures&&g.relatedFeatures&&g.relatedFeatures.forEach(v=>oS({attributes:p,graphic:v,relatedInfo:g})),g.relatedStatsFeatures&&g.relatedStatsFeatures&&g.relatedStatsFeatures.forEach(v=>oS({attributes:p,graphic:v,relatedInfo:g})))}(P,V)),Object.keys(g).forEach(V=>{P[V]=function M8(p){const{value:g,fieldName:v,fieldInfos:b,fieldInfoMap:C,layer:D,graphic:P}=p;if(null==g)return"";const V=function v8({fieldName:p,value:g,graphic:v,layer:b}){if(Fa(p)||!b||"function"!=typeof b.getFieldDomain)return null;const C=b.getFieldDomain(p,{feature:v});return C&&"coded-value"===C.type?C.getName(g):null}({fieldName:v,value:g,graphic:P,layer:D});if(V)return V;const ae=function _8({fieldName:p,graphic:g,layer:v}){if(Fa(p)||!v||"function"!=typeof v.getFeatureType)return null;const{typeIdField:b}=v;if(!b||p!==b)return null;const C=v.getFeatureType(g);return C?C.name:null}({fieldName:v,graphic:P,layer:D});if(ae)return ae;if(C.get(v.toLowerCase()))return rS(g,{fieldInfos:b,fieldName:v,layer:D});const be=D&&D.fieldsIndex;return be&&be.isDateField(v)?(0,Ud.p6)(g,mg):Fd(g)}({fieldName:V,fieldInfos:p,fieldInfoMap:C,layer:v,value:g[V],graphic:b})}),P}function C8(p,g){return Mg.apply(this,arguments)}function Mg(){return(Mg=(0,Un.Z)(function*(p,g){var v,b;const{layer:C,graphic:D,outFields:P,objectIds:V,returnGeometry:ae,spatialReference:be}=p,Pe=V[0];if("number"!=typeof Pe&&"string"!=typeof Pe)return JD.warn("Could not query required fields for the specified feature. The feature's ID is invalid.",{layer:C,graphic:D,objectId:Pe,requiredFields:P}),null;if(null==(v=C.capabilities)||null==(b=v.operations)||!b.supportsQuery)return JD.warn("The specified layer cannot be queried. The following fields will not be available.",{layer:C,graphic:D,requiredFields:P,returnGeometry:ae}),null;const Fe=C.createQuery();return Fe.objectIds=V,Fe.outFields=null!=P&&P.length?P:[C.objectIdField],Fe.returnGeometry=!!ae,Fe.returnZ=!!ae,Fe.returnM=!!ae,Fe.outSpatialReference=be,(yield C.queryFeatures(Fe,g)).features[0]})).apply(this,arguments)}function D8(p){return Cg.apply(this,arguments)}function Cg(){return(Cg=(0,Un.Z)(function*(p){var g;if(null==(g=p.expressionInfos)||!g.length)return!1;const v=yield(0,HD.LC)(),{arcadeUtils:{hasGeometryFunctions:b}}=v;return b(p)})).apply(this,arguments)}function Dg(){return(Dg=(0,Un.Z)(function*({graphic:p,popupTemplate:g,layer:v,spatialReference:b},C){if(!v||!g||("function"==typeof v.load&&(yield v.load(C)),!p.attributes))return;const D=p.attributes[v.objectIdField];if(null==D)return;const P=[D],V=yield g.getRequiredFields(v.fieldsIndex),ae=(0,kD.R9)(V,p),be=ae?[]:V,Pe=g.returnGeometry||(yield D8(g));if(ae&&!Pe)return;const Fe=yield C8({layer:v,graphic:p,outFields:be,objectIds:P,returnGeometry:Pe,spatialReference:b},C);Fe&&(Fe.geometry&&(p.geometry=Fe.geometry),Fe.attributes&&(p.attributes=Ct(Ct({},p.attributes),Fe.attributes)))})).apply(this,arguments)}function Fa(p=""){return!!p&&-1!==p.indexOf(QD)}function oS({attributes:p,graphic:g,relatedInfo:v}){p&&g&&v&&Object.keys(g.attributes).forEach(b=>{const C=function O8(p){return p?`${QD}${p.layerId}/${p.fieldName}`:""}({layerId:v.relation.id.toString(),fieldName:b});p[C]=g.attributes[b]})}const aS=p=>{if(!p)return!1;const g=p.toUpperCase();return g.indexOf("CURRENT_TIMESTAMP")>-1||g.indexOf("CURRENT_DATE")>-1||g.indexOf("CURRENT_TIME")>-1},lS=({layer:p,method:g,query:v,definitionExpression:b})=>{var C,D;if(null==(C=p.capabilities)||null==(D=C.query)||!D.supportsCacheHint||"attachments"===g)return;const P=(0,nn.pC)(v.where)&&v.where,V=(0,nn.pC)(v.geometry)&&v.geometry;aS(b)||aS(P)||"extent"===(null==V?void 0:V.type)||"tile"===v.resultType||(v.cacheHint=!0)},uS={editing:!1,operations:{add:!0,update:!0,delete:!0}},cS=ds.Z.ofType(Y6.Z);let $o=class extends kl.r{constructor(p){super(p),this._getAttachmentsPromise=null,this._attachmentLayer=null,this.abilities=Ct({},uS),this.activeAttachmentInfo=null,this.attachmentInfos=new cS,this.graphic=null,this.mode="view",this.handles.add([(0,Jn.S1)(this,"graphic",()=>this._graphicChanged())])}destroy(){this._attachmentLayer=null,this.graphic=null}castAbilities(p){return Ct(Ct({},uS),p)}get state(){return this._getAttachmentsPromise?"loading":this.graphic?"ready":"disabled"}get supportsResizeAttachments(){return this.get("graphic.layer.capabilities.operations.supportsResizeAttachments")||!1}getAttachments(){var p=this;return(0,Un.Z)(function*(){const{_attachmentLayer:g,attachmentInfos:v}=p;if(!g||"function"!=typeof g.queryAttachments)throw new Rn.Z("invalid-layer","getAttachments(): A valid layer is required.");const b=p._getFeatureId(),C=new GD.Z({objectIds:[b],returnMetadata:!0}),D=[],P=g.queryAttachments(C).then(ae=>ae[b]||D).catch(()=>D);p._getAttachmentsPromise=P,p.notifyChange("state");const V=yield P;return v.removeAll(),V.length&&v.addMany(V),p._getAttachmentsPromise=null,p.notifyChange("state"),V})()}addAttachment(p){var g=this;return(0,Un.Z)(function*(){const{_attachmentLayer:v,attachmentInfos:b,graphic:C,abilities:D}=g;if(!p)throw new Rn.Z("invalid-attachment","addAttachment(): An attachment is required.",{attachment:p});if(!D.operations.add)throw new Rn.Z("invalid-abilities","addAttachment(): add abilities are required.");if(!v||"function"!=typeof v.addAttachment)throw new Rn.Z("invalid-layer","addAttachment(): A valid layer is required.");const P=v.addAttachment(C,p).then(ae=>g._queryAttachment(ae.objectId)),V=yield P;return b.add(V),V})()}deleteAttachment(p){var g=this;return(0,Un.Z)(function*(){const{_attachmentLayer:v,attachmentInfos:b,graphic:C,abilities:D}=g;if(!p)throw new Rn.Z("invalid-attachment-info","deleteAttachment(): An attachmentInfo is required.",{attachmentInfo:p});if(!D.operations.delete)throw new Rn.Z("invalid-abilities","deleteAttachment(): delete abilities are required.");if(!v||"function"!=typeof v.deleteAttachments)throw new Rn.Z("invalid-layer","deleteAttachment(): A valid layer is required.");const P=v.deleteAttachments(C,[p.id]).then(()=>p),V=yield P;return b.remove(V),V})()}updateAttachment(p,g=this.activeAttachmentInfo){var v=this;return(0,Un.Z)(function*(){const{_attachmentLayer:b,attachmentInfos:C,graphic:D,abilities:P}=v;if(!p)throw new Rn.Z("invalid-attachment","updateAttachment(): An attachment is required.",{attachment:p});if(!g)throw new Rn.Z("invalid-attachment-info","updateAttachment(): An attachmentInfo is required.",{attachmentInfo:g});if(!P.operations.update)throw new Rn.Z("invalid-abilities","updateAttachment(): Update abilities are required.");const V=C.findIndex(Pe=>Pe===g);if(!b||"function"!=typeof b.updateAttachment)throw new Rn.Z("invalid-layer","updateAttachment(): A valid layer is required.");const ae=b.updateAttachment(D,g.id,p).then(Pe=>v._queryAttachment(Pe.objectId)),be=yield ae;return C.splice(V,1,be),be})()}_queryAttachment(p){var g=this;return(0,Un.Z)(function*(){if(!p)throw new Rn.Z("invalid-attachment-id","Could not query attachment.");const{_attachmentLayer:v}=g,b=g._getFeatureId(),C=new GD.Z({objectIds:[b],attachmentsWhere:`AttachmentId=${p}`,returnMetadata:!0});return v.queryAttachments(C).then(D=>D[b][0])})()}_getFeatureId(){const{_attachmentLayer:p,graphic:g}=this;if(!p||!g)return null;const{objectIdField:v}=p,{attributes:b}=g;return b&&b[v]}_graphicChanged(){this.graphic&&(this._setAttachmentLayer(),this.getAttachments().catch(()=>{}))}_setAttachmentLayer(){const{graphic:p}=this,g=XD(p);this._attachmentLayer=g?"scene"===g.type&&(0,nn.pC)(g.associatedLayer)?g.associatedLayer:g:null}};(0,ye._)([(0,Oe.Cb)()],$o.prototype,"abilities",void 0),(0,ye._)([(0,lo.p)("abilities")],$o.prototype,"castAbilities",null),(0,ye._)([(0,Oe.Cb)()],$o.prototype,"activeAttachmentInfo",void 0),(0,ye._)([(0,Oe.Cb)({readOnly:!0,type:cS})],$o.prototype,"attachmentInfos",void 0),(0,ye._)([(0,Oe.Cb)({type:ja.Z})],$o.prototype,"graphic",void 0),(0,ye._)([(0,Oe.Cb)()],$o.prototype,"mode",void 0),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],$o.prototype,"state",null),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],$o.prototype,"supportsResizeAttachments",null),$o=(0,ye._)([(0,bn.j)("esri.widgets.Attachments.AttachmentsViewModel")],$o);const Sg=$o;var dS=E(54346),Bs=E(38570),ai=E(25552),Ft=E(94450);const hS={addButton:!0,addSubmitButton:!0,cancelAddButton:!0,cancelUpdateButton:!0,deleteButton:!0,errorMessage:!0,progressBar:!0,updateButton:!0},Og=window.CSS;let Di=class extends oi.Z{constructor(p,g){super(p,g),this.abilities=null,this.displayType="auto",this.graphic=null,this.label=void 0,this.messages=null,this.messagesUnits=null,this.selectedFile=null,this.submitting=!1,this.viewModel=new Sg,this.visibleElements=Ct({},hS),this._supportsImageOrientation=Og&&Og.supports&&Og.supports("image-orientation","from-image"),this._addAttachmentForm=null,this._updateAttachmentForm=null}initialize(){this.own((0,Jn.on)(this,"viewModel.attachmentInfos","change",()=>this.scheduleRender()),(0,Jn.S1)(this,"viewModel.mode",()=>this._modeChanged()))}get effectiveDisplayType(){const{displayType:p}=this;return p&&"auto"!==p?p:this.viewModel.supportsResizeAttachments?"preview":"list"}castVisibleElements(p){return Ct(Ct({},hS),p)}addAttachment(){const{_addAttachmentForm:p,viewModel:g}=this;return this._set("submitting",!0),this._set("error",null),g.addAttachment(p).then(v=>(this._set("submitting",!1),this._set("error",null),g.mode="view",v)).catch(v=>{throw this._set("submitting",!1),this._set("error",new Rn.Z("attachments:add-attachment",this.messages.addErrorMessage,v)),v})}deleteAttachment(p){const{viewModel:g}=this;return this._set("submitting",!0),this._set("error",null),g.deleteAttachment(p).then(v=>(this._set("submitting",!1),this._set("error",null),g.mode="view",v)).catch(v=>{throw this._set("submitting",!1),this._set("error",new Rn.Z("attachments:delete-attachment",this.messages.deleteErrorMessage,v)),v})}updateAttachment(){const{viewModel:p}=this,{_updateAttachmentForm:g}=this;return this._set("submitting",!0),this._set("error",null),p.updateAttachment(g).then(v=>(this._set("submitting",!1),this._set("error",null),p.mode="view",v)).catch(v=>{throw this._set("submitting",!1),this._set("error",new Rn.Z("attachments:update-attachment",this.messages.updateErrorMessage,v)),v})}render(){const{submitting:p,viewModel:g}=this,{state:v}=g;return(0,Ft.u)("div",{class:this.classes("esri-attachments","esri-widget")},p?this.renderProgressBar():null,"loading"===v?this.renderLoading():this.renderAttachments(),this.renderErrorMessage())}renderErrorMessage(){const{error:p,visibleElements:g}=this;return p&&g.errorMessage?(0,Ft.u)("div",{key:"error-message",class:"esri-attachments__error-message"},p.message):null}renderAttachments(){const{mode:p,activeAttachmentInfo:g}=this.viewModel;return"add"===p?this.renderAddForm():"edit"===p?this.renderDetailsForm(g):this.renderAttachmentContainer()}renderLoading(){return(0,Ft.u)("div",{class:"esri-attachments__loader-container",key:"loader"},(0,Ft.u)("div",{class:"esri-attachments__loader"}))}renderProgressBar(){return this.visibleElements.progressBar?(0,Ft.u)("div",{class:"esri-attachments__progress-bar",key:"progress-bar"}):null}renderAddForm(){const{submitting:p,selectedFile:g}=this,v=p||!g,b=this.visibleElements.cancelAddButton?(0,Ft.u)("button",{type:"button",bind:this,disabled:p,onclick:this._cancelForm,class:this.classes("esri-button","esri-button--tertiary","esri-button--small","esri-button--half",p&&"esri-button--disabled")},this.messages.cancel):null,C=this.visibleElements.addSubmitButton?(0,Ft.u)("button",{type:"submit",disabled:v,class:this.classes("esri-button","esri-button--secondary","esri-button--small","esri-button--half",{"esri-button--disabled":v})},this.messages.add):null,D=g?(0,Ft.u)("span",{key:"file-name",class:"esri-attachments__file-name"},g.name):null,P=(0,Ft.u)("form",{bind:this,afterCreate:Bs.Yo,afterRemoved:Bs.pV,"data-node-ref":"_addAttachmentForm",onsubmit:this._submitAddAttachment},(0,Ft.u)("fieldset",{class:"esri-attachments__file-fieldset"},D,(0,Ft.u)("label",{class:this.classes("esri-attachments__file-label","esri-button","esri-button--secondary")},g?this.messages.changeFile:this.messages.selectFile,(0,Ft.u)("input",{class:"esri-attachments__file-input",type:"file",name:"attachment",bind:this,onchange:this._handleFileInputChange}))),C,b);return(0,Ft.u)("div",{key:"add-form-container",class:"esri-attachments__form-node"},P)}renderDetailsForm(p){const{visibleElements:g,viewModel:v,selectedFile:b,submitting:C}=this,{contentType:D,size:P,url:V}=p,{abilities:ae}=v,be=C||!b,Pe=ae.editing&&ae.operations.delete&&g.deleteButton?(0,Ft.u)("button",{key:"delete-button",type:"button",disabled:C,bind:this,onclick:Gt=>this._submitDeleteAttachment(Gt,p),class:this.classes("esri-button","esri-button--small","esri-button--tertiary","esri-attachments__delete-button",{"esri-button--disabled":C})},this.messages.delete):null,Fe=ae.editing&&ae.operations.update&&g.updateButton?(0,Ft.u)("button",{disabled:be,key:"update-button",type:"submit",class:this.classes("esri-button","esri-button--small","esri-button--third",{"esri-button--disabled":be})},this.messages.update):null,Xe=this.visibleElements.cancelUpdateButton?(0,Ft.u)("button",{disabled:C,key:"cancel-button",type:"button",bind:this,onclick:this._cancelForm,class:this.classes("esri-button","esri-button--small","esri-button--tertiary","esri-button--third",{"esri-button--disabled":C})},this.messages.cancel):null,rt=b?(0,Ft.u)("span",{key:"file-name",class:"esri-attachments__file-name"},b.name):null,It=ae.editing&&ae.operations.update?(0,Ft.u)("fieldset",{key:"file",class:"esri-attachments__file-fieldset"},rt,(0,Ft.u)("label",{class:this.classes("esri-attachments__file-label","esri-button","esri-button--secondary")},this.messages.changeFile,(0,Ft.u)("input",{class:"esri-attachments__file-input",type:"file",name:"attachment",bind:this,onchange:this._handleFileInputChange}))):null,Zt=(0,Ft.u)("fieldset",{key:"size",class:"esri-attachments__metadata-fieldset"},(0,Ft.u)("label",null,function J6(p,g){let v=0===g?0:Math.floor(Math.log(g)/Math.log($D.Y8.KILOBYTES));v=(0,jd.uZ)(v,0,zD.length-1);const b=(0,fg.uf)(g/$D.Y8.KILOBYTES**v,{maximumFractionDigits:2});return(0,Gl.gx)(p.units.bytes[zD[v]],{fileSize:b})}(this.messagesUnits,P))),Xt=(0,Ft.u)("fieldset",{key:"content-type",class:"esri-attachments__metadata-fieldset"},(0,Ft.u)("label",null,D)),tn=(0,Ft.u)("form",{bind:this,afterCreate:Bs.Yo,afterRemoved:Bs.pV,"data-node-ref":"_updateAttachmentForm",onsubmit:this._submitUpdateAttachment},(0,Ft.u)("div",{class:"esri-attachments__metadata"},Zt,Xt),It,(0,Ft.u)("div",{class:"esri-attachments__actions"},Pe,Xe,Fe));return(0,Ft.u)("div",{key:"edit-form-container",class:"esri-attachments__form-node"},(0,Ft.u)("a",{class:"esri-attachments__item-link",href:V,rel:"noreferrer",target:"_blank"},this.renderImageMask({attachmentInfo:p,size:400}),(0,Ft.u)("div",{class:"esri-attachments__item-link-overlay"},(0,Ft.u)("span",{class:"esri-attachments__item-link-overlay-icon"},(0,Ft.u)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32"},(0,Ft.u)("path",{d:"M28 13h1v16H3V3h16v1H4v24h24zm-5-9h4.293L15.646 15.638l.707.707L28 4.707V9h1V3h-6z"}),(0,Ft.u)("path",{fill:"none",d:"M0 0h32v32H0z"}))))),tn)}renderImageMask({attachmentInfo:p,size:g}){const{supportsResizeAttachments:v}=this.viewModel,{contentType:b,name:C,url:D}=p,P=v&&function x8(p){const g=p.toLowerCase();return"image/bmp"===g||"image/emf"===g||"image/exif"===g||"image/gif"===g||"image/x-icon"===g||"image/jpeg"===g||"image/png"===g||"image/tiff"===g||"image/x-wmf"===g}(b),V=this._getCSSTransform(p,P),ae=V?{transform:V,"image-orientation":"none"}:{},be=-1===D.indexOf("?")?"?":"&",Pe=P?`${D}${be}w=${g}`:function A8(p){const g=(0,dS.V)("esri/themes/base/images/files/");return p?"text/plain"===p?`${g}text-32.svg`:"application/pdf"===p?`${g}pdf-32.svg`:"text/csv"===p?`${g}csv-32.svg`:"application/gpx+xml"===p?`${g}gpx-32.svg`:"application/x-dwf"===p?`${g}cad-32.svg`:"application/postscript"===p||"application/json"===p||"text/xml"===p||"model/vrml"===p?`${g}code-32.svg`:"application/x-zip-compressed"===p||"application/x-7z-compressed"===p||"application/x-gzip"===p||"application/x-tar"===p||"application/x-gtar"===p||"application/x-bzip2"===p||"application/gzip"===p||"application/x-compress"===p||"application/x-apple-diskimage"===p||"application/x-rar-compressed"===p||"application/zip"===p?`${g}zip-32.svg`:-1!==p.indexOf("image/")?`${g}image-32.svg`:-1!==p.indexOf("audio/")?`${g}sound-32.svg`:-1!==p.indexOf("video/")?`${g}video-32.svg`:-1!==p.indexOf("msexcel")||-1!==p.indexOf("ms-excel")||-1!==p.indexOf("spreadsheetml")?`${g}excel-32.svg`:-1!==p.indexOf("msword")||-1!==p.indexOf("ms-word")||-1!==p.indexOf("wordprocessingml")?`${g}word-32.svg`:-1!==p.indexOf("powerpoint")||-1!==p.indexOf("presentationml")?`${g}report-32.svg`:`${g}generic-32.svg`:`${g}generic-32.svg`}(b),Xe={"esri-attachments__image--resizable":v};return(0,Ft.u)("div",{class:this.classes({"esri-attachments__item-mask--icon":!P},"esri-attachments__item-mask")},(0,Ft.u)("img",{styles:ae,alt:C,src:Pe,class:this.classes(Xe,"esri-attachments__image")}))}renderAttachmentInfo({attachmentInfo:p,displayType:g}){const{viewModel:v}=this,{abilities:b}=v,{name:C,url:D}=p,P=this.renderImageMask({attachmentInfo:p,size:"list"===g?48:400}),V=b.editing?(0,Ft.u)("span",{"aria-hidden":"true",class:this.classes("esri-attachments__item-chevron-icon",(0,Bs.dZ)(this.container)?"esri-icon-left":"esri-icon-right")}):null,ae=[P,(0,Ft.u)("label",{class:"esri-attachments__label"},(0,Ft.u)("span",{class:"esri-attachments__filename"},C||this.messages.noTitle),V)],be=b.editing?(0,Ft.u)("button",{key:"details-button",bind:this,class:"esri-attachments__item-button",title:this.messages.attachmentDetails,"aria-label":this.messages.attachmentDetails,"data-attachment-info-id":p.id,onclick:()=>this._startEditAttachment(p),type:"button"},ae):(0,Ft.u)("a",{key:"details-link",class:"esri-attachments__item-button",href:D,target:"_blank"},ae);return(0,Ft.u)("li",{class:"esri-attachments__item",key:p},be)}renderAttachmentContainer(){const{effectiveDisplayType:p,viewModel:g,visibleElements:v}=this,{attachmentInfos:b,abilities:C}=g,D=b&&b.length,P={"esri-attachments__container--list":"preview"!==p,"esri-attachments__container--preview":"preview"===p},V=C.editing&&C.operations.add&&v.addButton?(0,Ft.u)("button",{bind:this,onclick:()=>this._startAddAttachment(),class:this.classes("esri-button","esri-button--tertiary","esri-attachments__add-attachment-button"),type:"button"},(0,Ft.u)("span",{"aria-hidden":"true",class:this.classes("esri-attachments__item-add-icon","esri-icon-plus")}),this.messages.add):null,ae=D?(0,Ft.u)("ul",{class:"esri-attachments__items"},b.toArray().map(be=>this.renderAttachmentInfo({attachmentInfo:be,displayType:p}))):(0,Ft.u)("div",{class:"esri-widget__content--empty"},this.messages.noAttachments);return(0,Ft.u)("div",{key:"attachments-container",class:this.classes("esri-attachments__container",P)},ae,V)}_modeChanged(){this._set("error",null),this._set("selectedFile",null)}_handleFileInputChange(p){const g=p.target,v=g&&g.files&&g.files.item(0);this._set("selectedFile",v)}_submitDeleteAttachment(p,g){p.preventDefault(),this.deleteAttachment(g)}_submitAddAttachment(p){p.preventDefault(),this.addAttachment()}_submitUpdateAttachment(p){p.preventDefault(),this.updateAttachment()}_startEditAttachment(p){const{viewModel:g}=this;g.activeAttachmentInfo=p,g.mode="edit"}_startAddAttachment(){this.viewModel.mode="add"}_cancelForm(p){p.preventDefault(),this.viewModel.mode="view"}_getCSSTransform(p,g){const{orientationInfo:v}=p;return!this._supportsImageOrientation&&g&&v?[v.rotation?`rotate(${v.rotation}deg)`:"",v.mirrored?"scaleX(-1)":""].join(" "):""}};(0,ye._)([(0,Nn.B)("viewModel.abilities")],Di.prototype,"abilities",void 0),(0,ye._)([(0,Oe.Cb)()],Di.prototype,"displayType",void 0),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],Di.prototype,"effectiveDisplayType",null),(0,ye._)([(0,Nn.B)("viewModel.graphic")],Di.prototype,"graphic",void 0),(0,ye._)([(0,Oe.Cb)({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],Di.prototype,"label",void 0),(0,ye._)([(0,Oe.Cb)(),(0,ai.H)("esri/widgets/Attachments/t9n/Attachments")],Di.prototype,"messages",void 0),(0,ye._)([(0,Oe.Cb)(),(0,ai.H)("esri/core/t9n/Units")],Di.prototype,"messagesUnits",void 0),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],Di.prototype,"selectedFile",void 0),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],Di.prototype,"submitting",void 0),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],Di.prototype,"error",void 0),(0,ye._)([(0,Oe.Cb)({type:Sg})],Di.prototype,"viewModel",void 0),(0,ye._)([(0,Oe.Cb)()],Di.prototype,"visibleElements",void 0),(0,ye._)([(0,lo.p)("visibleElements")],Di.prototype,"castVisibleElements",null),Di=(0,ye._)([(0,bn.j)("esri.widgets.Attachments")],Di);const R8=Di;let Nd=class extends Sg{constructor(p){super(p),this.description=null,this.title=null}};(0,ye._)([(0,Oe.Cb)()],Nd.prototype,"description",void 0),(0,ye._)([(0,Oe.Cb)()],Nd.prototype,"title",void 0),Nd=(0,ye._)([(0,bn.j)("esri.widgets.Feature.FeatureAttachments.FeatureAttachmentsViewModel")],Nd);const wg=Nd;function Pg(p,g){const v=function pS(p){return(0,jd.uZ)(Math.ceil(p),1,6)}(p.level),b=`h${v}`;return delete p.level,(0,Ft.u)(b,Bn(Ct({},p),{class:(0,Bs.Sh)("esri-widget__heading",p.class),role:"heading","aria-level":String(v)}),g)}let dc=class extends oi.Z{constructor(p,g){super(p,g),this.description=null,this.headingLevel=2,this.title=null}render(){return(0,Ft.u)("div",{class:"esri-feature-element-info"},this.renderTitle(),this.renderDescription())}renderTitle(){const{title:p}=this;return p?(0,Ft.u)(Pg,{level:this.headingLevel,class:"esri-feature-element-info__title"},p):null}renderDescription(){const{description:p}=this;return p?(0,Ft.u)("div",{key:"description",class:"esri-feature-element-info__description"},p):null}};(0,ye._)([(0,Oe.Cb)()],dc.prototype,"description",void 0),(0,ye._)([(0,Oe.Cb)()],dc.prototype,"headingLevel",void 0),(0,ye._)([(0,Oe.Cb)()],dc.prototype,"title",void 0),dc=(0,ye._)([(0,bn.j)("esri.widgets.Feature.support.FeatureElementInfo")],dc);const Tg=dc;let _a=class extends oi.Z{constructor(p,g){super(p,g),this._featureElementInfo=null,this.attachmentsWidget=new R8,this.description=null,this.displayType=null,this.graphic=null,this.headingLevel=2,this.title=null,this.viewModel=new wg}initialize(){this._featureElementInfo=new Tg,(0,Jn.S1)(this,["viewModel.description","viewModel.title","headingLevel"],()=>this._setupFeatureElementInfo()),(0,Jn.S1)(this,"viewModel.graphic",p=>this.attachmentsWidget.graphic=p)}destroy(){this.attachmentsWidget.destroy(),this._featureElementInfo.destroy()}render(){var p;const{attachmentsWidget:g}=this;return(0,Ft.u)("div",{class:"esri-feature-attachments"},null==(p=this._featureElementInfo)?void 0:p.render(),null==g?void 0:g.render())}_setupFeatureElementInfo(){const{description:p,title:g,headingLevel:v}=this;this._featureElementInfo.set({description:p,title:g,headingLevel:v})}};(0,ye._)([(0,Oe.Cb)({readOnly:!0})],_a.prototype,"attachmentsWidget",void 0),(0,ye._)([(0,Nn.B)("viewModel.description")],_a.prototype,"description",void 0),(0,ye._)([(0,Nn.B)("attachmentsWidget.displayType")],_a.prototype,"displayType",void 0),(0,ye._)([(0,Nn.B)("viewModel.graphic")],_a.prototype,"graphic",void 0),(0,ye._)([(0,Oe.Cb)()],_a.prototype,"headingLevel",void 0),(0,ye._)([(0,Nn.B)("viewModel.title")],_a.prototype,"title",void 0),(0,ye._)([(0,Oe.Cb)({type:wg})],_a.prototype,"viewModel",void 0),_a=(0,ye._)([(0,bn.j)("esri.widgets.Feature.FeatureAttachments")],_a);const U8=_a;let pl=class extends((0,kl.p)(Ur.Z)){constructor(p){super(p),this._loadingPromise=null,this.created=null,this.creator=null,this.destroyer=null,this.graphic=null,this.handles.add((0,Jn.S1)(this,"creator",g=>{this._destroyContent(),this._createContent(g)}))}destroy(){this._destroyContent()}get state(){return this._loadingPromise?"loading":"ready"}_destroyContent(){const{created:p,graphic:g,destroyer:v}=this;p&&($p(v,{graphic:g}).catch(()=>null),this._set("created",null))}_createContent(p){var g=this;return(0,Un.Z)(function*(){const{graphic:v}=g,b=$p(p,{graphic:v}).catch(()=>null);g._loadingPromise=b,g.notifyChange("state");const C=yield b;b===g._loadingPromise&&(g._loadingPromise=null,g.notifyChange("state"),g._set("created",C))})()}};(0,ye._)([(0,Oe.Cb)({readOnly:!0})],pl.prototype,"created",void 0),(0,ye._)([(0,Oe.Cb)()],pl.prototype,"creator",void 0),(0,ye._)([(0,Oe.Cb)()],pl.prototype,"destroyer",void 0),(0,ye._)([(0,Oe.Cb)({type:ja.Z})],pl.prototype,"graphic",void 0),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],pl.prototype,"state",null),pl=(0,ye._)([(0,bn.j)("esri.widgets.Feature.FeatureContent.FeatureContentViewModel")],pl);const zp=pl;var xg=E(40669);let hc=class extends oi.Z{constructor(p,g){super(p,g),this.creator=null,this.graphic=null,this.viewModel=null,this._addTargetToAnchors=v=>{Array.from(v.querySelectorAll("a")).forEach(b=>{qD(b.href)&&!b.hasAttribute("target")&&b.setAttribute("target","_blank")})}}renderLoading(){return(0,Ft.u)("div",{class:"esri-feature-content__loader-container",key:"loader"},(0,Ft.u)("div",{class:"esri-feature-content__loader"}))}renderCreated(){var p;const g=null==(p=this.viewModel)?void 0:p.created;return g?g instanceof HTMLElement?(0,Ft.u)("div",{key:g,bind:g,afterCreate:this._attachToNode}):(0,xg.Qd)(g)?(0,Ft.u)("div",{key:g},!g.destroyed&&g.render()):(0,Ft.u)("div",{key:g,innerHTML:g,afterCreate:this._addTargetToAnchors}):null}render(){var p;const g=null==(p=this.viewModel)?void 0:p.state;return(0,Ft.u)("div",{class:"esri-feature-content"},"loading"===g?this.renderLoading():this.renderCreated())}_attachToNode(p){p.appendChild(this)}};(0,ye._)([(0,Nn.B)("viewModel.creator")],hc.prototype,"creator",void 0),(0,ye._)([(0,Nn.B)("viewModel.graphic")],hc.prototype,"graphic",void 0),(0,ye._)([(0,Oe.Cb)({type:zp})],hc.prototype,"viewModel",void 0),hc=(0,ye._)([(0,bn.j)("esri.widgets.Feature.FeatureContent")],hc);const Gp=hc;var F8=E(38439),fS=E(25621);let Na=class extends Ur.Z{constructor(p){super(p),this.attributes=null,this.expressionInfos=null,this.description=null,this.fieldInfos=null,this.title=null}get formattedFieldInfos(){const{expressionInfos:p,fieldInfos:g}=this,v=[];return null==g||g.forEach(b=>{if(b.hasOwnProperty("visible")&&!b.visible)return;const C=b.clone();C.label=tS(C,p),v.push(C)}),v}};(0,ye._)([(0,Oe.Cb)()],Na.prototype,"attributes",void 0),(0,ye._)([(0,Oe.Cb)({type:[F8.Z]})],Na.prototype,"expressionInfos",void 0),(0,ye._)([(0,Oe.Cb)()],Na.prototype,"description",void 0),(0,ye._)([(0,Oe.Cb)({type:[fS.Z]})],Na.prototype,"fieldInfos",void 0),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],Na.prototype,"formattedFieldInfos",null),(0,ye._)([(0,Oe.Cb)()],Na.prototype,"title",void 0),Na=(0,ye._)([(0,bn.j)("esri.widgets.Feature.FeatureFields.FeatureFieldsViewModel")],Na);const kp=Na,N8=[{pattern:/^\s*(https?:\/\/([^\s]+))\s*$/i,target:"_blank",label:"{messages.view}"},{pattern:/^\s*(tel:([^\s]+))\s*$/i,label:"{hierPart}"},{pattern:/^\s*(mailto:([^\s]+))\s*$/i,label:"{hierPart}"},{pattern:/^\s*(arcgis-appstudio-player:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"App Studio Player"},{pattern:/^\s*(arcgis-collector:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Collector"},{pattern:/^\s*(arcgis-explorer:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Explorer"},{pattern:/^\s*(arcgis-navigator:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Navigator"},{pattern:/^\s*(arcgis-survey123:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Survey123"},{pattern:/^\s*(arcgis-trek2there:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Trek2There"},{pattern:/^\s*(arcgis-workforce:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Workforce"},{pattern:/^\s*(iform:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"iForm"},{pattern:/^\s*(flow:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"FlowFinity"},{pattern:/^\s*(lfmobile:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Laserfische"},{pattern:/^\s*(mspbi:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Microsoft Power Bi"}];let Ko=class extends oi.Z{constructor(p,g){super(p,g),this._featureElementInfo=null,this.attributes=null,this.description=null,this.expressionInfos=null,this.fieldInfos=null,this.title=null,this.viewModel=new kp,this.messages=null,this.messagesURIUtils=null}initialize(){this._featureElementInfo=new Tg,(0,Jn.S1)(this,["viewModel.description","viewModel.title"],()=>this._setupFeatureElementInfo())}destroy(){this._featureElementInfo.destroy()}renderFieldInfo(p,g){const{attributes:v}=this.viewModel,b=p.fieldName,C=p.label||b,D=v?null==v[b]?"":v[b]:"",P=!(!p.format||!p.format.dateFormat),V="number"!=typeof D||P?function W8(p,g){if("string"!=typeof g||!g)return g;const v=function B8(p){let g=null;return N8.some(v=>(v.pattern.test(p)&&(g=v),!!g)),g}(g);if(!v)return g;const b=g.match(v.pattern),D=(0,Gl.gx)((0,Gl.gx)(v.label,{messages:p,hierPart:b&&b[2]}),{appName:v.appName});return g.replace(v.pattern,`<a${v.target?` target="${v.target}"`:""} href="$1"${"_blank"===v.target?' rel="noreferrer"':""}>${D}</a>`)}(this.messagesURIUtils,D):this._forceLTR(D),ae={"esri-feature-fields__field-data--date":P};return(0,Ft.u)("tr",{key:`fields-element-info-row-${b}-${g}`},(0,Ft.u)("th",{key:`fields-element-info-row-header-${b}-${g}`,class:"esri-feature-fields__field-header",innerHTML:C}),(0,Ft.u)("td",{key:`fields-element-info-row-data-${b}-${g}`,class:this.classes("esri-feature-fields__field-data",ae),innerHTML:V}))}renderFields(){const{formattedFieldInfos:p}=this.viewModel;return null!=p&&p.length?(0,Ft.u)("table",{class:"esri-widget__table",summary:this.messages.fieldsSummary},(0,Ft.u)("tbody",null,p.map((g,v)=>this.renderFieldInfo(g,v)))):null}render(){var p;return(0,Ft.u)("div",{class:"esri-feature-fields"},null==(p=this._featureElementInfo)?void 0:p.render(),this.renderFields())}_setupFeatureElementInfo(){const{description:p,title:g}=this;this._featureElementInfo.set({description:p,title:g})}_forceLTR(p){return`&lrm;${p}`}};(0,ye._)([(0,Nn.B)("viewModel.attributes")],Ko.prototype,"attributes",void 0),(0,ye._)([(0,Nn.B)("viewModel.description")],Ko.prototype,"description",void 0),(0,ye._)([(0,Nn.B)("viewModel.expressionInfos")],Ko.prototype,"expressionInfos",void 0),(0,ye._)([(0,Nn.B)("viewModel.fieldInfos")],Ko.prototype,"fieldInfos",void 0),(0,ye._)([(0,Nn.B)("viewModel.title")],Ko.prototype,"title",void 0),(0,ye._)([(0,Oe.Cb)({type:kp})],Ko.prototype,"viewModel",void 0),(0,ye._)([(0,Oe.Cb)(),(0,ai.H)("esri/widgets/Feature/t9n/Feature")],Ko.prototype,"messages",void 0),(0,ye._)([(0,Oe.Cb)(),(0,ai.H)("esri/widgets/support/t9n/uriUtils")],Ko.prototype,"messagesURIUtils",void 0),Ko=(0,ye._)([(0,bn.j)("esri.widgets.Feature.FeatureFields")],Ko);const mS=Ko;var V8=E(77891),Rg=E(84952),Z8=E(67010),$8=E(60776),K8=E(4728);const yS=ns.Z.getLogger("esri.widgets.Feature.support.relatedFeatureUtils"),gS=new Map;function Wd(p){if(!Fa(p))return null;const[g,v]=p.split("/").slice(1);return{layerId:g,fieldName:v}}function k8({originRelationship:p,relationships:g,layerId:v}){let b;return g&&g.some(C=>(`${C.relatedTableId}`===v&&C.id===p.id&&(b=C),!!b)),b}function H8(p,g){const v=g.toLowerCase();for(const b in p)if(b.toLowerCase()===v)return p[b];return null}function Q8(p,g,v,b){const C=new Z8.Z;return C.outFields=["*"],C.relationshipId="number"==typeof g.id?g.id:parseInt(g.id,10),C.objectIds=[p.attributes[v.objectIdField]],v.queryRelatedFeatures(C,b)}function X8(p,g,v){let b=0;const C=[];for(;b<g.length;)C.push(`${p} IN (${g.slice(b,v+b)})`),b+=v;return C.join(" OR ")}function Lg(){return(Lg=(0,Un.Z)(function*(p,g,v,b){const C=v.layerId.toString(),{layerInfo:D,queryTask:P,relation:V,relatedFields:ae,outStatistics:be}=g,Pe=k8({originRelationship:V,relationships:D.relationships,layerId:C});if(Pe.relationshipTableId&&Pe.keyFieldInRelationshipTable){const Xe=(yield Q8(p,Pe,v,b))[p.attributes[v.objectIdField]];if(!Xe)return null;const rt=Xe.features.map(It=>It.attributes[D.objectIdField]);if((null==be?void 0:be.length)>0&&D.supportsStatistics){const It=new Rg.Z;It.where=X8(D.objectIdField,rt,1e3),It.outFields=ae,It.outStatistics=be;const Zt={features:Promise.resolve(Xe),statsFeatures:P.execute(It)};return(0,Er.as)(Zt)}}const Fe=null==Pe?void 0:Pe.keyField;if(Fe){const Xe=(0,kD.H7)(s5(D.fields,Fe)),rt=H8(p.attributes,V.keyField),It=Xe?`${Fe}=${rt}`:`${Fe}='${rt}'`,Zt=P.execute(new Rg.Z({where:It,outFields:g.relatedFields}),b),Xt=g.outStatistics&&g.outStatistics.length>0&&D.supportsStatistics?P.execute(new Rg.Z({where:It,outFields:g.relatedFields,outStatistics:g.outStatistics}),b):null,tn={features:Zt};return Xt&&(tn.statsFeatures=Xt),(0,Er.as)(tn)}return null})).apply(this,arguments)}function s5(p,g){if(null!=p){g=g.toLowerCase();for(const v of p)if(v&&v.name.toLowerCase()===g)return v}return null}const _S={chartAnimation:!0};let qs=class extends Ur.Z{constructor(p){super(p),this.abilities=Ct({},_S),this.activeMediaInfoIndex=0,this.attributes=null,this.description=null,this.fieldInfoMap=null,this.formattedAttributes=null,this.expressionAttributes=null,this.layer=null,this.mediaInfos=null,this.popupTemplate=null,this.relatedInfos=null,this.title=null}castAbilities(p){return Ct(Ct({},_S),p)}get activeMediaInfo(){return this.formattedMediaInfos[this.activeMediaInfoIndex]||null}get formattedMediaInfos(){return this._formatMediaInfos()||[]}get formattedMediaInfoCount(){return this.formattedMediaInfos.length}setActiveMedia(p){this._setContentElementMedia(p)}next(){this._pageContentElementMedia(1)}previous(){this._pageContentElementMedia(-1)}_setContentElementMedia(p){const{formattedMediaInfoCount:g}=this;this.activeMediaInfoIndex=(p+g)%g}_pageContentElementMedia(p){const{activeMediaInfoIndex:g}=this;this._setContentElementMedia(g+p)}_formatMediaInfos(){const{attributes:p,mediaInfos:g,formattedAttributes:v,expressionAttributes:b,fieldInfoMap:C,layer:D}=this;return null==g?void 0:g.map(P=>{const V=null==P?void 0:P.clone();if(!V)return null;if(V.title=Hl({attributes:p,fieldInfoMap:C,globalAttributes:v,expressionAttributes:b,layer:D,text:V.title}),V.caption=Hl({attributes:p,fieldInfoMap:C,globalAttributes:v,expressionAttributes:b,layer:D,text:V.caption}),V.altText=Hl({attributes:p,fieldInfoMap:C,globalAttributes:v,expressionAttributes:b,layer:D,text:V.altText}),"image"===V.type){const{value:ae}=V;return this._setImageValue({value:ae,formattedAttributes:v,layer:D}),V.value.sourceURL?V:void 0}if("pie-chart"===V.type||"line-chart"===V.type||"column-chart"===V.type||"bar-chart"===V.type){const{value:ae}=V;return this._setChartValue({value:ae,chartType:V.type,attributes:p,formattedAttributes:v,layer:D}),V}return null}).filter(Boolean)}_setImageValue(p){const{fieldInfoMap:g}=this,{value:v,formattedAttributes:b,layer:C}=p,{linkURL:D,sourceURL:P}=v;if(P){const V=vg(P,C);v.sourceURL=_g({formattedAttributes:b,template:V,fieldInfoMap:g})}if(D){const V=vg(D,C);v.linkURL=_g({formattedAttributes:b,template:V,fieldInfoMap:g})}}_setChartValue(p){const{value:g,attributes:v,formattedAttributes:b,chartType:C,layer:D}=p,{popupTemplate:P,relatedInfos:V}=this,{fields:ae,normalizeField:be}=g;if(g.fields=function u8(p,g){return p&&p.map(v=>Kp(v,g))}(ae,D),be&&(g.normalizeField=Kp(be,D)),!ae.some(Fe=>!!(null!=b[Fe]||Fa(Fe)&&V.size)))return;const Pe=null==P?void 0:P.fieldInfos;ae.forEach(Fe=>{if(Fa(Fe))return void(g.series=[...g.series,...this._getRelatedChartInfos({fieldInfos:Pe,fieldName:Fe,formattedAttributes:b,chartType:C,value:g})]);const Xe=this._getChartOption({value:g,attributes:v,chartType:C,formattedAttributes:b,fieldName:Fe,fieldInfos:Pe});g.series.push(Xe)})}_getRelatedChartInfos(p){var g;const{fieldInfos:v,fieldName:b,formattedAttributes:C,chartType:D,value:P}=p,V=[],ae=Wd(b),{layerId:be,fieldName:Pe}=ae,Fe=null==(g=this.relatedInfos)?void 0:g.get(be.toString());if(!Fe)return V;const{relatedFeatures:Xe,relation:rt}=Fe;if(!rt||!Xe)return V;const{cardinality:It}=rt;return Xe.forEach(Zt=>{const{attributes:Xt}=Zt;Xt&&Object.keys(Xt).forEach(tn=>{tn===Pe&&V.push(this._getChartOption({value:P,attributes:Xt,formattedAttributes:C,fieldName:b,chartType:D,relatedFieldName:tn,fieldInfos:v}))})}),"one-to-many"===It||"many-to-many"===It?V:[V[0]]}_getTooltip({label:p,value:g,chartType:v}){return"pie-chart"===v?p:`${p}: ${g}`}_getChartOption(p){var g;const{value:v,attributes:b,formattedAttributes:C,fieldName:D,relatedFieldName:P,fieldInfos:V,chartType:ae}=p,{layer:be}=this,{normalizeField:Pe,tooltipField:Fe}=v,Xe=Pe?Fa(Pe)?b[Wd(Pe).fieldName]:b[Pe]:null,rt=P&&void 0!==b[P]?b[P]:void 0!==b[D]?b[D]:C[D],It=void 0===rt?null:rt&&Xe?rt/Xe:rt,Zt=new V8.Z({value:It});if(Fa(D)){const Ln=Wd(D),Kn=Wd(Fe),qn=Kn?Kn.fieldName:null,Hr=rS(It,{fieldInfos:V,fieldName:P,layer:be,preventPlacesFormatting:!!Xe}),rs=Ln?Ln.label||Ln.fieldName:P;return Zt.tooltip=this._getTooltip({label:qn&&void 0!==b[qn]?b[qn]:rs,value:Hr,chartType:ae}),Zt}const Xt=sS(V,D),tn=Kp(D,be),Gt=Fe&&void 0!==C[Fe]?C[Fe]:tS(Xt||new fS.Z({fieldName:tn}),null==(g=this.popupTemplate)?void 0:g.expressionInfos);return Zt.tooltip=this._getTooltip({label:Gt,value:C[tn],chartType:ae}),Zt}};(0,ye._)([(0,Oe.Cb)()],qs.prototype,"abilities",void 0),(0,ye._)([(0,lo.p)("abilities")],qs.prototype,"castAbilities",null),(0,ye._)([(0,Oe.Cb)()],qs.prototype,"activeMediaInfoIndex",void 0),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],qs.prototype,"activeMediaInfo",null),(0,ye._)([(0,Oe.Cb)()],qs.prototype,"attributes",void 0),(0,ye._)([(0,Oe.Cb)()],qs.prototype,"description",void 0),(0,ye._)([(0,Oe.Cb)()],qs.prototype,"fieldInfoMap",void 0),(0,ye._)([(0,Oe.Cb)()],qs.prototype,"formattedAttributes",void 0),(0,ye._)([(0,Oe.Cb)()],qs.prototype,"expressionAttributes",void 0),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],qs.prototype,"formattedMediaInfos",null),(0,ye._)([(0,Oe.Cb)()],qs.prototype,"layer",void 0),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],qs.prototype,"formattedMediaInfoCount",null),(0,ye._)([(0,Oe.Cb)()],qs.prototype,"mediaInfos",void 0),(0,ye._)([(0,Oe.Cb)()],qs.prototype,"popupTemplate",void 0),(0,ye._)([(0,Oe.Cb)()],qs.prototype,"relatedInfos",void 0),(0,ye._)([(0,Oe.Cb)()],qs.prototype,"title",void 0),qs=(0,ye._)([(0,bn.j)("esri.widgets.Feature.FeatureMedia.FeatureMediaViewModel")],qs);const Jl=qs;var vS=["#ffffff","#858585","#ffbebe","#ffebbe","#ffebaf","#ffffbe","#e9ffbe","#d3ffbe","#beffe8","#bee8ff","#bed2ff","#e8beff","#ffbee8","#ebebeb","#707070","#ff7f7f","#ffa77f","#ffd37f","#ffff73","#d1ff73","#a3ff73","#73ffdf","#73dfff","#73b2ff","#df73ff","#ff73df","#d6d6d6","#5c5c5c","#ff0000","#ff5500","#ffaa00","#ffff00","#aaff00","#55ff00","#00ffc5","#00c5ff","#0070ff","#c500ff","#ff00c5","#c2c2c2","#474747","#e60000","#e64c00","#e69800","#e6e600","#98e600","#4ce600","#00e6a9","#00a9e6","#005ce6","#a900e6","#e600a9","#adadad","#242424","#a80000","#a83800","#a87000","#a8a800","#70a800","#38a800","#00a884","#0084a8","#004da8","#8400a8","#a80084","#999999","#1a1a1a","#730000","#732600","#734c00","#737300","#4c7300","#267300","#00734c","#004c73","#002673","#4c0073","#73004"],o5=[{name:"default",colors:[].concat(vS.slice(30,39),vS.slice(28,30).reverse())},{name:"cat-dark",colors:["#ed5151","#149ece","#a7c636","#9e559c","#fc921f","#ffde3e","#f789d8","#b7814a","#3caf99","#6b6bd6","#b54779","#7f7f7f"]},{name:"tropical-bliss",colors:["#fce138","#ff9399","#fcd27e","#f1983c","#a553b7","#b1a9d0","#6ecffc","#4c81cd","#fc6f84","#fc3e5a","#6af689","#48885c"]},{name:"desert-blooms",colors:["#102432","#144d59","#ffc730","#ed9310","#a64f1b","#661510","#d9351a","#b31515","#4a0932","#8c213f","#18382e","#2c6954"]},{name:"under-the-sea",colors:["#bf9727","#607100","#00734c","#704489","#01acca","#024e76","#f09100","#ea311f","#c6004b","#7570b3","#666666","#333333"]},{name:"vibrant-rainbow",colors:["#fffb00","#f5cb11","#9fd40c","#46e39c","#32b8a6","#7ff2fa","#ac08cc","#dd33ff","#eb7200","#e8a784","#bf2e2e","#6c7000"]},{name:"ocean-bay",colors:["#191921","#11495c","#78b1c2","#454f4b","#8f8f82","#9be0c0","#87b051","#f7ec88","#ebdcc1","#dbb658","#c43541","#75351e"]},{name:"prairie-summer",colors:["#332424","#751555","#d47013","#d68989","#211173","#82aad6","#7bfaeb","#6ec9a8","#6b6408","#eada40","#ccc54a","#1fc235"]},{name:"pastel-chalk",colors:["#fffd99","#f5e6a4","#c1d48c","#b8e3d0","#a0b8b5","#cbf7fa","#d791f2","#dfc1eb","#f2b983","#e8c4b2","#bf8e8e","#94995c"]},{name:"seq-yellow-orange-red-bright",colors:["#910000","#b1260b","#c0370f","#e05919","#ef6a1d","#ff7b22","#ffa143","#ffb454","#ffda74","#ffed85"]},{name:"seq-reds-bright",colors:["#57453b","#7b4238","#9f4036","#c23d33","#d7483c","#ec5244","#f3696c","#f9816c","#ffc4ae","#fff0dc"]},{name:"seq-purples-bright",colors:["#4e465c","#5a4a78","#695291","#775baa","#8663c3","#946bdc","#aa89e8","#c1a6f3","#d7c4ff","#e6e1ff"]},{name:"seq-blues-bright",colors:["#404d54","#435c6c","#48799d","#4b88b6","#4d96ce","#50a5e7","#74bbed","#98d0f3","#bce6f9","#e6faff"]},{name:"seq-greens-bright",colors:["#39544c","#386757","#368165","#359b73","#33b581","#4bc392","#64d2a2","#7ce0b3","#cbf6d9","#f4ffea"]},{name:"seq-browns-bright",colors:["#524834","#715b38","#8f6e3c","#ae8140","#cc9444","#eba748","#eeb664","#f0c47f","#f9e0b7","#fff8eb"]}],ES=E(56683);const jg=new Map([["ar",()=>E.e(3309).then(E.bind(E,93309)).then(p=>p.a)],["bg-bg",()=>E.e(2504).then(E.bind(E,82504)).then(p=>p.b)],["bs-ba",()=>E.e(88).then(E.bind(E,88)).then(p=>p.b)],["ca-es",()=>E.e(2371).then(E.bind(E,32371)).then(p=>p.c)],["cs-cz",()=>E.e(3690).then(E.bind(E,93690)).then(p=>p.c)],["da-dk",()=>E.e(2125).then(E.bind(E,42125)).then(p=>p.d)],["de-de",()=>E.e(7396).then(E.bind(E,7396)).then(p=>p.d)],["de-ch",()=>E.e(2479).then(E.bind(E,62479)).then(p=>p.d)],["el-gr",()=>E.e(9548).then(E.bind(E,39548)).then(p=>p.e)],["en-us",()=>E.e(700).then(E.bind(E,20700)).then(p=>p.e)],["en-ca",()=>E.e(7028).then(E.bind(E,37028)).then(p=>p.e)],["es-es",()=>E.e(4824).then(E.bind(E,54824)).then(p=>p.e)],["et-ee",()=>E.e(3914).then(E.bind(E,23914)).then(p=>p.e)],["fi-fi",()=>E.e(1299).then(E.bind(E,1299)).then(p=>p.f)],["fr-fr",()=>E.e(9856).then(E.bind(E,39856)).then(p=>p.f)],["he-il",()=>E.e(4609).then(E.bind(E,24609)).then(p=>p.h)],["hr-hr",()=>E.e(7731).then(E.bind(E,87731)).then(p=>p.h)],["hu-hu",()=>E.e(7127).then(E.bind(E,57127)).then(p=>p.h)],["id-id",()=>E.e(6560).then(E.bind(E,36560)).then(p=>p.i)],["it-it",()=>E.e(7708).then(E.bind(E,67708)).then(p=>p.i)],["ja-jp",()=>E.e(6651).then(E.bind(E,36651)).then(p=>p.j)],["ko-kr",()=>E.e(7016).then(E.bind(E,7016)).then(p=>p.k)],["lt-lt",()=>E.e(5010).then(E.bind(E,5010)).then(p=>p.l)],["lv-lv",()=>E.e(2620).then(E.bind(E,92620)).then(p=>p.l)],["nb-no",()=>E.e(5237).then(E.bind(E,55237)).then(p=>p.n)],["nl-nl",()=>E.e(948).then(E.bind(E,948)).then(p=>p.n)],["pl-pl",()=>E.e(8351).then(E.bind(E,58351)).then(p=>p.p)],["pt-br",()=>E.e(6681).then(E.bind(E,86681)).then(p=>p.p)],["pt-pt",()=>E.e(8110).then(E.bind(E,48110)).then(p=>p.p)],["ro-ro",()=>E.e(8372).then(E.bind(E,78372)).then(p=>p.r)],["ru-ru",()=>E.e(8073).then(E.bind(E,88073)).then(p=>p.r)],["sk-sk",()=>E.e(7419).then(E.bind(E,7419)).then(p=>p.s)],["sl-sl",()=>E.e(1218).then(E.bind(E,11218)).then(p=>p.s)],["sr-rs",()=>E.e(5302).then(E.bind(E,85302)).then(p=>p.s)],["sv-se",()=>E.e(6079).then(E.bind(E,86079)).then(p=>p.s)],["th-th",()=>E.e(5508).then(E.bind(E,55508)).then(p=>p.t)],["tr-tr",()=>E.e(6844).then(E.bind(E,56844)).then(p=>p.t)],["uk-ua",()=>E.e(4978).then(E.bind(E,4978)).then(p=>p.u)],["vi-vn",()=>E.e(9202).then(E.bind(E,29202)).then(p=>p.v)],["zh-cn",()=>E.e(865).then(E.bind(E,70865)).then(p=>p.z)],["zh-hk",()=>E.e(3207).then(E.bind(E,3207)).then(p=>p.z)],["zh-tw",()=>E.e(3207).then(E.bind(E,3207)).then(p=>p.z)]]);function l5(p){return p?jg.has(p.toLowerCase())?p.toLowerCase():function a5(p){const g=p.split("-")[0].toLowerCase();let v=null;for(const b of jg.keys())if(b.startsWith(g)){v=b;break}return v}(p)||"en-us":"en-us"}let pc,Vd;function Ug(){return(Ug=(0,Un.Z)(function*(p=(0,ES.Kd)()){if(p=l5(p),pc&&p===Vd)return pc;pc=E.e(4430).then(E.bind(E,4430)).then(g=>g.i),Vd=p;try{const[g,v]=yield Promise.all([pc,jg.get(Vd)()]);Vd===p&&(g.am4core.options.defaultLocale=v.default),g.am4core.options.suppressWarnings=!0,g.am4core.options.autoDispose=!0}catch(g){return pc=null,Vd=null,null}return pc})).apply(this,arguments)}var MS=E(38745);const Es_mediaIcon="esri-feature-media__icon";let Ji=class extends oi.Z{constructor(p,g){var v;super(p,g),v=this,this._refreshTimer=null,this._refreshIntervalInfo=null,this._featureElementInfo=null,this.attributes=null,this.activeMediaInfoIndex=null,this.description=null,this.fieldInfoMap=null,this.layer=null,this.mediaInfos=null,this.popupTemplate=null,this.relatedInfos=null,this.title=null,this.viewModel=new Jl,this.messages=null,this._getChartDependencies=function(){var b=(0,Un.Z)(function*(C){const D=yield function u5(){return Ug.apply(this,arguments)}(),{destroyed:P,viewModel:V}=v;if(P||!V||!C)return;const{activeMediaInfo:ae}=V;v._renderChart({chartDiv:C,mediaInfo:ae,chartsModule:D})});return function(C){return b.apply(this,arguments)}}()}initialize(){this._featureElementInfo=new Tg,this.own((0,Jn.S1)(this,["viewModel.activeMediaInfo","viewModel.activeMediaInfoIndex"],()=>this._setupMediaRefreshTimer()),(0,Jn.S1)(this,["viewModel.description","viewModel.title"],()=>this._setupFeatureElementInfo()))}destroy(){this._clearMediaRefreshTimer(),this._featureElementInfo.destroy()}render(){var p;return(0,Ft.u)("div",{bind:this,class:"esri-feature-media",onkeyup:this._handleMediaKeyup},null==(p=this._featureElementInfo)?void 0:p.render(),this.renderMedia())}renderMedia(){const{formattedMediaInfoCount:p}=this.viewModel;return p?(0,Ft.u)("div",{key:"media-element-container",class:"esri-feature-media__container"},this.renderMediaPageButton("previous"),this.renderMediaInfo(),this.renderMediaPageButton("next")):null}renderImageMediaInfo(p){const{_refreshIntervalInfo:g}=this,{activeMediaInfoIndex:v,formattedMediaInfoCount:b}=this.viewModel,{value:C,refreshInterval:D,altText:P,title:V,type:ae}=p,{sourceURL:be,linkURL:Pe}=C,Fe=qD(Pe)?"_blank":"_self",Xe="_blank"===Fe?"noreferrer":"",rt=D?g:null,Xt=(0,Ft.u)("img",{alt:P||V,key:`media-${ae}-${v}-${b}-${rt?rt.timestamp:0}`,src:rt?rt.sourceURL:be});return(Pe?(0,Ft.u)("a",{title:V,href:Pe,rel:Xe,target:Fe},Xt):null)||Xt}renderChartMediaInfo(p){const{activeMediaInfoIndex:g,formattedMediaInfoCount:v}=this.viewModel;return(0,Ft.u)("div",{key:`media-${p.type}-${g}-${v}`,bind:this,class:"esri-feature-media__chart",afterCreate:this._getChartDependencies})}renderMediaInfoType(){const{activeMediaInfo:p}=this.viewModel;return p?"image"===p.type?this.renderImageMediaInfo(p):-1!==p.type.indexOf("chart")?this.renderChartMediaInfo(p):null:null}renderMediaInfo(){const{activeMediaInfo:p}=this.viewModel;if(!p)return null;const g=p.title?(0,Ft.u)("div",{key:"media-title",class:"esri-feature-media__item-title",innerHTML:p.title}):null,v=p.caption?(0,Ft.u)("div",{key:"media-caption",class:"esri-feature-media__item-caption",innerHTML:p.caption}):null;return(0,Ft.u)("div",{key:"media-container",class:"esri-feature-media__item-container"},(0,Ft.u)("div",{key:"media-item-container",class:"esri-feature-media__item"},this.renderMediaInfoType()),g,v)}renderMediaPageButton(p){if(this.viewModel.formattedMediaInfoCount<2)return null;const g="previous"===p,v=g?this.messages.previous:this.messages.next,b=this.classes("esri-feature-media__button",g?"esri-feature-media__previous":"esri-feature-media__next"),C=g?this.classes(Es_mediaIcon,"esri-feature-media__previous-icon","esri-icon-left-triangle-arrow"):this.classes(Es_mediaIcon,"esri-feature-media__next-icon","esri-icon-right-triangle-arrow"),D=g?this.classes(Es_mediaIcon,"esri-feature-media__previous-icon--rtl","esri-icon-right-triangle-arrow"):this.classes(Es_mediaIcon,"esri-feature-media__next-icon--rtl","esri-icon-left-triangle-arrow");return(0,Ft.u)("button",{type:"button",key:g?"media-previous":"media-next",title:v,"aria-label":v,tabIndex:0,class:b,bind:this,onclick:g?this._previous:this._next},(0,Ft.u)("span",{"aria-hidden":"true",class:C}),(0,Ft.u)("span",{"aria-hidden":"true",class:D}))}_setupFeatureElementInfo(){const{description:p,title:g}=this;this._featureElementInfo.set({description:p,title:g})}_next(){this.viewModel.next()}_previous(){this.viewModel.previous()}_handleMediaKeyup(p){const g=(0,Ua.kK)(p);"ArrowLeft"===g&&(p.stopPropagation(),this.viewModel.previous()),"ArrowRight"===g&&(p.stopPropagation(),this.viewModel.next())}_renderChart(p){const{abilities:g}=this.viewModel,{chartsModule:v,chartDiv:b,mediaInfo:C}=p,{value:D,type:P}=C,{am4core:V}=v,ae=function c5(p,g="default"){const v=o5.find(b=>b.name===g);return v?v.colors.map(b=>p.color(b)):null}(V);(0,MS.$o)()&&V.useTheme(v.am4themes_dark);const Pe=window.matchMedia("(prefers-reduced-motion: reduce)");g.chartAnimation&&!Pe.matches?V.useTheme(v.am4themes_animated):V.unuseTheme(v.am4themes_animated),V.useTheme(function be(Xe){Xe instanceof V.ColorSet&&ae&&(Xe.list=ae)});const Fe="pie-chart"===P?this._createPieChart(p):this._createXYChart(p);b.setAttribute("aria-label",C.altText||C.title),Fe.data=D.series.map(Xe=>({tooltip:Xe.tooltip,value:Xe.value})).filter(Xe=>"pie-chart"!==P||Xe.value>0)}_customizeChartTooltip(p,g){p.label.wrap=!0,p.label.maxWidth=200,p.autoTextColor=!1,p.getFillFromObject=!1,p.label.fill=g.color("#ffffff"),p.background.fill=g.color({r:0,g:0,b:0,a:.7})}_createPieChart(p){const{chartDiv:g,chartsModule:v}=p,{am4core:b,am4charts:C}=v,D=b.create(g,C.PieChart);D.rtl=(0,Bs.dZ)(this.container);const P=D.series.push(new C.PieSeries);return P.labels.template.disabled=!0,P.ticks.template.disabled=!0,P.dataFields.value="value",P.dataFields.category="tooltip",this._customizeChartTooltip(P.tooltip,b),P.slices.template.tooltipText=D.rtl?"{category}: %{value.percent.formatNumber('#.0')}":"{category}: {value.percent.formatNumber('#.0')}%",D}_getMinSeriesValue(p){let g=0;return p.forEach(v=>g=Math.min(v.value,g)),g}_createColumnChart(p,g){const{chartsModule:v,mediaInfo:b}=g,{value:C}=b,{am4core:D,am4charts:P}=v,V=p.xAxes.push(new P.CategoryAxis);V.dataFields.category="tooltip",V.renderer.labels.template.disabled=!0,this._customizeChartTooltip(V.tooltip,D),V.tooltip.events.on("sizechanged",()=>{V.tooltip.dy=-V.tooltip.contentHeight});const ae=p.yAxes.push(new P.ValueAxis),be=ae.renderer.labels.template;ae.renderer.minLabelPosition=.05,ae.renderer.maxLabelPosition=.95,ae.min=this._getMinSeriesValue(C.series),this._customizeChartTooltip(ae.tooltip,D),be.wrap=!0;const Pe=p.series.push(new P.ColumnSeries);Pe.dataFields.valueY="value",Pe.dataFields.categoryX="tooltip",p.cursor=new P.XYCursor,C.series.length>15&&(p.scrollbarX=new D.Scrollbar)}_createBarChart(p,g){const{chartsModule:v,mediaInfo:b}=g,{value:C}=b,{am4core:D,am4charts:P}=v,V=p.yAxes.push(new P.CategoryAxis);V.dataFields.category="tooltip",V.renderer.inversed=!0,V.renderer.labels.template.disabled=!0,this._customizeChartTooltip(V.tooltip,D),V.tooltip.events.on("sizechanged",()=>{V.tooltip.dx=V.tooltip.contentWidth});const ae=p.xAxes.push(new P.ValueAxis),be=ae.renderer.labels.template;ae.renderer.minLabelPosition=.05,ae.renderer.maxLabelPosition=.95,ae.min=this._getMinSeriesValue(C.series),this._customizeChartTooltip(ae.tooltip,D),be.wrap=!0;const Pe=p.series.push(new P.ColumnSeries);Pe.dataFields.valueX="value",Pe.dataFields.categoryY="tooltip",p.cursor=new P.XYCursor,C.series.length>15&&(p.scrollbarY=new D.Scrollbar)}_createLineChart(p,g){const{chartsModule:v,mediaInfo:b}=g,{value:C}=b,{am4core:D,am4charts:P}=v,V=p.xAxes.push(new P.CategoryAxis);V.dataFields.category="tooltip",V.renderer.labels.template.disabled=!0,this._customizeChartTooltip(V.tooltip,D),V.tooltip.events.on("sizechanged",()=>{V.tooltip.dy=-V.tooltip.contentHeight});const ae=p.yAxes.push(new P.ValueAxis),be=ae.renderer.labels.template;ae.renderer.minLabelPosition=.05,ae.renderer.maxLabelPosition=.95,ae.min=this._getMinSeriesValue(C.series),this._customizeChartTooltip(ae.tooltip,D),be.wrap=!0;const Pe=p.series.push(new P.LineSeries);Pe.dataFields.categoryX="tooltip",Pe.dataFields.valueY="value",p.cursor=new P.XYCursor,C.series.length>15&&(p.scrollbarX=new D.Scrollbar)}_createXYChart(p){const{chartDiv:g,chartsModule:v,mediaInfo:b}=p,{type:C}=b,{am4core:D,am4charts:P}=v,V=D.create(g,P.XYChart);return V.rtl=(0,Bs.dZ)(this.container),"column-chart"===C&&this._createColumnChart(V,p),"bar-chart"===C&&this._createBarChart(V,p),"line-chart"===C&&this._createLineChart(V,p),V}_clearMediaRefreshTimer(){const{_refreshTimer:p}=this;p&&(clearTimeout(p),this._refreshTimer=null)}_updateMediaInfoTimestamp(p){const g=Date.now();this._refreshIntervalInfo={timestamp:g,sourceURL:this._getImageSource(p,g)},this.scheduleRender()}_setupMediaRefreshTimer(){this._clearMediaRefreshTimer();const{activeMediaInfo:p}=this.viewModel;p&&"image"===p.type&&p.refreshInterval&&this._setRefreshTimeout(p)}_setRefreshTimeout(p){const{refreshInterval:g,value:v}=p;if(!g)return;const b=6e4*g;this._updateMediaInfoTimestamp(v.sourceURL);const C=setInterval(()=>{this._updateMediaInfoTimestamp(v.sourceURL)},b);this._refreshTimer=C}_getImageSource(p,g){const v=-1!==p.indexOf("?")?"&":"?",[b,C=""]=p.split("#");return`${b}${v}timestamp=${g}${C?"#":""}${C}`}};(0,ye._)([(0,Nn.B)("viewModel.attributes")],Ji.prototype,"attributes",void 0),(0,ye._)([(0,Nn.B)("viewModel.activeMediaInfoIndex")],Ji.prototype,"activeMediaInfoIndex",void 0),(0,ye._)([(0,Nn.B)("viewModel.description")],Ji.prototype,"description",void 0),(0,ye._)([(0,Nn.B)("viewModel.fieldInfoMap")],Ji.prototype,"fieldInfoMap",void 0),(0,ye._)([(0,Nn.B)("viewModel.layer")],Ji.prototype,"layer",void 0),(0,ye._)([(0,Nn.B)("viewModel.mediaInfos")],Ji.prototype,"mediaInfos",void 0),(0,ye._)([(0,Nn.B)("viewModel.popupTemplate")],Ji.prototype,"popupTemplate",void 0),(0,ye._)([(0,Nn.B)("viewModel.relatedInfos")],Ji.prototype,"relatedInfos",void 0),(0,ye._)([(0,Nn.B)("viewModel.title")],Ji.prototype,"title",void 0),(0,ye._)([(0,Oe.Cb)({type:Jl})],Ji.prototype,"viewModel",void 0),(0,ye._)([(0,Oe.Cb)(),(0,ai.H)("esri/widgets/Feature/t9n/Feature")],Ji.prototype,"messages",void 0),Ji=(0,ye._)([(0,bn.j)("esri.widgets.Feature.FeatureMedia")],Ji);const CS=Ji;var d5=E(47562),h5=(E(55664),E(55013),E(16615),E(82561),E(75484)),p5=E(64531),DS=E(501),f5=E(38159),m5=E(15382);const y5=["$datastore","$map","$layer","$aggregatedfeatures"],_5=ns.Z.getLogger("esri.widgets.Feature.support.arcadeFeatureUtils");function v5(p){return"string"==typeof p?Fd(Eg(p)):Array.isArray(p)?function E5(p){return`<ul class="esri-widget__list">${p.map(g=>`<li>${"string"==typeof g?Fd(Eg(g)):g}</li>`).join("")}</ul>`}(p):"esri.arcade.Dictionary"===(null==p?void 0:p.declaredClass)?function b5(p){return`<table class="esri-widget__table">${p.keys().map(g=>{const v=p.field(g);return`<tr><th>${g}</th><td>${"string"==typeof v?Fd(Eg(v)):v}</td></tr>`}).join("")}</table>`}(p):p}function M5({aggregatedFeatures:p,arcadeUtils:g,featureSetVars:v,context:b,viewInfo:C,map:D,graphic:P,interceptor:V}){v.forEach(ae=>{const be=ae.toLowerCase();if("$map"===be&&(b.vars[be]=g.convertMapToFeatureSetCollection({map:D,spatialReference:C.sr,interceptor:V})),"$layer"===be&&(b.vars[be]=g.convertFeatureLayerToFeatureSet({layer:P.sourceLayer,spatialReference:C.sr,interceptor:V})),"$datastore"===be&&(b.vars[be]=g.convertServiceUrlToWorkspace({url:P.sourceLayer.url,spatialReference:C.sr,interceptor:V})),"$aggregatedfeatures"===be){const Fe=P.layer,{fields:Xe,objectIdField:rt,geometryType:It,spatialReference:Zt,displayField:Xt}=Fe,tn=new m5.default(Bn(Ct({fields:Xe,objectIdField:rt,geometryType:It,spatialReference:Zt,displayField:Xt},"feature"===Fe.type?{templates:Fe.templates,typeIdField:Fe.typeIdField,types:Fe.types}:null),{source:p}));b.vars[be]=g.convertFeatureLayerToFeatureSet({layer:tn,spatialReference:C.sr,interceptor:V})}})}function SS(){return E.e(5068).then(E.bind(E,75068))}function C5(p){return Wg.apply(this,arguments)}function Wg(){return(Wg=(0,Un.Z)(function*({graphic:p,view:g}){const{isAggregate:v,layer:b}=p;if(!v||!b||"2d"!==(null==g?void 0:g.type))return[];const C=yield g.whenLayerView(b);if(!C.createQuery||!C.queryFeatures)return[];const D=C.createQuery();D.aggregateIds=[p.getObjectId()];const{features:P}=yield C.queryFeatures(D);return P})).apply(this,arguments)}function OS(p){return Vg.apply(this,arguments)}function Vg(){return(Vg=(0,Un.Z)(function*({expressionInfo:p,arcadeUtils:g,interceptor:v,spatialReference:b,map:C,graphic:D,view:P}){if(!p||!p.expression)return null;const V=g.createSyntaxTree(p.expression),ae=y5.filter(rt=>g.hasVariable(V,rt)),[be]=yield(0,Er.$6)([C5({graphic:D,view:P}),g.loadScriptDependencies(V,!0,ae)]),Pe=g.getViewInfo({spatialReference:b}),Fe=g.createExecContext(D,Pe);Fe.interceptor=v,Fe.useAsync=!0,M5({aggregatedFeatures:be,arcadeUtils:g,featureSetVars:ae,context:Fe,viewInfo:Pe,map:C,graphic:D,interceptor:v});const Xe=g.createFunction(V,Fe);return g.executeAsyncFunction(Xe,Fe).catch(rt=>_5.error("arcade-execution-error",{error:rt,graphic:D,expressionInfo:p}))})).apply(this,arguments)}function D5(p){return Zg.apply(this,arguments)}function Zg(){return(Zg=(0,Un.Z)(function*({expressionInfos:p,spatialReference:g,graphic:v,interceptor:b,map:C,view:D}){if(!p||!p.length)return{};const P=yield SS(),V={};for(const Pe of p)V[`expression/${Pe.name}`]=OS({expressionInfo:Pe,arcadeUtils:P,interceptor:b,spatialReference:g,map:C,graphic:v,view:D});const ae=yield(0,Er.as)(V),be={};for(const Pe in ae)be[Pe]=v5(ae[Pe].value);return be})).apply(this,arguments)}let uo=class extends((0,kl.p)(Ur.Z)){constructor(p){var g;super(p),g=this,this._abortController=null,this.expressionInfo=null,this.graphic=null,this.contentElement=null,this.contentElementViewModel=null,this.interceptor=null,this.view=null,this._cancelQuery=()=>{const{_abortController:v}=this;v&&v.abort(),this._abortController=null},this._createVM=()=>{var v,b;const C=null==(v=this.contentElement)?void 0:v.type;null==(b=this.contentElementViewModel)||b.destroy();const D="fields"===C?new kp:"media"===C?new Jl:"text"===C?new zp:null;this._set("contentElementViewModel",D)},this._compile=(0,Un.Z)(function*(){g._cancelQuery();const v=new AbortController;g._abortController=v,yield g._compileExpression(),g._abortController===v&&(g._abortController=null)}),this._compileThrottled=(0,pg.P)(this._compile,1,this),this._compileExpression=(0,Un.Z)(function*(){const{expressionInfo:v,graphic:b,interceptor:C,spatialReference:D,map:P,view:V,_abortController:ae}=g;if(!(v&&b&&D&&P))return void g._set("contentElement",null);const be=yield SS();if(ae!==g._abortController)return;const Pe=yield OS({arcadeUtils:be,expressionInfo:v,graphic:b,interceptor:C,map:P,spatialReference:D,view:V});if(!Pe||"esri.arcade.Dictionary"!==Pe.declaredClass)return void g._set("contentElement",null);const Fe=yield(0,d5.x)(Pe,ae.signal),Xe=null==Fe?void 0:Fe.type,rt="media"===Xe?p5.Z.fromJSON(Fe):"text"===Xe?DS.Z.fromJSON(Fe):"fields"===Xe?h5.Z.fromJSON(Fe):null;g._set("contentElement",rt)}),this.handles.add([(0,Jn.S1)(this,["expressionInfo","graphic","map","spatialReference","view"],this._compileThrottled),(0,Jn.S1)(this,"contentElement",this._createVM)])}destroy(){var p;this._cancelQuery(),null==(p=this.contentElementViewModel)||p.destroy(),this._set("contentElementViewModel",null),this._set("contentElement",null)}get spatialReference(){var p;return(null==(p=this.view)?void 0:p.spatialReference)||null}set spatialReference(p){void 0!==p?this._override("spatialReference",p):this._clearOverride("spatialReference")}get state(){const{_abortController:p,contentElement:g,contentElementViewModel:v}=this;return p?"loading":g||v?"ready":"disabled"}get map(){var p;return(null==(p=this.view)?void 0:p.map)||null}set map(p){void 0!==p?this._override("map",p):this._clearOverride("map")}};(0,ye._)([(0,Oe.Cb)()],uo.prototype,"_abortController",void 0),(0,ye._)([(0,Oe.Cb)({type:f5.Z})],uo.prototype,"expressionInfo",void 0),(0,ye._)([(0,Oe.Cb)({type:ja.Z})],uo.prototype,"graphic",void 0),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],uo.prototype,"contentElement",void 0),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],uo.prototype,"contentElementViewModel",void 0),(0,ye._)([(0,Oe.Cb)()],uo.prototype,"interceptor",void 0),(0,ye._)([(0,Oe.Cb)()],uo.prototype,"spatialReference",null),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],uo.prototype,"state",null),(0,ye._)([(0,Oe.Cb)()],uo.prototype,"map",null),(0,ye._)([(0,Oe.Cb)()],uo.prototype,"view",void 0),uo=(0,ye._)([(0,bn.j)("esri.widgets.Feature.FeatureExpression.FeatureExpressionViewModel")],uo);const $g=uo;let Jp=class extends oi.Z{constructor(p,g){super(p,g),this.viewModel=new $g}initialize(){(0,Jn.S1)(this,"viewModel.contentElementViewModel",()=>this._setupExpressionWidget())}destroy(){this._destroyContentWidget()}renderLoading(){return(0,Ft.u)("div",{key:"loading-container",class:"esri-feature__loading-container"},(0,Ft.u)("span",{class:this.classes("esri-icon-loading-indicator esri-rotating","esri-feature__loading-spinner")}))}render(){var p;const{state:g}=this.viewModel;return(0,Ft.u)("div",{class:"esri-feature-expression"},"loading"===g?this.renderLoading():"disabled"===g?null:null==(p=this._contentWidget)?void 0:p.render())}_destroyContentWidget(){const{_contentWidget:p}=this;p&&(p.viewModel=null,p.destroy()),this._contentWidget=null}_setupExpressionWidget(){const{contentElementViewModel:p,contentElement:g}=this.viewModel,v=null==g?void 0:g.type;this._destroyContentWidget();const b=p?"fields"===v?new mS({viewModel:p}):"media"===v?new CS({viewModel:p}):"text"===v?new Gp({viewModel:p}):null:null;this._contentWidget=b,this.scheduleRender()}};(0,ye._)([(0,Oe.Cb)({type:$g})],Jp.prototype,"viewModel",void 0),Jp=(0,ye._)([(0,bn.j)("esri.widgets.Feature.FeatureExpression")],Jp);const O5=Jp;var Yp;const wS="content-view-models",PS="esri.widgets.FeatureViewModel",I5=ns.Z.getLogger(PS),IS={attachmentsContent:!0,chartAnimation:!0,customContent:!0,expressionContent:!0,fieldsContent:!0,mediaContent:!0,textContent:!0};let ps=Yp=class extends Ur.Z{constructor(p){super(p),this._handles=new Co.Z,this._error=null,this._featureAbortController=null,this.graphicChangedThrottled=(0,pg.P)(this._graphicChanged,1,this),this._expressionAttributes=null,this._graphicExpressionAttributes=null,this.abilities=Ct({},IS),this.content=null,this.contentViewModels=[],this.defaultPopupTemplateEnabled=!1,this.formattedAttributes=null,this.lastEditInfo=null,this.relatedInfos=new Map,this.title="",this.view=null,this._isAllowedContentType=g=>{const{abilities:v}=this;return"attachments"===g.type&&v.attachmentsContent||"custom"===g.type&&v.customContent||"fields"===g.type&&v.fieldsContent||"media"===g.type&&v.mediaContent||"text"===g.type&&v.textContent||"expression"===g.type&&v.expressionContent},this._handles.add((0,Jn.S1)(this,["graphic","_effectivePopupTemplate","abilities"],()=>this.graphicChangedThrottled()))}destroy(){this._clear(),this._cancelFeatureQuery(),this._error=null,this._handles.destroy(),this._handles=null,this.graphic=null,this._destroyContentViewModels(),this.relatedInfos.clear()}get _effectivePopupTemplate(){return(0,nn.pC)(this.graphic)?this.graphic.getEffectivePopupTemplate(this.defaultPopupTemplateEnabled):null}get _fieldInfoMap(){return function b8(p,g){const v=new Map;return p&&p.forEach(b=>{const C=Kp(b.fieldName,g);b.fieldName=C,v.set(C.toLowerCase(),b)}),v}(iS(this._effectivePopupTemplate),this._sourceLayer)}get _sourceLayer(){return XD(this.graphic)}castAbilities(p){return Ct(Ct({},IS),p)}get state(){return this.graphic?this._error?"error":this.waitingForContent?"loading":"ready":"disabled"}set graphic(p){this._set("graphic",p?p.clone():null)}get spatialReference(){return this.get("view.spatialReference")||null}set spatialReference(p){void 0!==p?this._override("spatialReference",p):this._clearOverride("spatialReference")}get map(){return this.get("view.map")||null}set map(p){void 0!==p?this._override("map",p):this._clearOverride("map")}get waitingForContent(){return!!this._featureAbortController}setActiveMedia(p,g){const v=this.contentViewModels[p];v instanceof Jl&&v.setActiveMedia(g)}nextMedia(p){const g=this.contentViewModels[p];g instanceof Jl&&g.next()}previousMedia(p){const g=this.contentViewModels[p];g instanceof Jl&&g.previous()}_clear(){this._set("title",""),this._set("content",null),this._set("formattedAttributes",null)}_graphicChanged(){var p=this;return(0,Un.Z)(function*(){p._cancelFeatureQuery(),p._error=null,p._clear();const{graphic:g}=p;if(!g)return;const v=new AbortController;p._featureAbortController=v;try{yield p._queryFeature({signal:v.signal})}catch(b){(0,Er.D_)(b)||(p._error=b,I5.error("error","The popupTemplate could not be displayed for this feature.",{error:b,graphic:g,popupTemplate:p._effectivePopupTemplate}))}p._featureAbortController===v&&(p._featureAbortController=null)})()}_cancelFeatureQuery(){const{_featureAbortController:p}=this;p&&p.abort(),this._featureAbortController=null}_compileContentElement(p,g){return"attachments"===p.type?this._compileAttachments(p,g):"custom"===p.type?this._compileCustom(p,g):"fields"===p.type?this._compileFields(p,g):"media"===p.type?this._compileMedia(p,g):"text"===p.type?this._compileText(p,g):"expression"===p.type?this._compileExpression(p,g):void 0}_compileContent(p){if(this._destroyContentViewModels(),this.graphic)return Array.isArray(p)?p.filter(this._isAllowedContentType).map((g,v)=>this._compileContentElement(g,v)):"string"==typeof p?this._compileText(new DS.Z({text:p}),0).text:p}_destroyContentViewModels(){var p;null==(p=this._handles)||p.remove(wS),this.contentViewModels.forEach(g=>g&&!g.destroyed&&g.destroy()),this._set("contentViewModels",[])}_setExpressionContentVM(p,g){const{formattedAttributes:v}=this,{contentElement:b,contentElementViewModel:C}=p,D=null==b?void 0:b.type;C&&D&&("fields"===D&&(this._createFieldsFormattedAttributes({contentElement:b,contentElementIndex:g,formattedAttributes:v}),C.set(this._createFieldsVMParams(b,g))),"media"===D&&(this._createMediaFormattedAttributes({contentElement:b,contentElementIndex:g,formattedAttributes:v}),C.set(this._createMediaVMParams(b,g))),"text"===D&&C.set(this._createTextVMParams(b)))}_compileExpression(p,g){const{expressionInfo:v}=p,{graphic:b,map:C,spatialReference:D,view:P}=this,V=new $g({expressionInfo:v,graphic:b,interceptor:Yp.interceptor,map:C,spatialReference:D,view:P});return this.contentViewModels[g]=V,this._handles.add((0,Jn.S1)(V,"contentElementViewModel",()=>this._setExpressionContentVM(V,g)),wS),p}_compileAttachments(p,g){const{graphic:v}=this,{description:b,title:C}=p;return this.contentViewModels[g]=new wg(Ct({graphic:v},this._compileTitleAndDesc({title:C,description:b}))),p}_compileCustom(p,g){const{graphic:v}=this,{creator:b,destroyer:C}=p;return this.contentViewModels[g]=new zp({graphic:v,creator:b,destroyer:C}),p}_compileTitleAndDesc({title:p,description:g}){const{_fieldInfoMap:v,_sourceLayer:b,graphic:C,formattedAttributes:D,_expressionAttributes:P}=this,{attributes:V}=C,ae=D.global;return{title:Hl({attributes:V,fieldInfoMap:v,globalAttributes:ae,expressionAttributes:P,layer:b,text:p}),description:Hl({attributes:V,fieldInfoMap:v,globalAttributes:ae,expressionAttributes:P,layer:b,text:g})}}_createFieldsVMParams(p,g){const{_effectivePopupTemplate:v,formattedAttributes:b}=this,C=Ct(Ct({},b.global),b.content[g]),D=(null==p?void 0:p.fieldInfos)||(null==v?void 0:v.fieldInfos),P=null==D?void 0:D.filter(({fieldName:Pe})=>eS(Pe)||Fa(Pe)||C.hasOwnProperty(Pe)),V=null==v?void 0:v.expressionInfos,{description:ae,title:be}=p;return Ct({attributes:C,expressionInfos:V,fieldInfos:P},this._compileTitleAndDesc({title:be,description:ae}))}_compileFields(p,g){const v=p.clone(),b=new kp(this._createFieldsVMParams(p,g));return this.contentViewModels[g]=b,v.fieldInfos=b.formattedFieldInfos.slice(0),v}_createMediaVMParams(p,g){const{abilities:v,graphic:b,_fieldInfoMap:C,formattedAttributes:D,_effectivePopupTemplate:P,relatedInfos:V,_sourceLayer:ae,_expressionAttributes:be}=this,{attributes:Pe}=b,{description:Fe,mediaInfos:Xe,title:rt}=p;return Ct({abilities:{chartAnimation:v.chartAnimation},activeMediaInfoIndex:p.activeMediaInfoIndex||0,attributes:Pe,layer:ae,fieldInfoMap:C,formattedAttributes:Ct(Ct({},D.global),D.content[g]),expressionAttributes:be,mediaInfos:Xe,popupTemplate:P,relatedInfos:V},this._compileTitleAndDesc({title:rt,description:Fe}))}_compileMedia(p,g){const v=p.clone(),b=new Jl(this._createMediaVMParams(p,g));return v.mediaInfos=b.formattedMediaInfos.slice(0),this.contentViewModels[g]=b,v}_createTextVMParams(p){const{graphic:g,_fieldInfoMap:v,_sourceLayer:b,_expressionAttributes:C}=this;if(p&&p.text){const{attributes:D}=g;p.text=Hl({attributes:D,fieldInfoMap:v,globalAttributes:this.formattedAttributes.global,expressionAttributes:C,layer:b,text:p.text})}return{graphic:g,creator:p.text}}_compileText(p,g){const v=p.clone();return this.contentViewModels[g]=new zp(this._createTextVMParams(v)),v}_compileLastEditInfo(){const{_effectivePopupTemplate:p,_sourceLayer:g,graphic:v}=this;if(!p)return;const{lastEditInfoEnabled:b}=p,C=null==g?void 0:g.editFieldsInfo;return b&&C?function E8(p,g){const{creatorField:v,creationDateField:b,editorField:C,editDateField:D}=p;if(!g)return;const P=g[D];if("number"==typeof P){const ae=g[C];return{type:"edit",date:(0,Ud.p6)(P,mg),user:ae}}const V=g[b];if("number"==typeof V){const ae=g[v];return{type:"create",date:(0,Ud.p6)(V,mg),user:ae}}return null}(C,v.attributes):void 0}_compileTitle(p){const{_fieldInfoMap:g,_sourceLayer:v,graphic:b,_expressionAttributes:C}=this,{attributes:D}=b;return Hl({attributes:D,fieldInfoMap:g,globalAttributes:this.formattedAttributes.global,expressionAttributes:C,layer:v,text:p})}_getTitle(){var p=this;return(0,Un.Z)(function*(){const{_effectivePopupTemplate:g,graphic:v}=p;return $p(null==g?void 0:g.title,{graphic:v})})()}_getContent(){var p=this;return(0,Un.Z)(function*(){const{_effectivePopupTemplate:g,graphic:v}=p;return $p(null==g?void 0:g.content,{graphic:v})})()}_queryFeature(p){var g=this;return(0,Un.Z)(function*(){const{_featureAbortController:v,_sourceLayer:b,graphic:C,_effectivePopupTemplate:D,spatialReference:P,map:V,view:ae}=g,{content:{value:be},title:{value:Pe}}=yield(0,Er.as)({content:g._getContent(),title:g._getTitle()});if(v!==g._featureAbortController||!C)return;yield function S8(p,g){return Dg.apply(this,arguments)}({graphic:C,popupTemplate:D,layer:b,spatialReference:P},p);const{expressionAttributes:{value:Fe}}=yield(0,Er.as)({checkForRelatedFeatures:g._checkForRelatedFeatures(p),expressionAttributes:D5({expressionInfos:null==D?void 0:D.expressionInfos,spatialReference:P,graphic:C,map:V,interceptor:Yp.interceptor,view:ae})});v===g._featureAbortController&&C&&(g._expressionAttributes=Fe,g._graphicExpressionAttributes=Ct(Ct({},C.attributes),Fe),g._set("formattedAttributes",g._createFormattedAttributes(be)),g._set("title",g._compileTitle(Pe)),g._set("lastEditInfo",g._compileLastEditInfo()||null),g._set("content",g._compileContent(be)||null))})()}_createMediaFormattedAttributes({contentElement:p,contentElementIndex:g,formattedAttributes:v}){const{_effectivePopupTemplate:b,graphic:C,relatedInfos:D,_sourceLayer:P,_fieldInfoMap:V,_graphicExpressionAttributes:ae}=this;v.content[g]=bg({fieldInfos:null==b?void 0:b.fieldInfos,graphic:C,attributes:Ct(Ct({},ae),p.attributes),layer:P,fieldInfoMap:V,relatedInfos:D})}_createFieldsFormattedAttributes({contentElement:p,contentElementIndex:g,formattedAttributes:v}){if(p.fieldInfos){const{graphic:b,relatedInfos:C,_sourceLayer:D,_fieldInfoMap:P,_graphicExpressionAttributes:V}=this;v.content[g]=bg({fieldInfos:p.fieldInfos,graphic:b,attributes:Ct(Ct({},V),p.attributes),layer:D,fieldInfoMap:P,relatedInfos:C})}}_createFormattedAttributes(p){const{_effectivePopupTemplate:g,graphic:v,relatedInfos:b,_sourceLayer:C,_fieldInfoMap:D,_graphicExpressionAttributes:P}=this,ae={global:bg({fieldInfos:null==g?void 0:g.fieldInfos,graphic:v,attributes:P,layer:C,fieldInfoMap:D,relatedInfos:b}),content:[]};return Array.isArray(p)&&p.forEach((be,Pe)=>{"fields"===be.type&&this._createFieldsFormattedAttributes({contentElement:be,contentElementIndex:Pe,formattedAttributes:ae}),"media"===be.type&&this._createMediaFormattedAttributes({contentElement:be,contentElementIndex:Pe,formattedAttributes:ae})}),ae}_checkForRelatedFeatures(p){const{graphic:g,_effectivePopupTemplate:v}=this;return this._queryRelatedInfos(g,iS(v),p)}_queryRelatedInfos(p,g,v){var b=this;return(0,Un.Z)(function*(){const{relatedInfos:C,_sourceLayer:D}=b;C.clear();const P=(0,nn.pC)(D.associatedLayer)?yield D.associatedLayer.load(v):D;if(!P)return;const V=g.filter(Pe=>Pe&&Fa(Pe.fieldName));if(!V||!V.length)return;g.forEach(Pe=>b._configureRelatedInfo(Pe,P));const ae=yield function t5({relatedInfos:p,layer:g},v){const b={};return p.forEach((C,D)=>{const{relation:P}=C;if(!P){const Fe=new Rn.Z("relation-required","A relation is required on a layer to retrieve related records.");throw yS.error(Fe),Fe}const{relatedTableId:V}=P;if("number"!=typeof V){const Fe=new Rn.Z("A related table ID is required on a layer to retrieve related records.");throw yS.error(Fe),Fe}const ae=`${g.url}/${V}`,be=gS.get(ae),Pe=be||function e5(p,g){return(0,ll.default)(p,{query:{f:"json"},signal:g&&g.signal})}(ae,v);be||gS.set(ae,Pe),b[D]=Pe}),(0,Er.as)(b)}({relatedInfos:C,layer:P},v);Object.keys(ae).forEach(Pe=>{var Fe;const Xe=C.get(Pe.toString()),rt=null==(Fe=ae[Pe])?void 0:Fe.value;Xe&&rt&&(Xe.layerInfo=rt.data)});const be=yield function n5({graphic:p,relatedInfos:g,layer:v},b){const C={};return g.forEach((D,P)=>{D.layerInfo&&(C[P]=function q8(p,g,v,b){return Lg.apply(this,arguments)}(p,D,v,b))}),(0,Er.as)(C)}({graphic:p,relatedInfos:C,layer:P},v);Object.keys(be).forEach(Pe=>{var Fe;!function Y8(p,g){if(!g||!p)return;const{features:v,statsFeatures:b}=p,C=v&&v.value;g.relatedFeatures=C?C.features:[];const D=b&&b.value;g.relatedStatsFeatures=D?D.features:[]}(null==(Fe=be[Pe])?void 0:Fe.value,C.get(Pe.toString()))})})()}_configureRelatedInfo(p,g){const{relatedInfos:v}=this,b=Wd(p.fieldName);if(!b)return;const{layerId:C,fieldName:D}=b;if(!C)return;const P=v.get(C.toString())||function J8(p,g){const v=function G8(p,g){if(!g.relationships)return null;let v=null;const{relationships:b}=g;return b.some(C=>C.id===parseInt(p,10)&&(v=C,!0)),v}(p,g);if(!v)return;const b=`${g.url}/${v.relatedTableId}`;return{url:b,queryTask:new K8.Z({url:b,sourceSpatialReference:g.spatialReference}),relation:v,relatedFields:[],outStatistics:[]}}(C,g);P&&(function r5({relatedInfo:p,fieldName:g,fieldInfo:v}){if(p.relatedFields.push(g),v.statisticType){const b=new $8.Z({statisticType:v.statisticType,onStatisticField:g,outStatisticFieldName:g});p.outStatistics.push(b)}}({relatedInfo:P,fieldName:D,fieldInfo:p}),this.relatedInfos.set(C,P))}};ps.interceptor=new class w5{constructor(g,v){this.preLayerQueryCallback=g,this.preRequestCallback=v,this.preLayerQueryCallback||(this.preLayerQueryCallback=b=>{}),this.preRequestCallback||(this.preLayerQueryCallback=b=>{})}}(({query:p,layer:g,method:v})=>{lS({layer:g,method:v,query:p,definitionExpression:`${g.definitionExpression} ${g.serviceDefinitionExpression}`})},({queryPayload:p,layer:g,method:v})=>{lS({layer:g,method:v,query:p,definitionExpression:`${g.definitionExpression} ${g.serviceDefinitionExpression}`})}),(0,ye._)([(0,Oe.Cb)()],ps.prototype,"_error",void 0),(0,ye._)([(0,Oe.Cb)()],ps.prototype,"_featureAbortController",void 0),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],ps.prototype,"_effectivePopupTemplate",null),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],ps.prototype,"_fieldInfoMap",null),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],ps.prototype,"_sourceLayer",null),(0,ye._)([(0,Oe.Cb)()],ps.prototype,"abilities",void 0),(0,ye._)([(0,lo.p)("abilities")],ps.prototype,"castAbilities",null),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],ps.prototype,"content",void 0),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],ps.prototype,"contentViewModels",void 0),(0,ye._)([(0,Oe.Cb)({type:Boolean})],ps.prototype,"defaultPopupTemplateEnabled",void 0),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],ps.prototype,"state",null),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],ps.prototype,"formattedAttributes",void 0),(0,ye._)([(0,Oe.Cb)({type:ja.Z,value:null})],ps.prototype,"graphic",null),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],ps.prototype,"lastEditInfo",void 0),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],ps.prototype,"relatedInfos",void 0),(0,ye._)([(0,Oe.Cb)()],ps.prototype,"spatialReference",null),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],ps.prototype,"title",void 0),(0,ye._)([(0,Oe.Cb)()],ps.prototype,"map",null),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],ps.prototype,"waitingForContent",null),(0,ye._)([(0,Oe.Cb)()],ps.prototype,"view",void 0),ps=Yp=(0,ye._)([(0,bn.j)(PS)],ps);const Kg=ps,TS=p=>{let g=class extends p{constructor(){super(...arguments),this.renderNodeContent=v=>(0,xg.Qd)(v)&&!v.destroyed?(0,Ft.u)("div",{key:v},v.render()):v instanceof HTMLElement?(0,Ft.u)("div",{key:v,bind:v,afterCreate:this._attachToNode}):(0,xg.o)(v)?(0,Ft.u)("div",{key:v,bind:v.domNode,afterCreate:this._attachToNode}):null}_attachToNode(v){v.appendChild(this)}};return g=(0,ye._)([(0,bn.j)("esri.widgets.Feature.ContentMixin")],g),g};var zo=E(97059);const yi_contentElement="esri-feature__content-element",xS={title:!0,content:!0,lastEditedInfo:!0};let gi=class extends(TS(oi.Z)){constructor(p,g){super(p,g),this._contentWidgets=[],this.graphic=null,this.defaultPopupTemplateEnabled=!1,this.headingLevel=2,this.label=void 0,this.messages=null,this.messagesCommon=null,this.messagesURIUtils=null,this.spatialReference=null,this.title=null,this.visibleElements=Ct({},xS),this.map=null,this.view=null,this.viewModel=new Kg}initialize(){this.own((0,Jn.S1)(this,"viewModel.contentViewModels",()=>this._setupContentWidgets()))}loadDependencies(){return E.e(1360).then(E.bind(E,61360))}destroy(){this._destroyContentWidgets()}castVisibleElements(p){return Ct(Ct({},xS),p)}render(){const{state:p}=this.viewModel,g=(0,Ft.u)("div",{class:"esri-feature__size-container",key:"container"},this.renderTitle(),"error"===p?this.renderError():"loading"===p?this.renderLoading():this.renderContentContainer());return(0,Ft.u)("div",{class:this.classes("esri-feature","esri-widget")},g)}setActiveMedia(p,g){this.viewModel.setActiveMedia(p,g)}nextMedia(p){this.viewModel.nextMedia(p)}previousMedia(p){this.viewModel.previousMedia(p)}renderError(){const{messagesCommon:p,messages:g,visibleElements:v}=this;return(0,Ft.u)("calcite-notice",{active:!0,color:"red",icon:"exclamation-mark-circle",scale:"s"},v.title?(0,Ft.u)("div",{key:"error-title",slot:"title"},p.errorMessage):null,(0,Ft.u)("div",{key:"error-message",slot:"message"},g.loadingError))}renderLoading(){return(0,Ft.u)("div",{key:"loading-container",class:"esri-feature__loading-container"},(0,Ft.u)("span",{class:this.classes("esri-icon-loading-indicator esri-rotating","esri-feature__loading-spinner")}))}renderContentContainer(){const{visibleElements:p}=this;return p.content?(0,Ft.u)("div",{class:"esri-feature__main-container"},[this.renderContent(),this.renderLastEditInfo()]):null}renderTitle(){const{visibleElements:p,title:g}=this;return p.title?(0,Ft.u)(Pg,{level:this.headingLevel,class:"esri-feature__title",innerHTML:g}):null}renderContent(){const p=this.viewModel.content,g="content";if(!p)return null;if(Array.isArray(p))return p.length?(0,Ft.u)("div",{key:`${g}-content-elements`},p.map(this.renderContentElement,this)):null;if("string"==typeof p){const v=this._contentWidgets[0];return!v||v.destroyed?null:(0,Ft.u)("div",{key:`${g}-content`},v.render())}return this.renderNodeContent(p)}renderContentElement(p,g){const{visibleElements:v}=this;if("boolean"!=typeof v.content&&!v.content[p.type])return null;switch(p.type){case"attachments":return this.renderAttachments(g);case"custom":return this.renderCustom(p,g);case"fields":return this.renderFields(g);case"media":return this.renderMedia(g);case"text":return this.renderText(p,g);case"expression":return this.renderExpression(g);default:return null}}renderAttachments(p){const g=this._contentWidgets[p];if(!g||g.destroyed)return null;const{state:v,attachmentInfos:b}=g.viewModel;return"loading"===v||b.length>0?(0,Ft.u)("div",{key:this._buildKey("attachments-element",p),class:this.classes(yi_contentElement)},g.render()):null}renderExpression(p){const g=this._contentWidgets[p];return!g||g.destroyed?null:(0,Ft.u)("div",{key:this._buildKey("expression-element",p),class:yi_contentElement},g.render())}renderCustom(p,g){const{creator:v}=p,b=this._contentWidgets[g];return!b||b.destroyed?null:v?(0,Ft.u)("div",{key:this._buildKey("custom-element",g),class:yi_contentElement},b.render()):null}renderFields(p){const g=this._contentWidgets[p];return!g||g.destroyed?null:(0,Ft.u)("div",{key:this._buildKey("fields-element",p),class:yi_contentElement},g.render())}renderMedia(p){const g=this._contentWidgets[p];return!g||g.destroyed?null:(0,Ft.u)("div",{key:this._buildKey("media-element",p),class:yi_contentElement},g.render())}renderLastEditInfo(){const{visibleElements:p,messages:g}=this,{lastEditInfo:v}=this.viewModel;if(!v||!p.lastEditedInfo)return null;const{date:b,user:C}=v,P=(0,zo.n)("edit"===v.type?C?g.lastEditedByUser:g.lastEdited:C?g.lastCreatedByUser:g.lastCreated,{date:b,user:C});return(0,Ft.u)("div",{key:"edit-info-element",class:this.classes("esri-feature__last-edited-info",yi_contentElement)},P)}renderText(p,g){const b=this._contentWidgets[g];return!b||b.destroyed?null:p.text?(0,Ft.u)("div",{key:this._buildKey("text-element",g),class:this.classes(yi_contentElement,"esri-feature__text")},b.render()):null}_buildKey(p,...g){return`${p}__${this.get("viewModel.graphic.uid")||"0"}-${g.join("-")}`}_destroyContentWidget(p){p&&(p.viewModel=null,!p.destroyed&&p.destroy())}_destroyContentWidgets(){this._contentWidgets.forEach(p=>this._destroyContentWidget(p)),this._contentWidgets=[]}_setupContentWidgets(){this._destroyContentWidgets();const{headingLevel:p,visibleElements:g}=this,v=this.get("viewModel.content"),{contentViewModels:b}=this.viewModel;if(Array.isArray(v))v.forEach((C,D)=>{"attachments"===C.type&&(this._contentWidgets[D]=new U8({displayType:C.displayType,headingLevel:g.title?p+1:p,viewModel:b[D]})),"fields"===C.type&&(this._contentWidgets[D]=new mS({viewModel:b[D]})),"media"===C.type&&(this._contentWidgets[D]=new CS({viewModel:b[D]})),"text"===C.type&&(this._contentWidgets[D]=new Gp({viewModel:b[D]})),"custom"===C.type&&(this._contentWidgets[D]=new Gp({viewModel:b[D]})),"expression"===C.type&&(this._contentWidgets[D]=new O5({viewModel:b[D]}))},this);else{const C=b[0];C&&!C.destroyed&&(this._contentWidgets[0]=new Gp({viewModel:C}))}this.scheduleRender()}};(0,ye._)([(0,Nn.B)("viewModel.graphic")],gi.prototype,"graphic",void 0),(0,ye._)([(0,Nn.B)("viewModel.defaultPopupTemplateEnabled")],gi.prototype,"defaultPopupTemplateEnabled",void 0),(0,ye._)([(0,Oe.Cb)()],gi.prototype,"headingLevel",void 0),(0,ye._)([(0,Oe.Cb)({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],gi.prototype,"label",void 0),(0,ye._)([(0,Oe.Cb)(),(0,ai.H)("esri/widgets/Feature/t9n/Feature")],gi.prototype,"messages",void 0),(0,ye._)([(0,Oe.Cb)(),(0,ai.H)("esri/t9n/common")],gi.prototype,"messagesCommon",void 0),(0,ye._)([(0,Oe.Cb)(),(0,ai.H)("esri/widgets/support/t9n/uriUtils")],gi.prototype,"messagesURIUtils",void 0),(0,ye._)([(0,Nn.B)("viewModel.spatialReference")],gi.prototype,"spatialReference",void 0),(0,ye._)([(0,Nn.B)("viewModel.title")],gi.prototype,"title",void 0),(0,ye._)([(0,Oe.Cb)()],gi.prototype,"visibleElements",void 0),(0,ye._)([(0,lo.p)("visibleElements")],gi.prototype,"castVisibleElements",null),(0,ye._)([(0,Nn.B)("viewModel.map")],gi.prototype,"map",void 0),(0,ye._)([(0,Nn.B)("viewModel.view")],gi.prototype,"view",void 0),(0,ye._)([(0,Oe.Cb)({type:Kg})],gi.prototype,"viewModel",void 0),gi=(0,ye._)([(0,bn.j)("esri.widgets.Feature")],gi);const T5=gi;let Yl=class extends Id.Z.EventedAccessor{constructor(p){super(p),this._anchorHandles=new Co.Z,this.location=null,this.screenLocation=null,this.screenLocationEnabled=!1,this.view=null,this._anchorHandles.add([(0,Jn.YP)(this,["screenLocationEnabled","location","view.size","view.stationary"],()=>this._updateScreenPointAndHandle()),(0,Jn.YP)(this,["view","view.ready"],()=>this._wireUpView())])}destroy(){this.view=null,this._anchorHandles&&this._anchorHandles.destroy(),this._anchorHandles=null,this._viewpointHandle=null}_wireUpView(){const p="view";if(this._anchorHandles.remove(p),this._viewpointHandle=null,!this.get("view.ready"))return;this._setScreenLocation();const{view:g}=this,b=(0,Jn.Wy)(g,"3d"===g.type?"camera":"viewpoint",()=>this._viewpointChange());this._anchorHandles.add(b,p),this._viewpointHandle=b,this._toggleWatchingViewpoint()}_viewpointChange(){this._setScreenLocation(),this.emit("view-change")}_updateScreenPointAndHandle(){this._setScreenLocation(),this._toggleWatchingViewpoint()}_toggleWatchingViewpoint(){const{_viewpointHandle:p,location:g,screenLocationEnabled:v}=this;!p||(g&&v?p.resume():p.pause())}_setScreenLocation(){const{location:p,view:g,screenLocationEnabled:v}=this,b=this.get("view.ready"),C=v&&b&&(0,nn.pC)(p)?g.toScreen(p):null;this._set("screenLocation",C)}};(0,ye._)([(0,Oe.Cb)()],Yl.prototype,"location",void 0),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],Yl.prototype,"screenLocation",void 0),(0,ye._)([(0,Oe.Cb)()],Yl.prototype,"screenLocationEnabled",void 0),(0,ye._)([(0,Oe.Cb)()],Yl.prototype,"view",void 0),Yl=(0,ye._)([(0,bn.j)("esri.widgets.support.AnchorElementViewModel")],Yl);const AS=Yl;let Qp=class extends AS{constructor(p){super(p),this.visible=!1}};(0,ye._)([(0,Oe.Cb)()],Qp.prototype,"visible",void 0),Qp=(0,ye._)([(0,bn.j)("esri.widgets.CompassViewModel")],Qp);const RS=Qp;let Ql=class extends oi.Z{constructor(p,g){super(p,g),this._animationDelay=500,this._animationPromise=null,this.location=null,this.view=null,this.viewModel=new RS,this.visible=!1}initialize(){this.own([(0,Jn.YP)(this,"visible",p=>this._visibleChange(p))])}destroy(){this._animationPromise=null}show(p){const{location:g,promise:v}=p;g&&(this.viewModel.location=g),this.visible=!0,v&&v.catch(()=>{}).then(()=>this.hide())}hide(){this.visible=!1}render(){const{visible:p}=this,{screenLocation:g}=this.viewModel,v=!!g,D={"esri-spinner--start":p&&v,"esri-spinner--finish":!p&&v},P=this._getPositionStyles();return(0,Ft.u)("div",{class:this.classes("esri-spinner",D),styles:P})}_visibleChange(p){if(p)return void(this.viewModel.screenLocationEnabled=!0);const g=(0,Er.e4)(this._animationDelay);this._animationPromise=g,g.catch(()=>{}).then(()=>{this._animationPromise===g&&(this.viewModel.screenLocationEnabled=!1,this._animationPromise=null)})}_getPositionStyles(){const{screenLocation:p,view:g}=this.viewModel;if(!g||(0,nn.Wi)(p))return{};const{padding:v}=g;return{left:p.x-v.left+"px",top:p.y-v.top+"px"}}};(0,ye._)([(0,Nn.B)("viewModel.location")],Ql.prototype,"location",void 0),(0,ye._)([(0,Nn.B)("viewModel.view")],Ql.prototype,"view",void 0),(0,ye._)([(0,Oe.Cb)({type:RS})],Ql.prototype,"viewModel",void 0),(0,ye._)([(0,Nn.B)("viewModel.visible")],Ql.prototype,"visible",void 0),Ql=(0,ye._)([(0,bn.j)("esri.widgets.Spinner")],Ql);const A5=Ql;E(29132),E(65787);var R5=E(63602),L5=E(59397),Zd=E(48753),j5=E(10671),$d=(E(71131),E(86606));function kg(p){return p&&"opacity"in p?p.opacity*kg(p.parent):1}function Hg(){return(Hg=(0,Un.Z)(function*(p,g){var v,b;if(!p)return;const C=p.sourceLayer,D=null!=(v=(0,nn.pC)(g)&&null!=(b=g.useSourceLayer)&&b?C:p.layer)?v:C,P=kg(D);if((0,nn.pC)(p.symbol)&&(!(0,nn.pC)(g)||!0!==g.ignoreGraphicSymbol)){const Gt="web-style"===p.symbol.type?yield p.symbol.fetchSymbol((0,nn.pC)(g)?g.abortOptions:null):p.symbol.clone();return(0,$d.tb)(Gt,null,P),Gt}const V=(0,nn.pC)(g)&&g.renderer||D&&"renderer"in D&&D.renderer;let ae=V&&"getSymbolAsync"in V?yield V.getSymbolAsync(p,g):null;if(!ae)return;if(ae="web-style"===ae.type?yield ae.fetchSymbol((0,nn.pC)(g)?g.abortOptions:null):ae.clone(),!("visualVariables"in V)||!V.visualVariables||!V.visualVariables.length)return(0,$d.tb)(ae,null,P),ae;if("arcadeRequiredForVisualVariables"in V&&V.arcadeRequiredForVisualVariables&&((0,nn.Wi)(g)||(0,nn.Wi)(g.arcade))){const Gt=Ct({},(0,nn.Wg)(g));Gt.arcade=yield(0,HD.LC)(),g=Gt}const be=yield Promise.resolve().then(E.bind(E,81808)),Pe=[],Fe=[],Xe=[],rt=[];for(const Gt of V.visualVariables)switch(Gt.type){case"color":Pe.push(Gt);break;case"opacity":Fe.push(Gt);break;case"rotation":rt.push(Gt);break;case"size":Gt.target||Xe.push(Gt)}const It=!!Pe.length&&Pe[Pe.length-1],Zt=It?be.getColor(It,p,g):null,Xt=!!Fe.length&&Fe[Fe.length-1];let tn=Xt?be.getOpacity(Xt,p,g):null;if(null!=P&&(tn=null!=tn?tn*P:P),(0,$d.tb)(ae,Zt,tn),Xe.length){const Gt=be.getAllSizes(Xe,p,g);yield(0,$d.e3)(ae,Gt)}for(const Gt of rt)(0,$d.BR)(ae,be.getRotationAngle(Gt,p,g),Gt.axis);return ae})).apply(this,arguments)}var mc=E(58677);function jS(p){return p&&"function"==typeof p.highlight}const Xp_iconZoom="esri-icon-zoom-in-magnifying-glass",fl=new Zd.Z({id:"zoom-to-feature",title:"{messages.zoom}",className:Xp_iconZoom}),Yg=new Zd.Z({id:"remove-selected-feature",title:"{messages.remove}",className:"esri-icon-trash"}),Xl=new Zd.Z({id:"zoom-to-clustered-features",title:"{messages.zoom}",className:Xp_iconZoom}),ql=new Zd.Z({id:"browse-clustered-features",title:"{messages.browseClusteredFeatures}",className:"esri-icon-table"}),ml=ns.Z.getLogger("esri.widgets.Popup.PopupViewModel");function US(p){const{selectedFeature:g,location:v,view:b}=p;return b?"3d"===b.type?g||v:p.get("selectedFeature.geometry")||v:null}function V5(p,g){if("3d"!==(null==g?void 0:g.type)||!p||"esri.Graphic"!==p.declaredClass)return!0;const v=g.getViewForGraphic(p);if(v&&"whenGraphicBounds"in v){let b=!1;return v.whenGraphicBounds(p,{useViewElevation:!0}).then(C=>{b=!C||!C.boundingBox||C.boundingBox[0]===C.boundingBox[3]&&C.boundingBox[1]===C.boundingBox[4]&&C.boundingBox[2]===C.boundingBox[5]}).catch(()=>{const C=new Rn.Z("zoom-to:invalid-graphic","Could not zoom to the location of the graphic.",{graphic:p});ml.error(C)}),b}return!0}function Qg(){return(Qg=(0,Un.Z)(function*(p){const{location:g,selectedFeature:v,view:b,zoomFactor:C}=p,D=US(p);if(!D){const be=new Rn.Z("zoom-to:invalid-target-or-view","Cannot zoom to location without a target and view.",{target:D,view:b});return ml.error(be),Promise.reject(be)}const P=b.scale/C,V=p.get("selectedFeature.geometry")||g,ae=V&&"point"===V.type&&V5(v,b);fl.active=!0,fl.disabled=!0;try{yield p.view.goTo({target:D,scale:ae?P:void 0})}finally{fl.active=!1,fl.disabled=!1,p.zoomToLocation=null,ae&&(p.location=V)}})).apply(this,arguments)}function Xg(){return(Xg=(0,Un.Z)(function*(p){const{selectedFeature:g,view:v}=p;if("2d"!==(null==v?void 0:v.type)){const V=new Rn.Z("zoomToCluster:invalid-view","View must be 2d MapView.",{view:v});throw ml.error(V),V}if(!g.isAggregate){const V=new Rn.Z("zoomToCluster:invalid-selectedFeature","Selected feature must represent an aggregate/cluster graphic.",{selectedFeature:g});throw ml.error(V),V}const b=g.sourceLayer,C=yield v.whenLayerView(b),D=C.createQuery();D.aggregateIds=[g.getObjectId()],Xl.active=!0,Xl.disabled=!0;const{extent:P}=yield C.queryExtent(D);yield v.goTo({target:P}),Xl.active=!1,Xl.disabled=!1})).apply(this,arguments)}function qg(){return(qg=(0,Un.Z)(function*(p){const{selectedFeature:g,view:v}=p;if("2d"!==(null==v?void 0:v.type)){const V=new Rn.Z("displayClusterExtent:invalid-view","View must be 2d MapView.",{view:v});throw ml.error(V),V}if(!g.isAggregate){const V=new Rn.Z("zoomToCluster:invalid-selectedFeature","Selected feature must represent an aggregate/cluster graphic.",{selectedFeature:g});throw ml.error(V),V}const b=g.sourceLayer,C=yield v.whenLayerView(b),D=C.createQuery();D.aggregateIds=[g.getObjectId()];const{extent:P}=yield C.queryExtent(D);p.selectedClusterBoundaryFeature.geometry=P,v.graphics.add(p.selectedClusterBoundaryFeature)})).apply(this,arguments)}function e_(){return(e_=(0,Un.Z)(function*(p){const{selectedFeature:g,view:v}=p;if("2d"!==(null==v?void 0:v.type)){const V=new Rn.Z("browseAggregateFeatures:invalid-view","View must be 2d MapView.",{view:v});throw ml.error(V),V}if(!g.isAggregate){const V=new Rn.Z("browseAggregateFeatures:invalid-selectedFeature","Selected feature must represent an aggregate/cluster graphic.",{selectedFeature:g});throw ml.error(V),V}const b=g.sourceLayer,C=yield v.whenLayerView(b),D=C.createQuery();D.aggregateIds=[g.getObjectId()],ql.active=!0,ql.disabled=!0;const{features:P}=yield C.queryFeatures(D);ql.active=!1,ql.disabled=!1,v.popup.open({features:[g].concat(P),featureMenuOpen:!0})})).apply(this,arguments)}const t_=p=>{let g=class extends p{constructor(...v){super(...v),this.goToOverride=null,this.view=null}callGoTo(v){const{view:b}=this;return this.goToOverride?this.goToOverride(b,v):b.goTo(v.target,v.options)}};return(0,ye._)([(0,Oe.Cb)()],g.prototype,"goToOverride",void 0),(0,ye._)([(0,Oe.Cb)()],g.prototype,"view",void 0),g=(0,ye._)([(0,bn.j)("esri.widgets.support.GoTo")],g),g};var FS=E(88493);const Kd=ds.Z.ofType({key:"type",defaultKeyValue:"button",base:L5.Z,typeMap:{button:Zd.Z,toggle:j5.Z}}),NS="esri.widgets.Popup.PopupViewModel",BS=ns.Z.getLogger(NS);let wr=class extends(t_(AS)){constructor(p){super(p),this._handles=new Co.Z,this._pendingPromises=new Set,this._fetchFeaturesController=null,this._selectedClusterFeature=null,this.featurePage=null,this.actions=new Kd,this.defaultPopupTemplateEnabled=!1,this.autoCloseEnabled=!1,this.autoOpenEnabled=!0,this.browseClusterEnabled=!1,this.content=null,this.featuresPerPage=20,this.featureViewModelAbilities=null,this.featureViewModels=[],this.highlightEnabled=!0,this.includeDefaultActions=!0,this.selectedClusterBoundaryFeature=new ja.Z({symbol:new FS.Z({outline:{width:1.5,color:"cyan"},style:"none"})}),this.title=null,this.updateLocationEnabled=!1,this.view=null,this.visible=!1,this.zoomFactor=4,this.zoomToLocation=null}get isLoadingFeature(){return this.featureViewModels.some(p=>p.waitingForContent)}initialize(){this._handles.add([(0,Jn.S1)(this,["autoOpenEnabled","view"],()=>this._autoOpenEnabledChange()),this.on("view-change",()=>this._autoClose()),(0,Jn.YP)(this,["highlightEnabled","selectedFeature","visible","view"],()=>this._highlightFeature()),(0,Jn.YP)(this,"view.animation.state",p=>this._animationStateChange(p)),(0,Jn.YP)(this,"location",p=>this._locationChange(p)),(0,Jn.YP)(this,"selectedFeature",p=>this._selectedFeatureChange(p)),(0,Jn.YP)(this,["selectedFeatureIndex","featureCount","featuresPerPage"],()=>this._selectedFeatureIndexChange()),(0,Jn.YP)(this,["featurePage","selectedFeatureIndex","featureCount","featuresPerPage, featureViewModels"],()=>this._setGraphicOnFeatureViewModels()),(0,Jn.YP)(this,"featureViewModels",()=>this._featureViewModelsChange()),this.on("trigger-action",p=>function(p){const{event:g,view:v}=p,{action:b}=g,C=v&&v.popup;if(!b)return Promise.reject(new Rn.Z("trigger-action:missing-arguments","Event has no action"));if(!C)return Promise.reject(new Rn.Z("trigger-action:missing-arguments","view.popup is missing"));const{disabled:D,id:P}=b;if(!P)return Promise.reject(new Rn.Z("trigger-action:invalid-action","action.id is missing"));if(D)return Promise.reject(new Rn.Z("trigger-action:invalid-action","Action is disabled"));if(P===fl.id)return function Z5(p){return Qg.apply(this,arguments)}(C.viewModel).catch(Er.H9);if(P===Xl.id)return function $5(p){return Xg.apply(this,arguments)}(C.viewModel);if(P===ql.id)return C.featureMenuOpen=!C.featureMenuOpen,C.viewModel.browseClusterEnabled=!C.viewModel.browseClusterEnabled,Promise.resolve();if(C.viewModel.browseClusterEnabled=!1,P===Yg.id){C.close();const{selectedFeature:V}=C;if(!V)return Promise.reject(new Rn.Z(`trigger-action:${Yg.id}`,"selectedFeature is required",{selectedFeature:V}));const{sourceLayer:ae}=V;return ae?ae.remove(V):v.graphics.remove(V),Promise.resolve()}return Promise.resolve()}({event:p,view:this.view})),(0,Jn.Nj)(this,"waitingForResult",()=>this._waitingForResultChange(),!0),(0,Jn.YP)(this,["features","view","view.map","view.spatialReference"],()=>this._updateFeatureVMs()),(0,Jn.YP)(this,["view.scale"],this._viewScaleChange),(0,Jn.Nj)(this,"visible",()=>this.browseClusterEnabled=!1),(0,Jn.YP)(this,"browseClusterEnabled",p=>p?this.enableClusterBrowsing():this.disableClusterBrowsing())])}destroy(){this._cancelFetchingFeatures(),this._handles.destroy(),this._handles=null,this._pendingPromises.clear(),this.browseClusterEnabled=!1,this.view=null}get active(){return!(!this.visible||this.waitingForResult)}get allActions(){const p=this._get("allActions")||new Kd;p.removeAll();const{actions:g,defaultActions:v,defaultPopupTemplateEnabled:b,includeDefaultActions:C,selectedFeature:D}=this,P=C?v.concat(g):g,V=D&&("function"==typeof D.getEffectivePopupTemplate&&D.getEffectivePopupTemplate(b)||D.popupTemplate),ae=V&&V.actions,be=V&&V.overwriteActions?ae:ae?ae.concat(P):P;return be&&be.filter(Boolean).forEach(Pe=>p.add(Pe)),p}get defaultActions(){var p;const g=this._get("defaultActions")||new Kd;return g.removeAll(),g.addMany(null!=(p=this.selectedFeature)&&p.isAggregate?[Xl.clone(),ql.clone()]:[fl.clone()]),g}get featureCount(){return this.features.length}get features(){return this._get("features")||[]}set features(p){const g=p||[];this._set("features",g);const{pendingPromisesCount:v,promiseCount:b,selectedFeatureIndex:C}=this,D=b&&g.length;D&&v&&-1===C?this.selectedFeatureIndex=0:D&&-1!==C||(this.selectedFeatureIndex=g.length?0:-1)}get location(){return this._get("location")||null}set location(p){const g=this.get("view.spatialReference.isWebMercator");p&&p.get("spatialReference.isWGS84")&&g&&(p=(0,Wl.$)(p)),this._set("location",p)}get pendingPromisesCount(){return this._pendingPromises.size}get waitingForResult(){return!(!(this._fetchFeaturesController||this.pendingPromisesCount>0)||0!==this.featureCount)}get promiseCount(){return this.promises.length}get promises(){return this._get("promises")||[]}set promises(p){if(this._pendingPromises.clear(),this.features=[],!Array.isArray(p)||!p.length)return this._set("promises",[]),void this.notifyChange("pendingPromisesCount");this._set("promises",p),(p=p.slice(0)).forEach(g=>{this._pendingPromises.add(g),g.then(C=>{this._pendingPromises.has(g)&&this._updateFeatures(C),this._updatePendingPromises(g)},()=>this._updatePendingPromises(g))}),this.notifyChange("pendingPromisesCount")}get selectedFeature(){const{features:p,selectedFeatureIndex:g}=this;return-1===g?null:p[g]||null}get selectedFeatureIndex(){const p=this._get("selectedFeatureIndex");return"number"==typeof p?p:-1}set selectedFeatureIndex(p){const{featureCount:g}=this;p=isNaN(p)||p<-1||!g?-1:(p+g)%g,this._set("selectedFeatureIndex",p)}get selectedFeatureViewModel(){return this.featureViewModels[this.selectedFeatureIndex]||null}get state(){return this.get("view.ready")?"ready":"disabled"}centerAtLocation(){const{view:p}=this,g=US(this);if(!g){const v=new Rn.Z("center-at-location:invalid-target-or-view","Cannot center at a location without a target and view.",{target:g,view:p});return BS.error(v),Promise.reject(v)}return this.callGoTo({target:{target:g,scale:p.scale}})}clear(){this.set({promises:[],features:[],content:null,title:null,location:null})}fetchFeatures(p,g){const{view:v}=this;if(!v||!p){const b=new Rn.Z("fetch-features:invalid-screenpoint-or-view","Cannot fetch features without a screenPoint and view.",{screenPoint:p,view:v});return BS.error(b),Promise.reject(b)}return v.fetchPopupFeatures(p,{event:g&&g.event,defaultPopupTemplateEnabled:this.defaultPopupTemplateEnabled,signal:g&&g.signal})}open(p){const g=Bn(Ct({updateLocationEnabled:!1,promises:[],fetchFeatures:!1},p),{visible:!0}),{fetchFeatures:v}=g;delete g.fetchFeatures,v&&this._setFetchFeaturesPromises(g.location);const b=["actionsMenuOpen","collapsed","featureMenuOpen"];for(const C of b)delete g[C];this.set(g)}triggerAction(p){const g=this.allActions.getItemAt(p);g&&!g.disabled&&this.emit("trigger-action",{action:g})}next(){return this.selectedFeatureIndex=this.selectedFeatureIndex+1,this}previous(){return this.selectedFeatureIndex=this.selectedFeatureIndex-1,this}disableClusterBrowsing(){(function G5(p){var g;null!=(g=p.selectedFeature)&&g.isAggregate&&(p.features=p.features.filter(v=>v.isAggregate))})(this),this._clearBrowsedClusterGraphics()}enableClusterBrowsing(){var p=this;return(0,Un.Z)(function*(){yield function K5(p){return qg.apply(this,arguments)}(p),yield function z5(p){return e_.apply(this,arguments)}(p)})()}_animationStateChange(p){this.zoomToLocation||(fl.disabled="waiting-for-target"===p)}_clearBrowsedClusterGraphics(){var p;const g=null==(p=this.view)?void 0:p.graphics;g&&(g.remove(this.selectedClusterBoundaryFeature),g.remove(this._selectedClusterFeature)),this._selectedClusterFeature=null,this.selectedClusterBoundaryFeature.geometry=null}_viewScaleChange(){var p;if(null!=(p=this.selectedFeature)&&p.isAggregate)return this.browseClusterEnabled=!1,this.visible=!1,void this.clear();this.browseClusterEnabled&&(this.browseClusterEnabled=!1,this.features=[this.selectedFeature])}_locationChange(p){const{selectedFeature:g,updateLocationEnabled:v}=this;v&&p&&(!g||g.geometry)&&this.centerAtLocation()}_selectedFeatureIndexChange(){this.featurePage=this.featureCount>1?Math.floor(this.selectedFeatureIndex/this.featuresPerPage)+1:null}_featureViewModelsChange(){this.featurePage=this.featureCount>1?1:null}_setGraphicOnFeatureViewModels(){const{features:p,featureCount:g,featurePage:v,featuresPerPage:b,featureViewModels:C}=this;if(null===v)return;const D=((v-1)*b+g)%g;C.slice(D,D+b).forEach((V,ae)=>{V&&!V.graphic&&(V.graphic=p[D+ae])})}_selectedFeatureChange(p){var g=this;return(0,Un.Z)(function*(){if(!p)return;const{location:v,updateLocationEnabled:b,view:C}=g;if(g.browseClusterEnabled)return g._selectedClusterFeature&&(C.graphics.remove(g._selectedClusterFeature),g._selectedClusterFeature=null),p.isAggregate?void 0:(p.symbol=yield function N5(p,g){return Hg.apply(this,arguments)}(p),g._selectedClusterFeature=p,void C.graphics.add(g._selectedClusterFeature));!b&&v||!p.geometry?b&&!p.geometry&&g.centerAtLocation().then(()=>{g.location=C.center.clone()}):g.location=(0,nn.Wg)(g._getPointFromGeometry(p.geometry))})()}_waitingForResultChange(){!this.featureCount&&this.promises&&(this.visible=!1)}_setFetchFeaturesPromises(p){return this._fetchFeaturesWithController(this._getScreenPoint(p||this.location)).then(g=>{const{clientOnlyGraphics:v,promisesPerLayerView:b}=g,C=Promise.resolve(v),D=b.map(P=>P.promise);this.promises=[C,...D]})}_destroyFeatureVMs(){this.featureViewModels.forEach(p=>p&&!p.destroyed&&p.destroy()),this._set("featureViewModels",[])}_updateFeatureVMs(){const{selectedFeature:p,features:g,featureViewModels:v}=this;if(null!=p&&p.isAggregate||(this.browseClusterEnabled=!1),this._destroyFeatureVMs(),!g||!g.length)return;const b=v.slice(0),C=[];g.forEach((D,P)=>{if(!D)return;let V=null;if(b.some((Pe,Fe)=>(Pe&&Pe.graphic===D&&(V=Pe,b.splice(Fe,1)),!!V)),V)C[P]=V;else{var ae,be;const Pe=new Kg({abilities:this.featureViewModelAbilities,defaultPopupTemplateEnabled:this.defaultPopupTemplateEnabled,spatialReference:null==(ae=this.view)?void 0:ae.spatialReference,graphic:D===p?D:null,map:null==(be=this.view)?void 0:be.map,view:this.view});C[P]=Pe}}),b.forEach(D=>D&&!D.destroyed&&D.destroy()),this._set("featureViewModels",C)}_getScreenPoint(p){const{view:g}=this;return g&&p&&"function"==typeof g.toScreen?g.toScreen(p):null}_autoOpenEnabledChange(){const p="auto-fetch-features",{_handles:g,autoOpenEnabled:v}=this;if(g.remove(p),v&&this.view){const b=this.view.on("click",C=>{"mouse"===C.pointerType&&0!==C.button||this._fetchFeaturesAndOpen(C)},mc.f.WIDGET);g.add(b,p)}}_cancelFetchingFeatures(){const p=this._fetchFeaturesController;p&&p.abort(),this._fetchFeaturesController=null,this.notifyChange("waitingForResult")}_fetchFeaturesWithController(p,g){this._cancelFetchingFeatures();const v=new AbortController,{signal:b}=v;this._fetchFeaturesController=v,this.notifyChange("waitingForResult");const C=this.fetchFeatures(p,{signal:b,event:g});return C.catch(()=>{}).then(()=>{this._fetchFeaturesController=null,this.notifyChange("waitingForResult")}),C}_fetchFeaturesAndOpen(p){const{screenPoint:g,mapPoint:v}=p,{view:b}=this;this._fetchFeaturesWithController(g,p).then(C=>{const{clientOnlyGraphics:D,promisesPerLayerView:P,location:V}=C,ae=[Promise.resolve(D),...P.map(be=>be.promise)];return b.popup.open({location:V||v,promises:ae}),C})}_updatePendingPromises(p){p&&this._pendingPromises.has(p)&&(this._pendingPromises.delete(p),this.notifyChange("pendingPromisesCount"))}_autoClose(){this.autoCloseEnabled&&(this.visible=!1)}_getPointFromGeometry(p){return(0,nn.Wi)(p)?null:"point"===p.type?p:"extent"===p.type?p.center:"polygon"===p.type?p.centroid:"multipoint"===p.type||"polyline"===p.type?p.extent.center:null}_getLayerView(p,g){return(0,Un.Z)(function*(){return yield p.when(),p.whenLayerView(g)})()}_highlightFeature(){var p=this;return(0,Un.Z)(function*(){const g="highlight";p._handles.remove(g);const{selectedFeature:v,highlightEnabled:b,view:C,visible:D}=p;if(!(v&&C&&b&&D))return;let{layer:P,sourceLayer:V}=v;if("map-notes"!==(null==V?void 0:V.type)&&"subtype-group"!==(null==V?void 0:V.type)||(P=V),!(P&&P instanceof R5.Z))return;const ae=p._getLayerView(C,P);p._highlightPromise=ae;const be=yield ae;if(!(be&&jS(be)&&p._highlightPromise===ae&&p.selectedFeature&&p.highlightEnabled&&p.visible))return;const Pe="imagery"===P.type?void 0:"objectIdField"in P&&P.objectIdField,Fe=v.attributes,rt=be.highlight(Fe&&Pe&&Fe[Pe]||v);p._handles.add(rt,g)})()}_updateFeatures(p){const{features:g}=this;if(!p||!p.length)return;if(!g.length)return void(this.features=p);const v=p.filter(b=>-1===g.indexOf(b));this.features=g.concat(v)}};(0,ye._)([(0,Oe.Cb)()],wr.prototype,"featurePage",void 0),(0,ye._)([(0,Oe.Cb)()],wr.prototype,"isLoadingFeature",null),(0,ye._)([(0,Oe.Cb)({type:Kd})],wr.prototype,"actions",void 0),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],wr.prototype,"active",null),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],wr.prototype,"allActions",null),(0,ye._)([(0,Oe.Cb)({type:Boolean})],wr.prototype,"defaultPopupTemplateEnabled",void 0),(0,ye._)([(0,Oe.Cb)()],wr.prototype,"autoCloseEnabled",void 0),(0,ye._)([(0,Oe.Cb)()],wr.prototype,"autoOpenEnabled",void 0),(0,ye._)([(0,Oe.Cb)()],wr.prototype,"browseClusterEnabled",void 0),(0,ye._)([(0,Oe.Cb)()],wr.prototype,"content",void 0),(0,ye._)([(0,Oe.Cb)({type:Kd,readOnly:!0})],wr.prototype,"defaultActions",null),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],wr.prototype,"featureCount",null),(0,ye._)([(0,Oe.Cb)()],wr.prototype,"features",null),(0,ye._)([(0,Oe.Cb)()],wr.prototype,"featuresPerPage",void 0),(0,ye._)([(0,Oe.Cb)()],wr.prototype,"featureViewModelAbilities",void 0),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],wr.prototype,"featureViewModels",void 0),(0,ye._)([(0,Oe.Cb)()],wr.prototype,"highlightEnabled",void 0),(0,ye._)([(0,Oe.Cb)()],wr.prototype,"includeDefaultActions",void 0),(0,ye._)([(0,Oe.Cb)({type:hs.Z})],wr.prototype,"location",null),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],wr.prototype,"pendingPromisesCount",null),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],wr.prototype,"selectedClusterBoundaryFeature",void 0),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],wr.prototype,"waitingForResult",null),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],wr.prototype,"promiseCount",null),(0,ye._)([(0,Oe.Cb)()],wr.prototype,"promises",null),(0,ye._)([(0,Oe.Cb)({value:null,readOnly:!0})],wr.prototype,"selectedFeature",null),(0,ye._)([(0,Oe.Cb)({value:-1})],wr.prototype,"selectedFeatureIndex",null),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],wr.prototype,"selectedFeatureViewModel",null),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],wr.prototype,"state",null),(0,ye._)([(0,Oe.Cb)()],wr.prototype,"title",void 0),(0,ye._)([(0,Oe.Cb)()],wr.prototype,"updateLocationEnabled",void 0),(0,ye._)([(0,Oe.Cb)()],wr.prototype,"view",void 0),(0,ye._)([(0,Oe.Cb)()],wr.prototype,"visible",void 0),(0,ye._)([(0,Oe.Cb)()],wr.prototype,"zoomFactor",void 0),(0,ye._)([(0,Oe.Cb)()],wr.prototype,"zoomToLocation",void 0),(0,ye._)([(0,Oe.Cb)()],wr.prototype,"centerAtLocation",null),wr=(0,ye._)([(0,bn.j)(NS)],wr);const WS=wr;var Yi=E(24940);function VS(p){return g=>{g.hasOwnProperty("_delegatedEventNames")||(g._delegatedEventNames=g._delegatedEventNames?g._delegatedEventNames.slice():[]);const v=g._delegatedEventNames,b=Array.isArray(p)?p:function J5(p){return p.split(",").map(g=>g.trim())}(p);v.push(...b)}}const ZS="selected-index",$S="popup-spinner",Tn_shadow="esri-popup--shadow",Tn_button="esri-popup__button",Tn_icon="esri-popup__icon",KS={buttonEnabled:!0,position:"auto",breakpoint:{width:544}},zS="esri-popup";function Ba(p,g){return void 0===g?`${zS}__${p}`:`${zS}__${p}-${g}`}const GS="esri.widgets.Popup",kS=ns.Z.getLogger(GS),HS={closeButton:!0,featureNavigation:!0};let rr=class extends(TS(oi.Z)){constructor(p,g){super(p,g),this._blurClose=!1,this._blurContainer=!1,this._containerNode=null,this._mainContainerNode=null,this._featureMenuNode=null,this._actionsMenuNode=null,this._focusClose=!1,this._focusContainer=!1,this._focusDockButton=!1,this._focusFeatureMenuButton=!1,this._focusActionsMenuButton=!1,this._focusFirstFeature=!1,this._focusFirstAction=!1,this._handles=new Co.Z,this._pointerOffsetInPx=16,this._spinner=null,this._feature=null,this._featureMenuIntersectionObserverCallback=([v])=>{null!=v&&v.isIntersecting&&this.viewModel.featurePage++},this._featureMenuIntersectionObserver=new IntersectionObserver(this._featureMenuIntersectionObserverCallback,{root:window.document}),this._displaySpinnerThrottled=(0,pg.P)(()=>this._displaySpinner(),0),this.actions=null,this.alignment="auto",this.autoCloseEnabled=null,this.autoOpenEnabled=null,this.defaultPopupTemplateEnabled=null,this.content=null,this.collapsed=!1,this.collapseEnabled=!0,this.dockEnabled=!1,this.featureCount=null,this.featureMenuOpen=!1,this.features=null,this.goToOverride=null,this.headingLevel=2,this.highlightEnabled=null,this.location=null,this.label=void 0,this.maxInlineActions=3,this.messages=null,this.messagesCommon=null,this.promises=null,this.selectedFeature=null,this.selectedFeatureIndex=null,this.spinnerEnabled=!0,this.title=null,this.updateLocationEnabled=null,this.view=null,this.viewModel=new WS,this.visible=null,this.visibleElements=Ct({},HS),this._addSelectedFeatureIndexHandle(),this.own([(0,Jn.YP)(this,"viewModel.screenLocation",()=>this._positionContainer()),(0,Jn.YP)(this,["viewModel.active","dockEnabled"],()=>this._toggleScreenLocationEnabled()),(0,Jn.YP)(this,"viewModel.screenLocation",(v,b)=>{!!v!=!!b&&this.reposition()}),(0,Jn.YP)(this,["viewModel.view.padding","viewModel.view.size","viewModel.active","viewModel.location","alignment"],()=>this.reposition()),(0,Jn.YP)(this,"spinnerEnabled",v=>this._spinnerEnabledChange(v)),(0,Jn.YP)(this,"viewModel.view.size",(v,b)=>this._updateDockEnabledForViewSize(v,b)),(0,Jn.YP)(this,"viewModel.view",(v,b)=>this._viewChange(v,b)),(0,Jn.YP)(this,"viewModel.view.ready",(v,b)=>this._viewReadyChange(v,b)),(0,Jn.YP)(this,["viewModel.waitingForResult","viewModel.location"],()=>{this._hideSpinner(),this._displaySpinnerThrottled()}),(0,Jn.YP)(this,["selectedFeatureWidget.viewModel.title","selectedFeatureWidget.viewModel.state"],()=>this._setTitleFromFeatureWidget()),(0,Jn.YP)(this,["selectedFeatureWidget.viewModel.content","selectedFeatureWidget.viewModel.state"],()=>this._setContentFromFeatureWidget()),(0,Jn.Nj)(this,"collapsed",()=>{var v,b;"xsmall"===(null==(v=this.viewModel)||null==(b=v.view)?void 0:b.widthBreakpoint)&&this.viewModel.active&&this.collapseEnabled&&this.viewModel.centerAtLocation()}),(0,Jn.on)(this,"viewModel.allActions","change",()=>this._watchActions()),(0,Jn.S1)(this,"viewModel.allActions",()=>this._watchActions()),(0,Jn.YP)(this,"viewModel.featureViewModels",()=>this._featureMenuViewportScrollTop())])}destroy(){var p,g;this._destroySelectedFeatureWidget(),this._destroySpinner(),null==(p=this._handles)||p.destroy(),this._unobserveFeatureMenuObserver(),null==(g=this._featureMenuIntersectionObserver)||g.disconnect(),this._handles=null}get actionsMenuId(){return`${this.id}-actions-menu`}get actionsMenuButtonId(){return`${this.id}-actions-menu-button`}get featureMenuId(){return`${this.id}-feature-menu`}get titleId(){return`${this.id}-popup-title`}get contentId(){return`${this.id}-popup-content`}get hasContent(){var p,g,v,b,C,D,P;return!!(this.selectedFeatureWidget?(null==(p=this.selectedFeatureWidget)||null==(g=p.viewModel)?void 0:g.waitingForContent)||"error"===(null==(v=this.selectedFeatureWidget)||null==(b=v.viewModel)?void 0:b.state)||(null==(C=this.selectedFeatureWidget)||null==(D=C.viewModel)?void 0:D.content):null==(P=this.viewModel)?void 0:P.content)}get featureNavigationVisible(){return this.viewModel.active&&this.viewModel.featureCount>1&&this.visibleElements.featureNavigation}get collapsible(){return!!(this.collapseEnabled&&this.viewModel.title&&this.hasContent)}get featureMenuVisible(){return this.featureNavigationVisible&&this.featureMenuOpen}get contentCollapsed(){return this.collapsible&&!this.featureMenuVisible&&this.collapsed}get dividedActions(){return this._divideActions()}set actionsMenuOpen(p){this._set("actionsMenuOpen",!!p)}get actionsMenuOpen(){return!!this.viewModel.active&&this._get("actionsMenuOpen")}get currentAlignment(){return this._getCurrentAlignment()}get currentDockPosition(){return this._getCurrentDockPosition()}get dockOptions(){return this._get("dockOptions")||KS}set dockOptions(p){const g=Ct({},KS),v=this.get("viewModel.view.breakpoints"),b={};v&&(b.width=v.xsmall,b.height=v.xsmall);const C=Ct(Ct({},g),p),D=Ct(Ct({},g.breakpoint),b),{breakpoint:P}=C;!0===P?C.breakpoint=D:"object"==typeof P&&(C.breakpoint=Ct(Ct({},D),P)),this._set("dockOptions",C),this._setCurrentDockPosition(),this.reposition()}get selectedFeatureWidget(){const{_feature:p,visibleElements:g,headingLevel:v}=this,{selectedFeatureViewModel:b}=this.viewModel,C=Bn(Ct({},g),{title:!1});return b?(p?(p.viewModel=b,p.visibleElements=C):this._feature=new T5({headingLevel:v+1,viewModel:b,visibleElements:C}),this._feature):null}castVisibleElements(p){return Ct(Ct({},HS),p)}blur(){const{active:p}=this.viewModel;p||kS.warn("Popup can only be blurred when currently active."),this.visibleElements.closeButton?this._blurClose=!0:this._blurContainer=!0,this.scheduleRender()}clear(){this.viewModel.clear()}close(){this.visible=!1}fetchFeatures(p,g){return this.viewModel.fetchFeatures(p,g)}focus(){const{active:p}=this.viewModel;p||kS.warn("Popup can only be focused when currently active."),this.visibleElements.closeButton?this._focusClose=!0:this._focusContainer=!0,this.scheduleRender()}next(){return this.viewModel.next()}open(p){var g,v;this._handles.remove(ZS);const D={collapsed:!!p&&!!p.collapsed,actionsMenuOpen:!!p&&!!p.actionsMenuOpen,featureMenuOpen:!!p&&!!p.featureMenuOpen};"xsmall"===(null==(g=this.viewModel)||null==(v=g.view)?void 0:v.widthBreakpoint)&&(D.collapsed=!0),this.set(D),this.viewModel.open(p),this._shouldFocus(p),this._addSelectedFeatureIndexHandle()}previous(){return this.viewModel.previous()}reposition(){this.renderNow(),this._positionContainer(),this._setCurrentAlignment()}triggerAction(p){this.viewModel.triggerAction(p)}render(){var p,g,v,b;const{actionsMenuOpen:C,dockEnabled:D,featureMenuVisible:P,dividedActions:V,currentAlignment:ae,currentDockPosition:be}=this,{active:Pe}=this.viewModel,{menuActions:Fe}=V,Zt=null==(p=this.selectedFeature)||null==(g=p.layer)?void 0:g.title,Xt=null==(v=this.selectedFeature)||null==(b=v.layer)?void 0:b.id;return(0,Ft.u)("div",{class:this.classes("esri-popup",{"esri-popup--aligned-top-center":"top-center"===ae,"esri-popup--aligned-bottom-center":"bottom-center"===ae,"esri-popup--aligned-top-left":"top-left"===ae,"esri-popup--aligned-bottom-left":"bottom-left"===ae,"esri-popup--aligned-top-right":"top-right"===ae,"esri-popup--aligned-bottom-right":"bottom-right"===ae,"esri-popup--is-docked":Pe&&D,[Tn_shadow]:Pe&&!D,"esri-popup--is-docked-top-left":"top-left"===be,"esri-popup--is-docked-top-center":"top-center"===be,"esri-popup--is-docked-top-right":"top-right"===be,"esri-popup--is-docked-bottom-left":"bottom-left"===be,"esri-popup--is-docked-bottom-center":"bottom-center"===be,"esri-popup--is-docked-bottom-right":"bottom-right"===be,"esri-popup--feature-menu-open":P,"esri-popup--actions-menu-open":Pe&&Fe.length>1&&C}),role:"presentation","data-layer-title":Zt,"data-layer-id":Xt,bind:this,afterCreate:this._positionContainer,afterUpdate:this._positionContainer},Pe?[this.renderMainContainer(),this.renderPointer()]:null)}renderLoadingIcon(){return(0,Ft.u)("span",{"aria-hidden":"true",class:this.classes(Tn_icon,"esri-icon-loading-indicator","esri-rotating")})}renderNavigationLoading(){const{messagesCommon:p}=this;return this.viewModel.pendingPromisesCount?(0,Ft.u)("div",{key:Ba("loading-container"),role:"presentation",class:"esri-popup__loading-container","aria-label":p.loading,title:p.loading},this.renderLoadingIcon()):null}renderPreviousIcon(){const p=(0,Bs.dZ)(this.container);return(0,Ft.u)("span",{"aria-hidden":"true",class:this.classes(Tn_icon,{"esri-icon-right-triangle-arrow":p,"esri-popup__pagination-previous-icon--rtl":p,"esri-icon-left-triangle-arrow":!p,"esri-popup__pagination-previous-icon":!p})})}renderPreviousButton(){const{messages:p}=this;return(0,Ft.u)("div",{role:"button",tabIndex:0,bind:this,onclick:this._previous,onkeydown:this._previous,class:this.classes(Tn_button,"esri-popup__pagination-previous"),"aria-label":p.previous,title:p.previous},this.renderPreviousIcon())}renderNextIcon(){const p=(0,Bs.dZ)(this.container);return(0,Ft.u)("span",{"aria-hidden":"true",class:this.classes(Tn_icon,{"esri-icon-left-triangle-arrow":p,"esri-popup__pagination-next-icon--rtl":p,"esri-icon-right-triangle-arrow":!p,"esri-popup__pagination-next-icon":!p})})}renderNextButton(){const{messages:p}=this;return(0,Ft.u)("div",{role:"button",tabIndex:0,bind:this,onclick:this._next,onkeydown:this._next,class:this.classes(Tn_button,"esri-popup__pagination-next"),"aria-label":p.next,title:p.next},this.renderNextIcon())}renderFeatureMenuButton(){const{featureMenuOpen:p,featureMenuId:g,messagesCommon:v}=this,{featureCount:b,selectedFeatureIndex:C}=this.viewModel;return(0,Ft.u)("div",{role:"button",tabIndex:0,bind:this,onclick:this._toggleFeatureMenu,onkeydown:this._toggleFeatureMenu,afterCreate:this._focusFeatureMenuButtonNode,afterUpdate:this._focusFeatureMenuButtonNode,class:this.classes(Tn_button,"esri-popup__feature-menu-button"),"aria-haspopup":"true","aria-controls":g,"aria-expanded":p.toString(),"aria-label":v.menu,title:v.menu},this._getPageText(b,C))}renderNavigationButtons(){return this.featureNavigationVisible?[this.renderPreviousButton(),this.renderNavigationLoading()||this.renderFeatureMenuButton(),this.renderNextButton()]:null}renderDockIcon(){const{dockEnabled:p}=this,g=this._wouldDockTo();return(0,Ft.u)("span",{"aria-hidden":"true",class:this.classes({"esri-icon-minimize":p,"esri-popup__icon--dock-icon":!p,"esri-icon-dock-right":!p&&("top-right"===g||"bottom-right"===g),"esri-icon-dock-left":!p&&("top-left"===g||"bottom-left"===g),"esri-icon-maximize":!p&&"top-center"===g,"esri-icon-dock-bottom":!p&&"bottom-center"===g},Tn_icon)})}renderDockButton(){var p,g,v;const{dockEnabled:b,messages:C}=this,D=null==(p=this.viewModel)||null==(g=p.view)?void 0:g.widthBreakpoint,P=b?C.undock:C.dock;return"xsmall"!==D&&null!=(v=this.dockOptions)&&v.buttonEnabled?(0,Ft.u)("div",{role:"button","aria-label":P,title:P,tabIndex:0,bind:this,onclick:this._toggleDockEnabled,onkeydown:this._toggleDockEnabled,afterCreate:this._focusDockButtonNode,afterUpdate:this._focusDockButtonNode,class:this.classes(Tn_button,"esri-popup__button--dock")},this.renderDockIcon()):null}renderTitle(){const{title:p}=this.viewModel,{titleId:g,collapsible:v,contentCollapsed:b,messagesCommon:C}=this,D={"esri-popup__header-container--button":v},P=(0,Ft.u)(Pg,{level:this.headingLevel,class:"esri-popup__header-title",innerHTML:p}),V=v?(0,Ft.u)("button",{key:`${p}--collapsible`,id:g,title:b?C.expand:C.collapse,bind:this,enterAnimation:this._createFeatureUpdatedAnimation(),class:this.classes("esri-popup__header-container",D),"aria-expanded":b?"false":"true",onclick:this._toggleCollapsed,type:"button"},P):(0,Ft.u)("div",{key:p,id:g,bind:this,enterAnimation:this._createFeatureUpdatedAnimation(),class:this.classes("esri-popup__header-container",D)},P);return p?V:null}renderCloseIcon(){return(0,Ft.u)("span",{"aria-hidden":"true",class:this.classes(Tn_icon,"esri-icon-close")})}renderCloseButton(){const{visibleElements:p,messagesCommon:g}=this;return p.closeButton?(0,Ft.u)("div",{role:"button",tabIndex:0,bind:this,onclick:this._close,onkeydown:this._close,class:Tn_button,"aria-label":g.close,title:g.close,afterCreate:this._closeButtonNodeUpdated,afterUpdate:this._closeButtonNodeUpdated},this.renderCloseIcon()):null}renderHeader(){return(0,Ft.u)("header",{class:"esri-popup__header"},this.renderTitle(),(0,Ft.u)("div",{class:"esri-popup__header-buttons"},this.renderDockButton(),this.renderCloseButton()))}renderContentContainer(){const{contentId:p,hasContent:g,contentCollapsed:v}=this,{content:b}=this.viewModel;return g&&!v?(0,Ft.u)("article",{key:b,enterAnimation:this._createFeatureUpdatedAnimation(),id:p,class:"esri-popup__content"},this.renderContent()):null}renderActionsMenuButton(){const{actionsMenuId:p,actionsMenuButtonId:g,actionsMenuOpen:v,dividedActions:b,messagesCommon:C}=this,D=v?C.close:C.open,{menuActions:P}=b;return P.length?(0,Ft.u)("div",{key:Ba("actions-menu-button"),class:this.classes(Tn_button,"esri-popup__actions-menu-button"),role:"button",id:g,"aria-haspopup":"true","aria-controls":v?p:null,tabIndex:0,bind:this,onclick:this._toggleActionsMenu,onkeydown:this._toggleActionsMenu,afterCreate:this._focusActionsMenuButtonNode,afterUpdate:this._focusActionsMenuButtonNode,"aria-label":D,title:D},(0,Ft.u)("span",{"aria-hidden":"true",class:"esri-icon-handle-horizontal"})):null}renderMenuActions(){const{actionsMenuId:p,actionsMenuButtonId:g,actionsMenuOpen:v,dividedActions:b}=this,{menuActions:C}=b;return C.length&&v?(0,Ft.u)("ul",{id:p,role:"menu","aria-labelledby":g,key:Ba("actions"),class:"esri-popup__actions",bind:this,onkeyup:this._handleActionMenuKeyup,afterCreate:this._actionsMenuNodeUpdated,afterUpdate:this._actionsMenuNodeUpdated},C.toArray().map(D=>this.renderAction({action:D,type:"menu-item"}))):null}renderInlineActions(){const{inlineActions:p}=this.dividedActions;return!!p.length&&p.toArray().map(g=>this.renderAction({action:g,type:"inline"}))}renderInlineActionsContainer(){const{inlineActions:p,menuActions:g}=this.dividedActions,v=!!p.length,b=!!g.length;return v||b?(0,Ft.u)("div",{key:"inline-actions-container","data-inline-actions":v.toString(),"data-menu-actions":b.toString(),class:"esri-popup__inline-actions-container"},this.renderInlineActions(),this.renderActionsMenuButton(),this.renderMenuActions()):null}renderNavigation(){return this.featureNavigationVisible?(0,Ft.u)("section",{key:Ba("navigation"),class:this.classes("esri-popup__navigation")},this.renderNavigationButtons()):null}renderFooter(){const{featureNavigationVisible:p,dividedActions:g}=this,{inlineActions:v,menuActions:b}=g,C=!!v.length,P={"esri-popup__footer--has-pagination":p,"esri-popup__footer--has-actions":C,"esri-popup__footer--has-actions-menu":!!b.length};return p||C?(0,Ft.u)("div",{key:Ba("feature-buttons"),class:this.classes("esri-popup__footer",P)},this.renderInlineActionsContainer(),this.renderNavigation()):null}renderFeatureMenuContainer(){const{messages:p}=this,{featureViewModels:g,isLoadingFeature:v}=this.viewModel,b=(0,zo.n)(p.selectedFeatures,{total:g.length});return(0,Ft.u)("section",{key:Ba("menu"),class:"esri-popup__feature-menu"},(0,Ft.u)("strong",{class:"esri-popup__feature-menu-header"},b),(0,Ft.u)("nav",{bind:this,class:"esri-popup__feature-menu-viewport","data-node-ref":"_featureMenuViewportNode",afterCreate:Bs.Yo},this.renderFeatureMenu(),(0,Ft.u)("div",{class:"esri-popup__feature-menu-observer",bind:this,afterCreate:this._featureMenuIntersectionObserverCreated}),v?(0,Ft.u)("div",{class:"esri-popup__feature-menu-loader"},this.renderLoadingIcon()):null))}renderPointer(){return this.dockEnabled?null:(0,Ft.u)("div",{key:Ba("pointer"),class:"esri-popup__pointer",role:"presentation"},(0,Ft.u)("div",{class:this.classes("esri-popup__pointer-direction",Tn_shadow)}))}renderMainContainer(){const{dockEnabled:p,currentAlignment:g,currentDockPosition:v,titleId:b,contentId:C,collapsible:D,hasContent:P,contentCollapsed:V,visibleElements:ae}=this,{title:be}=this.viewModel,Pe="bottom-left"===g||"bottom-center"===g||"bottom-right"===g||"top-left"===v||"top-center"===v||"top-right"===v,Fe="top-left"===g||"top-center"===g||"top-right"===g||"bottom-left"===v||"bottom-center"===v||"bottom-right"===v;return(0,Ft.u)("div",{class:this.classes("esri-popup__main-container","esri-widget",{[Tn_shadow]:p,"esri-popup--is-collapsible":D,"esri-popup--is-collapsed":V}),tabIndex:ae.closeButton?null:-1,role:"dialog","aria-labelledby":be?b:"","aria-describedby":P&&!V?C:"",bind:this,onkeyup:this._handleMainKeyup,afterCreate:this._mainContainerNodeUpdated,afterUpdate:this._mainContainerNodeUpdated},Pe?this.renderFooter():null,Pe?this.renderFeatureMenuContainer():null,this.renderHeader(),this.renderContentContainer(),Fe?this.renderFooter():null,Fe?this.renderFeatureMenuContainer():null)}renderContent(){var p;const g=null==(p=this.viewModel)?void 0:p.content;return g?"string"==typeof g?(0,Ft.u)("div",{key:g,innerHTML:g}):this.renderNodeContent(g):null}renderActionText(p){return(0,Ft.u)("span",{key:"text",class:"esri-popup__action-text"},p)}renderActionIcon(p){const g=this._getActionClass(p),v=this._getActionImage(p),b={"esri-icon-loading-indicator":p.active,"esri-rotating":p.active,[Tn_icon]:!!g,"esri-popup__action-image":!p.active&&!!v};return g&&(b[g]=!p.active),(0,Ft.u)("span",{key:"icon","aria-hidden":"true",class:this.classes(Tn_icon,b),styles:this._getIconStyles(v)})}renderAction(p){const{action:g,type:v}=p,b=this._getActionTitle(g),C={"esri-popup__action":"toggle"!==g.type,"esri-popup__action-toggle":"toggle"===g.type,"esri-popup__action-toggle--on":"toggle"===g.type&&g.value,"esri-popup__button--disabled":g.disabled},D=[this.renderActionIcon(g),this.renderActionText(b)],P="menu-item"===v?(0,Ft.u)("li",{key:g.uid,role:"menuitem",tabIndex:0,title:b,"aria-label":b,class:this.classes(Tn_button,C),onkeyup:this._handleActionMenuItemKeyup,bind:this,"data-action-uid":g.uid,onclick:this._triggerAction,onkeydown:this._triggerAction},D):(0,Ft.u)("div",{key:g.uid,role:"button",tabIndex:0,title:b,"aria-label":b,class:this.classes(Tn_button,C),onkeyup:this._handleActionMenuItemKeyup,bind:this,"data-action-uid":g.uid,onclick:this._triggerAction,onkeydown:this._triggerAction},D);return g.visible?P:null}renderFeatureMenuItem(p,g){const{messages:v,messagesCommon:b}=this,{selectedFeatureIndex:C,selectedFeatureViewModel:D}=this.viewModel,P=p===D,V={"esri-popup__feature-menu-item--selected":P},ae=P?(0,Ft.u)("span",{key:Ba(`feature-menu-selected-feature-${C}`),title:v.selectedFeature,"aria-label":v.selectedFeature,class:"esri-icon-check-mark"}):null,be=(0,Ft.u)("span",{innerHTML:p.title||b.untitled});return(0,Ft.u)("li",{role:"menuitem",tabIndex:-1,key:Ba(`feature-menu-feature-${C}`),class:this.classes(V,"esri-popup__feature-menu-item"),bind:this,"data-feature-index":g,onkeyup:this._handleFeatureMenuItemKeyup,onclick:this._selectFeature,onkeydown:this._selectFeature},(0,Ft.u)("span",{class:"esri-popup__feature-menu-title"},be,ae))}renderFeatureMenu(){const{featureMenuId:p}=this,{featureViewModels:g}=this.viewModel;return g.length>1?(0,Ft.u)("ol",{class:"esri-popup__feature-menu-list",id:p,bind:this,afterCreate:this._featureMenuNodeUpdated,afterUpdate:this._featureMenuNodeUpdated,onkeyup:this._handleFeatureMenuKeyup,role:"menu"},g.filter(v=>!!v.graphic).map((v,b)=>this.renderFeatureMenuItem(v,b))):null}_getActionTitle(p){const{messages:g,selectedFeature:v,messagesCommon:b}=this,{id:C}=p,D=null==v?void 0:v.attributes,P="zoom-to-feature"===C?(0,zo.n)(p.title,{messages:g}):"remove-selected-feature"===C?(0,zo.n)(p.title,{messages:b}):"zoom-to-clustered-features"===C||"browse-clustered-features"===C?(0,zo.n)(p.title,{messages:g}):p.title;return P&&D?(0,zo.n)(P,D):P}_getActionClass(p){const{selectedFeature:g}=this,v=null==g?void 0:g.attributes,{className:b,image:C}=p,D=C||b?b:"esri-icon-default-action";return D&&v?(0,zo.n)(D,v):D}_getActionImage(p){const{selectedFeature:g}=this,v=null==g?void 0:g.attributes,{image:b}=p;return b&&v?(0,zo.n)(b,v):b}_createFeatureUpdatedAnimation(){return(0,Bs.vU)("enter","esri-popup--feature-updated")}_getInlineActionCount(){const{maxInlineActions:p,featureNavigationVisible:g}=this;if("number"!=typeof p)return null;const v=Math.round(p);return Math.max(g?v-1:v,0)}_watchActions(){const{allActions:p}=this.viewModel;this.notifyChange("dividedActions");const g="actions";this._handles.remove(g),p&&p.forEach(v=>{this._handles.add((0,Jn.YP)(v,["uid","active","className","disabled","id","title","image","visible"],()=>this.scheduleRender()),g)})}_divideActions(){const{allActions:p}=this.viewModel,g=p.filter(D=>D.visible),v=this._getInlineActionCount(),b=null===v,C=0===v;return{inlineActions:b?g.slice(0):C?new ds.Z:g.slice(0,v),menuActions:b?new ds.Z:g.slice(C?0:v)}}_featureMenuOpenChanged(p){p?this._focusFirstFeature=!0:this._focusFeatureMenuButton=!0}_actionsMenuOpenChanged(p){p?this._focusFirstAction=!0:this._focusActionsMenuButton=!0}_setTitleFromFeatureWidget(){const{selectedFeatureWidget:p,messagesCommon:g}=this;var v,b;p&&(this.viewModel.title="error"===(null==(v=p.viewModel)?void 0:v.state)?g.errorMessage:(null==(b=p.viewModel)?void 0:b.title)||"")}_setContentFromFeatureWidget(){const{selectedFeatureWidget:p}=this;p&&(this.viewModel.content=p)}_unobserveFeatureMenuObserver(){this._featureMenuIntersectionObserverNode&&this._featureMenuIntersectionObserver.unobserve(this._featureMenuIntersectionObserverNode)}_featureMenuIntersectionObserverCreated(p){this._unobserveFeatureMenuObserver(),this._featureMenuIntersectionObserver.observe(p),this._featureMenuIntersectionObserverNode=p}_handleFeatureMenuKeyup(p){"Escape"===(0,Ua.kK)(p)&&(p.stopPropagation(),this._focusFeatureMenuButton=!0,this.featureMenuOpen=!1,this.scheduleRender())}_handleActionMenuKeyup(p){"Escape"===(0,Ua.kK)(p)&&(p.stopPropagation(),this._focusActionsMenuButton=!0,this.actionsMenuOpen=!1,this.scheduleRender())}_handleFeatureMenuItemKeyup(p){const g=(0,Ua.kK)(p),{_featureMenuNode:v}=this,b=p.currentTarget["data-feature-index"];if(!v)return;const C=v.querySelectorAll("li"),D=C.length;"ArrowUp"!==g?"ArrowDown"!==g?"Home"!==g?"End"!==g||(p.stopPropagation(),C[C.length-1].focus()):(p.stopPropagation(),C[0].focus()):(p.stopPropagation(),C[(b+1+D)%D].focus()):(p.stopPropagation(),C[(b-1+D)%D].focus())}_handleActionMenuItemKeyup(p){const g=(0,Ua.kK)(p),{_actionsMenuNode:v}=this,b=p.currentTarget.dataset.actionUid,{menuActions:C}=this.dividedActions,D=C.findIndex(ae=>ae.uid===b);if(!v)return;const P=v.querySelectorAll("li"),V=P.length;"ArrowUp"!==g?"ArrowDown"!==g?"Home"!==g?"End"!==g||(p.stopPropagation(),P[P.length-1].focus()):(p.stopPropagation(),P[0].focus()):(p.stopPropagation(),P[(D+1+V)%V].focus()):(p.stopPropagation(),P[(D-1+V)%V].focus())}_handleMainKeyup(p){const g=(0,Ua.kK)(p);"ArrowLeft"===g&&(p.stopPropagation(),this.previous()),"ArrowRight"===g&&(p.stopPropagation(),this.next())}_spinnerEnabledChange(p){if(this._destroySpinner(),!p)return;const g=this.get("viewModel.view");this._createSpinner(g)}_hideSpinner(){const{_spinner:p}=this;p&&(p.location=null,p.hide())}_displaySpinner(){const{_spinner:p}=this;if(!p)return;const{location:g,waitingForResult:v}=this.viewModel;v?p.show({location:g}):p.hide()}_getIconStyles(p){return{"background-image":p?`url(${p})`:""}}_shouldFocus(p){var g=this;return(0,Un.Z)(function*(){p.shouldFocus&&(yield(0,dr.N1)(()=>{var v;return!0===(null==(v=g.viewModel)?void 0:v.active)}),g.focus())})()}_addSelectedFeatureIndexHandle(){const p=(0,Jn.YP)(this,"viewModel.selectedFeatureIndex",(g,v)=>this._selectedFeatureIndexUpdated(g,v));this._handles.add(p,ZS)}_selectedFeatureIndexUpdated(p,g){const{featureCount:v}=this;v&&p!==g&&-1!==p&&(this.actionsMenuOpen=!1,this.featureMenuOpen=!1)}_destroySelectedFeatureWidget(){const{_feature:p}=this;p&&(p.viewModel=null,p&&!p.destroyed&&p.destroy()),this._feature=null}_isScreenLocationWithinView(p,g){return p.x>-1&&p.y>-1&&p.x<=g.width&&p.y<=g.height}_isOutsideView(p){const{popupHeight:g,popupWidth:v,screenLocation:b,side:C,view:D}=p;if(isNaN(v)||isNaN(g)||!D||!b)return!1;const P=D.padding;return"right"===C&&b.x+v/2>D.width-P.right||"left"===C&&b.x-v/2<P.left||"top"===C&&b.y-g<P.top||"bottom"===C&&b.y+g>D.height-P.bottom}_calculateAutoAlignment(p){if("auto"!==p)return p;const{_pointerOffsetInPx:g,_containerNode:v,_mainContainerNode:b,viewModel:C}=this,{screenLocation:D,view:P}=C;if((0,nn.Wi)(D)||!P||!v)return"top-center";if(!this._isScreenLocationWithinView(D,P))return this._get("currentAlignment")||"top-center";function V(On){return parseInt(On.replace(/[^-\d\.]/g,""),10)}const ae=b?window.getComputedStyle(b,null):null,be=ae?V(ae.getPropertyValue("max-height")):0,Pe=ae?V(ae.getPropertyValue("height")):0,{height:Fe,width:Xe}=v.getBoundingClientRect(),rt=Xe+g,It=Math.max(Fe,be,Pe)+g,Zt=this._isOutsideView({popupHeight:It,popupWidth:rt,screenLocation:D,side:"right",view:P}),Xt=this._isOutsideView({popupHeight:It,popupWidth:rt,screenLocation:D,side:"left",view:P}),tn=this._isOutsideView({popupHeight:It,popupWidth:rt,screenLocation:D,side:"top",view:P}),Gt=this._isOutsideView({popupHeight:It,popupWidth:rt,screenLocation:D,side:"bottom",view:P});return Xt?tn?"bottom-right":"top-right":Zt?tn?"bottom-left":"top-left":tn?Gt?"top-center":"bottom-center":"top-center"}_callCurrentAlignment(p){return"function"==typeof p?p.call(this):p}_getCurrentAlignment(){const{alignment:p,dockEnabled:g}=this;return g||!this.viewModel.active?null:this._calculatePositionResult(this._calculateAutoAlignment(this._callCurrentAlignment(p)))}_setCurrentAlignment(){this._set("currentAlignment",this._getCurrentAlignment())}_setCurrentDockPosition(){this._set("currentDockPosition",this._getCurrentDockPosition())}_calculatePositionResult(p){const g=["left","right"];return(0,Bs.dZ)(this.container)&&g.reverse(),p.replace(/leading/gi,g[0]).replace(/trailing/gi,g[1])}_callDockPosition(p){return"function"==typeof p?p.call(this):p}_getDockPosition(){var p;return this._calculatePositionResult(this._calculateAutoDockPosition(this._callDockPosition(null==(p=this.dockOptions)?void 0:p.position)))}_getCurrentDockPosition(){return this.dockEnabled&&this.viewModel.active?this._getDockPosition():null}_wouldDockTo(){return this.dockEnabled?null:this._getDockPosition()}_calculateAutoDockPosition(p){var g;if("auto"!==p)return p;const v=null==(g=this.viewModel)?void 0:g.view,b=(0,Bs.dZ)(this.container)?"top-left":"top-right";if(!v)return b;const C=v.padding||{left:0,right:0,top:0,bottom:0},D=v.width-C.left-C.right,{breakpoints:P}=v;return P&&D<=P.xsmall?"bottom-center":b}_positionContainer(p=this._containerNode){if(p&&(this._containerNode=p),!p)return;const{screenLocation:g}=this.viewModel,{width:v}=p.getBoundingClientRect(),b=this._calculatePositionStyle(g,v);b&&(p.style.top=b.top,p.style.left=b.left,p.style.bottom=b.bottom,p.style.right=b.right)}_calculateFullWidth(p){const{currentAlignment:g,_pointerOffsetInPx:v}=this;return"top-left"===g||"bottom-left"===g||"top-right"===g||"bottom-right"===g?p+v:p}_calculateAlignmentPosition(p,g,v,b){const{currentAlignment:C,_pointerOffsetInPx:D}=this,P=b/2,V=v.height-g,ae=v.width-p,{padding:be}=this.view;return"bottom-center"===C?{top:g+D-be.top,left:p-P-be.left}:"top-left"===C?{bottom:V+D-be.bottom,right:ae+D-be.right}:"bottom-left"===C?{top:g+D-be.top,right:ae+D-be.right}:"top-right"===C?{bottom:V+D-be.bottom,left:p+D-be.left}:"bottom-right"===C?{top:g+D-be.top,left:p+D-be.left}:"top-center"===C?{bottom:V+D-be.bottom,left:p-P-be.left}:void 0}_calculatePositionStyle(p,g){const{dockEnabled:v,view:b}=this;if(!b)return;if(v)return{left:"",top:"",right:"",bottom:""};if((0,nn.Wi)(p)||!g)return;const C=this._calculateFullWidth(g),D=this._calculateAlignmentPosition(p.x,p.y,b,C);return D?{top:void 0!==D.top?`${D.top}px`:"auto",left:void 0!==D.left?`${D.left}px`:"auto",bottom:void 0!==D.bottom?`${D.bottom}px`:"auto",right:void 0!==D.right?`${D.right}px`:"auto"}:void 0}_viewChange(p,g){p&&g&&(this.close(),this.clear())}_viewReadyChange(p,g){if(p){const v=this.get("viewModel.view");this._wireUpView(v)}else g&&(this.close(),this.clear())}_wireUpView(p){if(this._destroySpinner(),!p)return;const{spinnerEnabled:g}=this;g&&this._createSpinner(p),this._setDockEnabledForViewSize(this.dockOptions)}_dockingThresholdCrossed(p,g,v){const[b,C]=p,[D,P]=g,{width:V,height:ae}=v;return b<=V&&D>V||b>V&&D<=V||C<=ae&&P>ae||C>ae&&P<=ae}_updateDockEnabledForViewSize(p,g){if(!p||!g)return;const v=this.get("viewModel.view.padding")||{left:0,right:0,top:0,bottom:0},b=v.left+v.right,C=v.top+v.bottom,D=[],P=[];D[0]=p[0]-b,D[1]=p[1]-C,P[0]=g[0]-b,P[1]=g[1]-C;const{dockOptions:V}=this;this._dockingThresholdCrossed(D,P,V.breakpoint)&&this._setDockEnabledForViewSize(V),this._setCurrentDockPosition()}_focusDockButtonNode(p){this._focusDockButton&&(this._focusDockButton=!1,p.focus())}_closeButtonNodeUpdated(p){return this._focusClose?(this._focusClose=!1,void p.focus()):this._blurClose?(this._blurClose=!1,void p.blur()):void 0}_mainContainerNodeUpdated(p){return this._mainContainerNode=p,this._focusContainer?(this._focusContainer=!1,void p.focus()):this._blurContainer?(this._blurContainer=!1,void p.blur()):void 0}_featureMenuNodeUpdated(p){if(this._featureMenuNode=p,!p||!this._focusFirstFeature)return;this._focusFirstFeature=!1;const g=p.querySelectorAll("li");g.length&&g[0].focus()}_actionsMenuNodeUpdated(p){if(this._actionsMenuNode=p,!p||!this._focusFirstAction)return;this._focusFirstAction=!1;const g=p.querySelectorAll("li");g.length&&g[0].focus()}_focusFeatureMenuButtonNode(p){this._focusFeatureMenuButton&&(this._focusFeatureMenuButton=!1,p.focus())}_focusActionsMenuButtonNode(p){this._focusActionsMenuButton&&(this._focusActionsMenuButton=!1,p.focus())}_featureMenuViewportScrollTop(){this._featureMenuViewportNode&&(this._featureMenuViewportNode.scrollTop=0)}_toggleScreenLocationEnabled(){const{dockEnabled:p,viewModel:g}=this;g&&(g.screenLocationEnabled=g.active&&!p)}_shouldDockAtCurrentViewSize(p){var g,v;const b=p.breakpoint,C=null==(g=this.viewModel)||null==(v=g.view)?void 0:v.ui;if(!C)return!1;const{width:D,height:P}=C;if(isNaN(D)||isNaN(P))return!1;const V=b.hasOwnProperty("width")&&D<=b.width,ae=b.hasOwnProperty("height")&&P<=b.height;return V||ae}_setDockEnabledForViewSize(p){p.breakpoint&&(this.dockEnabled=this._shouldDockAtCurrentViewSize(p))}_getPageText(p,g){return this.featureNavigationVisible?(0,zo.n)(this.messages.pageText,{index:g+1,total:p}):null}_destroySpinner(){const{_spinner:p,view:g}=this;p&&(g&&g.ui&&g.ui.remove(this._spinner,$S),p.destroy(),this._spinner=null)}_createSpinner(p){p&&(this._spinner=new A5({view:p}),p.ui.add(this._spinner,{key:$S,position:"manual"}))}_toggleCollapsed(){this.collapsed=!this.collapsed}_close(){this.close(),this.view&&this.view.focus()}_toggleDockEnabled(){this.dockEnabled=!this.dockEnabled,this._focusDockButton=!0,this.scheduleRender()}_toggleFeatureMenu(){const p=!this.featureMenuOpen;this._featureMenuOpenChanged(p),this.actionsMenuOpen=!1,this.featureMenuOpen=p}_toggleActionsMenu(){const p=!this.actionsMenuOpen;this._actionsMenuOpenChanged(p),this.featureMenuOpen=!1,this.actionsMenuOpen=p}_triggerAction(p){const g=p.currentTarget.dataset.actionUid,{allActions:v}=this.viewModel,b=v.findIndex(D=>D.uid===g),C=v.getItemAt(b);C&&"toggle"===C.type&&(C.value=!C.value),this.actionsMenuOpen=!1,this.viewModel.triggerAction(b)}_selectFeature(p){const g=p.currentTarget["data-feature-index"];isNaN(g)||(this.viewModel.selectedFeatureIndex=g),this.featureMenuOpen=!1,this._focusFeatureMenuButton=!0,this.scheduleRender()}_next(){this.next()}_previous(){this.previous()}};(0,ye._)([(0,Oe.Cb)({readOnly:!0})],rr.prototype,"actionsMenuId",null),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],rr.prototype,"actionsMenuButtonId",null),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],rr.prototype,"featureMenuId",null),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],rr.prototype,"titleId",null),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],rr.prototype,"contentId",null),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],rr.prototype,"hasContent",null),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],rr.prototype,"featureNavigationVisible",null),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],rr.prototype,"collapsible",null),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],rr.prototype,"featureMenuVisible",null),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],rr.prototype,"contentCollapsed",null),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],rr.prototype,"dividedActions",null),(0,ye._)([(0,Nn.B)("viewModel.actions")],rr.prototype,"actions",void 0),(0,ye._)([(0,Oe.Cb)()],rr.prototype,"actionsMenuOpen",null),(0,ye._)([(0,Oe.Cb)()],rr.prototype,"alignment",void 0),(0,ye._)([(0,Nn.B)("viewModel.autoCloseEnabled")],rr.prototype,"autoCloseEnabled",void 0),(0,ye._)([(0,Nn.B)("viewModel.autoOpenEnabled")],rr.prototype,"autoOpenEnabled",void 0),(0,ye._)([(0,Nn.B)("viewModel.defaultPopupTemplateEnabled")],rr.prototype,"defaultPopupTemplateEnabled",void 0),(0,ye._)([(0,Nn.B)("viewModel.content")],rr.prototype,"content",void 0),(0,ye._)([(0,Oe.Cb)()],rr.prototype,"collapsed",void 0),(0,ye._)([(0,Oe.Cb)()],rr.prototype,"collapseEnabled",void 0),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],rr.prototype,"currentAlignment",null),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],rr.prototype,"currentDockPosition",null),(0,ye._)([(0,Oe.Cb)()],rr.prototype,"dockOptions",null),(0,ye._)([(0,Oe.Cb)()],rr.prototype,"dockEnabled",void 0),(0,ye._)([(0,Nn.B)("viewModel.featureCount")],rr.prototype,"featureCount",void 0),(0,ye._)([(0,Oe.Cb)()],rr.prototype,"featureMenuOpen",void 0),(0,ye._)([(0,Nn.B)("viewModel.features")],rr.prototype,"features",void 0),(0,ye._)([(0,Nn.B)("viewModel.goToOverride")],rr.prototype,"goToOverride",void 0),(0,ye._)([(0,Oe.Cb)()],rr.prototype,"headingLevel",void 0),(0,ye._)([(0,Nn.B)("viewModel.highlightEnabled")],rr.prototype,"highlightEnabled",void 0),(0,ye._)([(0,Nn.B)("viewModel.location")],rr.prototype,"location",void 0),(0,ye._)([(0,Oe.Cb)({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],rr.prototype,"label",void 0),(0,ye._)([(0,Oe.Cb)()],rr.prototype,"maxInlineActions",void 0),(0,ye._)([(0,Oe.Cb)(),(0,ai.H)("esri/widgets/Popup/t9n/Popup")],rr.prototype,"messages",void 0),(0,ye._)([(0,Oe.Cb)(),(0,ai.H)("esri/t9n/common")],rr.prototype,"messagesCommon",void 0),(0,ye._)([(0,Nn.B)("viewModel.promises")],rr.prototype,"promises",void 0),(0,ye._)([(0,Nn.B)("viewModel.selectedFeature")],rr.prototype,"selectedFeature",void 0),(0,ye._)([(0,Nn.B)("viewModel.selectedFeatureIndex")],rr.prototype,"selectedFeatureIndex",void 0),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],rr.prototype,"selectedFeatureWidget",null),(0,ye._)([(0,Oe.Cb)()],rr.prototype,"spinnerEnabled",void 0),(0,ye._)([(0,Nn.B)("viewModel.title")],rr.prototype,"title",void 0),(0,ye._)([(0,Nn.B)("viewModel.updateLocationEnabled")],rr.prototype,"updateLocationEnabled",void 0),(0,ye._)([(0,Nn.B)("viewModel.view")],rr.prototype,"view",void 0),(0,ye._)([(0,Oe.Cb)({type:WS}),VS(["triggerAction","trigger-action"])],rr.prototype,"viewModel",void 0),(0,ye._)([(0,Nn.B)("viewModel.visible")],rr.prototype,"visible",void 0),(0,ye._)([(0,Oe.Cb)()],rr.prototype,"visibleElements",void 0),(0,ye._)([(0,lo.p)("visibleElements")],rr.prototype,"castVisibleElements",null),(0,ye._)([(0,Yi.h)()],rr.prototype,"_close",null),(0,ye._)([(0,Yi.h)()],rr.prototype,"_toggleDockEnabled",null),(0,ye._)([(0,Yi.h)()],rr.prototype,"_toggleFeatureMenu",null),(0,ye._)([(0,Yi.h)()],rr.prototype,"_toggleActionsMenu",null),(0,ye._)([(0,Yi.h)()],rr.prototype,"_triggerAction",null),(0,ye._)([(0,Yi.h)()],rr.prototype,"_selectFeature",null),(0,ye._)([(0,Yi.h)()],rr.prototype,"_next",null),(0,ye._)([(0,Yi.h)()],rr.prototype,"_previous",null),rr=(0,ye._)([(0,bn.j)(GS)],rr);const JS=rr,n_=[0,0];function YS(p){p&&((0,dl.cS)(p),p.parentNode&&p.parentNode.removeChild(p))}const nU=p=>{let g=class extends p{constructor(...v){super(...v),this._freqInfo={freq:16,time:750},this._overlayRenderTaskHandle=null,this.height=0,this.position=null,this.resizing=!1,this.root=null,this.surface=null,this.suspended=!0,this.ui=null,this.userContent=null,this.width=0,this.widthBreakpoint=null,this.handles.add([this.watch("cursor",b=>{const C=this.surface;C&&C.setAttribute("data-cursor",b)}),this.watch("interacting",b=>{const C=this.surface;C&&C.setAttribute("data-interacting",b.toString())})])}initialize(){this.handles.add(this.watch("ui",(v,b)=>this._handleUIChange(v,b))),this._wireUI(this.ui),this.handles.add([this.on("focus",()=>this.notifyChange("focused")),this.on("blur",()=>this.notifyChange("focused"))])}destroy(){this.destroyed||(this.ui&&(this.ui.destroy(),this.ui=null),this.popup&&!this.popup.destroyed&&this.popup.destroy(),this.container=null)}set container(v){const b=this._get("container");if(b===v)return;const C="dom-size";if(this.handles.remove(C),this._stopMeasuring(),b&&(b.classList.remove("esri-view"),this._overlayRenderTaskHandle&&(this._overlayRenderTaskHandle.remove(),this._overlayRenderTaskHandle=null),this.overlay.destroy(),this._set("overlay",null),YS(this.root),this._set("root",null),(0,dl.YD)(this.userContent,b),YS(this.userContent),this._set("userContent",null)),v){v.classList.add("esri-view");const D=document.createElement("div");D.className="esri-view-user-storage",(0,dl.YD)(v,D),v.appendChild(D),this._set("userContent",D);const P=document.createElement("div");P.className="esri-view-root",v.insertBefore(P,v.firstChild),this._set("root",P);const V=document.createElement("div");V.className="esri-view-surface",V.setAttribute("role","application"),V.tabIndex=0,P.appendChild(V),this._set("surface",V);const ae=new ZD;P.appendChild(ae.surface),this._set("overlay",ae),ae.watch("needsRender",be=>{be&&!this._overlayRenderTaskHandle?this._overlayRenderTaskHandle=(0,zl.A)({render:()=>{this.overlay.render()}}):this._overlayRenderTaskHandle&&(this._overlayRenderTaskHandle.remove(),this._overlayRenderTaskHandle=null)}),this.forceDOMReadyCycle(),this.handles.add((0,dr.YP)(()=>this.size,be=>{const[Pe,Fe]=be,Xe="esri-view-surface--inset-outline";Pe>=document.body.clientWidth||Fe>=document.body.clientHeight?V.classList.add(Xe):V.classList.remove(Xe)},dr.nn),C),this._set("container",v),this._startMeasuring()}else this._set("width",0),this._set("height",0),this._set("position",null),this._set("suspended",!0),this._set("surface",null),this._set("container",null)}get focused(){const v=document.activeElement===this.surface;return document.hasFocus()&&v}get popup(){return this._get("popup")||new JS({view:this})}set popup(v){const b=this._get("popup");b&&b!==v&&b.destroy(),this._set("popup",v)}get size(){return[this.width,this.height]}blur(){this.surface&&this.surface.blur()}focus(){this.surface&&this.surface.focus()}pageToContainer(v,b,C){const D=this.position;return v-=D[0],b-=D[1],C?(C[0]=v,C[1]=b):C=[v,b],C}containerToPage(v,b,C){const D=this.position;return v+=D[0],b+=D[1],C?(C[0]=v,C[1]=b):C=[v,b],C}_handleUIChange(v,b){b&&(this.handles.remove("ui"),b.destroy()),v&&this._wireUI(v),this._set("ui",v)}_wireUI(v){this.handles.remove("ui"),v&&(v.view=this,this.handles.add([(0,dr.YP)(()=>this.root,b=>{v.container=b?function q5(p){const g=document.createElement("div");return p.appendChild(g),g}(b):null},dr.nn),(0,dr.YP)(()=>this.popup,(b,C)=>{const D="popup";C&&v.remove(C,D),b&&(b.view=v.view,v.add(b,{key:D,position:"manual"}))},dr.nn)],"ui"))}_stopMeasuring(){this.handles.remove("measuring"),this._get("resizing")&&this._set("resizing",!1)}_startMeasuring(){const v=this._freqInfo;v.freq=16,v.time=750,this.handles.add([(()=>{const b=()=>{v.freq=16,v.time=750};return window.addEventListener("resize",b),{remove(){window.removeEventListener("resize",b)}}})(),(0,zl.A)({prepare:b=>{const C=this._measure(),D=this._freqInfo;if(D.time+=b.deltaTime,C&&(D.freq=16,this._get("resizing")||this._set("resizing",!0)),D.time<D.freq)return;D.time=0;const P=this._position();D.freq=P||C?16:Math.min(750,2*D.freq),!C&&D.freq>=512&&this._get("resizing")&&this._set("resizing",!1)}})],"measuring"),this._measure(),this._position()}_measure(){const v=this.container,b=v?v.clientWidth:0,C=v?v.clientHeight:0;if(0===b||0===C)return this.suspended||this._set("suspended",!0),!1;const D=this.width,P=this.height;return b===D&&C===P?(this.suspended&&this._set("suspended",!1),!1):(this._set("width",b),this._set("height",C),this.suspended&&this._set("suspended",!1),this.emit("resize",{oldWidth:D,oldHeight:P,width:b,height:C}),!0)}_position(){const b=this.position,C=function X5(p){const g=(p.ownerDocument||window.document).defaultView,v=p.getBoundingClientRect();return n_[0]=v.left+g.pageXOffset,n_[1]=v.top+g.pageYOffset,n_}(this.container);return!(b&&C[0]===b[0]&&C[1]===b[1]||(this._set("position",[C[0],C[1]]),0))}forceDOMReadyCycle(){}};return(0,ye._)([(0,Oe.Cb)({value:null,cast:v=>(0,dl.L7)(v)})],g.prototype,"container",null),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],g.prototype,"focused",null),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],g.prototype,"height",void 0),(0,ye._)([(0,Oe.Cb)({type:JS})],g.prototype,"popup",null),(0,ye._)([(0,Oe.Cb)({type:ZD})],g.prototype,"overlay",void 0),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],g.prototype,"position",void 0),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],g.prototype,"resizing",void 0),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],g.prototype,"root",void 0),(0,ye._)([(0,Oe.Cb)({value:null,readOnly:!0})],g.prototype,"size",null),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],g.prototype,"surface",void 0),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],g.prototype,"suspended",void 0),(0,ye._)([(0,Oe.Cb)()],g.prototype,"ui",void 0),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],g.prototype,"userContent",void 0),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],g.prototype,"width",void 0),(0,ye._)([(0,Oe.Cb)()],g.prototype,"widthBreakpoint",void 0),g=(0,ye._)([(0,bn.j)("esri.views.DOMContainer")],g),g},rU=p=>{let g=class extends p{fetchPopupFeatures(v,b){var C=this;return(0,Un.Z)(function*(){yield C.when();const{location:D,queryArea:P,layerViewsAndGraphics:V,clientOnlyGraphics:ae}=yield C._prepareFetchPopupFeatures(v,b),be=Promise.resolve(ae),Pe=C._queryLayerPopupFeatures(P,V,b),Fe=Pe.map(Xe=>Xe.promise);return{location:D,clientOnlyGraphics:ae,allGraphicsPromise:(0,Er.WW)([be,...Fe]).then(Xe=>Array.from(new Set(Xe.flat()))),promisesPerLayerView:Pe}})()}_queryLayerPopupFeatures(v,b,C){return b.map(({layerView:D,graphics:P})=>{const V={clientGraphics:P,event:(0,nn.pC)(C)?C.event:null,signal:(0,nn.pC)(C)?C.signal:null,defaultPopupTemplateEnabled:!!(0,nn.pC)(C)&&!!C.defaultPopupTemplateEnabled},ae=D.fetchPopupFeatures(v,V);return{layerView:D,promise:ae}})}_isValidPopupGraphic(v,b){return v&&!!v.getEffectivePopupTemplate((0,nn.pC)(b)&&b.defaultPopupTemplateEnabled)}_prepareFetchPopupFeatures(v,b){var C=this;return(0,Un.Z)(function*(){const{clientGraphics:D,queryArea:P,location:V}=yield C._popupHitTestGraphics(v,b),ae=C._getFetchPopupLayerViews(),{layerViewsAndGraphics:be,clientOnlyGraphics:Pe}=C._graphicsPerFetchPopupLayerView(D,ae);return{clientOnlyGraphics:Pe,layerViewsAndGraphics:be,queryArea:P,location:V}})()}_popupHitTestGraphics(v,b){var C=this;return(0,Un.Z)(function*(){const{results:D,mapPoint:P}=yield C.popupHitTest(v),V=D.filter(be=>C._isValidPopupGraphic(be.graphic,b)),ae=V.length?V[0].mapPoint:null;return{clientGraphics:V.map(be=>be.graphic),queryArea:P,location:P||ae}})()}_getFetchPopupLayerViews(){const v=[];return this.allLayerViews.forEach(b=>{this._isValidPopupLayerView(b)&&v.push(b)}),(0,nn.pC)(this.graphicsView)&&this._isValidPopupLayerView(this.graphicsView)&&v.push(this.graphicsView),v.reverse()}_isValidPopupLayerView(v){return(0,nn.pC)(v)&&(!("layer"in v)||!v.suspended)&&"fetchPopupFeatures"in v}_graphicsPerFetchPopupLayerView(v,b){const C=[],D=new Map,P=b.map(V=>{const ae=[];return D.set("layer"in V?V.layer:V.graphics,ae),{layerView:V,graphics:ae}});for(const V of v){const ae=D.get(V.layer)||D.get(V.sourceLayer)||null;ae?ae.push(V):C.push(V)}return{layerViewsAndGraphics:P,clientOnlyGraphics:C}}};return g=(0,ye._)([(0,bn.j)("esri.views.PopupView")],g),g};var QS=E(54024),r_=E(28705),s_=E(79334);const sU=ns.Z.getLogger("esri.support.AnalysesCollection");let ef=class extends r_.a{constructor(p){super(p),this.handles.add(this.on("before-add",g=>{(0,nn.Wi)(g.item)||g.item.parent===this.owner&&(sU.warn("Analysis inside the collection must be unique. Not adding this element again."),g.preventDefault())}))}_own(p){p.parent=this.owner}_release(p){p.parent=null}};ef=(0,ye._)([(0,bn.j)("esri.support.AnalysesCollection")],ef);var XS=E(51815);let yl=class extends Ur.Z{constructor(p){super(p),this.view=null,this.baseLayerViews=new ds.Z,this.referenceLayerViews=new ds.Z,this._loadingHandle=(0,Jn.S1)(this,"view.map.basemap",g=>{g&&g.load().catch(()=>{})})}destroy(){this._set("view",null),this._loadingHandle&&(this._loadingHandle.remove(),this._loadingHandle=null)}get suspended(){return!this.view||this.view.suspended}get updating(){var p,g;if(this.view&&this.view.suspended)return!1;const v=null==(p=this.view)||null==(g=p.map)?void 0:g.basemap;return!!v&&!!v.loaded&&(this.baseLayerViews.some(b=>b.updating)||this.referenceLayerViews.some(b=>b.updating))}};(0,ye._)([(0,Oe.Cb)({constructOnly:!0})],yl.prototype,"view",void 0),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],yl.prototype,"baseLayerViews",void 0),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],yl.prototype,"referenceLayerViews",void 0),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],yl.prototype,"suspended",null),(0,ye._)([(0,Oe.Cb)({type:Boolean,readOnly:!0})],yl.prototype,"updating",null),yl=(0,ye._)([(0,bn.j)("esri.views.BasemapView")],yl);var tf=E(88159);const iU=ns.Z.getLogger("esri.views.LayerViewManager");class oU{constructor(g,v,b){this.layer=g,this.view=v,this.layerViewImporter=b,this._controller=new AbortController,this._deferred=(0,Er.dD)(),this._started=!1,this.done=!1,(0,Er.fu)(this._controller.signal,()=>{const C=new Rn.Z("cancelled:layerview-create","layerview creation cancelled",{layer:g});this._deferred.reject(C)})}get promise(){return this._deferred.promise}destroy(){this._controller.abort();const{layerView:g}=this;if(!g)return;const{layer:v,view:b}=this;v.emit("layerview-destroy",{view:b,layerView:g}),b.emit("layerview-destroy",{layer:v,layerView:g}),this.done=!0,this.layer=null,this.layerView=null,this.view=null,this.layerViewImporter=null}start(){var g=this;return(0,Un.Z)(function*(){if(g._started)return;g._started=!0;const{_controller:{signal:v},layer:b,view:C}=g;g._map=C.map;try{var D,P;let V,ae;if(yield b.load({signal:v}),"prefetchResources"in b&&(yield b.prefetchResources({signal:v})),b.createLayerView)V=yield b.createLayerView(C,{signal:v});else{if(!g.layerViewImporter.hasLayerViewModule(b))throw new Rn.Z("layer:view-not-supported","No layerview implementation was found");const Pe=yield g.layerViewImporter.importLayerView(b);(0,Er.k_)(v),V="default"in Pe?new Pe.default({layer:b,view:C}):new Pe({layer:b,view:C})}const be=()=>{ae=(0,nn.hw)(ae),V.destroyed||V.destroy(),V.layer=null,V.parent=null,V.view=null,g.done=!0};ae=(0,Er.fu)(v,be),(0,Er.k_)(v);try{yield V.when()}catch(Pe){throw be(),Pe}if(!(null==(D=g._map)||null==(P=D.allLayers)?void 0:P.includes(b)))return be(),void g._deferred.reject(new Rn.Z("view:no-layerview-for-layer","The layer has been removed from the map",{layer:b}));g.layerView=V,b.emit("layerview-create",{view:C,layerView:V}),C.emit("layerview-create",{layer:b,layerView:V}),g.done=!0,g._deferred.resolve(V)}catch(V){b.emit("layerview-create-error",{view:C,error:V}),C.emit("layerview-create-error",{layer:b,error:V}),g.done=!0,g._deferred.reject(new Rn.Z("layerview:create-error","layerview creation failed",{layer:b,error:V}))}})()}}let Do=class extends kl.r{constructor(p){super(p),this._layerLayerViewInfoMap=new Map,this._watchUpdatingTracking=new VD.t,this.supportsGround=!0,this._preloadLayerViewModules=()=>{var g;const v=null==(g=this.view.map)?void 0:g.allLayers;if(v)for(const b of v)this.layerViewImporter.hasLayerViewModule(b)&&this.layerViewImporter.importLayerView(b)},this._reschedule=()=>((0,nn.Wi)(this._workPromise)&&(this._workPromise=(0,Er.dD)()),this.handles.remove("reschedule"),this.handles.add((0,zl.Os)(this._doWork),"reschedule"),this._workPromise.promise),this._doWork=()=>{var g,v,b;const C=this.view.map;if(this._map!==C&&(this.clear(),this._map=C),(0,nn.Wi)(this._workPromise))return void this.notifyChange("updating");this.handles.remove("reschedule"),this.handles.remove("collection-change");const D=new qu.Z({getCollections:()=>this._rootCollectionNames.map(ae=>this.get(ae)),getChildrenFunction:ae=>ae&&"layers"in ae?ae.layers:null});if(!D)return this._workPromise.resolve(),void(this._workPromise=null);for(const ae of D)this._createLayerView(ae);this._refreshCollections();for(const[ae,be]of this._layerLayerViewInfoMap)D.includes(ae)||(this._layerLayerViewInfoMap.delete(be.layer),be.destroy());const P=D.filter(ae=>"group"===ae.type).map(ae=>ae.layers),V=[null==C||null==(g=C.ground)?void 0:g.layers,null==C||null==(v=C.basemap)?void 0:v.baseLayers,null==C||null==(b=C.basemap)?void 0:b.referenceLayers,null==C?void 0:C.layers,...P].filter(ae=>!!ae);this.handles.add(V.map(ae=>this._watchUpdatingTracking.addOnCollectionChange(()=>ae,this._reschedule)),"collection-change"),this._workPromise.resolve(),this._workPromise=null}}initialize(){this.handles.add([(0,dr.on)(()=>{var p,g;return null==(p=this.view)||null==(g=p.map)?void 0:g.allLayers},"change",this._preloadLayerViewModules,{onListenerAdd:this._preloadLayerViewModules}),(0,dr.YP)(()=>{const p=this.view,g=null==p?void 0:p.map;return[null==g?void 0:g.basemap,null==g?void 0:g.ground,null==g?void 0:g.layers,null==p?void 0:p.ready]},()=>this._reschedule(),dr.tX)]),this._preloadLayerViewModules(),this._reschedule()}destroy(){this.clear(),this._watchUpdatingTracking.destroy(),this._map=null}get _layersToLayerViews(){const p=[["view.map.basemap.baseLayers","view.basemapView.baseLayerViews"],["view.map.layers","view.layerViews"],["view.map.basemap.referenceLayers","view.basemapView.referenceLayerViews"]];return this.supportsGround&&p.push(["view.map.ground.layers","view.groundView.layerViews"]),new Map(p)}get _rootCollectionNames(){return Array.from(this._layersToLayerViews.keys())}get updating(){return(0,nn.pC)(this._workPromise)||this._watchUpdatingTracking.updating||(0,tf.oE)(this._layerLayerViewInfoMap,p=>!p.done)}get updatingRemaining(){let p=0;for(const g of this._layerLayerViewInfoMap.values())g.done||++p;return p}clear(){if(!this.destroyed){for(const p of this._layerLayerViewInfoMap.values())p.destroy();this._layerLayerViewInfoMap.clear(),this._refreshCollections()}}whenLayerView(p){var g=this;return(0,Un.Z)(function*(){if(yield g._reschedule(),!g._layerLayerViewInfoMap.has(p))throw new Rn.Z("view:no-layerview-for-layer","No layerview has been found for the layer",{layer:p});return g._layerLayerViewInfoMap.get(p).promise})()}_refreshCollections(){for(const[p,g]of this._layersToLayerViews)this._populateLayerViewsOwners(this.get(p),this.get(g),this.view);this.notifyChange("updating"),this.notifyChange("updatingRemaining")}_populateLayerViewsOwners(p,g,v){if(!p||!g)return void(g&&g.removeAll());let b=0;for(const C of p){const D=this._layerLayerViewInfoMap.get(C);if(!D||!D.layerView)continue;const P=D.layerView;P.layer=C,P.parent=v,g.getItemAt(b)!==P&&g.splice(b,0,P),C.layers&&this._populateLayerViewsOwners(C.layers,P.layerViews,P),b+=1}b<g.length&&g.splice(b,g.length)}_createLayerView(p){if(this._layerLayerViewInfoMap.has(p))return this.view.ready&&this._layerLayerViewInfoMap.get(p).start(),this.notifyChange("updating"),void this.notifyChange("updatingRemaining");p.load().catch(()=>{}),this.layerViewImporter.hasLayerViewModule(p)&&this.layerViewImporter.importLayerView(p);const g=new oU(p,this.view,this.layerViewImporter);g.promise.then(()=>this._refreshCollections(),v=>{var b,C;v&&((0,Er.D_)(v)||"cancelled:layerview-create"===v.name)||iU.error(`Failed to create layerview for layer title:'${null!=(b=p.title)?b:"no title"}', id:'${null!=(C=p.id)?C:"no id"}' of type '${p.type}'.`,{layer:p,error:v}),this._refreshCollections()}),this._layerLayerViewInfoMap.set(p,g),this.view.ready&&g.start(),this.notifyChange("updating"),this.notifyChange("updatingRemaining")}};(0,ye._)([(0,Oe.Cb)()],Do.prototype,"_workPromise",void 0),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],Do.prototype,"_watchUpdatingTracking",void 0),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],Do.prototype,"_layersToLayerViews",null),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],Do.prototype,"_rootCollectionNames",null),(0,ye._)([(0,Oe.Cb)()],Do.prototype,"layerViewImporter",void 0),(0,ye._)([(0,Oe.Cb)()],Do.prototype,"supportsGround",void 0),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],Do.prototype,"updating",null),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],Do.prototype,"updatingRemaining",null),(0,ye._)([(0,Oe.Cb)({constructOnly:!0})],Do.prototype,"view",void 0),Do=(0,ye._)([(0,bn.j)("esri.views.LayerViewManager")],Do);const aU=Do;let co=class extends Ur.Z{constructor(p){super(p),this.factor=1.5,this.offset=(0,ii.vW)(0,0),this.position=null,this.size=120,this.maskUrl=null,this.maskEnabled=!0,this.overlayUrl=null,this.overlayEnabled=!0,this.visible=!0}get version(){return this.commitProperty("factor"),this.commitProperty("offset"),this.commitProperty("position"),this.commitProperty("visible"),this.commitProperty("size"),this.commitProperty("maskUrl"),this.commitProperty("maskEnabled"),this.commitProperty("overlayUrl"),this.commitProperty("overlayEnabled"),(this._get("version")||0)+1}};(0,ye._)([(0,Oe.Cb)({type:Number})],co.prototype,"factor",void 0),(0,ye._)([(0,Oe.Cb)({nonNullable:!0})],co.prototype,"offset",void 0),(0,ye._)([(0,Oe.Cb)()],co.prototype,"position",void 0),(0,ye._)([(0,Oe.Cb)({type:Number,range:{min:0}})],co.prototype,"size",void 0),(0,ye._)([(0,Oe.Cb)()],co.prototype,"maskUrl",void 0),(0,ye._)([(0,Oe.Cb)()],co.prototype,"maskEnabled",void 0),(0,ye._)([(0,Oe.Cb)()],co.prototype,"overlayUrl",void 0),(0,ye._)([(0,Oe.Cb)()],co.prototype,"overlayEnabled",void 0),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],co.prototype,"version",null),(0,ye._)([(0,Oe.Cb)({type:Boolean})],co.prototype,"visible",void 0),co=(0,ye._)([(0,bn.j)("esri.views.Magnifier")],co);const qS=co;var eO=E(74447);let Gd=class extends Ur.Z{constructor(p,g){var v;super({}),this._stage=p,this._textureRequests=new Map,this._frameTask=null!=(v=null==g?void 0:g.registerTask(eO.T8.TEXTURE_UNLOAD))?v:eO.sq}normalizeCtorArgs(){return{}}destroy(){super.destroy(),this._frameTask.remove(),this._textureRequests.forEach(p=>this._releaseTextureRequest(p)),this._textureRequests.clear()}get updating(){return this._frameTask.updating}fromData(p,g,v){const b=this.makeUid(p);let C=this._textureRequests.get(b);return C||(C={referenceCount:0,texture:g(),textureAsync:null,abortController:null,onRemove:v},this._stage&&(this._stage.add(C.texture),this._stage.loadImmediate(C.texture)),this._textureRequests.set(b,C)),C.referenceCount++,{uid:b,texture:C.texture,release:()=>this._release(b)}}_release(p){const g=this._textureRequests.get(p);g?(g.referenceCount<1&&console.warn("TextureCollection: reference count is < 1 for "+p),g.referenceCount--,g.referenceCount<1&&this._frameTask.schedule(()=>this._releaseNow(p))):console.warn(`TextureCollection: texture doesn't exist: '${p}'`)}get test(){return{textureRequests:this._textureRequests}}_releaseNow(p){if(!this._textureRequests)return;const g=this._textureRequests.get(p);!g||g.referenceCount>0||(this._releaseTextureRequest(g),this._textureRequests.delete(p))}_releaseTextureRequest(p){var g;p.onRemove&&p.onRemove(),p.texture?null==(g=this._stage)||g.remove(p.texture):p.abortController&&(p.abortController.abort(),p.abortController=null)}makeUid(p,g=null){return(0,nn.pC)(g)?`${p}.${g}px`:p}};(0,ye._)([(0,Oe.Cb)()],Gd.prototype,"_frameTask",void 0),(0,ye._)([(0,Oe.Cb)()],Gd.prototype,"updating",null),Gd=(0,ye._)([(0,bn.j)("esri.views.3d.support.TextureCollection")],Gd);var tO,p,_i=E(35216);(p=tO||(tO={}))[p.Left=0]="Left",p[p.Middle=1]="Middle",p[p.Right=2]="Right";const nO=["click","double-click","immediate-click","immediate-double-click","hold","drag","key-down","key-up","pointer-down","pointer-move","pointer-up","pointer-drag","mouse-wheel","pointer-enter","pointer-leave","gamepad","focus","blur"],rO={};function sO(p){return!!rO[p]}nO.forEach(p=>{rO[p]=!0});class uU{constructor(g){this.handlers=new Map,this.counter=0,this.handlerCounts=new Map,this.view=g,this.inputManager=null}connect(g){g&&this.disconnect(),this.inputManager=g,this.handlers.forEach(({handler:v,priority:b},C)=>this.inputManager.installHandlers(C,[v],b))}disconnect(){this.inputManager&&this.handlers.forEach((g,v)=>this.inputManager.uninstallHandlers(v)),this.inputManager=null}destroy(){this.disconnect(),this.handlers.clear(),this.view=null}on(g,v,b,C){const D=Array.isArray(g)?g:g.split(",");if(!function lU(p){for(const g of p)if(!sO(g))return!1;return!0}(D))return D.some(sO)&&console.error("Error: registering input events and other events on the view at the same time is not supported."),null;let P,V;Array.isArray(v)?V=v:(P=v,V=[]),"function"==typeof b?P=b:C=b,C=null!=C?C:mc.f.DEFAULT;const ae=this._createUniqueGroupName(),be=new cU(this.view,D,V,P);this.handlers.set(ae,{handler:be,priority:C});for(const Pe of D){const Fe=this.handlerCounts.get(Pe)||0;this.handlerCounts.set(Pe,Fe+1)}return this.inputManager&&this.inputManager.installHandlers(ae,[be],C),{remove:()=>this._removeHandler(ae,D)}}hasHandler(g){return!!this.handlerCounts.get(g)}_removeHandler(g,v){if(this.handlers.has(g)){this.handlers.delete(g);for(const b of v){const C=this.handlerCounts.get(b);void 0===C?console.error("Trying to remove handler for event that has no handlers registered: ",b):1===C?this.handlerCounts.delete(b):this.handlerCounts.set(b,C-1)}}this.inputManager&&this.inputManager.uninstallHandlers(g)}_createUniqueGroupName(){return this.counter+=1,`viewEvents_${this.counter}`}}class cU extends _i.a{constructor(g,v,b,C){super(!0),this.view=g;for(const D of v)switch(D){case"click":this.registerIncoming("click",b,P=>C(this._wrapClick(P)));break;case"double-click":this.registerIncoming("double-click",b,P=>C(this._wrapDoubleClick(P)));break;case"immediate-click":this.registerIncoming("immediate-click",b,P=>C(this._wrapImmediateClick(P)));break;case"immediate-double-click":this.registerIncoming("immediate-double-click",b,P=>C(this._wrapImmediateDoubleClick(P)));break;case"hold":this.registerIncoming("hold",b,P=>C(this._wrapHold(P)));break;case"drag":this.registerIncoming("drag",b,P=>{const V=this._wrapDrag(P);V&&C(V)});break;case"key-down":this.registerIncoming("key-down",b,P=>C(this._wrapKeyDown(P)));break;case"key-up":this.registerIncoming("key-up",b,P=>C(this._wrapKeyUp(P)));break;case"pointer-down":this.registerIncoming("pointer-down",b,P=>C(this._wrapPointer(P,"pointer-down")));break;case"pointer-move":this.registerIncoming("pointer-move",b,P=>C(this._wrapPointer(P,"pointer-move")));break;case"pointer-up":this.registerIncoming("pointer-up",b,P=>C(this._wrapPointer(P,"pointer-up")));break;case"pointer-drag":this.registerIncoming("pointer-drag",b,P=>C(this._wrapPointerDrag(P)));break;case"mouse-wheel":this.registerIncoming("mouse-wheel",b,P=>C(this._wrapMouseWheel(P)));break;case"pointer-enter":this.registerIncoming("pointer-enter",b,P=>C(this._wrapPointer(P,"pointer-enter")));break;case"pointer-leave":this.registerIncoming("pointer-leave",b,P=>C(this._wrapPointer(P,"pointer-leave")));break;case"gamepad":this.registerIncoming("gamepad",b,P=>{C(this._wrapGamepad(P))});break;case"focus":this.registerIncoming("focus",b,P=>{C(this._wrapFocus(P))});break;case"blur":this.registerIncoming("blur",b,P=>{C(this._wrapBlur(P))})}}_wrapFocus(g){return{type:"focus",timestamp:g.timestamp,native:g.data.native,cancelable:g.cancelable,stopPropagation:()=>g.stopPropagation(),async:v=>g.async(v),preventDefault:()=>g.preventDefault()}}_wrapBlur(g){return{type:"blur",timestamp:g.timestamp,native:g.data.native,cancelable:g.cancelable,stopPropagation:()=>g.stopPropagation(),async:v=>g.async(v),preventDefault:()=>g.preventDefault()}}_wrapClick(g){const{pointerType:v,button:b,buttons:C,x:D,y:P,native:V,eventId:ae}=g.data,{cancelable:be,timestamp:Pe}=g;return{type:"click",pointerType:v,button:b,buttons:C,x:D,y:P,native:V,timestamp:Pe,screenPoint:(0,ii.vW)(D,P),mapPoint:this._getMapPoint(D,P),eventId:ae,cancelable:be,stopPropagation:()=>g.stopPropagation(),async:Fe=>g.async(Fe),preventDefault:()=>g.preventDefault()}}_wrapDoubleClick(g){const{pointerType:v,button:b,buttons:C,x:D,y:P,native:V,eventId:ae}=g.data,{cancelable:be,timestamp:Pe}=g;return{type:"double-click",pointerType:v,button:b,buttons:C,x:D,y:P,native:V,timestamp:Pe,mapPoint:this._getMapPoint(D,P),eventId:ae,cancelable:be,stopPropagation:()=>g.stopPropagation(),async:Fe=>g.async(Fe),preventDefault:()=>g.preventDefault()}}_wrapImmediateClick(g){const{pointerType:v,button:b,buttons:C,x:D,y:P,native:V,eventId:ae}=g.data,be=V.pointerId,{cancelable:Pe,timestamp:Fe}=g;return{type:"immediate-click",pointerId:be,pointerType:v,button:b,buttons:C,x:D,y:P,native:V,timestamp:Fe,mapPoint:this._getMapPoint(D,P),eventId:ae,cancelable:Pe,stopPropagation:()=>g.stopPropagation(),async:Xe=>g.async(Xe),preventDefault:()=>g.preventDefault()}}_wrapImmediateDoubleClick(g){const{pointerType:v,button:b,buttons:C,x:D,y:P,native:V,eventId:ae}=g.data,be=V.pointerId,{cancelable:Pe,timestamp:Fe}=g;return{type:"immediate-double-click",pointerId:be,pointerType:v,button:b,buttons:C,x:D,y:P,native:V,timestamp:Fe,mapPoint:this._getMapPoint(D,P),eventId:ae,cancelable:Pe,stopPropagation:()=>g.stopPropagation(),async:Xe=>g.async(Xe),preventDefault:()=>g.preventDefault()}}_wrapHold(g){const{pointerType:v,button:b,buttons:C,x:D,y:P,native:V}=g.data,{cancelable:ae,timestamp:be}=g;return{type:"hold",pointerType:v,button:b,buttons:C,x:D,y:P,native:V,timestamp:be,mapPoint:this._getMapPoint(D,P),cancelable:ae,stopPropagation:()=>g.stopPropagation(),async:Pe=>g.async(Pe),preventDefault:()=>g.preventDefault()}}_getMapPoint(g,v){return this.view.toMap((0,ii.vW)(g,v),{exclude:[]})}_wrapDrag(g){const v=g.data,{x:b,y:C}=v.center,{action:D,pointerType:P,button:V}=v;if("start"===D&&(this.latestDragStart=v),!this.latestDragStart)return;const ae=v.pointer.native,be=v.buttons,{cancelable:Pe,timestamp:Fe}=g,Xe={x:this.latestDragStart.center.x,y:this.latestDragStart.center.y};return"end"===D&&(this.latestDragStart=void 0),{type:"drag",action:D,x:b,y:C,origin:Xe,pointerType:P,button:V,buttons:be,radius:v.radius,angle:(0,jd.BV)(v.angle),native:ae,timestamp:Fe,cancelable:Pe,stopPropagation:()=>g.stopPropagation(),async:rt=>g.async(rt),preventDefault:()=>g.preventDefault()}}_wrapKeyDown(g){const{key:v,repeat:b,native:C}=g.data,{cancelable:D,timestamp:P}=g;return{type:"key-down",key:v,repeat:b,native:C,timestamp:P,cancelable:D,stopPropagation:()=>g.stopPropagation(),async:V=>g.async(V),preventDefault:()=>g.preventDefault()}}_wrapKeyUp(g){const{key:v,native:b}=g.data,{cancelable:C,timestamp:D}=g;return{type:"key-up",key:v,native:b,timestamp:D,cancelable:C,stopPropagation:()=>g.stopPropagation(),async:P=>g.async(P),preventDefault:()=>g.preventDefault()}}_wrapPointer(g,v){const{x:b,y:C,button:D,buttons:P,native:V,eventId:ae}=g.data,be=V.pointerId,Pe=V.pointerType,{cancelable:Fe,timestamp:Xe}=g;return{type:v,x:b,y:C,pointerId:be,pointerType:Pe,button:D,buttons:P,native:V,timestamp:Xe,eventId:ae,cancelable:Fe,stopPropagation:()=>g.stopPropagation(),async:rt=>g.async(rt),preventDefault:()=>g.preventDefault()}}_wrapPointerDrag(g){const{x:v,y:b,buttons:C,native:D,eventId:P}=g.data.currentEvent,{button:V}=g.data.startEvent,ae=g.data.startEvent.native.pointerId,be=g.data.startEvent.native.pointerType,Pe=g.data.action,Fe={x:g.data.startEvent.x,y:g.data.startEvent.y},{cancelable:Xe,timestamp:rt}=g;return{type:"pointer-drag",x:v,y:b,pointerId:ae,pointerType:be,button:V,buttons:C,action:Pe,origin:Fe,native:D,timestamp:rt,eventId:P,cancelable:Xe,stopPropagation:()=>g.stopPropagation(),async:It=>g.async(It),preventDefault:()=>g.preventDefault()}}_wrapMouseWheel(g){const{cancelable:v,data:b,timestamp:C}=g,{x:D,y:P,deltaY:V,native:ae}=b;return{type:"mouse-wheel",x:D,y:P,deltaY:V,native:ae,timestamp:C,cancelable:v,stopPropagation:()=>g.stopPropagation(),async:be=>g.async(be),preventDefault:()=>g.preventDefault()}}_wrapGamepad(g){const{action:v,state:b,device:C}=g.data,{cancelable:D,timestamp:P}=g,{buttons:V,axes:ae}=b;return{type:"gamepad",device:C,timestamp:P,action:v,buttons:V,axes:ae,cancelable:D,stopPropagation:()=>g.stopPropagation(),async:be=>g.async(be),preventDefault:()=>g.preventDefault()}}}var kd,iO,oO;(function(p){p[p.USER=0]="USER",p[p.MANAGER=1]="MANAGER"})(kd||(kd={})),function(p){p[p.None=0]="None",p[p.Unfocused=1]="Unfocused",p[p.Focused=2]="Focused",p[p.Unselected=4]="Unselected",p[p.Selected=8]="Selected",p[p.All=15]="All"}(iO||(iO={})),function(p){p[p.None=0]="None",p[p.Custom1=16]="Custom1",p[p.Custom2=32]="Custom2",p[p.Custom3=64]="Custom3",p[p.Custom4=128]="Custom4",p[p.Custom5=256]="Custom5",p[p.Custom6=512]="Custom6",p[p.Custom7=1024]="Custom7",p[p.Custom8=2048]="Custom8",p[p.Custom9=4096]="Custom9",p[p.Custom10=8192]="Custom10",p[p.Custom11=16384]="Custom11",p[p.Custom12=32768]="Custom12",p[p.All=65520]="All"}(oO||(oO={}));const dU=ns.Z.getLogger("esri.views.interactive.interactiveToolUtils");function hU(p){return[p.on("before-add",g=>{const v=g.item;if(null==v||p.includes(v))return dU.warn("Tool is either already in the list of tools or tool is `null`. Not adding tool."),void g.preventDefault()}),p.on("after-remove",g=>{const v=g.item;v.visible=!1,v.active&&(v.view.activeTool=null),v.destroy()})]}function nf(p){return p.visible&&p.getEditableFlag(kd.USER)&&p.getEditableFlag(kd.MANAGER)}function va(p){return(0,ii.vW)(p.x,p.y)}function aO(p,g){const v=(p instanceof HTMLElement?p:p.surface).getBoundingClientRect();return(0,ii.vW)(g.clientX-v.left,g.clientY-v.top)}function lO(p,g){return g instanceof Event?aO(p,g):va(g)}function uO(p){if(p instanceof Event)return!0;if("object"==typeof p&&"type"in p)switch(p.type){case"click":case"double-click":case"pointer-down":case"pointer-drag":case"pointer-enter":case"pointer-leave":case"pointer-up":case"pointer-move":case"immediate-click":case"immediate-double-click":case"hold":case"drag":case"mouse-wheel":return!0;default:return!1}return!1}class pU{constructor(){this._pointerLocations=new Map,this._hoveredManipulators=new Map,this._grabbedManipulators=new Map,this._draggedManipulators=new Map,this._stopDrag=!1,this._currentlyActiveTool=null,this._revertToActiveTool=!1,this._cursor=null}get cursor(){return this._cursor}handleInputEvent(g,v){const b=()=>g.stopPropagation();switch(g.type){case"pointer-move":cO(g.pointerType)&&this._pointerLocations.set(g.pointerId,{x:g.x,y:g.y,pointerType:g.pointerType});break;case"drag":this._grabbedManipulators.size>0&&(this._stopDrag=!0),this._stopDrag&&(b(),"end"===g.action&&(this._stopDrag=!1));break;case"pointer-down":{if(!dO(g))break;const C=va(g),D=this._intersect(C,g.pointerType,v.forEachTool);if((0,nn.Wi)(D))break;const P=this._findToolAndManipulatorByKey(D,v.forEachTool,rf),V=(0,nn.yw)(P,be=>be.manipulator),ae=(0,nn.yw)(P,be=>be.tool);!((0,nn.pC)(V)&&(0,nn.pC)(ae)&&V.interactive)||V.grabbable&&V.grabbableForEvent(g)||!V.grabbing||V.dragging||this._ungrabManipulatorBeforeDragging(V,ae,g),(0,nn.pC)(V)&&V.interactive&&V.grabbable&&V.grabbableForEvent(g)&&!V.grabbing&&(this._grabbedManipulators.set(g.pointerId,{key:D,start:C,pointerType:g.pointerType}),1===this._grabbedManipulators.size&&v.activeTool!==D.tool&&(this._currentlyActiveTool=v.activeTool,this._revertToActiveTool=!0,v.setActiveTool(D.tool)),V.grabbing=!0,V.events.emit("grab-changed",{action:"start",pointerType:g.pointerType,screenPoint:C}),b());break}case"pointer-up":this._handlePointerEnd(g,v);break;case"pointer-drag":{if(!dO(g))break;const C=this._grabbedManipulators.get(g.pointerId),D=this._draggedManipulators.get(g.pointerId),P=(0,nn.yw)(C||D,({key:Pe})=>Pe),V=this._findManipulatorByKey(P,v.forEachTool);if((0,nn.Wi)(V))break;const ae=va(g);ae.x=(0,jd.uZ)(ae.x,0,v.view.width),ae.y=(0,jd.uZ)(ae.y,0,v.view.height);const be=(0,nn.Wg)(C||D).start;switch(g.action){case"start":case"update":"update"!==g.action&&1!==this._grabbedManipulators.size||(V.dragging=!0,V.events.emit("drag",D?{action:"update",start:be,screenPoint:ae}:{action:"start",start:be,screenPoint:ae,pointerType:g.pointerType}),this._draggedManipulators.set(g.pointerId,{key:(0,nn.Wg)(P),start:be}));break;case"end":V.dragging=!1,D&&V.events.emit("drag",{action:"end",start:be,screenPoint:ae}),this._draggedManipulators.delete(g.pointerId),this._handlePointerEnd(g,v)}b();break}case"immediate-click":{const C=va(g),D=this._intersect(C,g.pointerType,v.forEachTool),P=this._findToolAndManipulatorByKey(D,v.forEachTool,rf);if(function fU(p){return!!p.native.shiftKey}(g)||v.forEachTool(Pe=>{if((!(0,nn.pC)(P)||P.tool!==Pe||Pe.automaticManipulatorSelection)&&Pe.manipulators){let Fe=!1;Pe.manipulators.forEach(({manipulator:Xe})=>{Xe.selected&&(Xe.selected=!1,Fe=!0)}),Fe&&Pe.manipulatorSelectionChanged&&Pe.manipulatorSelectionChanged()}}),(0,nn.Wi)(P))break;const{manipulator:V,tool:ae}=P;if(!V.interactive)break;V.selectable&&ae.automaticManipulatorSelection&&(V.selected=!V.selected,ae.manipulatorSelectionChanged&&ae.manipulatorSelectionChanged()),V.events.emit("immediate-click",{screenPoint:C,button:g.button,pointerType:g.pointerType,shiftKey:g.native.shiftKey,stopPropagation:b});break}case"click":{const C=va(g),D=this._intersect(C,g.pointerType,v.forEachTool),P=this._findManipulatorByKey(D,v.forEachTool);if((0,nn.Wi)(P)||!P.interactive)break;P.events.emit(g.type,{screenPoint:C,button:g.button,pointerType:g.pointerType,shiftKey:g.native.shiftKey}),b();break}case"double-click":{const C=va(g),D=this._intersect(C,g.pointerType,v.forEachTool),P=this._findManipulatorByKey(D,v.forEachTool);if((0,nn.Wi)(P)||!P.interactive)break;P.events.emit("double-click",{screenPoint:C,button:g.button,pointerType:g.pointerType,shiftKey:g.native.shiftKey,stopPropagation:b});break}case"immediate-double-click":{const C=va(g),D=this._intersect(C,g.pointerType,v.forEachTool),P=this._findManipulatorByKey(D,v.forEachTool);if((0,nn.Wi)(P)||!P.interactive)break;P.events.emit("immediate-double-click",{screenPoint:C,button:g.button,pointerType:g.pointerType,shiftKey:g.native.shiftKey,stopPropagation:b});break}}this._updateCursor(v.forEachTool)}_ungrabManipulatorBeforeDragging(g,v,b){g.grabbing=!1,g.events.emit("grab-changed",{action:"end",pointerType:b.pointerType,screenPoint:va(b)}),this._grabbedManipulators.forEach(({key:C},D)=>{C.tool===v&&v.manipulators.findById(C.manipulatorId)===g&&this._grabbedManipulators.delete(D)})}_handlePointerEnd(g,v){const b=(0,nn.yw)(this._grabbedManipulators.get(g.pointerId),({key:D})=>D),C=this._findManipulatorByKey(b,v.forEachTool);(0,nn.pC)(C)&&!C.dragging&&(1===this._grabbedManipulators.size&&0===this._draggedManipulators.size&&this._revertToActiveTool&&(v.setActiveTool(this._currentlyActiveTool),this._revertToActiveTool=!1,this._currentlyActiveTool=null),C.grabbing&&(C.grabbing=!1,C.events.emit("grab-changed",{action:"end",pointerType:g.pointerType,screenPoint:va(g)})),this._grabbedManipulators.delete(g.pointerId))}_cursorFromMap(g,v){let b=null;return(0,tf.oE)(g,({key:C})=>{const D=this._findManipulatorByKey(C,v);return!!((0,nn.pC)(D)&&D.interactive&&"cursor"in D&&D.cursor)&&(b=D.cursor,!0)}),b}_updateCursor(g){this._cursor=this._grabbedManipulators.size>0?this._cursorFromMap(this._grabbedManipulators,g)||"grabbing":this._hoveredManipulators.size>0?this._cursorFromMap(this._hoveredManipulators,g)||"pointer":null}clearPointers(g,v,b=!0,C){const D=P=>P.tool===g&&((0,nn.Wi)(C)||P.manipulatorId===C);this._grabbedManipulators.forEach(({key:P,pointerType:V},ae)=>{if(D(P)){this._grabbedManipulators.delete(ae);const be=this._findManipulatorByKey(P,v);(0,nn.pC)(be)&&(be.grabbing=!1,be.events.emit("grab-changed",{action:"end",screenPoint:null,pointerType:V}))}}),this._draggedManipulators.forEach(({key:P},V)=>{if(D(P)){this._draggedManipulators.delete(V);const ae=this._findManipulatorByKey(P,v);(0,nn.pC)(ae)&&(ae.dragging=!1,ae.events.emit("drag",{action:"cancel"}))}}),b&&this._hoveredManipulators.forEach(({key:P},V)=>{if(D(P)){this._hoveredManipulators.delete(V);const ae=this._findManipulatorByKey(P,v);(0,nn.pC)(ae)&&(ae.hovering=!1)}}),this._updateCursor(v)}_intersect(g,v,b){let C=null;return b(D=>{if(null==D.manipulators||!nf(D))return!1;const P=D.manipulators.intersect(g,v);return!(0,nn.Wi)(P)&&(C={manipulatorId:P.id,tool:D},!0)}),C}updateHoveredStateFromKnownPointers(g){this._pointerLocations.forEach((v,b)=>{this._updateHoveredStateForPointerAtScreenPosition((0,ii.vW)(v.x,v.y),b,v.pointerType,g)})}handleHoverEvent(g,v){"pointer-up"!==g.type&&"immediate-click"!==g.type&&"pointer-move"!==g.type||!cO(g.pointerType)||this._updateHoveredStateForPointerAtScreenPosition(va(g),g.pointerId,g.pointerType,v)}_updateHoveredStateForPointerAtScreenPosition(g,v,b,C){const D=this._intersect(g,b,C);let P=this._findManipulatorByKey(D,C);const V=(0,nn.yw)(this._hoveredManipulators.get(v),({key:be})=>be),ae=this._findManipulatorByKey(V,C);(0,nn.pC)(P)&&!P.interactive&&(P=null),ae!==P&&((0,nn.pC)(ae)&&(ae.hovering=!1),(0,nn.pC)(P)?(P.hovering=!0,this._hoveredManipulators.set(v,{key:(0,nn.Wg)(D)})):this._hoveredManipulators.delete(v),this._updateCursor(C))}_findManipulatorByKey(g,v){return this._findToolAndManipulatorByKey(g,v,rf)?rf.manipulator:null}_findToolAndManipulatorByKey(g,v,b){return(0,nn.Wi)(g)?null:(b.tool=null,b.manipulator=null,v(C=>{if(C!==g.tool||null==C.manipulators||!nf(C))return!1;const D=C.manipulators.findById(g.manipulatorId);return!!(0,nn.pC)(D)&&(b.manipulator=D,b.tool=C,!0)}),b.manipulator?b:null)}}function cO(p){return"mouse"===p}function dO(p){return"mouse"!==p.pointerType||0===p.button}const rf={manipulator:null,tool:null},hO=ns.Z.getLogger("esri.views.ToolViewManager"),pO="attached",i_="tools";let Wa=class extends kl.r{constructor(p){super(p),this._manipulatorState=new pU,this.tools=new ds.Z,this.cursor=null,this._forEachTool=g=>{for(const v of this.tools.items)if(g(v))return}}initialize(){this.handles.add([this.view.on(nO,p=>{this._handleInputEvent(p)},mc.f.TOOL),...hU(this.tools),this.tools.on("before-remove",({item:p})=>{this._manipulatorState.clearPointers(p,this._forEachTool)}),this.tools.on("change",()=>{this._refreshToolWatchers()})])}destroy(){this.detach(),this.handles.removeAll()}set activeTool(p){if((0,nn.pC)(p)&&!this.view.ready)return void hO.error("Cannot set active tool while view is not ready.");if(p===this.activeTool)return void((0,nn.pC)(p)&&hO.warn("Tool is already active - ignoring activation request."));const g=this.activeTool;this._set("activeTool",p),(0,nn.pC)(g)&&g.deactivate(),(0,nn.pC)(p)&&p.activate(),this._removeIncompleteTools(p);const v=(0,nn.Wi)(this.activeTool);for(const b of this.tools){b.setEditableFlag(kd.MANAGER,v||b===this.activeTool);const C=nf(b);!v&&C||this._manipulatorState.clearPointers(b,this._forEachTool,!C)}this._updateCursor()}get updating(){var p,g;return this.updatingHandles.updating||this.tools.some(v=>v.updating)||null!=(p=null==(g=this.textures)?void 0:g.updating)&&p}attach(){"3d"===this.view.type?(this._set("textures",new Gd(this.view._stage,this.view.resourceController.scheduler)),this.handles.add([this.view.state.watch("camera",()=>{this._forEachManipulator(p=>{null!=p.onViewChange&&p.onViewChange()})}),this.view.elevationProvider.on("elevation-change",p=>{this._forEachManipulator(g=>{null!=g.onElevationChange&&g.onElevationChange(p)})}),(0,QS.kB)(()=>this._set("textures",(0,nn.SC)(this.textures)))],pO)):this.handles.add(this.view.watch("extent",()=>{this._forEachManipulator(p=>{null!=p.onViewChange&&p.onViewChange()})}))}detach(){(0,nn.pC)(this.activeTool)&&(this.activeTool=null),this.tools.removeAll(),this.handles.remove(pO)}_forEachManipulator(p){this._forEachTool(g=>{g.manipulators&&g.manipulators.forEach(({manipulator:v})=>p(v,g))})}_handleInputEvent(p){let g=!1;const v=Bn(Ct({},p),{stopPropagation:()=>{g=!0,p.stopPropagation()}});(0,nn.pC)(this.activeTool)?this.activeTool.handleInputEvent&&this.activeTool.handleInputEvent(v):this._forEachTool(b=>{!g&&b.visible&&b.handleInputEvent(v)}),!g&&"key-down"===p.type&&"Escape"===p.key&&this.activeTool&&(p.stopPropagation(),this.activeTool=null),this._manipulatorState.handleInputEvent(v,{forEachTool:this._forEachTool,activeTool:this.activeTool,setActiveTool:b=>{this.activeTool=b},view:this.view}),!g&&(0,nn.pC)(this.activeTool)&&this.activeTool.handleInputEventAfter(v),this._manipulatorState.handleHoverEvent(v,this._forEachTool),this._updateCursor()}_refreshToolWatchers(){this.handles.remove(i_),this._forEachTool(p=>{if(p instanceof Ur.Z){const g=(0,Jn.YP)(p,["cursor","visible","editable"],()=>{nf(p)||this._manipulatorState.clearPointers(p,this._forEachTool),this._updateCursor()});this.handles.add(g,i_)}p.manipulators&&this.handles.add(p.manipulators.on("change",g=>{g.removed.forEach(({id:v})=>{this._manipulatorState.clearPointers(p,this._forEachTool,!0,v)}),this._manipulatorState.updateHoveredStateFromKnownPointers(this._forEachTool),this._updateCursor()}),i_)}),this._manipulatorState.updateHoveredStateFromKnownPointers(this._forEachTool),this._updateCursor()}_updateCursor(){let p=this._manipulatorState.cursor;this._forEachTool(g=>!(!(0,nn.pC)(g.cursor)||!g.visible||(p=g.cursor,0))),this._get("cursor")!==p&&this._set("cursor",p)}_removeIncompleteTools(p){this.tools.filter(g=>((0,nn.Wi)(p)||g!==p)&&!g.created).forEach(g=>{this.tools.remove(g)})}};(0,ye._)([(0,Oe.Cb)({constructOnly:!0,nonNullable:!0})],Wa.prototype,"view",void 0),(0,ye._)([(0,Oe.Cb)({readOnly:!0,nonNullable:!0})],Wa.prototype,"textures",void 0),(0,ye._)([(0,Oe.Cb)({value:null})],Wa.prototype,"activeTool",null),(0,ye._)([(0,Oe.Cb)({readOnly:!0,type:ds.Z})],Wa.prototype,"tools",void 0),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],Wa.prototype,"cursor",void 0),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],Wa.prototype,"updating",null),Wa=(0,ye._)([(0,bn.j)("esri.views.ToolViewManager")],Wa);const mU=Wa;let yc=class extends Ur.Z{constructor(p){super(),this.nativeIndex=null,this._detectedDeviceType="unknown",this._detectedDeviceType="standard"===p.mapping?"standard":yU.test(p.id)?"spacemouse":"unknown",this.nativeIndex=p.index}get native(){return(navigator.getGamepads?navigator.getGamepads():[])[this.nativeIndex]}get deviceType(){return this._detectedDeviceType}get axisThreshold(){return gU[this.deviceType]}};(0,ye._)([(0,Oe.Cb)({nonNullable:!0,readOnly:!0})],yc.prototype,"nativeIndex",void 0),(0,ye._)([(0,Oe.Cb)({type:String,readOnly:!0})],yc.prototype,"deviceType",null),(0,ye._)([(0,Oe.Cb)({type:Number,readOnly:!0})],yc.prototype,"axisThreshold",null),yc=(0,ye._)([(0,bn.j)("esri.views.input.gamepad.GamepadInputDevice")],yc);const yU=new RegExp("^(3dconnexion|space(mouse|navigator|pilot|explorer))","i"),gU={standard:.15,spacemouse:.025,unknown:0},o_=yc;let Hd=class extends Ur.Z{constructor(...p){super(...p),this.devices=new ds.Z,this.enabledFocusMode="document"}};(0,ye._)([(0,Oe.Cb)({type:ds.Z.ofType(o_),readOnly:!0})],Hd.prototype,"devices",void 0),(0,ye._)([(0,Oe.Cb)({type:["document","view","none"]})],Hd.prototype,"enabledFocusMode",void 0),Hd=(0,ye._)([(0,bn.j)("esri.views.input.gamepad.GamepadSettings")],Hd);const _U=Hd;let sf=class extends Ur.Z{constructor(){super(...arguments),this.gamepad=new _U}};(0,ye._)([(0,Oe.Cb)({readOnly:!0})],sf.prototype,"gamepad",void 0),sf=(0,ye._)([(0,bn.j)("esri.views.input.Input")],sf);const vU=sf;let gl=class extends Ur.Z{constructor(p){super(p),this.enabled=!0,this.device=null,this.mode="pan",this.tiltDirection="forward-down",this.velocityFactor=1}};(0,ye._)([(0,Oe.Cb)({type:Boolean,nonNullable:!0})],gl.prototype,"enabled",void 0),(0,ye._)([(0,Oe.Cb)({type:o_})],gl.prototype,"device",void 0),(0,ye._)([(0,Oe.Cb)({type:["pan","zoom"],nonNullable:!0})],gl.prototype,"mode",void 0),(0,ye._)([(0,Oe.Cb)({type:["forward-down","forward-up"],nonNullable:!0})],gl.prototype,"tiltDirection",void 0),(0,ye._)([(0,Oe.Cb)({type:Number,nonNullable:!0})],gl.prototype,"velocityFactor",void 0),gl=(0,ye._)([(0,bn.j)("esri.views.navigation.gamepad.GamepadSettings")],gl);const fO=gl;let eu=class extends Ur.Z{constructor(p){super(p),this.browserTouchPanEnabled=!0,this.gamepad=new fO,this.momentumEnabled=!0,this.mouseWheelZoomEnabled=!0}};(0,ye._)([(0,Oe.Cb)({type:Boolean})],eu.prototype,"browserTouchPanEnabled",void 0),(0,ye._)([(0,Oe.Cb)({type:fO,nonNullable:!0})],eu.prototype,"gamepad",void 0),(0,ye._)([(0,Oe.Cb)({type:Boolean})],eu.prototype,"momentumEnabled",void 0),(0,ye._)([(0,Oe.Cb)({type:Boolean})],eu.prototype,"mouseWheelZoomEnabled",void 0),eu=(0,ye._)([(0,bn.j)("esri.views.navigation.Navigation")],eu);const mO=eu;var Qi;function yO(p){const g=p.url&&(0,xp.Qc)(p.url);return null==(p.spatialReference&&p.spatialReference.vcsWkid)&&(0,nn.pC)(g)&&"ImageServer"===g.serverType||!gO(p)||!p.heightModelInfo?function vO(p){return _O(p)?!!(p.capabilities&&p.capabilities.data&&p.capabilities.data.supportsZ):EO(p)}(p)?s_.Z.deriveUnitFromSR(CU,p.spatialReference):null:p.heightModelInfo}function gO(p){return"heightModelInfo"in p}function _O(p){if("unknown"===p.type||!("capabilities"in p))return!1;switch(p.type){case"csv":case"feature":case"geojson":case"subtype-group":case"ogc-feature":case"wfs":return!0;default:return!1}}function MU(p){return null!=p.layers||EO(p)||_O(p)||gO(p)}function EO(p){switch(p.type){case"building-scene":case"elevation":case"integrated-mesh":case"point-cloud":case"scene":case"voxel":return!0;case"analysis":case"base-dynamic":case"base-elevation":case"base-tile":case"bing-maps":case"csv":case"geojson":case"feature":case"subtype-group":case"geo-rss":case"graphics":case"group":case"imagery":case"imagery-tile":case"kml":case"map-image":case"map-notes":case"ogc-feature":case"open-street-map":case"route":case"stream":case"tile":case"unknown":case"unsupported":case"vector-tile":case"wcs":case"web-tile":case"wfs":case"wms":case"wmts":case null:return!1}return!1}!function(p){p[p.Ok=0]="Ok",p[p.Units=1]="Units",p[p.HeightModel=2]="HeightModel",p[p.CRS=3]="CRS",p[p.Unsupported=4]="Unsupported"}(Qi||(Qi={}));const CU=new s_.Z({heightModel:"gravity-related-height"});var of=E(59617);let l_,u_=null;function DU(p){return c_.apply(this,arguments)}function c_(){return c_=(0,Un.Z)(function*(p){u_||(u_=E.e(5082).then(E.bind(E,35082)).then(g=>l_=g)),yield u_,(0,Er.k_)(p)}),c_.apply(this,arguments)}function bO(p,g,v,b){return d_.apply(this,arguments)}function d_(){return d_=(0,Un.Z)(function*(p,g,v,b){if(!p)return null;const C=p.spatialReference;return(0,ga.kR)()||(0,ga.Up)(C,g)?(0,ga.iV)(p,g):l_?l_.projectGeometry(p,g,v,b):(yield Promise.race([DU(b),(0,ga.zD)(b)]),bO(p,g,v,b))}),d_.apply(this,arguments)}const MO=ns.Z.getLogger("esri.views.support.DefaultsFromMap");MO.level="info";let Kr=class extends Ur.Z{constructor(p){super(p),this.required={tileInfo:!1,heightModelInfo:!1,extent:!1},this.defaultSpatialReference=null,this.userSpatialReference=null,this.sourcePreloadCount=10,this.priorityCollection=null,this.logDebugInformation=!1,this.requiresExtentInSpatialReference=!0,this.suspended=!1,this._projectExtentTask={task:null,input:null,output:null,spatialReference:null}}destroy(){this._projectExtentTask.task&&(this._debug("Aborting project extent task"),this._projectExtentTask.task=(0,nn.IM)(this._projectExtentTask.task)),this._set("map",null)}get ready(){return!this._spatialReferenceTask.updating&&!this._tileInfoTask.updating&&!this._extentTask.updating}get heightModelInfoReady(){return!this._heightModelInfoTask.updating}get spatialReference(){return(0,nn.pC)(this.userSpatialReference)?this.userSpatialReference:(0,nn.Wg)(this._spatialReferenceTask.spatialReference)}get extent(){return(0,nn.Wg)(this._extentTask.extent)}get heightModelInfo(){return(0,nn.Wg)(this._heightModelInfoTask.heightModelInfo)}get vcsWkid(){return(0,nn.Wg)(this._heightModelInfoTask.vcsWkid)}get latestVcsWkid(){return(0,nn.Wg)(this._heightModelInfoTask.latestVcsWkid)}get viewingMode(){return(0,nn.Wi)(this.userSpatialReference)||this.userSpatialReference.equals((0,nn.Wg)(this._spatialReferenceTask.spatialReference))?(0,nn.Wg)(this._spatialReferenceTask.viewingMode):null}get tileInfo(){return(0,nn.Wg)(this._tileInfoTask.tileInfo)}get mapCollections(){var p,g,v,b;const C=null==(p=this.map)?void 0:p.call(this),D=[];return(0,nn.pC)(this.priorityCollection)&&D.push(this.priorityCollection),D.push({parent:null==C?void 0:C.basemap,layers:null==C||null==(g=C.basemap)?void 0:g.baseLayers},{layers:null==C?void 0:C.layers},{parent:null==C?void 0:C.ground,layers:null==C||null==(v=C.ground)?void 0:v.layers},{parent:null==C?void 0:C.basemap,layers:null==C||null==(b=C.basemap)?void 0:b.referenceLayers}),D}get _allLayers(){var p,g;const v=this._collectLayers(this.mapCollections);return this._debug("Collected",null!=(p=null==(g=v.layers)?void 0:g.length)?p:0,"layers, updating",v.updating),v}get _spatialReferenceTask(){var p,g;if(this.suspended)return null!=(g=this._get("_spatialReferenceTask"))?g:{updating:!1};const{layers:v,updating:b}=this._allLayers,C={candidates:null};for(const P of v)if(this._processSpatialReferenceCandidates(P,C),C.candidates&&1===C.candidates.length)break;if(1!==(null==(p=C.candidates)?void 0:p.length)&&b)return{updating:!0};const D=this._pickSpatialReferenceCandidate(C.candidates);return this._debug("Finished spatial reference",(0,nn.pC)(D)?`${D.spatialReference.wkid}:${(0,nn.pC)(D.viewingMode)?(0,of.M7)(D.viewingMode):"global/local"}`:"none available"),{spatialReference:(0,nn.pC)(D)?D.spatialReference:null,viewingMode:(0,nn.pC)(D)?D.viewingMode:null,updating:!1}}get _tileInfoTask(){var p,g,v,b,C,D,P,V;if(!this.required.tileInfo)return null!=(V=this._get("_tileInfoTask"))?V:{updating:!1};if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};const{layers:ae,updating:be}=this._collectLayers([{parent:null==(p=this.map)||null==(g=p.call(this))?void 0:g.basemap,layers:null==(v=this.map)||null==(b=v.call(this))||null==(C=b.basemap)?void 0:C.baseLayers},{layers:null==(D=this.map)||null==(P=D.call(this))?void 0:P.layers}]);if(ae&&ae.length>0&&"tileInfo"in ae[0]){const Pe=ae[0].tileInfo;return{tileInfo:Pe&&Pe.spatialReference.equals(this.spatialReference)?Pe:null,updating:!1}}return{updating:be}}get _heightModelInfoTask(){var p,g;if(!this.required.heightModelInfo||this.suspended&&null!=(p=this._get("_heightModelInfoTask"))&&p.heightModelInfo)return null!=(g=this._get("_heightModelInfoTask"))?g:{updating:!1};const{layers:v,updating:b}=this._allLayers;for(const ae of v){var C,D;if(this._debug("Considering",null!=(C=null!=(D=ae.title)?D:ae.id)?C:ae.declaredClass,"for height model info"),MU(ae)){const be=yO(ae);var P,V;if(be)return this._debug("Derived height model info",be),{heightModelInfo:be,vcsWkid:null==(P=ae.spatialReference)?void 0:P.vcsWkid,latestVcsWkid:null==(V=ae.spatialReference)?void 0:V.latestVcsWkid,updating:!1}}this._debug("Layer does not support height models")}return this._debug("No height model info found,","updating",b),{updating:b}}get _extentCandidatesTask(){var p;if(this.suspended||!this.required.extent)return null!=(p=this._get("_extentCandidatesTask"))?p:{updating:!1};if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};const g=this._allLayers,v=g.updating,b=[];for(const D of g.layers){var C;const P="fullExtents"in D&&D.fullExtents||((0,nn.pC)(D.fullExtent)?[D.fullExtent]:[]),V=this.requiresExtentInSpatialReference?null:P[0],ae=null!=(C=P.find(be=>be.spatialReference.equals(this.spatialReference)))?C:V;if(ae)return{candidates:[{extent:ae,layer:D}],updating:!1};if(this._getSupportedSpatialReferences(D).length>0)for(const be of P)b.push({extent:be,layer:D})}return{candidates:b,updating:v}}get _extentTask(){var p=this;const{candidates:g,updating:v}=this._extentCandidatesTask;if(v)return{updating:v};if((0,nn.Wi)(g)||0===g.length)return{updating:!1};if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};const b=this._pickExtentCandidate(g),C=this.spatialReference;return b.extent.equals(this._projectExtentTask.input)&&C.equals(this._projectExtentTask.spatialReference)?{extent:this._projectExtentTask.output,updating:(0,nn.pC)(this._projectExtentTask.task)&&!this._projectExtentTask.task.finished}:((0,nn.pC)(this._projectExtentTask.task)&&(this._debug("Aborting project extent task"),this._projectExtentTask.task=(0,nn.IM)(this._projectExtentTask.task)),this._debug("Starting project extent task for",b.extent),this._projectExtentTask={input:b.extent.clone(),output:null,spatialReference:C.clone(),task:(0,Er.vr)(function(){var D=(0,Un.Z)(function*(P){try{const V=yield bO(b.extent,C,b.layer.portalItem,P);p._debug("Project extent task finished",V),p._projectExtentTask=Bn(Ct({},p._projectExtentTask),{task:null,output:V})}catch(V){if((0,Er.Hc)(P))return;p._projectExtentTask=Bn(Ct({},p._projectExtentTask),{task:null})}});return function(P){return D.apply(this,arguments)}}())},{updating:!0})}_processSpatialReferenceCandidates(p,g){var v;const b=this._getSupportedSpatialReferences(p);if(0!==b.length)if(this._debug("Spatial reference candidates from",null!=(v=p.title)?v:p.id,":",b.map(C=>`${C.spatialReference.wkid}:${(0,nn.pC)(C.viewingMode)?(0,of.M7)(C.viewingMode):"global/local"}`).join(", ")),g.candidates){const C=[],D=(P,V)=>(0,nn.Wi)(P.viewingMode)?V.viewingMode:((0,nn.Wi)(V.viewingMode)||P.viewingMode===V.viewingMode)&&P.viewingMode;for(const P of g.candidates)for(const V of b){if(!P.spatialReference.equals(V.spatialReference))continue;const ae=D(P,V);if(!1!==ae){C.push({spatialReference:P.spatialReference,viewingMode:ae});break}}C.length>0&&(g.candidates=C)}else g.candidates=b}_pickSpatialReferenceCandidate(p){const g=this.defaultSpatialReference;return!p||p.length<1?(0,nn.pC)(g)?{spatialReference:g,viewingMode:null}:null:((0,nn.pC)(g)&&p.length>1&&p.some(({spatialReference:v})=>v.equals(g))&&(p=p.filter(({spatialReference:v})=>v.equals(g))),p.length>1&&p.some(({viewingMode:v})=>v!==of.JY.Local)&&(p=p.filter(({viewingMode:v})=>v!==of.JY.Local)),p[0])}_getSupportedSpatialReferences(p){const g="supportedSpatialReferences"in p&&p.supportedSpatialReferences||(p.spatialReference?[p.spatialReference]:[]);if(0===g.length)return[];const v=[];for(const b of g){const C=this.getSpatialReferenceSupport({spatialReference:b,layer:p});if((0,nn.pC)(C)){const D=(0,nn.pC)(C.constraints)?C.constraints:[{spatialReference:b}];for(const{spatialReference:P,viewingMode:V}of D)(!this.requiresExtentInSpatialReference||(0,nn.Wi)(this.userSpatialReference)||P.equals(this.userSpatialReference))&&v.push({spatialReference:P,viewingMode:V})}}return v}_pickExtentCandidate(p){const g=this.spatialReference;return p.find(({extent:v})=>g.equals(v.spatialReference))||p[0]}_collectLayers(p){var g;if("loaded"!==this._loadMaybe(null==(g=this.map)?void 0:g.call(this)))return{layers:[],updating:!0};const v={layers:[],preloading:-1,updating:!1};for(const b of p)if(this._collectCollection(b,v),v.preloading===this.sourcePreloadCount)break;return{layers:v.layers,updating:v.updating}}_collectCollection(p,g){if(p.layers){switch(this._loadMaybe(p.parent)){case"loading":return g.updating=!0,void++g.preloading;case"failed":return}for(const C of p.layers){switch(this._loadMaybe(C)){case"failed":continue;case"loading":g.updating=!0,++g.preloading;break;case"loaded":var v,b;g.updating||(this._debug("Considering layer",null!=(v=null!=(b=C.title)?b:C.id)?v:C.declaredClass),g.layers.push(C)),"layers"in C&&this._collectCollection({layers:C.layers},g)}if(g.preloading===this.sourcePreloadCount)break}}}_loadMaybe(p){return p&&"loadStatus"in p?"not-loaded"===p.loadStatus?(this._debug("Triggering load",null!=(g=null!=(v=p.title)?v:p.id)?g:p.declaredClass),p.load(),"loading"):p.loadStatus:"loaded";var g,v}_debug(...p){this.logDebugInformation&&MO.info(...p)}};(0,ye._)([(0,Oe.Cb)()],Kr.prototype,"required",void 0),(0,ye._)([(0,Oe.Cb)({constructOnly:!0})],Kr.prototype,"map",void 0),(0,ye._)([(0,Oe.Cb)({constructOnly:!0})],Kr.prototype,"getSpatialReferenceSupport",void 0),(0,ye._)([(0,Oe.Cb)()],Kr.prototype,"defaultSpatialReference",void 0),(0,ye._)([(0,Oe.Cb)()],Kr.prototype,"userSpatialReference",void 0),(0,ye._)([(0,Oe.Cb)()],Kr.prototype,"sourcePreloadCount",void 0),(0,ye._)([(0,Oe.Cb)()],Kr.prototype,"priorityCollection",void 0),(0,ye._)([(0,Oe.Cb)()],Kr.prototype,"logDebugInformation",void 0),(0,ye._)([(0,Oe.Cb)()],Kr.prototype,"requiresExtentInSpatialReference",void 0),(0,ye._)([(0,Oe.Cb)()],Kr.prototype,"suspended",void 0),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],Kr.prototype,"ready",null),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],Kr.prototype,"heightModelInfoReady",null),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],Kr.prototype,"spatialReference",null),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],Kr.prototype,"extent",null),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],Kr.prototype,"heightModelInfo",null),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],Kr.prototype,"vcsWkid",null),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],Kr.prototype,"latestVcsWkid",null),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],Kr.prototype,"viewingMode",null),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],Kr.prototype,"tileInfo",null),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],Kr.prototype,"mapCollections",null),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],Kr.prototype,"_allLayers",null),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],Kr.prototype,"_spatialReferenceTask",null),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],Kr.prototype,"_tileInfoTask",null),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],Kr.prototype,"_heightModelInfoTask",null),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],Kr.prototype,"_extentCandidatesTask",null),(0,ye._)([(0,Oe.Cb)()],Kr.prototype,"_extentTask",null),(0,ye._)([(0,Oe.Cb)()],Kr.prototype,"_projectExtentTask",void 0),Kr=(0,ye._)([(0,bn.j)("esri.views.support.DefaultsFromMap")],Kr);const SU=Kr;var af;const lf=ns.Z.getLogger("esri.views.View");let or=af=class extends((0,kl.p)(Id.Z.EventedMixin((0,By.v)(Ur.Z)))){constructor(p){super(p),this._userSpatialReference=null,this._cursor=null,this.allLayerViews=new qu.Z({getCollections:()=>{var g,v,b;return[null==(g=this.basemapView)?void 0:g.baseLayerViews,null==(v=this.groundView)?void 0:v.layerViews,this.layerViews,null==(b=this.basemapView)?void 0:b.referenceLayerViews]},getChildrenFunction:g=>g.layerViews}),this.groundView=null,this.animation=null,this.basemapView=null,this.fatalError=null,this.extent=null,this.graphics=new XS.J,this.analyses=new ef,this.navigating=!1,this.typeSpecificPreconditionsReady=!0,this.layerViews=new ds.Z,this.magnifier=new qS,this.padding={left:0,top:0,right:0,bottom:0},this.ready=!1,this.spatialReferenceWarningDelay=1e3,this.supportsGround=!0,this.timeExtent=null,this.type=null,this.scale=null,this.updating=!1,this.initialExtentRequired=!0,this.input=new vU,this.navigation=new mO,this.layerViewManager=null,this.analysisViewManager=null,this.isHeightModelInfoRequired=!1,this.width=null,this.height=null,this.resizing=!1,this.suspended=!1,this.viewEvents=new uU(this),this.persistableViewModels=new ds.Z,this._isValid=!1,this._readyCycleForced=!1,this.handles.add(this.watch("preconditionsReady",g=>{var v,b;g?(this._currentSpatialReference=this.spatialReference,af.views.add(this)):(this._currentSpatialReference=null,af.views.remove(this)),this.notifyChange("spatialReference"),!g&&this.ready?(null==(v=this.layerViewManager)||v.clear(),null==(b=this.toolViewManager)||b.detach(),(0,nn.pC)(this.analysisViewManager)&&this.analysisViewManager.detach(),this._teardown()):g&&!this.ready&&((0,nn.pC)(this.analysisViewManager)&&this.analysisViewManager.attach(),this._startup(),this.toolViewManager.attach())},!0))}initialize(){this.addResolvingPromise(this.validate().then(()=>(this._isValid=!0,(0,dr.N1)(()=>this.ready)))),this.basemapView=new yl({view:this}),this.layerViewManager=new aU({view:this,layerViewImporter:{importLayerView:p=>this.importLayerView(p),hasLayerViewModule:p=>this.hasLayerViewModule(p)},supportsGround:this.supportsGround}),this.toolViewManager=new mU({view:this}),this._setupSpatialReferenceLogger(),this.handles.add([(0,dr.YP)(()=>this.initialExtentRequired,p=>this.defaultsFromMap.required=Bn(Ct({},this.defaultsFromMap.required),{extent:p}),{sync:!0,initial:!0}),(0,dr.YP)(()=>this.ready,p=>{this.defaultsFromMap&&(this.defaultsFromMap.suspended=p,this.defaultsFromMap.userSpatialReference=p?this.spatialReference:this._userSpatialReference)},{sync:!0}),(0,dr.YP)(()=>this._userSpatialReference,p=>{this.defaultsFromMap&&(this.defaultsFromMap.userSpatialReference=p)},{sync:!0,initial:!0})])}_setupSpatialReferenceLogger(){var p=this;let g=null;this.handles.add([(0,dr.YP)(()=>{var v;return null==(v=this.defaultsFromMap)?void 0:v.ready},v=>{var b;const C=(null==(b=this.map)?void 0:b.allLayers.length)>0;if(v&&!this.spatialReference&&C){if((0,nn.pC)(g))return;const D=(0,QS.kB)(()=>g=(0,nn.IM)(g));g=(0,Er.vr)(function(){var P=(0,Un.Z)(function*(V){try{yield(0,Er.e4)(p.spatialReferenceWarningDelay,null,V)}catch(ae){return}finally{g=null}lf.warn("#spatialReference","no spatial reference could be derived from the currently added map layers")});return function(V){return P.apply(this,arguments)}}()),this.handles.add(D,"spatial-reference-logger-task")}else this.handles.remove("spatial-reference-logger-task")},{sync:!0})])}destroy(){if(this.destroyed)return;this.viewEvents.destroy(),this.allLayerViews.destroy(),this.navigation&&(this.navigation.destroy(),this._set("navigation",null)),this.graphics=(0,nn.SC)(this.graphics),this.analyses=(0,nn.SC)(this.analyses),this.handles.remove("defaultsFromMap"),this.defaultsFromMap.destroy(),this._set("defaultsFromMap",null),this.toolViewManager=(0,nn.SC)(this.toolViewManager),this.layerViewManager=(0,nn.SC)(this.layerViewManager),this.basemapView=(0,nn.SC)(this.basemapView),this.invalidate(),this._emitter.clear(),this.handles.removeAll();const p=this.map;this.map=null,null==p||p.destroy()}_startup(){this._set("ready",!0)}_teardown(){this._set("ready",!1)}whenReady(){return Promise.resolve(this)}toMap(){return lf.error("#toMap()","Not implemented on this instance of View"),null}get _defaultsFromMapSettings(){return{}}get defaultsFromMap(){return new SU(Ct({required:{tileInfo:!1,heightModelInfo:!1,extent:!1},map:()=>this.map,getSpatialReferenceSupport:p=>this.getSpatialReferenceSupport(p)},this._defaultsFromMapSettings))}get heightModelInfo(){return this.getDefaultHeightModelInfo()}get interacting(){return this.navigating}get preconditionsReady(){var p;return!(this.fatalError||!this._isValid||this._readyCycleForced||!this.map||Pd.Z.isLoadable(this.map)&&!this.map.loaded||0===this.width||0===this.height||!this.spatialReference||!this._validateSpatialReference(this.spatialReference)||!(this._currentSpatialReference||null!=(p=this.defaultsFromMap)&&p.ready)||!this.typeSpecificPreconditionsReady)}set map(p){var g;p!==this._get("map")&&(null!=(g=p)&&g.destroyed&&(lf.warn("#map","The provided map is already destroyed",{map:p}),p=null),Pd.Z.isLoadable(p)&&p.load().catch(()=>{}),this.initialized&&(this.forceReadyCycle(),this._currentSpatialReference=null),this._set("map",p))}get spatialReference(){var p,g;let v=this._userSpatialReference||this._currentSpatialReference||this.getDefaultSpatialReference()||null;return v&&null!=(p=this.defaultsFromMap)&&null!=(g=p.required)&&g.heightModelInfo&&(v=v.clone(),v.vcsWkid=this.defaultsFromMap.vcsWkid,v.latestVcsWkid=this.defaultsFromMap.latestVcsWkid),v}set spatialReference(p){const g=!(0,Tp.fS)(p,this._get("spatialReference"));this._set("_userSpatialReference",p),g&&(this._set("spatialReference",p),this._spatialReferenceChanged(p))}_spatialReferenceChanged(p){}get stationary(){return!this.animation&&!this.navigating&&!this.resizing}get initialExtent(){var p;return null==(p=this.defaultsFromMap)?void 0:p.extent}get cursor(){const p=this.toolViewManager?this.toolViewManager.cursor:null;return(0,nn.pC)(p)?p:this._cursor||"default"}set cursor(p){this._cursor=p,this.notifyChange("cursor")}get size(){return[this.width,this.height]}whenLayerView(p){return this.layerViewManager.whenLayerView(p)}getDefaultSpatialReference(){var p;return null==(p=this.defaultsFromMap)?void 0:p.spatialReference}getDefaultHeightModelInfo(){var p,g,v;return null!=(p=null!=(g=this.map&&"heightModelInfo"in this.map?this.map.heightModelInfo:void 0)?g:null==(v=this.defaultsFromMap)?void 0:v.heightModelInfo)?p:null}importLayerView(p){throw new Rn.Z("importLayerView() not implemented")}hasLayerViewModule(p){return!1}validate(){return(0,Un.Z)(function*(){})()}invalidate(){this._isValid=!1}getSpatialReferenceSupport(){return{}}_validateSpatialReference(p){return(0,nn.pC)(this.getSpatialReferenceSupport({spatialReference:p}))}when(p,g){return this.isResolved()&&!this.ready&&lf.warn("#when()","Calling view.when() while the view is no longer ready but was already resolved once will resolve immediately. Use reactiveUtils.whenOnce(() => view.ready).then(...) instead."),super.when(p,g)}forceReadyCycle(){this.ready&&((0,dr.gx)(()=>!1===this.preconditionsReady,()=>this._readyCycleForced=!1,{once:!0}),this._readyCycleForced=!0)}addAndActivateTool(p){this.toolViewManager.tools.add(p),this.activeTool=p}tryFatalErrorRecovery(){this.fatalError=null}};or.views=new ds.Z,(0,ye._)([(0,Oe.Cb)()],or.prototype,"_userSpatialReference",void 0),(0,ye._)([(0,Nn.B)("toolViewManager.activeTool")],or.prototype,"activeTool",void 0),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],or.prototype,"allLayerViews",void 0),(0,ye._)([(0,Oe.Cb)()],or.prototype,"groundView",void 0),(0,ye._)([(0,Oe.Cb)()],or.prototype,"animation",void 0),(0,ye._)([(0,Oe.Cb)()],or.prototype,"basemapView",void 0),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],or.prototype,"_defaultsFromMapSettings",null),(0,ye._)([(0,Oe.Cb)()],or.prototype,"defaultsFromMap",null),(0,ye._)([(0,Oe.Cb)()],or.prototype,"fatalError",void 0),(0,ye._)([(0,Oe.Cb)({type:fa.Z})],or.prototype,"extent",void 0),(0,ye._)([(0,Oe.Cb)((0,r_.z)(XS.J,"graphics"))],or.prototype,"graphics",void 0),(0,ye._)([(0,Oe.Cb)((0,r_.z)(ef,"analyses"))],or.prototype,"analyses",void 0),(0,ye._)([(0,Oe.Cb)({readOnly:!0,type:s_.Z})],or.prototype,"heightModelInfo",null),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],or.prototype,"interacting",null),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],or.prototype,"navigating",void 0),(0,ye._)([(0,Oe.Cb)({readOnly:!0,dependsOn:["fatalError","_isValid","_readyCycleForced","map","map.loaded?","width","height","spatialReference","_currentSpatialReference","defaultsFromMap.ready","typeSpecificPreconditionsReady"]})],or.prototype,"preconditionsReady",null),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],or.prototype,"typeSpecificPreconditionsReady",void 0),(0,ye._)([(0,Oe.Cb)({type:ds.Z,readOnly:!0})],or.prototype,"layerViews",void 0),(0,ye._)([(0,Oe.Cb)({type:qS})],or.prototype,"magnifier",void 0),(0,ye._)([(0,Oe.Cb)({value:null,type:gD})],or.prototype,"map",null),(0,ye._)([(0,Oe.Cb)()],or.prototype,"padding",void 0),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],or.prototype,"ready",void 0),(0,ye._)([(0,Oe.Cb)({type:Ni.Z})],or.prototype,"spatialReference",null),(0,ye._)([(0,Oe.Cb)()],or.prototype,"spatialReferenceWarningDelay",void 0),(0,ye._)([(0,Oe.Cb)()],or.prototype,"stationary",null),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],or.prototype,"supportsGround",void 0),(0,ye._)([(0,Oe.Cb)({type:sc.Z})],or.prototype,"timeExtent",void 0),(0,ye._)([(0,Nn.B)("toolViewManager.tools")],or.prototype,"tools",void 0),(0,ye._)([(0,Oe.Cb)()],or.prototype,"toolViewManager",void 0),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],or.prototype,"type",void 0),(0,ye._)([(0,Oe.Cb)({type:Number})],or.prototype,"scale",void 0),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],or.prototype,"updating",void 0),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],or.prototype,"initialExtentRequired",void 0),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],or.prototype,"initialExtent",null),(0,ye._)([(0,Oe.Cb)()],or.prototype,"cursor",null),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],or.prototype,"input",void 0),(0,ye._)([(0,Oe.Cb)({type:mO,nonNullable:!0})],or.prototype,"navigation",void 0),(0,ye._)([(0,Oe.Cb)()],or.prototype,"layerViewManager",void 0),(0,ye._)([(0,Oe.Cb)()],or.prototype,"analysisViewManager",void 0),(0,ye._)([(0,Oe.Cb)()],or.prototype,"width",void 0),(0,ye._)([(0,Oe.Cb)()],or.prototype,"height",void 0),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],or.prototype,"resizing",void 0),(0,ye._)([(0,Oe.Cb)({value:null,readOnly:!0})],or.prototype,"size",null),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],or.prototype,"suspended",void 0),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],or.prototype,"viewEvents",void 0),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],or.prototype,"persistableViewModels",void 0),(0,ye._)([(0,Oe.Cb)()],or.prototype,"_isValid",void 0),(0,ye._)([(0,Oe.Cb)()],or.prototype,"_readyCycleForced",void 0),(0,ye._)([(0,Oe.Cb)()],or.prototype,"_currentSpatialReference",void 0),or=af=(0,ye._)([(0,bn.j)("esri.views.View")],or);const OU=or;let _l=class extends By.D{constructor(p){super(p),this.state="running",this.target=null}initialize(){this.addResolvingPromise(new Promise((p,g)=>this._dfd={resolve:p,reject:g}))}get done(){return"finished"===this.state||"stopped"===this.state}stop(){"stopped"!==this.state&&"finished"!==this.state&&(this._set("state","stopped"),this._dfd.reject(new Rn.Z("ViewAnimation stopped")))}finish(){"stopped"!==this.state&&"finished"!==this.state&&(this._set("state","finished"),this._dfd.resolve())}update(p,g){g||(g=(0,Er.y8)(p)?"waiting-for-target":"running"),this._set("target",p),this._set("state",g)}};(0,ye._)([(0,Oe.Cb)({readOnly:!0})],_l.prototype,"done",null),(0,ye._)([(0,Oe.Cb)({readOnly:!0,type:String})],_l.prototype,"state",void 0),(0,ye._)([(0,Oe.Cb)()],_l.prototype,"target",void 0),_l=(0,ye._)([(0,bn.j)("esri.views.ViewAnimation")],_l),function(p){p.State={RUNNING:"running",STOPPED:"stopped",FINISHED:"finished",WAITING_FOR_TARGET:"waiting-for-target"}}(_l||(_l={}));const h_=_l;var uf=E(78041),Is=E(24926);class wU{constructor(g,v,b,C){const D=g.targetGeometry,P=v.targetGeometry;C?"string"==typeof C&&(C=(0,uf.Qc)(C)||uf.LI.ease):C=uf.LI.ease,this.easing=C,this.duration=b,this.sCenterX=D.x,this.sCenterY=D.y,this.sScale=g.scale,this.sRotation=g.rotation,this.tCenterX=P.x,this.tCenterY=P.y,this.tScale=v.scale,this.tRotation=v.rotation,this.dCenterX=this.tCenterX-this.sCenterX,this.dCenterY=this.tCenterY-this.sCenterY,this.dScale=this.tScale-this.sScale,this.dRotation=this.tRotation-this.sRotation,this.dRotation>180?this.dRotation-=360:this.dRotation<-180&&(this.dRotation+=360)}applyRatio(g,v){const b=this.easing(v);let C,D,P,V;v>=1?(C=this.tCenterX,D=this.tCenterY,P=this.tRotation,V=this.tScale):(C=this.sCenterX+b*this.dCenterX,D=this.sCenterY+b*this.dCenterY,P=this.sRotation+b*this.dRotation,V=this.sScale+b*this.dScale),g.targetGeometry.x=C,g.targetGeometry.y=D,g.scale=V,g.rotation=P}}let Va=class extends Ur.Z{constructor(p){super(p),this.duration=200,this.transition=null,this.easing=uf.LI.ease,this.view=null,this.viewpoint=null,this.viewpoint=new Fi.Z({targetGeometry:new hs.Z,scale:0,rotation:0}),this._updateTask=(0,zl.A)({postRender:this._postRender.bind(this)}),this._updateTask.pause()}destroy(){this._updateTask.remove(),this._updateTask=null}animate(p,g,v){this.stop(),(0,Is.JG)(this.viewpoint,g),this.transition=new wU(this.viewpoint,p.target,v&&v.duration||this.duration,v&&v.easing||this.easing);const C=()=>{this.animation===p&&this._updateTask&&("finished"===p.state&&(this.transition.applyRatio(this.viewpoint,1),this.view.state&&(this.view.state.viewpoint=this.viewpoint.clone())),this.animation=null,this.updateFunction=null)};return p.when(C,C),this._startTime=performance.now(),this._updateTask.resume(),this.animation=p,p}animateContinous(p,g){this.stop(),this.updateFunction=g,this.viewpoint=p;const v=new h_({target:p.clone()}),b=()=>{this.animation===v&&this._updateTask&&(this.animation=null,this.updateFunction=null)};return v.when(b,b),this._startTime=performance.now(),this._updateTask.resume(),this.animation=v,v}stop(){this.animation&&(this.animation.stop(),this.animation=null,this.updateFunction=null)}_postRender(p){const g=this.animation;if(g&&g.state!==h_.State.STOPPED){if(this.updateFunction)this.updateFunction(this.viewpoint,p.deltaTime);else{const v=(performance.now()-this._startTime)/this.transition.duration,b=v>=1;this.transition.applyRatio(this.viewpoint,v),b&&this.animation.finish()}this.view.state&&(this.view.state.viewpoint=this.viewpoint.clone())}else this._updateTask.pause()}};(0,ye._)([(0,Oe.Cb)()],Va.prototype,"animation",void 0),(0,ye._)([(0,Oe.Cb)()],Va.prototype,"duration",void 0),(0,ye._)([(0,Oe.Cb)()],Va.prototype,"transition",void 0),(0,ye._)([(0,Oe.Cb)()],Va.prototype,"easing",void 0),(0,ye._)([(0,Oe.Cb)()],Va.prototype,"view",void 0),(0,ye._)([(0,Oe.Cb)()],Va.prototype,"viewpoint",void 0),Va=(0,ye._)([(0,bn.j)("esri.views.2d.AnimationManager")],Va);const PU=Va;class IU{constructor(g){this.view=g,this._frameTaskHandle=null,this._updateRequested=!1,this.stationary=!0,this.animationInProgress=!1,this.prepare=()=>{this._updateParameters.state=this.view.state,this._updateParameters.stationary=this.view.stationary,this._updateParameters.pixelRatio=window.devicePixelRatio,this._updateParameters.renderingOptions=this.view.renderingOptions},this.update=()=>{this._updateRequested=!1;const{basemapView:v,graphicsView:b,labelManager:C,layerViews:D,state:{id:P}}=this.view;v.baseLayerViews.forEach(this._updateLayerView,this),D.forEach(this._updateLayerView,this),v.referenceLayerViews.forEach(this._updateLayerView,this),(0,nn.pC)(C)&&(C.lastUpdateId!==P&&(C.viewChange(),C.lastUpdateId=P),C.updateRequested&&C.processUpdate(this._updateParameters)),(0,nn.pC)(b)&&(b.lastUpdateId!==P&&(b.viewChange(),b.lastUpdateId=P),b.updateRequested&&b.processUpdate(this._updateParameters)),this.view.graphicsTileStore.setViewState(this._updateParameters.state),this.animationInProgress||this._updateRequested||this._frameTaskHandle.pause()}}destroy(){this.stop()}start(){this._frameTaskHandle||(this.stationary=this.view.stationary,this._updateParameters={state:this.view.state,pixelRatio:window.devicePixelRatio,stationary:this.stationary,renderingOptions:this.view.renderingOptions},this._stationaryHandle=this.view.watch("stationary",g=>{this.stationary=g,this.requestFrame()}),this._frameTaskHandle=(0,zl.A)(this),this.requestUpdate())}stop(){this._frameTaskHandle&&(this._updateRequested=!1,this._stationaryHandle.remove(),this._frameTaskHandle.remove(),this._updateParameters=this._stationaryHandle=this._frameTaskHandle=null,this.stationary=!0,this.animationInProgress=!1)}requestUpdate(){this._updateRequested||(this._updateRequested=!0,this.requestFrame())}requestFrame(){this._frameTaskHandle&&this._frameTaskHandle.resume()}_updateLayerView(g){const v=this.view.state,b=g.lastUpdateId;null!=b&&(this.stationary||g.moving)||(g.moving=!0,g.moveStart()),b!==v.id&&g.viewChange(),this.stationary&&g.moving&&(g.moving=!1,g.moveEnd()),g.lastUpdateId=v.id,g.updateRequested&&g.processUpdate(this._updateParameters),"layerViews"in g&&g.layerViews.forEach(this._updateLayerView,this)}}function ei(){return Promise.all([Promise.all([E.e(5086),E.e(5314),E.e(5506),E.e(8592),E.e(4376)]).then(E.bind(E,34376)),Promise.all([E.e(5086),E.e(7692),E.e(3755),E.e(5314),E.e(5024),E.e(5506),E.e(4821),E.e(4589),E.e(3751),E.e(5909),E.e(4175),E.e(2408),E.e(4522),E.e(1619),E.e(9091),E.e(4056),E.e(8773),E.e(8592),E.e(2339)]).then(E.bind(E,2339))])}const Jd=()=>ei().then(()=>Promise.all([E.e(5086),E.e(7692),E.e(3755),E.e(5314),E.e(5024),E.e(5506),E.e(4821),E.e(4589),E.e(9516),E.e(8592),E.e(5391)]).then(E.bind(E,55391))),cf=()=>ei().then(()=>Promise.all([E.e(5086),E.e(3755),E.e(5024),E.e(3751),E.e(5909),E.e(4175),E.e(2408),E.e(1607)]).then(E.bind(E,68915))),CO={"base-dynamic":()=>ei().then(()=>Promise.all([E.e(5086),E.e(7692),E.e(3755),E.e(5314),E.e(5024),E.e(5506),E.e(4821),E.e(4589),E.e(5207),E.e(4126)]).then(E.bind(E,54126))),"base-tile":Jd,"bing-maps":Jd,csv:cf,"geo-rss":()=>ei().then(()=>Promise.all([E.e(5086),E.e(7692),E.e(3755),E.e(5314),E.e(5024),E.e(5506),E.e(4821),E.e(4589),E.e(3751),E.e(5909),E.e(4175),E.e(2408),E.e(4522),E.e(1619),E.e(9091),E.e(4056),E.e(8773),E.e(8592),E.e(5072)]).then(E.bind(E,5072))),feature:cf,geojson:cf,graphics:()=>ei().then(()=>Promise.all([E.e(5086),E.e(7692),E.e(3755),E.e(5314),E.e(5024),E.e(5506),E.e(4821),E.e(4589),E.e(3751),E.e(5909),E.e(4175),E.e(2408),E.e(4522),E.e(1619),E.e(9091),E.e(4056),E.e(8773),E.e(8592),E.e(3375)]).then(E.bind(E,63375))),group:()=>ei().then(()=>Promise.all([E.e(5086),E.e(7692),E.e(3755),E.e(5314),E.e(5024),E.e(5506),E.e(4821),E.e(4589),E.e(408)]).then(E.bind(E,60408))),imagery:()=>ei().then(()=>Promise.all([E.e(5086),E.e(7692),E.e(3755),E.e(5314),E.e(5024),E.e(5506),E.e(4821),E.e(4589),E.e(3751),E.e(5909),E.e(4175),E.e(2408),E.e(4522),E.e(1619),E.e(9091),E.e(4056),E.e(8773),E.e(6926),E.e(5207),E.e(8594),E.e(4127),E.e(8592),E.e(3825)]).then(E.bind(E,53825))),"imagery-tile":()=>ei().then(()=>Promise.all([E.e(5086),E.e(7692),E.e(3755),E.e(5314),E.e(5024),E.e(5506),E.e(4821),E.e(4589),E.e(6926),E.e(8594),E.e(4127),E.e(8592),E.e(1795)]).then(E.bind(E,51795))),kml:()=>ei().then(()=>Promise.all([E.e(5086),E.e(7692),E.e(3755),E.e(5314),E.e(5024),E.e(5506),E.e(4821),E.e(4589),E.e(3751),E.e(5909),E.e(4175),E.e(2408),E.e(4522),E.e(1619),E.e(9091),E.e(4056),E.e(8773),E.e(8592),E.e(5868)]).then(E.bind(E,85868))),"map-image":()=>ei().then(()=>Promise.all([E.e(5086),E.e(7692),E.e(3755),E.e(5314),E.e(5024),E.e(5506),E.e(4821),E.e(4589),E.e(3751),E.e(5909),E.e(4175),E.e(2408),E.e(4522),E.e(1619),E.e(9091),E.e(4056),E.e(8773),E.e(5207),E.e(8592),E.e(7618)]).then(E.bind(E,69772))),"map-notes":()=>ei().then(()=>Promise.all([E.e(5086),E.e(7692),E.e(3755),E.e(5314),E.e(5024),E.e(5506),E.e(4821),E.e(4589),E.e(3751),E.e(5909),E.e(4175),E.e(2408),E.e(4522),E.e(1619),E.e(9091),E.e(4056),E.e(8773),E.e(8592),E.e(6899)]).then(E.bind(E,36899))),"ogc-feature":()=>ei().then(()=>Promise.all([E.e(5086),E.e(3755),E.e(5024),E.e(3751),E.e(5909),E.e(4175),E.e(2408),E.e(1607),E.e(6829)]).then(E.bind(E,96829))),"open-street-map":Jd,route:()=>ei().then(()=>Promise.all([E.e(5086),E.e(7692),E.e(3755),E.e(5314),E.e(5024),E.e(5506),E.e(4821),E.e(4589),E.e(3751),E.e(5909),E.e(4175),E.e(2408),E.e(4522),E.e(1619),E.e(9091),E.e(4056),E.e(8773),E.e(8592),E.e(9066)]).then(E.bind(E,9066))),stream:()=>ei().then(()=>Promise.all([E.e(5086),E.e(3755),E.e(5024),E.e(3751),E.e(5909),E.e(4175),E.e(2408),E.e(1607),E.e(9051)]).then(E.bind(E,39051))),"subtype-group":()=>ei().then(()=>Promise.all([E.e(5086),E.e(3755),E.e(5024),E.e(3751),E.e(5909),E.e(4175),E.e(2408),E.e(1607),E.e(5876)]).then(E.bind(E,65876))),tile:Jd,"vector-tile":()=>ei().then(()=>Promise.all([E.e(5086),E.e(7692),E.e(3755),E.e(5314),E.e(5024),E.e(5506),E.e(4821),E.e(4589),E.e(3751),E.e(5909),E.e(8364),E.e(2039)]).then(E.bind(E,1651))),wcs:()=>ei().then(()=>Promise.all([E.e(5086),E.e(7692),E.e(3755),E.e(5314),E.e(5024),E.e(5506),E.e(4821),E.e(4589),E.e(6926),E.e(8594),E.e(4127),E.e(8592),E.e(1795)]).then(E.bind(E,51795))),"web-tile":Jd,wfs:cf,wms:()=>ei().then(()=>Promise.all([E.e(5086),E.e(7692),E.e(3755),E.e(5314),E.e(5024),E.e(5506),E.e(4821),E.e(4589),E.e(5207),E.e(8592),E.e(6053)]).then(E.bind(E,6053))),wmts:()=>ei().then(()=>Promise.all([E.e(5086),E.e(7692),E.e(3755),E.e(5314),E.e(5024),E.e(5506),E.e(4821),E.e(4589),E.e(9516),E.e(9300)]).then(E.bind(E,49300))),analysis:null,"base-elevation":null,"building-scene":null,elevation:null,"integrated-mesh":null,"point-cloud":null,voxel:null,scene:null,unknown:null,unsupported:null};var f_,xU=E(72258),p_=E(33190),So=E(67831),AU=E(25748);const LU=ns.Z.getLogger("esri.views.MapView");let tu=f_=class extends Ur.Z{constructor(p){super(p),this.geometry=null,this.spatialReference=null}get normalizedGeometry(){if((0,nn.Wi)(this.geometry)||!this.spatialReference)return null;if(!this.spatialReference.equals(this.geometry.spatialReference))try{return(0,ga.iV)(this.geometry,this.spatialReference)}catch(p){return LU.error("#constraints.geometry","could not project the geometry to the view's spatial reference",{geometry:this.geometry,spatialReference:this.spatialReference,error:p}),null}return this.geometry}constrain(p,g){if((0,nn.Wi)(this.normalizedGeometry))return p;const v=p.targetGeometry;if("extent"===this.normalizedGeometry.type?(0,p_.aV)(this.normalizedGeometry,v):(0,p_.CI)(this.normalizedGeometry,v))return p;const{coordinate:b}=function RU(p,g){const{spatialReference:v}=g,b=[g.x,g.y];let C=Number.POSITIVE_INFINITY,D=0,P=0;const V=[0,0],ae="extent"===p.type?[[[p.xmin,p.ymin],[p.xmin,p.ymax],[p.xmax,p.ymax],[p.xmax,p.ymin],[p.xmin,p.ymin]]]:p.rings;for(const be of ae)for(let Pe=0;Pe<be.length-1;Pe++){(0,AU.Tx)(V,b,be,Pe);const Fe=(0,So.b)(b,V);Fe<C&&(C=Fe,D=V[0],P=V[1])}return{coordinate:new hs.Z({x:D,y:P,spatialReference:v}),distance:C}}(this.normalizedGeometry,v);return b&&(p.targetGeometry=b),p}clone(){var p,g;return new f_({geometry:null==(p=this.geometry)?void 0:p.clone(),spatialReference:null==(g=this.spatialReference)?void 0:g.clone()})}};var m_;(0,ye._)([(0,Oe.Cb)({constructOnly:!0})],tu.prototype,"geometry",void 0),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],tu.prototype,"normalizedGeometry",null),(0,ye._)([(0,Oe.Cb)({constructOnly:!0})],tu.prototype,"spatialReference",void 0),tu=f_=(0,ye._)([(0,bn.j)("esri.views.2d.constraints.GeometryConstraint")],tu);let Yd=m_=class extends Ur.Z{constructor(){super(...arguments),this.enabled=!0,this.rotationEnabled=!0}constrain(p,g){return this.enabled&&g&&(this.rotationEnabled||(p.rotation=g.rotation)),p}clone(){return new m_({enabled:this.enabled,rotationEnabled:this.rotationEnabled})}};(0,ye._)([(0,Oe.Cb)()],Yd.prototype,"enabled",void 0),(0,ye._)([(0,Oe.Cb)()],Yd.prototype,"rotationEnabled",void 0),Yd=m_=(0,ye._)([(0,bn.j)("esri.views.2d.constraints.RotationConstraint")],Yd);const SO=Yd;var y_;let Xi=y_=class extends Ur.Z{constructor(p){super(p),this._lodByScale={},this._scales=[],this.effectiveLODs=null,this.effectiveMinZoom=-1,this.effectiveMaxZoom=-1,this.effectiveMinScale=0,this.effectiveMaxScale=0,this.lods=null,this.minZoom=-1,this.maxZoom=-1,this.minScale=0,this.maxScale=0,this.snapToZoom=!0}initialize(){let p,{lods:g,minScale:v,maxScale:b,minZoom:C,maxZoom:D}=this,P=-1,V=-1,ae=!1,be=!1;if(0!==v&&0!==b&&v<b&&([v,b]=[b,v]),!g||!g.length)return this._set("effectiveMinScale",v),void this._set("effectiveMaxScale",b);g=g.map(Pe=>Pe.clone()),g.sort((Pe,Fe)=>Fe.scale-Pe.scale),g.forEach((Pe,Fe)=>Pe.level=Fe);for(const Pe of g)!ae&&v>0&&v>=Pe.scale&&(P=Pe.level,ae=!0),!be&&b>0&&b>=Pe.scale&&(V=p?p.level:-1,be=!0),p=Pe;-1===C&&(C=0===v?0:P),-1===D&&(D=0===b?g.length-1:V),C=Math.max(C,0),C=Math.min(C,g.length-1),D=Math.max(D,0),D=Math.min(D,g.length-1),C>D&&([C,D]=[D,C]),v=g[C].scale,b=g[D].scale,g.splice(0,C),g.splice(D-C+1,g.length),g.forEach((Pe,Fe)=>{this._lodByScale[Pe.scale]=Pe,this._scales[Fe]=Pe.scale}),this._set("effectiveLODs",g),this._set("effectiveMinZoom",C),this._set("effectiveMaxZoom",D),this._set("effectiveMinScale",v),this._set("effectiveMaxScale",b)}constrain(p,g){if(g&&p.scale===g.scale)return p;const v=this.effectiveMinScale,b=this.effectiveMaxScale,C=p.targetGeometry,D=g&&g.targetGeometry,V=0!==v&&p.scale>v;if(0!==b&&p.scale<b||V){const ae=V?v:b;if(D){const be=(ae-g.scale)/(p.scale-g.scale);C.x=D.x+(C.x-D.x)*be,C.y=D.y+(C.y-D.y)*be}p.scale=ae}return this.snapToZoom&&this.effectiveLODs&&(p.scale=this._getClosestScale(p.scale)),p}fit(p){if(!this.effectiveLODs||!this.snapToZoom)return this.constrain(p,null);const g=this.scaleToZoom(p.scale),v=Math.abs(g-Math.floor(g));return p.scale=this.zoomToScale(v>.99?Math.round(g):Math.floor(g)),p}zoomToScale(p){if(!this.effectiveLODs)return 0;p-=this.effectiveMinZoom,p=Math.max(0,p);const g=this._scales;if(p<=0)return g[0];if(p>=g.length)return g[g.length-1];const v=Math.round(p-.5),b=Math.round(p);return g[b]+(b-p)*(g[v]-g[b])}scaleToZoom(p){if(!this.effectiveLODs)return-1;const g=this._scales;let v,b;if(p>=g[0])return this.effectiveMinZoom;if(p<=g[g.length-1])return this.effectiveMaxZoom;for(let C=0;C<g.length-1;C++){if(v=g[C],b=g[C+1],b===p)return C+this.effectiveMinZoom+1;if(v>p&&b<p)return C+this.effectiveMinZoom+1-(p-b)/(v-b)}}snapToClosestScale(p){if(!this.effectiveLODs)return p;const g=this.scaleToZoom(p);return this.zoomToScale(Math.round(g))}snapToNextScale(p,g=.5){if(!this.effectiveLODs)return p*g;const v=Math.round(this.scaleToZoom(p));return this.zoomToScale(v+1)}snapToPreviousScale(p,g=2){if(!this.effectiveLODs)return p*g;const v=Math.round(this.scaleToZoom(p));return this.zoomToScale(v-1)}clone(){return new y_({lods:this.lods,minZoom:this.minZoom,maxZoom:this.maxZoom,minScale:this.minScale,maxScale:this.maxScale})}_getClosestScale(p){return this._lodByScale[p]||(p=this._scales.reduce((g,v)=>Math.abs(v-p)<=Math.abs(g-p)?v:g,this._scales[0])),this._lodByScale[p].scale}};(0,ye._)([(0,Oe.Cb)({readOnly:!0})],Xi.prototype,"effectiveLODs",void 0),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],Xi.prototype,"effectiveMinZoom",void 0),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],Xi.prototype,"effectiveMaxZoom",void 0),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],Xi.prototype,"effectiveMinScale",void 0),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],Xi.prototype,"effectiveMaxScale",void 0),(0,ye._)([(0,Oe.Cb)()],Xi.prototype,"lods",void 0),(0,ye._)([(0,Oe.Cb)()],Xi.prototype,"minZoom",void 0),(0,ye._)([(0,Oe.Cb)()],Xi.prototype,"maxZoom",void 0),(0,ye._)([(0,Oe.Cb)()],Xi.prototype,"minScale",void 0),(0,ye._)([(0,Oe.Cb)()],Xi.prototype,"maxScale",void 0),(0,ye._)([(0,Oe.Cb)()],Xi.prototype,"snapToZoom",void 0),Xi=y_=(0,ye._)([(0,bn.j)("esri.views.2d.constraints.ZoomConstraint")],Xi);const OO=Xi;var g_=E(37118);const jU={base:null,key:"type",typeMap:{extent:fa.Z,polygon:g_.Z}};let Ts=class extends Ur.Z{constructor(p){super(p),this.lods=null,this.minScale=0,this.maxScale=0,this.minZoom=-1,this.maxZoom=-1,this.rotationEnabled=!0,this.snapToZoom=!0}destroy(){this.view=null,this._set("_zoom",null),this._set("_rotation",null),this._set("_geometry",null)}set geometry(p){this._set("geometry",p||null)}get version(){var p;return this.commitProperty("_zoom"),this.commitProperty("_rotation"),this.commitProperty("_geometry"),(null!=(p=this._get("version"))?p:0)+1}get _defaultLODs(){var p,g,v;const b=null==(p=this.view)||null==(g=p.defaultsFromMap)?void 0:g.tileInfo,C=null==(v=this.view)?void 0:v.spatialReference;return b&&C&&b.spatialReference.equals(C)?b.lods:null}get _geometry(){var p;return new tu({geometry:this.geometry,spatialReference:null==(p=this.view)?void 0:p.spatialReference})}get _rotation(){return new SO({rotationEnabled:this.rotationEnabled})}get _zoom(){const p=this._get("_zoom"),g=this.lods||this._defaultLODs,v=this.minZoom,b=this.maxZoom,C=this.minScale,D=this.maxScale,P=this.snapToZoom;return p&&p.lods===g&&p.minZoom===v&&p.maxZoom===b&&p.minScale===C&&p.maxScale===D&&p.snapToZoom===P?p:new OO({lods:g,minZoom:v,maxZoom:b,minScale:C,maxScale:D,snapToZoom:P})}canZoomInTo(p){const g=this.effectiveMaxScale;return 0===g||p>=g}canZoomOutTo(p){const g=this.effectiveMinScale;return 0===g||p<=g}constrain(p,g){return this._zoom.constrain(p,g),this._rotation.constrain(p,g),this._geometry.constrain(p,g),p}constrainByGeometry(p){return this._geometry.constrain(p)}fit(p){return this._zoom.fit(p)}zoomToScale(p){return this._zoom.zoomToScale(p)}scaleToZoom(p){return this._zoom.scaleToZoom(p)}snapScale(p){return this._zoom.snapToClosestScale(p)}snapToNextScale(p){return this._zoom.snapToNextScale(p)}snapToPreviousScale(p){return this._zoom.snapToPreviousScale(p)}};(0,ye._)([(0,Oe.Cb)({readOnly:!0,aliasOf:"_zoom.effectiveLODs"})],Ts.prototype,"effectiveLODs",void 0),(0,ye._)([(0,Oe.Cb)({readOnly:!0,aliasOf:"_zoom.effectiveMinScale"})],Ts.prototype,"effectiveMinScale",void 0),(0,ye._)([(0,Oe.Cb)({readOnly:!0,aliasOf:"_zoom.effectiveMaxScale"})],Ts.prototype,"effectiveMaxScale",void 0),(0,ye._)([(0,Oe.Cb)({readOnly:!0,aliasOf:"_zoom.effectiveMinZoom"})],Ts.prototype,"effectiveMinZoom",void 0),(0,ye._)([(0,Oe.Cb)({readOnly:!0,aliasOf:"_zoom.effectiveMaxZoom"})],Ts.prototype,"effectiveMaxZoom",void 0),(0,ye._)([(0,Oe.Cb)({types:jU,value:null})],Ts.prototype,"geometry",null),(0,ye._)([(0,Oe.Cb)({type:[xU.Z]})],Ts.prototype,"lods",void 0),(0,ye._)([(0,Oe.Cb)()],Ts.prototype,"minScale",void 0),(0,ye._)([(0,Oe.Cb)()],Ts.prototype,"maxScale",void 0),(0,ye._)([(0,Oe.Cb)()],Ts.prototype,"minZoom",void 0),(0,ye._)([(0,Oe.Cb)()],Ts.prototype,"maxZoom",void 0),(0,ye._)([(0,Oe.Cb)()],Ts.prototype,"rotationEnabled",void 0),(0,ye._)([(0,Oe.Cb)()],Ts.prototype,"snapToZoom",void 0),(0,ye._)([(0,Oe.Cb)()],Ts.prototype,"view",void 0),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],Ts.prototype,"version",null),(0,ye._)([(0,Oe.Cb)()],Ts.prototype,"_defaultLODs",null),(0,ye._)([(0,Oe.Cb)({type:tu})],Ts.prototype,"_geometry",null),(0,ye._)([(0,Oe.Cb)({type:SO})],Ts.prototype,"_rotation",null),(0,ye._)([(0,Oe.Cb)({readOnly:!0,type:OO})],Ts.prototype,"_zoom",null),Ts=(0,ye._)([(0,bn.j)("esri.views.2d.MapViewConstraints")],Ts);const wO=Ts;var b_,PO=E(99770),UU=E(39863),df=E(31478),FU=E(12225),__=E(46342),gc=E(30217),v_=E(49966),IO=E(9545);function E_(p){return function NU(p){return p instanceof Float32Array&&p.length>=2}(p)||function BU(p){return Array.isArray(p)&&p.length>=2}(p)}const Za=[0,0];let vl=b_=class extends Br.wq{constructor(p){super(p),this._viewpoint2D={center:(0,PO.a)(),rotation:0,scale:0,spatialReference:null},this.center=[0,0],this.extent=new fa.Z,this.id=0,this.inverseTransform=(0,__.c)(),this.resolution=0,this.rotation=0,this.scale=0,this.transform=(0,__.c)(),this.transformNoRotation=(0,__.c)(),this.displayMat3=(0,v_.c)(),this.displayViewMat3=(0,v_.c)(),this.viewMat3=(0,v_.c)(),this.viewMat2d=(0,FU.c)(),this.worldScreenWidth=0,this.size=[0,0]}set pixelRatio(p){this._set("pixelRatio",p),this._update()}set size(p){this._set("size",p),this._update()}set viewpoint(p){if(p){const g=this._viewpoint2D,v=p.targetGeometry;g.center[0]=v.x,g.center[1]=v.y,g.rotation=p.rotation,g.scale=p.scale,g.spatialReference=v.spatialReference}this._update()}copy(p){const g=this.size,v=this.viewpoint;return v&&g?(this.viewpoint=(0,Is.JG)(v,p.viewpoint),this._set("size",(0,So.c)(g,p.size))):(this.viewpoint=p.viewpoint.clone(),this._set("size",[p.size[0],p.size[1]])),this._set("pixelRatio",p.pixelRatio),this}clone(){return new b_({size:this.size,viewpoint:this.viewpoint.clone(),pixelRatio:this.pixelRatio})}toMap(p,g,v){return E_(g)?(0,So.t)(p,g,this.inverseTransform):(Za[0]=g,Za[1]=v,(0,So.t)(p,Za,this.inverseTransform))}toScreen(p,g,v){return E_(g)?(0,So.t)(p,g,this.transform):(Za[0]=g,Za[1]=v,(0,So.t)(p,Za,this.transform))}toScreenNoRotation(p,g,v){return E_(g)?(0,So.t)(p,g,this.transformNoRotation):(Za[0]=g,Za[1]=v,(0,So.t)(p,Za,this.transformNoRotation))}getScreenTransform(p,g){const{center:v}=this._viewpoint2D,b=this._get("pixelRatio")||1,C=this._get("size");return(0,Is.Rb)(p,v,C,g,0,b),p}_update(){const{center:p,spatialReference:g,scale:v,rotation:b}=this._viewpoint2D,C=this._get("pixelRatio")||1,D=this._get("size"),P=new Fi.Z({targetGeometry:new hs.Z(p[0],p[1],g),scale:v,rotation:b});if(this._set("viewpoint",P),!D||!g||!v)return;this.resolution=(0,Is.uG)(P),this.rotation=b,this.scale=v,this.spatialReference=g,(0,So.c)(this.center,p),(0,gc.s)(this.displayMat3,0!==D[0]?2/D[0]:0,0,0,0,0!==D[1]?-2/D[1]:0,0,-1,1,1);const be=(0,gc.b)(this.viewMat3),Pe=(0,IO.f)(D[0]/2,D[1]/2),Fe=(0,IO.f)(-D[0]/2,-D[1]/2),Xe=(0,UU.t)(b);(0,gc.c)(be,be,Pe),(0,gc.r)(be,be,Xe),(0,gc.c)(be,be,Fe),(0,gc.m)(this.displayViewMat3,this.displayMat3,be);const rt=(0,df.a)(this.viewMat2d,Pe);return(0,df.r)(rt,rt,Xe),(0,df.t)(rt,rt,Fe),(0,Is.bk)(this.extent,P,D),(0,Is.Ck)(this.transform,P,D,C),(0,df.i)(this.inverseTransform,this.transform),(0,Is.Jp)(this.transformNoRotation,P,D,C),this.worldScreenWidth=(0,Is.L2)(this.spatialReference,this.resolution),this._set("id",this.id+1),this}};(0,ye._)([(0,Oe.Cb)({readOnly:!0})],vl.prototype,"id",void 0),(0,ye._)([(0,Oe.Cb)({value:1,json:{write:!0}})],vl.prototype,"pixelRatio",null),(0,ye._)([(0,Oe.Cb)({json:{write:!0}})],vl.prototype,"size",null),(0,ye._)([(0,Oe.Cb)()],vl.prototype,"spatialReference",void 0),(0,ye._)([(0,Oe.Cb)({type:Fi.Z,json:{write:!0}})],vl.prototype,"viewpoint",null),vl=b_=(0,ye._)([(0,bn.j)("esri.views.2d.ViewState")],vl);const TO=vl;var M_,C_;let $a=M_=class extends Ur.Z{constructor(){super(...arguments),this.left=0,this.top=0,this.right=0,this.bottom=0}clone(){return new M_({left:this.left,top:this.top,right:this.right,bottom:this.bottom})}};(0,ye._)([(0,Oe.Cb)()],$a.prototype,"left",void 0),(0,ye._)([(0,Oe.Cb)()],$a.prototype,"top",void 0),(0,ye._)([(0,Oe.Cb)()],$a.prototype,"right",void 0),(0,ye._)([(0,Oe.Cb)()],$a.prototype,"bottom",void 0),$a=M_=(0,ye._)([(0,bn.j)("esri.views.2d.PaddedViewState.Padding")],$a);let _c=C_=class extends TO{constructor(...p){super(...p),this.paddedViewState=new TO,this._updateContent=(()=>{const g=(0,PO.a)();return()=>{const v=this._get("size"),b=this._get("padding");if(!v||!b)return;const C=this.paddedViewState;(0,So.s)(g,b.left+b.right,b.top+b.bottom),(0,So.f)(g,v,g),(0,So.c)(C.size,g);const D=C.viewpoint;D&&(this.viewpoint=D)}})(),this.watch(["size","padding"],this._updateContent,!0),this.padding=new $a,this.size=[0,0]}set padding(p){this._set("padding",p||new $a)}set viewpoint(p){if(p){const g=p.clone();this.paddedViewState.viewpoint=p,(0,Is.H4)(g,p,this._get("size"),this._get("padding"));const v=this._viewpoint2D,b=g.targetGeometry;v.center[0]=b.x,v.center[1]=b.y,v.rotation=g.rotation,v.scale=g.scale,v.spatialReference=b.spatialReference,this._update()}}clone(){return new C_({padding:this.padding.clone(),size:this.size.slice(),viewpoint:this.paddedViewState.viewpoint.clone(),pixelRatio:this.pixelRatio})}};(0,ye._)([(0,Oe.Cb)()],_c.prototype,"paddedViewState",void 0),(0,ye._)([(0,Oe.Cb)({type:$a})],_c.prototype,"padding",null),(0,ye._)([(0,Oe.Cb)()],_c.prototype,"viewpoint",null),_c=C_=(0,ye._)([(0,bn.j)("esri.views.2d.PaddedViewState")],_c);const WU=_c;E(17083);var VU=E(9598);function D_(p,g){switch(g){case"primary":return"touch"===p.pointerType||0===p.button;case"secondary":return"touch"!==p.pointerType&&2===p.button;case"tertiary":return"touch"!==p.pointerType&&1===p.button}}E(58098),E(8480),E(79527);class xO extends _i.a{constructor(g,v){super(!0),this.view=g,this.registerIncoming("double-click",v,b=>this._handleDoubleClick(b,v))}_handleDoubleClick(g,v){D_(g.data,"primary")&&(g.stopPropagation(),v?this.view.mapViewNavigation.zoomOut([g.data.x,g.data.y]):this.view.mapViewNavigation.zoomIn([g.data.x,g.data.y]))}}class ZU extends _i.a{constructor(g,v,b){super(!0),this.view=g,this.pointerType=v,this.registerIncoming("double-tap-drag",b,C=>this._handleDoubleTapDrag(C))}_handleDoubleTapDrag(g){const{data:v}=g,{pointerType:b}=v;if(b!==this.pointerType)return;g.stopPropagation();const{action:C,delta:D}=v,{view:P}=this,{mapViewNavigation:V}=P;switch(C){case"begin":{const{scale:ae}=P;this._startScale=ae,this._currentScale=ae,this._previousDelta=D,V.begin();break}case"update":{if(this._previousDelta.y===D.y)return;this._previousDelta=D;const be=this._startScale*1.015**D.y;V.setViewpointImmediate(be/this._currentScale),this._currentScale=be;break}case"end":{const{constraints:ae}=P,{effectiveLODs:be,snapToZoom:Pe}=ae;if(!Pe||!be)return void V.end();const Fe=ae.snapScale(this._currentScale),Xe=(D.y>0?Math.max(Fe,ae.snapToPreviousScale(this._startScale)):Math.min(Fe,ae.snapToNextScale(this._startScale)))/this._currentScale;V.zoom(Xe);break}}}}class hf{constructor(g){this.callbacks=g,this.currentCount=0,this.callbacks.condition||(this.callbacks.condition=()=>!0)}handle(g){const v=g.data,b=v.pointers.size;switch(v.action){case"start":this.currentCount=b,this._emitStart(g);break;case"added":this._emitEnd(this.previousEvent),this.currentCount=b,this._emitStart(g);break;case"update":this._emitUpdate(g);break;case"removed":this.startEvent&&this._emitEnd(this.previousEvent),this.currentCount=b,this._emitStart(g);break;case"end":this._emitEnd(g),this.currentCount=0}this.previousEvent=g}_emitStart(g){this.startEvent=g,this.callbacks.condition(this.currentCount,g)&&this.callbacks.start(this.currentCount,g,this.startEvent)}_emitUpdate(g){this.callbacks.condition(this.currentCount,g)&&this.callbacks.update(this.currentCount,g,this.startEvent)}_emitEnd(g){this.callbacks.condition(this.currentCount,g)&&this.callbacks.end(this.currentCount,g,this.startEvent),this.startEvent=null}}class $U extends _i.a{constructor(g,v,b){super(!0),this.view=g,this.pointerAction=v,this.registerIncoming("drag",b,C=>this._handleDrag(C)),this.registerIncoming("pointer-down",()=>this.stopMomentumNavigation())}onInstall(g){super.onInstall(g),this.dragEventSeparator=new hf({start:(v,b)=>{this.view.mapViewNavigation.pan.begin(this.view,b.data),b.stopPropagation()},update:(v,b)=>{this.view.mapViewNavigation.pan.update(this.view,b.data),b.stopPropagation()},end:(v,b)=>{this.view.mapViewNavigation.pan.end(this.view,b.data),b.stopPropagation()},condition:(v,b)=>1===v&&D_(b.data,this.pointerAction)})}_handleDrag(g){const v=this.view.mapViewNavigation;v.pinch.zoomMomentum||v.pinch.rotateMomentum?this.stopMomentumNavigation():this.dragEventSeparator.handle(g)}stopMomentumNavigation(){this.view.mapViewNavigation.pan.stopMomentumNavigation()}}class KU extends _i.a{constructor(g,v,b){super(!0),this.view=g,this.pointerAction=v;const C=this.view.mapViewNavigation;this.dragEventSeparator=new hf({start:(D,P)=>{C.rotate.begin(this.view,P.data),P.stopPropagation()},update:(D,P)=>{C.rotate.update(this.view,P.data),P.stopPropagation()},end:(D,P)=>{C.rotate.end(),P.stopPropagation()},condition:(D,P)=>1===D&&D_(P.data,this.pointerAction)}),this.registerIncoming("drag",b,D=>this.dragEventSeparator.handle(D))}}var zU=E(84161);function Go(p){let g=p*p;return p<0&&(g*=-1),g}class JU extends _i.a{constructor(g){super(!0),this.view=g,this.frameTask=null,this.watchHandles=new Co.Z,this.currentDevice=null,this.transformation={translation:[0,0,0],heading:0,tilt:0,zoom:0},this.handle=this.registerIncoming("gamepad",v=>this._handleGamePadEvent(v)),this.handle.pause()}onInstall(g){super.onInstall(g),this.watchHandles.add([(0,Jn.S1)(this.view.navigation.gamepad,"enabled",v=>{v?(this.handle.resume(),this.frameTask||(this.frameTask=(0,zl.A)({update:b=>this._frameUpdate(b.deltaTime)}))):(this.handle.pause(),this.frameTask&&(this.frameTask.remove(),this.frameTask=null))})])}onUninstall(){this.watchHandles.removeAll(),this.frameTask&&(this.frameTask.remove(),this.frameTask=null),super.onUninstall()}_handleGamePadEvent(g){const v=this.view.navigation.gamepad.device;v&&g.data.device!==v||this.currentDevice&&this.currentDevice!==g.data.device||("end"===g.data.action?(this.currentDevice=null,function GU(p){p.translation[0]=0,p.translation[1]=0,p.translation[2]=0,p.heading=0,p.tilt=0}(this.transformation)):(this.currentDevice=g.data.device,function kU(p,g,v){const b=v,C=p.state,D=p.device,P="forward-down"===g.tiltDirection?1:-1;"standard"===D.deviceType?(b.translation[0]=Go(C.axes[0]),b.translation[1]=Go(C.axes[1]),b.translation[2]=Go(C.buttons[7])-Go(C.buttons[6]),b.heading=Go(C.axes[2]),b.tilt=Go(C.axes[3])):"spacemouse"===D.deviceType&&(b.translation[0]=1.2*Go(C.axes[0]),b.translation[1]=1.2*Go(C.axes[1]),b.translation[2]=2*-Go(C.axes[2]),b.heading=1.2*Go(C.axes[5]),b.tilt=1.2*Go(C.axes[3])),b.tilt*=P,(0,zU.a)(b.translation,b.translation,1)}(g.data,this.view.navigation.gamepad,this.transformation)))}_frameUpdate(g){const v=this.transformation;if(function HU(p){return 0===p.translation[0]&&0===p.translation[1]&&0===p.translation[2]&&0===p.heading&&0===p.tilt&&0===p.zoom}(v))return;const b=this.view.viewpoint.clone(),D=QU*this.view.navigation.gamepad.velocityFactor*g;(0,Is.Rx)(b,b,[v.translation[0]*D,-v.translation[1]*D]);const ae=this.view.size;(0,Is.UZ)(b,b,1+v.translation[2]*XU*g,this.view.constraints.rotationEnabled?-v.heading*YU*g:0,[ae[0]/2,ae[1]],ae);const Pe=this.view.constraints.constrain(b,this.view.viewpoint);this.view.viewpoint=Pe}}const YU=.06,QU=.7,XU=6e-4;class qU extends _i.a{constructor(g,v,b){super(!0),this.view=g,this.keys=v,this._pressed=!1,this._keyMap={[v.left]:"left",[v.right]:"right",[v.up]:"up",[v.down]:"down"},this.registerIncoming("key-down",b,C=>this._handleKeyDown(C)),this.registerIncoming("key-up",b,C=>this._handleKeyUp(C)),this.registerIncoming("blur",b,()=>this._handleBlur())}_handleKeyDown(g){g.data.repeat||this._handleKey(g,!0)}_handleKeyUp(g){this._handleKey(g,!1)}_handleBlur(){this._pressed&&(this._pressed=!1,this.view.mapViewNavigation.stop())}_handleKey(g,v){const b=this._keyMap[g.data.key];if(this._pressed=null!=b,this._pressed){if(v)switch(this.view.mapViewNavigation.begin(),b){case"left":this.view.mapViewNavigation.continousPanLeft();break;case"right":this.view.mapViewNavigation.continousPanRight();break;case"up":this.view.mapViewNavigation.continousPanUp();break;case"down":this.view.mapViewNavigation.continousPanDown()}else this._pressed=!1,this.view.mapViewNavigation.stop();g.stopPropagation()}}}class e4 extends _i.a{constructor(g,v,b){super(!0),this.view=g,this.keys=v,this._pressed=!1,this._keyToDirection={[v.clockwiseOption1]:"clockwise",[v.clockwiseOption2]:"clockwise",[v.counterClockwiseOption1]:"counterClockwise",[v.counterClockwiseOption2]:"counterClockwise",[v.resetOption1]:"reset",[v.resetOption2]:"reset"},this.registerIncoming("key-down",b,C=>this._handleKeyDown(C)),this.registerIncoming("key-up",b,C=>this._handleKeyUp(C)),this.registerIncoming("blur",b,()=>this._handleBlur())}_handleKeyDown(g){g.data.repeat||this._handleKey(g,!0)}_handleKeyUp(g){this._handleKey(g,!1)}_handleBlur(){this._pressed&&(this._pressed=!1,this.view.mapViewNavigation.stop())}_handleKey(g,v){const b=g.modifiers;if(b.size>0&&!b.has("Shift")||!this.view.constraints.rotationEnabled)return;const C=this._keyToDirection[g.data.key];if(this._pressed=null!=C,this._pressed){if(v)switch(this.view.mapViewNavigation.begin(),C){case"clockwise":this.view.mapViewNavigation.continousRotateClockwise();break;case"counterClockwise":this.view.mapViewNavigation.continousRotateCounterclockwise();break;case"reset":this.view.mapViewNavigation.resetRotation()}else this._pressed=!1,this.view.mapViewNavigation.stop();g.stopPropagation()}}}var vc;!function(p){p[p.IN=0]="IN",p[p.OUT=1]="OUT"}(vc||(vc={}));class t4 extends _i.a{constructor(g,v,b){super(!0),this.view=g,this.keys=v,this._keysToZoomAction={},this.registerIncoming("key-down",b,C=>this._handleKeyDown(C)),v.zoomIn.forEach(C=>this._keysToZoomAction[C]=vc.IN),v.zoomOut.forEach(C=>this._keysToZoomAction[C]=vc.OUT)}_handleKeyDown(g){this._handleKey(g)}_handleKey(g){const v=g.modifiers;if(v.size>0&&!v.has("Shift"))return;const{key:b}=g.data;if(!(b in this._keysToZoomAction))return;const C=this._keysToZoomAction[b],{mapViewNavigation:D}=this.view;let P=null;switch(C){case vc.IN:P=D.zoomIn();break;case vc.OUT:P=D.zoomOut();break;default:return}D.begin(),P.then(()=>D.end()),g.stopPropagation()}}class r4 extends _i.a{constructor(g,v){super(!0),this.view=g,this._canZoom=!0,this.registerIncoming("mouse-wheel",v,b=>this._handleMouseWheel(b))}_handleMouseWheel(g){if(!this.view.navigation.mouseWheelZoomEnabled||(g.preventDefault(),g.stopPropagation(),!this._canZoom))return;const v=this.view.mapViewNavigation,{x:b,y:C,deltaY:D}=g.data,V=v.zoom(1/.6**(1/60*D),[b,C]);V&&(this._canZoom=!1,V.catch(()=>{}).then(()=>{this._canZoom=!0,v.end()}))}}class s4 extends _i.a{constructor(g){super(!0),this.view=g,this.registerIncoming("drag",b=>this._handleDrag(b)),this.registerIncoming("pointer-down",()=>this._stopMomentumNavigation());const v=this.view.mapViewNavigation;this.dragEventSeparator=new hf({start:(b,C)=>{v.pinch.begin(this.view,C.data),C.stopPropagation()},update:(b,C)=>{v.pinch.update(this.view,C.data),C.stopPropagation()},end:(b,C)=>{v.pinch.end(this.view),C.stopPropagation()},condition:b=>b>=2})}_handleDrag(g){this.dragEventSeparator.handle(g)}_stopMomentumNavigation(){this.view.mapViewNavigation.pinch.stopMomentumNavigation()}}var i4=E(25441);function AO(p){const g=p.native;return g?{buttons:g.buttons.map(v=>v.pressed?v.value?v.value:1:0),axes:g.axes.map(v=>function l4(p,g){const v=Math.abs(p);return v<g?0:Math.sign(p)*(v-g)/(1-g)}(v,p.axisThreshold))}:{buttons:[],axes:[]}}class u4{constructor(g,v){this.element=g,this.input=v,this._hasEventListeners=!1,this._onConnectGamepad=D=>{this._connectGamepad(D.gamepad)},this._onDisconnectGamepad=D=>{const P=D.gamepad,V=P.index,ae=this.inputDevices[V];ae&&(this._emitGamepadEvent(P,AO(ae),!1),this.inputDevices.splice(V,1),this.latestUpdate.splice(V,1),this.input.gamepad.devices.remove(ae),this.ensurePollingState())},this.frameTask=null,this.latestUpdate=new Array,this.inputDevices=new Array,this.callback=null;const b="getGamepads"in window.navigator,C=window.isSecureContext;this.supported=b&&C,this.supported&&(this._forEachGamepad(D=>this._connectGamepad(D)),window.addEventListener("gamepadconnected",this._onConnectGamepad),window.addEventListener("gamepaddisconnected",this._onDisconnectGamepad),this.ensurePollingState())}destroy(){this.hasEventListeners=!1,this.supported&&(window.removeEventListener("gamepadconnected",this._onConnectGamepad),window.removeEventListener("gamepaddisconnected",this._onDisconnectGamepad))}set hasEventListeners(g){this._hasEventListeners!==g&&(this._hasEventListeners=g,this.ensurePollingState())}get eventsEnabled(){return this.supported&&this.inputDevices.length>0&&this._hasEventListeners}set onEvent(g){this.callback=g}_connectGamepad(g){const v=new o_(g);"unknown"!==v.deviceType&&(this.inputDevices[g.index]=v,this.input.gamepad.devices.add(v)),this.ensurePollingState()}ensurePollingState(){this.eventsEnabled?this._startPolling():this._stopPolling()}_startPolling(){null==this.frameTask&&(this.frameTask=(0,zl.A)({update:()=>this._readGamepadState()}))}_stopPolling(){null!=this.frameTask&&(this.frameTask.remove(),this.frameTask=null,this.latestUpdate=new Array)}_readGamepadState(){const g=document.hasFocus(),v=this.element.contains(document.activeElement),b="document"===this.input.gamepad.enabledFocusMode&&!g||"view"===this.input.gamepad.enabledFocusMode&&!v;this._forEachGamepad(C=>{const D=this.inputDevices[C.index];if(!D)return;const P=this.latestUpdate[C.index],V=AO(D),ae=b||function a4(p){for(let g=0;g<p.axes.length;g++)if(0!==p.axes[g])return!1;for(let g=0;g<p.buttons.length;g++)if(0!==p.buttons[g])return!1;return!0}(V);P&&(P.timestamp===C.timestamp||!P.active&&ae||function o4(p,g){if(p.axes.length!==g.axes.length||p.buttons.length!==g.buttons.length)return!1;for(let v=0;v<p.axes.length;v++)if(p.axes[v]!==g.axes[v])return!1;for(let v=0;v<p.buttons.length;v++)if(p.buttons[v]!==g.buttons[v])return!1;return!0}(P.state,V))||this._emitGamepadEvent(C,V,!ae)})}_forEachGamepad(g){const v=window.navigator.getGamepads();for(let b=0;b<v.length;b++){const C=v[b];this._validate(C)&&g(C)}}_emitGamepadEvent(g,v,b){const C=this.latestUpdate[g.index],D=C&&C.active;if(!D&&!b)return;const P=!D&&b?"start":D&&b?"update":"end";this.latestUpdate[g.index]={timestamp:g.timestamp,state:v,active:b},this.callback&&this.callback({device:this.inputDevices[g.index],state:v,action:P})}_validate(g){if(!g||!g.connected)return!1;for(let v=0;v<g.axes.length;v++)if(isNaN(g.axes[v]))return!1;return!0}}const RO=(0,Wo.Z)("trident"),LO=(0,Wo.Z)("edge"),c4=(0,Wo.Z)("chrome"),d4=(0,Wo.Z)("ff"),h4=(0,Wo.Z)("safari"),Ec_touchNone="esri-view-surface--touch-none",Ec_touchPan="esri-view-surface--touch-pan";let p4=(()=>{class p{constructor(v,b){this.input=b,this._active={},this._activePointerCaptures=new Set,this._keyDownState=new Set,this._eventId=1,this._browserTouchPanningEnabled=!1,this._element=v,v.getAttribute("tabindex")||v.setAttribute("tabindex","0"),this._eventHandlers={"key-down":this._handleKey,"key-up":this._handleKey,"pointer-down":this._handlePointer,"pointer-move":this._handlePointerPreventDefault,"pointer-up":this._handlePointerPreventDefault,"pointer-enter":this._handlePointer,"pointer-leave":this._handlePointer,"pointer-cancel":this._handlePointer,"mouse-wheel":this._handleMouseWheel,"pointer-capture-lost":this._handlePointerCaptureLost},this._updateTouchAction(),this._element.addEventListener("keydown",this._preventAltKeyDefault),this._gamepadSource=new u4(v,this.input),this._gamepadSource.onEvent=C=>this._callback("gamepad",C)}destroy(){this._callback=null,this.activeEvents=null,this._activePointerCaptures.forEach(v=>{this._releasePointerCaptureSafe(v)}),this._gamepadSource&&(this._gamepadSource.destroy(),this._gamepadSource=null),this._activePointerCaptures=null,this._removeTouchAction(),this._element.removeEventListener("keydown",this._preventAltKeyDefault)}get browserTouchPanningEnabled(){return this._browserTouchPanningEnabled}set browserTouchPanningEnabled(v){this._browserTouchPanningEnabled=v,this._updateTouchAction(),this._updateTouchEventHandling()}set onEventReceived(v){this._callback=v}set activeEvents(v){for(const b in this._active)v&&v.has(b)||(this._element.removeEventListener(S_[b],this._active[b]),delete this._active[b]);v&&v.forEach(b=>{if(!this._active[b]&&S_[b]){const C=(this._eventHandlers[b]||this._handleDefault).bind(this,b);this._element.addEventListener(S_[b],C),this._active[b]=C}}),this._gamepadSource.hasEventListeners=v&&v.has("gamepad")}setPointerCapture(v,b){b?(this._element.setPointerCapture(v.pointerId),this._activePointerCaptures.add(v.pointerId)):(this._releasePointerCaptureSafe(v.pointerId),this._activePointerCaptures.delete(v.pointerId))}_updateTouchAction(){this._element.classList.remove(this._browserTouchPanningEnabled?Ec_touchNone:Ec_touchPan),this._element.classList.add(this._browserTouchPanningEnabled?Ec_touchPan:Ec_touchNone)}_updateTouchEventHandling(){this._browserTouchPanningEnabled?this._element.addEventListener("touchmove",this._preventMultiTouchPanning):this._element.removeEventListener("touchmove",this._preventMultiTouchPanning)}_removeTouchAction(){this._element.classList.remove(Ec_touchNone),this._element.classList.remove(Ec_touchPan),this._element.removeEventListener("touchmove",this._preventMultiTouchPanning)}_releasePointerCaptureSafe(v){try{if(this._element.hasPointerCapture&&!this._element.hasPointerCapture(v))return;this._element.releasePointerCapture(v)}catch(b){}}_updateNormalizedPointerLikeEvent(v,b){const C=aO(this._element,v);return p.test.disableSubpixelCoordinates&&(C.x=Math.round(C.x),C.y=Math.round(C.y)),b.x=C.x,b.y=C.y,b}_handleKey(v,b){const C=(0,i4.kK)(b);C&&"key-up"===v&&this._keyDownState.delete(C);const D={native:b,key:C,repeat:C&&this._keyDownState.has(C)};C&&"key-down"===v&&this._keyDownState.add(D.key),this._callback(v,D)}_handlePointer(v,b){const C=this._updateNormalizedPointerLikeEvent(b,{native:b,x:0,y:0,pointerType:b.pointerType,button:b.button,buttons:b.buttons,eventId:this._eventId++});this._callback(v,C)}_handlePointerPreventDefault(v,b){const C=this._updateNormalizedPointerLikeEvent(b,{native:b,x:0,y:0,pointerType:b.pointerType,button:b.button,buttons:b.buttons,eventId:this._eventId++});b.preventDefault(),this._callback(v,C)}_handleMouseWheel(v,b){let C=b.deltaY;switch(b.deltaMode){case 0:(RO||LO)&&(C=C/document.documentElement.clientHeight*600);break;case 1:C*=30;break;case 2:C*=900}RO||LO?C*=.7:c4||h4?C*=.6:d4&&(C*=1.375);const P=Math.abs(C);P>100&&(C=C/P*200/(1+Math.exp(-.02*(P-100))));const V=this._updateNormalizedPointerLikeEvent(b,{native:b,x:0,y:0,deltaY:C});this._callback(v,V)}_handlePointerCaptureLost(v,b){this._activePointerCaptures.delete(b.pointerId),this._handleDefault(v,b)}_handleDefault(v,b){const C={native:b};b.preventDefault(),this._callback(v,C)}_preventAltKeyDefault(v){"Alt"===v.key&&v.preventDefault()}_preventMultiTouchPanning(v){v.touches.length>1&&v.preventDefault()}}return p.test={disableSubpixelCoordinates:!1},p})();const S_={"key-down":"keydown","key-up":"keyup","pointer-down":"pointerdown","pointer-up":"pointerup","pointer-move":"pointermove","mouse-wheel":"wheel","pointer-capture-got":"gotpointercapture","pointer-capture-lost":"lostpointercapture","context-menu":"contextmenu","pointer-enter":"pointerenter","pointer-leave":"pointerleave","pointer-cancel":"pointercancel",focus:"focus",blur:"blur"};class f4 extends _i.a{constructor(){super(!0),this.registerIncoming("context-menu",g=>{g.data.native.preventDefault()})}}var pf=E(84244);function O_(p,g){return Math.abs(g.x-p.x)+Math.abs(g.y-p.y)}class g4 extends _i.a{constructor(g=250,v=10,b=350,C=35,D=pf.m){super(!1),this.maximumDoubleClickDelay=g,this.maximumDoubleClickDistance=v,this.maximumDoubleTouchDelay=b,this.maximumDoubleTouchDistance=C,this._clock=D,this._pointerState=new Map,this._click=this.registerOutgoing("click"),this._doubleClick=this.registerOutgoing("double-click"),this.registerIncoming("immediate-click",this._handleImmediateClick.bind(this)),this.registerIncoming("pointer-drag",this._handlePointerDrag.bind(this)),this.registerIncoming("drag",this._handleDrag.bind(this))}onUninstall(){this._pointerState.forEach(g=>g.doubleClickTimeout=(0,nn.hw)(g.doubleClickTimeout))}get hasPendingInputs(){return(0,tf.oE)(this._pointerState,g=>null!=g.doubleClickTimeout)}_pointerId(g){const v=g.native;return"mouse"===v.pointerType?`${v.pointerId}:${v.button}`:`${v.pointerType}`}_handleImmediateClick(g){const v=g.data,b=this._pointerId(v),C=this._pointerState.get(b);if(C){const D="touch"===v.native.pointerType?this.maximumDoubleTouchDistance:this.maximumDoubleClickDistance;O_(C.event.data,v)>D?(this._clearDoubleClickTimeout(b,!0),this._startClick(g)):(this._clearDoubleClickTimeout(b,!1),this._doubleClick.emit(C.event.data,void 0,C.event.modifiers))}else this._startClick(g)}_startClick(g){const v=this._pointerId(g.data);this._pointerState.set(v,{event:g,doubleClickTimeout:this._clock.setTimeout(()=>this._doubleClickTimeoutExceeded(v),"touch"===g.data.native.pointerType?this.maximumDoubleTouchDelay:this.maximumDoubleClickDelay)}),this.refreshHasPendingInputs()}_handlePointerDrag(g){const v=this._pointerId(g.data.currentEvent);this._clearDoubleClickTimeout(v,!0)}_handleDrag(g){const v=this._pointerId(g.data.pointer);this._clearDoubleClickTimeout(v,!0)}_clearDoubleClickTimeout(g,v){const b=this._pointerState.get(g);b&&(b.doubleClickTimeout.remove(),b.doubleClickTimeout=null,v&&this._doubleClickTimeoutExceeded(g),this._pointerState.delete(g),this.refreshHasPendingInputs())}_doubleClickTimeoutExceeded(g){const v=this._pointerState.get(g);this._click.emit(v.event.data,void 0,v.event.modifiers),v.doubleClickTimeout=null,this._pointerState.delete(g),this.refreshHasPendingInputs()}}class _4 extends _i.a{constructor(g=250,v=10,b=350,C=35,D=pf.m){super(!1),this.maximumDoubleClickDelay=g,this.maximumDoubleClickDistance=v,this.maximumDoubleTouchDelay=b,this.maximumDoubleTouchDistance=C,this._clock=D,this._doubleTapDragReady=!1,this._doubleTapDragActive=!1,this._dragStartCenter=(0,ii.vW)(0,0),this._pointerState=new Map,this._doubleTapDrag=this.registerOutgoing("double-tap-drag"),this._dragEventSeparator=new hf({start:(P,V)=>this._dragStart(P,V),update:(P,V)=>this._dragUpdate(V),end:(P,V)=>this._dragEnd(V)}),this.registerIncoming("drag",P=>this._dragEventSeparator.handle(P)),this.registerIncoming("pointer-down",P=>this._handlePointerDown(P)),this.registerIncoming("pointer-up",()=>this._handlePointerUp())}onUninstall(){this._pointerState.forEach(g=>{null!=g.doubleTapTimeout&&(g.doubleTapTimeout.remove(),g.doubleTapTimeout=null)})}get hasPendingInputs(){return(0,tf.oE)(this._pointerState,g=>null!=g.doubleTapTimeout)}_clearPointerDown(g){const v=this._pointerState.get(g);v&&(v.doubleTapTimeout.remove(),v.doubleTapTimeout=null,this._pointerState.delete(g),this.refreshHasPendingInputs())}_createDoubleTapDragData(g,v,b){const{button:C,buttons:D,pointer:P,pointers:V,pointerType:ae,timestamp:be}=b;return{action:g,delta:v,button:C,buttons:D,pointer:P,pointers:V,pointerType:ae,timestamp:be}}_dragStart(g,v){if(!this._doubleTapDragReady||1!==g)return;this._doubleTapDragReady=!1,this._doubleTapDragActive=!0;const{data:b,modifiers:C}=v,{center:D}=b;this._dragStartCenter=D;const P=this._createDoubleTapDragData("begin",(0,ii.vW)(0,0),b);this._doubleTapDrag.emit(P,void 0,C),v.stopPropagation()}_dragUpdate(g){if(!this._doubleTapDragActive)return;const{data:v,modifiers:b}=g,{center:C}=v,D=(0,ii.vW)(C.x-this._dragStartCenter.x,C.y-this._dragStartCenter.y),P=this._createDoubleTapDragData("update",D,v);this._doubleTapDrag.emit(P,void 0,b),g.stopPropagation()}_dragEnd(g){if(!this._doubleTapDragActive)return;const{data:v,modifiers:b}=g,{center:C}=v,D=(0,ii.vW)(C.x-this._dragStartCenter.x,C.y-this._dragStartCenter.y),P=this._createDoubleTapDragData("end",D,v);this._doubleTapDrag.emit(P,void 0,b),this._doubleTapDragActive=!1,g.stopPropagation()}_handlePointerDown(g){const{data:v}=g,b=this._pointerId(v),C=this._pointerState.get(b),{pointerType:D}=v.native;if(C){const P="touch"===D?this.maximumDoubleTouchDistance:this.maximumDoubleClickDistance;this._clearPointerDown(b),O_(C.event.data,v)>P?this._storePointerDown(g):this._doubleTapDragReady=!0}else this._storePointerDown(g)}_handlePointerUp(){this._doubleTapDragReady=!1}_pointerId(g){const{native:v}=g,{pointerId:b,button:C,pointerType:D}=v;return"mouse"===D?`${b}:${C}`:`${D}`}_storePointerDown(g){const{data:v}=g,{pointerType:b}=v.native,C=this._pointerId(v),P=this._clock.setTimeout(()=>this._clearPointerDown(C),"touch"===b?this.maximumDoubleTouchDelay:this.maximumDoubleClickDelay);this._pointerState.set(C,{event:g,doubleTapTimeout:P}),this.refreshHasPendingInputs()}}var UO,w_=E(27422);class v4 extends _i.a{constructor(g){super(!1),this.navigationTouch=g,this.startStateModifiers=new Set,this.activePointerMap=new Map,this.isDragging=!1,this.isCurrentDragSuppressed=!1,this.drag=this.registerOutgoing("drag"),this.registerIncoming("pointer-drag",this._handlePointerDrag.bind(this)),this.registerIncoming("pointer-up",this._handlePointerUpAndPointerLost.bind(this)),this.registerIncoming("pointer-capture-lost",this._handlePointerUpAndPointerLost.bind(this)),this.registerIncoming("pointer-cancel",this._handlePointerUpAndPointerLost.bind(this))}_createPayload(g,v,b,C){return{action:g,pointerType:this.pointerType,button:this.mouseButton,buttons:v.buttons,timestamp:C,pointers:E4(this.activePointerMap),pointer:v,angle:b.angle,radius:b.radius,center:b.center}}_addPointer(g){const v=g.native.pointerId,b=ff(this.activePointerMap).angle,C={event:g,initialAngle:0,lastAngle:0};this.activePointerMap.set(v,C);const D=mf(C,jO(this.activePointerMap));C.initialAngle=D,C.lastAngle=D,this._updatePointerAngles(b)}_updatePointer(g){if(g&&null==g.x&&null==g.y)return;const b=this.activePointerMap.get(g.native.pointerId);b?b.event=g:this._addPointer(g)}_removePointer(g){const v=ff(this.activePointerMap).angle;this.activePointerMap.delete(g),this._updatePointerAngles(v)}_updatePointerAngles(g){const v=ff(this.activePointerMap);this.activePointerMap.forEach(b=>{b.initialAngle=mf(b,v)-g,b.lastAngle=mf(b,v)-g})}_emitEvent(g,v,b){const C=ff(this.activePointerMap);this.drag.emit(this._createPayload(g,v,C,b),void 0,this.startStateModifiers)}_handlePointerUpAndPointerLost(g){const v=g.data.native.pointerId,b=(0,w_.HA)(g.timestamp);this.activePointerMap.get(v)&&(1===this.activePointerMap.size?(this._updatePointer(g.data),!this.isCurrentDragSuppressed&&this._emitEvent("end",g.data,b),this.isDragging=!1,this.isCurrentDragSuppressed=!1,this._removePointer(v)):(this._removePointer(v),this._emitEvent("removed",g.data,(0,w_.HA)(g.timestamp))))}_handlePointerDrag(g){const v=g.data,b=v.currentEvent,C=(0,w_.HA)(g.timestamp);switch(v.action){case"start":case"update":this.isDragging?this.activePointerMap.has(b.native.pointerId)?(this._updatePointer(b),!this.isCurrentDragSuppressed&&this._emitEvent("update",b,C)):(this._addPointer(b),this._emitEvent("added",b,C),this.isCurrentDragSuppressed=this.isSuppressed):(this._updatePointer(b),this.pointerType=g.data.startEvent.pointerType,this.mouseButton=g.data.startEvent.button,this.startStateModifiers=g.modifiers,this.isDragging=!0,this.isCurrentDragSuppressed=this.isSuppressed,!this.isCurrentDragSuppressed&&this._emitEvent("start",b,C))}}get isSuppressed(){return this.navigationTouch&&!this.navigationTouch.browserTouchPanEnabled&&"touch"===this.pointerType&&1===this.activePointerMap.size}}function jO(p){const g=[];return p.forEach(v=>{g.push((0,ii.vW)(v.event.x,v.event.y))}),function y4(p,g){if(g?(g.radius=0,g.center.x=0,g.center.y=0):g={radius:0,center:(0,ii.vW)()},0===p.length)return g;if(1===p.length)return g.center.x=p[0].x,g.center.y=p[0].y,g;if(2===p.length){const[On,Ln]=p,[Kn,qn]=[Ln.x-On.x,Ln.y-On.y];return g.radius=Math.sqrt(Kn*Kn+qn*qn)/2,g.center.x=(On.x+Ln.x)/2,g.center.y=(On.y+Ln.y)/2,g}let v=0,b=0;for(let On=0;On<p.length;On++)v+=p[On].x,b+=p[On].y;v/=p.length,b/=p.length;const C=p.map(On=>On.x-v),D=p.map(On=>On.y-b);let P=0,V=0,ae=0,be=0,Pe=0,Fe=0,Xe=0;for(let On=0;On<C.length;On++){const Ln=C[On],Kn=D[On],qn=Ln*Ln,Hr=Kn*Kn;P+=qn,V+=Hr,ae+=Ln*Kn,be+=qn*Ln,Pe+=Hr*Kn,Fe+=Ln*Hr,Xe+=Kn*qn}const rt=.5*(be+Fe),It=.5*(Pe+Xe),Zt=P*V-ae*ae,Xt=(rt*V-It*ae)/Zt,tn=(P*It-ae*rt)/Zt,Gt=(0,ii.vW)(Xt+v,tn+b);return{radius:Math.sqrt(Xt*Xt+tn*tn+(P+V)/p.length),center:Gt}}(g)}function ff(p){const g=jO(p);let v=0;return p.forEach(b=>{let C=mf(b,g),D=C-b.lastAngle;for(;D>Math.PI;)D-=2*Math.PI;for(;D<-Math.PI;)D+=2*Math.PI;C=b.lastAngle+D,b.lastAngle=C,v+=C-b.initialAngle}),v/=p.size||1,{angle:v,radius:g.radius,center:g.center}}function E4(p){const g=new Map;return p.forEach((v,b)=>g.set(b,v.event)),g}function mf(p,g){const v=p.event;return Math.atan2(v.y-g.center.y,v.x-g.center.x)}!function(p){p[p.Left=0]="Left",p[p.Middle=1]="Middle",p[p.Right=2]="Right",p[p.Back=3]="Back",p[p.Forward=4]="Forward",p[p.Undefined=-1]="Undefined"}(UO||(UO={}));class b4 extends _i.a{constructor(g=250,v=10,b=350,C=35,D=pf.m){super(!1),this.maximumDoubleClickDelay=g,this.maximumDoubleClickDistance=v,this.maximumDoubleTouchDelay=b,this.maximumDoubleTouchDistance=C,this._clock=D,this._pointerState=new Map,this._immediateDoubleClick=this.registerOutgoing("immediate-double-click"),this.registerIncoming("pointer-down",this._handlePointerDown.bind(this)),this.registerIncoming("pointer-up",P=>{this._handlePointerLoss(P,"pointer-up")}),this.registerIncoming("pointer-capture-lost",P=>{this._handlePointerLoss(P,"pointer-capture-lost")}),this.registerIncoming("pointer-cancel",P=>{this._handlePointerLoss(P,"pointer-cancel")})}onUninstall(){this._pointerState.forEach(g=>{g.immediateDoubleClick&&g.immediateDoubleClick.timeoutHandle.remove()}),super.onUninstall()}_handlePointerDown(g){const v=g.data,b=this._pointerId(v);this._pointerState.has(b)||(this._pointerState.set(b,{downButton:v.native.button,immediateDoubleClick:null}),this.startCapturingPointer(v.native))}_handlePointerLoss(g,v){const b=g.data,C=this._pointerId(b),D=this._pointerState.get(C);if(D&&"pointer-up"===v&&D.downButton===b.native.button){const P=D.immediateDoubleClick;if(P){P.timeoutHandle.remove();const V="touch"===g.data.native.pointerType?this.maximumDoubleTouchDistance:this.maximumDoubleClickDistance;O_(P,g.data)>V?this._startImmediateDoubleClick(g,D):(this._immediateDoubleClick.emit(g.data,void 0,P.modifiers),this._removeState(b))}else this._startImmediateDoubleClick(g,D)}}_startImmediateDoubleClick(g,v){v.immediateDoubleClick={x:g.data.x,y:g.data.y,modifiers:g.modifiers,timeoutHandle:this._clock.setTimeout(()=>this._removeState(g.data),"touch"===g.data.native.pointerType?this.maximumDoubleTouchDelay:this.maximumDoubleClickDelay)}}_pointerId(g){const v=g.native;return"mouse"===v.pointerType?`${v.pointerId}:${v.button}`:`${v.pointerType}`}_removeState(g){const v=this._pointerId(g);this._pointerState.delete(v),this.stopCapturingPointer(g.native),this.refreshHasPendingInputs()}}class M4 extends _i.a{constructor(g=300,v=1.5,b=6,C=6,D=500,P=pf.m){super(!1),this.maximumClickDelay=g,this.movementUntilMouseDrag=v,this.movementUntilPenDrag=b,this.movementUntilTouchDrag=C,this.holdDelay=D,this._clock=P,this._pointerState=new Map,this._pointerDrag=this.registerOutgoing("pointer-drag"),this._immediateClick=this.registerOutgoing("immediate-click"),this._pointerHold=this.registerOutgoing("hold"),this.registerIncoming("pointer-down",this._handlePointerDown.bind(this)),this.registerIncoming("pointer-up",V=>{this._handlePointerLoss(V,"pointer-up")}),this.registerIncoming("pointer-capture-lost",V=>{this._handlePointerLoss(V,"pointer-capture-lost")}),this.registerIncoming("pointer-cancel",V=>{this._handlePointerLoss(V,"pointer-cancel")}),this._moveHandle=this.registerIncoming("pointer-move",this._handlePointerMove.bind(this)),this._moveHandle.pause()}onUninstall(){this._pointerState.forEach(g=>{null!=g.holdTimeout&&(g.holdTimeout.remove(),g.holdTimeout=null)}),super.onUninstall()}_handlePointerDown(g){const v=g.data,b=v.native.pointerId;let C=null;0===this._pointerState.size&&(C=this._clock.setTimeout(()=>{const P=this._pointerState.get(b);P&&(P.isDragging||(this._pointerHold.emit(P.previousEvent,void 0,g.modifiers),P.holdEmitted=!0),P.holdTimeout=null)},this.holdDelay)),this._pointerState.set(b,{startEvent:v,previousEvent:v,startTimestamp:g.timestamp,isDragging:!1,downButton:v.native.button,holdTimeout:C,modifiers:new Set}),this.startCapturingPointer(v.native),this._moveHandle.resume(),this._pointerState.size>1&&this._startDragging(g)}_createPointerDragData(g,v,b){return{action:g,startEvent:v.startEvent,previousEvent:v.previousEvent,currentEvent:b}}_handlePointerMove(g){const v=g.data,C=this._pointerState.get(v.native.pointerId);C&&(C.isDragging?this._pointerDrag.emit(this._createPointerDragData("update",C,v),void 0,C.modifiers):function m4(p,g){const v=g.x-p.x,b=g.y-p.y;return Math.sqrt(v*v+b*b)}(v,C.startEvent)>this._getDragThreshold(v.native.pointerType)&&this._startDragging(g),C.previousEvent=v)}_getDragThreshold(g){switch(g){case"touch":return this.movementUntilTouchDrag;case"pen":return this.movementUntilPenDrag;default:return this.movementUntilMouseDrag}}_startDragging(g){const v=g.data,b=v.native.pointerId;this._pointerState.forEach(C=>{null!=C.holdTimeout&&(C.holdTimeout.remove(),C.holdTimeout=null),C.isDragging||(C.modifiers=g.modifiers,C.isDragging=!0,b===C.startEvent.native.pointerId?this._pointerDrag.emit(this._createPointerDragData("start",C,v)):this._pointerDrag.emit(this._createPointerDragData("start",C,C.previousEvent),g.timestamp))})}_handlePointerLoss(g,v){const b=g.data,C=b.native.pointerId,D=this._pointerState.get(C);D&&(null!=D.holdTimeout&&(D.holdTimeout.remove(),D.holdTimeout=null),D.isDragging?this._pointerDrag.emit(this._createPointerDragData("end",D,"pointer-up"===v?b:D.previousEvent),void 0,D.modifiers):"pointer-up"===v&&D.downButton===b.native.button&&g.timestamp-D.startTimestamp<=this.maximumClickDelay&&!D.holdEmitted&&this._immediateClick.emit(b),this._pointerState.delete(C),this.stopCapturingPointer(b.native),0===this._pointerState.size&&this._moveHandle.pause())}}const yf_pan={left:"ArrowLeft",right:"ArrowRight",up:"ArrowUp",down:"ArrowDown"},yf_zoom={zoomIn:["=","+"],zoomOut:["-","_"]},yf_rotate={clockwiseOption1:"a",clockwiseOption2:"A",counterClockwiseOption1:"d",counterClockwiseOption2:"D",resetOption1:"n",resetOption2:"N"};let gf=class extends Ur.Z{constructor(){super(...arguments),this._handles=new Co.Z}initialize(){this._handles.add([(0,Jn.PA)(this.view,"ready",()=>this._disconnect()),(0,Jn.gx)(this.view,"ready",()=>this._connect())])}destroy(){this._handles&&(this._handles.removeAll(),this._handles=null),this._disconnect()}_disconnect(){this._inputManager&&(this.view.viewEvents.disconnect(),this._inputManager.destroy(),this._inputManager=null,this._source.destroy(),this._source=null)}_connect(){const g=new p4(this.view.surface,this.view.input),v=[new b4,new M4,new g4,new v4(this.view.navigation),new _4],b=new mc.$({eventSource:g,recognizers:v});b.installHandlers("prevent-context-menu",[new f4],mc.f.INTERNAL),b.installHandlers("navigation",[new s4(this.view),new JU(this.view),new r4(this.view),new xO(this.view),new xO(this.view,["Ctrl"]),new $U(this.view,"primary"),new qU(this.view,yf_pan),new t4(this.view,yf_zoom),new e4(this.view,yf_rotate),new KU(this.view,"secondary"),new ZU(this.view,"touch")],mc.f.INTERNAL),this.view.viewEvents.connect(b),this._source=g,this._inputManager=b,(0,Jn.S1)(this.view.navigation,"browserTouchPanEnabled",C=>{this._source.browserTouchPanningEnabled=!C})}get test(){return{inputManager:this._inputManager}}};(0,ye._)([(0,Oe.Cb)()],gf.prototype,"view",void 0),gf=(0,ye._)([(0,bn.j)("esri.views.2d.input.MapViewInputManager")],gf);const C4=gf;var D4=E(56656);let S4=0,El=class extends Ur.Z{constructor(){super(...arguments),this.color=new Xu.Z([0,255,255]),this.haloOpacity=1,this.fillOpacity=.25}get version(){return S4++}};(0,ye._)([(0,Oe.Cb)({readOnly:!0})],El.prototype,"version",null),(0,ye._)([(0,Oe.Cb)({type:Xu.Z})],El.prototype,"color",void 0),(0,ye._)([(0,Oe.Cb)({type:Xu.Z})],El.prototype,"haloColor",void 0),(0,ye._)([(0,Oe.Cb)()],El.prototype,"haloOpacity",void 0),(0,ye._)([(0,Oe.Cb)()],El.prototype,"fillOpacity",void 0),El=(0,ye._)([(0,bn.j)("esri.views.2d.support.HighlightOptions")],El);const FO=El;var NO=E(33412),BO=E(18605),WO=E(31637),VO=E(57596);let nu=class extends Ur.Z{constructor(){super(...arguments),this.widget=null}destroy(){this.widget&&this.widget.destroy(),this.node=null}get id(){return this.get("widget.id")||this.get("node.id")}set node(p){const g=this._get("node");p!==g&&(p&&p.classList.add("esri-component"),g&&g.classList.remove("esri-component"),this._set("node",p))}castNode(p){return p?"string"==typeof p||function I4(p){return p&&"nodeType"in p}(p)?(this._set("widget",null),(0,dl.L7)(p)):(function T4(p){return p&&"function"==typeof p.render}(p)&&!p.domNode&&(p.domNode=document.createElement("div")),this._set("widget",p),p.domNode):(this._set("widget",null),null)}};(0,ye._)([(0,Oe.Cb)({dependsOn:[]})],nu.prototype,"id",null),(0,ye._)([(0,Oe.Cb)()],nu.prototype,"node",null),(0,ye._)([(0,lo.p)("node")],nu.prototype,"castNode",null),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],nu.prototype,"widget",void 0),nu=(0,ye._)([(0,bn.j)("esri.views.ui.Component")],nu);const _f=nu,x4={left:0,top:0,bottom:0,right:0},$O={bottom:30,top:15,right:15,left:15},P_="manual",Bi_corner="esri-ui-corner";function I_(p){const g=p,v="object"==typeof g&&null!==g&&Object.getPrototypeOf(g);return null!==v&&v!==Object.prototype||!("component"in g||"index"in g||"position"in g)?null:p}function T_(p,{top:g,bottom:v,left:b,right:C}){p.style.top=g,p.style.bottom=v,p.style.left=b,p.style.right=C}let Ka=class extends Id.Z.EventedAccessor{constructor(p){super(p),this._cornerNameToContainerLookup={},this._positionNameToContainerLookup={},this._components=new Array,this._componentToKey=new Map,this._handles=new Co.Z,this.view=null,this._applyViewPadding=()=>{const g=this.container;g&&T_(g,this._toPxPosition(this._getViewPadding()))},this._applyUIPadding=()=>{const g=this._innerContainer;g&&T_(g,this._toPxPosition(this.padding))},this._initContainers()}initialize(){this._handles.add([(0,dr.YP)(()=>{var p;return[null==(p=this.view)?void 0:p.padding,this.container]},this._applyViewPadding,dr.nn),(0,dr.YP)(()=>this.padding,this._applyUIPadding,dr.nn)])}destroy(){this.container=null;for(const p of this._components)p.destroy();this._components.length=0,this._handles.destroy(),this._componentToKey.clear()}set container(p){const g=this._get("container");p!==g&&(p&&(p.classList.add("esri-ui"),p.classList.add((0,MS.rk)()),this._attachContainers(p)),g&&(g.classList.remove("esri-ui"),T_(g,{top:"",bottom:"",left:"",right:""}),(0,dl.cS)(g)),this._set("container",p))}get height(){const p=this.get("view.height")||0;if(0===p)return p;const g=this._getViewPadding();return Math.max(p-(g.top+g.bottom),0)}get padding(){return this._get("padding")}set padding(p){p?this._override("padding",p):this._clearOverride("padding")}castPadding(p){return"number"==typeof p?{bottom:p,top:p,right:p,left:p}:Ct(Ct({},$O),p)}get width(){const p=this.get("view.width")||0;if(0===p)return p;const g=this._getViewPadding();return Math.max(p-(g.left+g.right),0)}add(p,g){let v,b;if(Array.isArray(p))return void p.forEach(D=>this.add(D,g));const C=I_(p);C&&({index:v,position:g,component:p,key:b}=C),g&&"object"==typeof g&&({index:v,key:b,position:g}=g),!p||g&&!this._isValidPosition(g)||this._add(p,g,v,b)}remove(p,g){if(!p)return;if(Array.isArray(p))return p.map(b=>this.remove(b,g));const v=this._find(p);if(v){const b=this._componentToKey;if(b.has(p)&&b.get(p)!==g)return;const C=this._components.indexOf(v);return v.node.parentNode&&v.node.parentNode.removeChild(v.node),this._componentToKey.delete(p),this._components.splice(C,1)[0]}}empty(p){return Array.isArray(p)?p.map(g=>this.empty(g)).reduce((g,v)=>g.concat(v)):(p=p||P_)===P_?Array.prototype.slice.call(this._manualContainer.children).filter(g=>!g.classList.contains(Bi_corner)).map(g=>this.remove(g)):this._isValidPosition(p)?Array.prototype.slice.call(this._cornerNameToContainerLookup[p].children).map(this.remove,this):null}move(p,g){if(Array.isArray(p)&&p.forEach(D=>this.move(D,g)),!p)return;let v;const b=I_(p)||I_(g);if(b&&(v=b.index,g=b.position,p=b.component||p),g&&!this._isValidPosition(g))return;const C=this.remove(p);C&&this.add(C,{position:g,index:v})}find(p){if(!p)return null;const g=this._findById(p);return g&&(g.widget||g.node)}getPosition(p){for(const g in this._positionNameToContainerLookup)if(this._positionNameToContainerLookup[g].contains(p))return g;return null}_add(p,g,v,b){p instanceof _f||(p=new _f({node:p})),this._place({component:p,position:g,index:v}),this._components.push(p),b&&this._componentToKey.set(p,b)}_find(p){return p?p instanceof _f?this._findByComponent(p):"string"==typeof p?this._findById(p):this._findByNode(p.domNode||p):null}_getViewPadding(){return this.get("view.padding")||x4}_attachContainers(p){p.appendChild(this._innerContainer),p.appendChild(this._manualContainer)}_initContainers(){const p=document.createElement("div");p.classList.add("esri-ui-inner-container"),p.classList.add("esri-ui-corner-container");const g=document.createElement("div");g.classList.add("esri-ui-inner-container"),g.classList.add("esri-ui-manual-container");const v=document.createElement("div");v.classList.add("esri-ui-top-left"),v.classList.add(Bi_corner),p.appendChild(v);const b=document.createElement("div");b.classList.add("esri-ui-top-right"),b.classList.add(Bi_corner),p.appendChild(b);const C=document.createElement("div");C.classList.add("esri-ui-bottom-left"),C.classList.add(Bi_corner),p.appendChild(C);const D=document.createElement("div");D.classList.add("esri-ui-bottom-right"),D.classList.add(Bi_corner),p.appendChild(D),this._innerContainer=p,this._manualContainer=g;const P=(0,Bs.dZ)();this._cornerNameToContainerLookup={"top-left":v,"top-right":b,"bottom-left":C,"bottom-right":D,"top-leading":P?b:v,"top-trailing":P?v:b,"bottom-leading":P?D:C,"bottom-trailing":P?C:D},this._positionNameToContainerLookup=Ct({manual:g},this._cornerNameToContainerLookup)}_isValidPosition(p){return!!this._positionNameToContainerLookup[p]}_place(p){const g=p.component,b=p.index,C=this._positionNameToContainerLookup[p.position||P_],D=b>-1;if(function A4(p){return p&&!p._started&&"function"==typeof p.postMixInProperties&&"function"==typeof p.buildRendering&&"function"==typeof p.postCreate&&"function"==typeof p.startup}(g.widget)&&g.widget.startup(),!D)return void C.appendChild(g.node);const P=Array.prototype.slice.call(C.children);0!==b?b>=P.length?C.appendChild(g.node):(0,dl.Vt)(g.node,P[b]):C.firstChild?(0,dl.Vt)(g.node,C.firstChild):C.appendChild(g.node)}_toPxPosition(p){return{top:this._toPxUnit(p.top),left:this._toPxUnit(p.left),right:this._toPxUnit(p.right),bottom:this._toPxUnit(p.bottom)}}_toPxUnit(p){return 0===p?"0":p+"px"}_findByComponent(p){let g,v=null;return this._components.some(b=>(g=b===p,g&&(v=b),g)),v}_findById(p){let g,v=null;return this._components.some(b=>(g=b.id===p,g&&(v=b),g)),v}_findByNode(p){let g,v=null;return this._components.some(b=>(g=b.node===p,g&&(v=b),g)),v}};(0,ye._)([(0,Oe.Cb)()],Ka.prototype,"container",null),(0,ye._)([(0,Oe.Cb)()],Ka.prototype,"height",null),(0,ye._)([(0,Oe.Cb)({value:$O})],Ka.prototype,"padding",null),(0,ye._)([(0,lo.p)("padding")],Ka.prototype,"castPadding",null),(0,ye._)([(0,Oe.Cb)()],Ka.prototype,"view",void 0),(0,ye._)([(0,Oe.Cb)()],Ka.prototype,"width",null),Ka=(0,ye._)([(0,bn.j)("esri.views.ui.UI")],Ka);const R4=Ka;var L4=E(59213);function KO(p,g){return p&&"copyright"in p&&(!g||"function"==typeof p.originOf&&"user"===p.originOf("copyright"))}function vf(p,g,v){!v||!g||p.find(b=>b.layerView===g&&b.text===v)||p.push({text:v,layerView:g})}const bl=[];let bc=class extends kl.r{constructor(p){super(p),this._clear=()=>{this._fetchedAttributionData.clear(),this._pendingAttributions.clear(),this.handles.remove("suspension"),this.notifyChange("state")},this._pendingAttributions=new Set,this._fetchedAttributionData=new Map,this.items=new ds.Z,this.view=null,this._allLayerViewsChange=g=>{this.handles.remove("suspension");const v=this.get("view.allLayerViews");v&&this.handles.add(v.map(b=>b.watch(["suspended","attributionVisible"],this._updateAttributionItems)),"suspension"),g&&g.removed&&g.removed.forEach(b=>{this._pendingAttributions.delete(b),this._fetchedAttributionData.delete(b)}),this._updateAttributionItems()},this._updateAttributionItems=()=>{const g=this.get("view.allLayerViews");bl.length=0,g?(g.forEach(v=>{if(v.suspended||!v.get("layer.attributionVisible"))return;const b=v.layer;if(KO(b,"user"))return void vf(bl,v,b.copyright);if(b.hasAttributionData){if(this._fetchedAttributionData.has(v)){const D=this._fetchedAttributionData.get(v);return void(D?vf(bl,v,this._getDynamicAttribution(D,this.view,b)):KO(b)&&vf(bl,v,b.copyright))}return void this._fetchAttributionData(v)}const C=b.get("portalItem.accessInformation");vf(bl,v,C||b.copyright)}),function j4(p,g){return p.length!==g.length||p.some((v,b)=>v.text!==g[b].text)}(this.items,bl)&&(this.items.removeAll(),this.items.addMany(bl)),bl.length=0,this.notifyChange("state")):this._clear()},this.handles.add([(0,Jn.on)(this,"view.allLayerViews","change",this._allLayerViewsChange,this._allLayerViewsChange,this._clear),(0,Jn.Z4)(this,"view.stationary",()=>this._updateAttributionItems())])}destroy(){this.view=null,this._fetchedAttributionData.clear(),this._pendingAttributions.clear(),this.items.removeAll()}get state(){return this.get("view.ready")?this._pendingAttributions.size>0?"loading":"ready":"disabled"}_fetchAttributionData(p){var g=this;return(0,Un.Z)(function*(){if(g._pendingAttributions.has(p))return;g._pendingAttributions.add(p);const v=yield(0,L4.q6)(p.layer.fetchAttributionData());if(g._pendingAttributions.has(p)){const b=v.ok?g._createContributionIndex(v.value,function U4(p){return"bing-maps"===p.type}(p.layer)):null;g._pendingAttributions.delete(p),g._fetchedAttributionData.set(p,b)}g._updateAttributionItems()})()}_createContributionIndex(p,g){const v=p.contributors,b={};if(!v)return b;for(let C=0;C<v.length;C++){const D=v[C],P=D.coverageAreas;if(!P)return;for(const V of P){const ae=V.bbox,be=V.zoomMin-(g&&V.zoomMin?1:0),Pe=V.zoomMax-(g&&V.zoomMax?1:0),Xe={extent:(0,Wl.$)({xmin:ae[1],ymin:ae[0],xmax:ae[3],ymax:ae[2],spatialReference:Ni.Z.WGS84}),attribution:D.attribution||"",score:null!=V.score?V.score:100,id:C};for(let rt=be;rt<=Pe;rt++)b[rt]=b[rt]||[],b[rt].push(Xe)}}return b.maxKey=Math.max.apply(null,Object.keys(b)),b}_getDynamicAttribution(p,g,v){const{extent:b,scale:C}=g;let D=v.tileInfo.scaleToZoom(C);if(D=Math.min(p.maxKey,Math.round(D)),!b||null==D||D<=-1)return"";const P=p[D],V=(0,Wl.iV)(b.center.clone().normalize(),g.spatialReference),ae={};return P?P.filter(be=>{const Pe=!ae[be.id]&&V&&(0,p_.aV)(be.extent,V);return Pe&&(ae[be.id]=!0),Pe}).sort((be,Pe)=>Pe.score-be.score||be.objectId-Pe.objectId).map(be=>be.attribution).join(", "):""}};(0,ye._)([(0,Oe.Cb)({readOnly:!0,type:ds.Z})],bc.prototype,"items",void 0),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],bc.prototype,"state",null),(0,ye._)([(0,Oe.Cb)()],bc.prototype,"view",void 0),bc=(0,ye._)([(0,bn.j)("esri.widgets.Attribution.AttributionViewModel")],bc);const zO=bc;let Wi=class extends oi.Z{constructor(p,g){super(p,g),this._isOpen=!1,this._attributionTextOverflowed=!1,this._prevSourceNodeHeight=0,this.iconClass="esri-icon-description",this.itemDelimiter=" | ",this.label=void 0,this.messages=null,this.view=null,this.viewModel=new zO}initialize(){this.own((0,Jn.on)(this,"viewModel.items","change",()=>this.scheduleRender()))}get _isInteractive(){return this._isOpen||this._attributionTextOverflowed}get attributionText(){return this.viewModel.items.reduce((p,g)=>(-1===p.indexOf(g.text)&&p.push(g.text),p),[]).join(this.itemDelimiter)}render(){return(0,Ft.u)("div",{bind:this,class:this.classes("esri-attribution esri-widget",{"esri-attribution--open":this._isOpen}),onclick:this._toggleState,onkeydown:this._toggleState},this.renderSourcesNode(),this.renderPoweredBy())}renderPoweredBy(){return(0,Ft.u)("div",{class:"esri-attribution__powered-by"},"Powered by"," ",(0,Ft.u)("a",{class:"esri-attribution__link",href:"http://www.esri.com/",target:"_blank",rel:"noreferrer"},"Esri"))}renderSourcesNode(){const p=this._isOpen,g=this._isInteractive,v=g?0:-1,{attributionText:b}=this,C=g?"button":void 0;return(0,Ft.u)("div",{afterCreate:this._afterSourcesNodeCreate,afterUpdate:this._afterSourcesNodeUpdate,bind:this,class:this.classes("esri-attribution__sources",{"esri-attribution__sources--open":p,"esri-interactive":g}),innerHTML:b,role:C,tabIndex:v})}_afterSourcesNodeCreate(p){this._prevSourceNodeHeight=p.clientWidth}_afterSourcesNodeUpdate(p){let g=!1;const{clientHeight:v,clientWidth:b,scrollWidth:C}=p,D=C>=b,P=this._attributionTextOverflowed!==D;if(this._attributionTextOverflowed=D,P&&(g=!0),this._isOpen){const V=v<this._prevSourceNodeHeight;this._prevSourceNodeHeight=v,V&&(this._isOpen=!1,g=!0)}g&&this.scheduleRender()}_toggleState(){this._isInteractive&&(this._isOpen=!this._isOpen)}};(0,ye._)([(0,Oe.Cb)()],Wi.prototype,"_isOpen",void 0),(0,ye._)([(0,Oe.Cb)()],Wi.prototype,"_isInteractive",null),(0,ye._)([(0,Oe.Cb)()],Wi.prototype,"_attributionTextOverflowed",void 0),(0,ye._)([(0,Oe.Cb)()],Wi.prototype,"_prevSourceNodeHeight",void 0),(0,ye._)([(0,Oe.Cb)({readOnly:!0,dependsOn:["viewModel.items.length","itemDelimiter"]})],Wi.prototype,"attributionText",null),(0,ye._)([(0,Oe.Cb)()],Wi.prototype,"iconClass",void 0),(0,ye._)([(0,Oe.Cb)()],Wi.prototype,"itemDelimiter",void 0),(0,ye._)([(0,Oe.Cb)({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],Wi.prototype,"label",void 0),(0,ye._)([(0,Oe.Cb)(),(0,ai.H)("esri/widgets/Attribution/t9n/Attribution")],Wi.prototype,"messages",void 0),(0,ye._)([(0,Nn.B)("viewModel.view")],Wi.prototype,"view",void 0),(0,ye._)([(0,Oe.Cb)({type:zO})],Wi.prototype,"viewModel",void 0),(0,ye._)([(0,Yi.h)()],Wi.prototype,"_toggleState",null),Wi=(0,ye._)([(0,bn.j)("esri.widgets.Attribution")],Wi);const F4=Wi;let ru=class extends(t_(Ur.Z)){constructor(p){super(p),this._handles=new Co.Z,this.orientation={x:0,y:0,z:0},this.view=null,this._updateForCamera=this._updateForCamera.bind(this),this._updateForRotation=this._updateForRotation.bind(this),this._updateRotationWatcher=this._updateRotationWatcher.bind(this)}initialize(){this._handles.add((0,Jn.S1)(this,"view",this._updateRotationWatcher))}destroy(){this._handles.destroy(),this._handles=null,this.view=null}get canShowNorth(){const p=this.get("view.spatialReference");return!(!p||!p.isWebMercator&&!p.isGeographic)}get state(){return this.get("view.ready")?this.canShowNorth?"compass":"rotation":"disabled"}reset(){if(!this.get("view.ready"))return;const p={};"2d"===this.view.type?p.rotation=0:p.heading=0,this.callGoTo({target:p})}_updateForRotation(p){null!=p&&(this.orientation={z:p})}_updateForCamera(p){p&&(this.orientation={x:0,y:0,z:-p.heading})}_updateRotationWatcher(p){this._handles.removeAll(),p&&this._handles.add("2d"===p.type?(0,Jn.S1)(this,"view.rotation",this._updateForRotation):(0,Jn.S1)(this,"view.camera",this._updateForCamera))}};(0,ye._)([(0,Oe.Cb)({readOnly:!0})],ru.prototype,"canShowNorth",null),(0,ye._)([(0,Oe.Cb)()],ru.prototype,"orientation",void 0),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],ru.prototype,"state",null),(0,ye._)([(0,Oe.Cb)()],ru.prototype,"view",void 0),ru=(0,ye._)([(0,bn.j)("esri.widgets.CompassViewModel")],ru);const GO=ru;let Ea=class extends oi.Z{constructor(p,g){super(p,g),this.goToOverride=null,this.iconClass="esri-icon-locate-circled",this.label=void 0,this.messages=null,this.view=null,this.viewModel=new GO}reset(){return this.viewModel.reset()}render(){const{orientation:p,state:g}=this.viewModel,v="disabled"===g,b="compass"==("rotation"===g?"rotation":"compass"),C=v?-1:0,D={"esri-disabled":v,"esri-interactive":!v},P={"esri-icon-compass":b,"esri-icon-dial":!b},{messages:V}=this;return(0,Ft.u)("div",{bind:this,class:this.classes("esri-compass esri-widget--button esri-widget",D),onclick:this._reset,onkeydown:this._reset,role:"button",tabIndex:C,"aria-label":V.reset,title:V.reset},(0,Ft.u)("span",{"aria-hidden":"true",class:this.classes("esri-compass__icon",P),styles:this._toRotationTransform(p)}),(0,Ft.u)("span",{class:"esri-icon-font-fallback-text"},V.reset))}_reset(){this.viewModel.reset()}_toRotationTransform(p){return{transform:`rotateZ(${p.z}deg)`}}};(0,ye._)([(0,Nn.B)("viewModel.goToOverride")],Ea.prototype,"goToOverride",void 0),(0,ye._)([(0,Oe.Cb)()],Ea.prototype,"iconClass",void 0),(0,ye._)([(0,Oe.Cb)({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],Ea.prototype,"label",void 0),(0,ye._)([(0,Oe.Cb)(),(0,ai.H)("esri/widgets/Compass/t9n/Compass")],Ea.prototype,"messages",void 0),(0,ye._)([(0,Nn.B)("viewModel.view")],Ea.prototype,"view",void 0),(0,ye._)([(0,Oe.Cb)({type:GO})],Ea.prototype,"viewModel",void 0),(0,ye._)([(0,Yi.h)()],Ea.prototype,"_reset",null),Ea=(0,ye._)([(0,bn.j)("esri.widgets.Compass")],Ea);const B4=Ea;let Mc=class extends Ur.Z{constructor(p){super(p),this._handles=new Co.Z,this.navigationMode="pan",this.view=null}initialize(){this._handles.add((0,Jn.gx)(this,"view.inputManager",this._setNavigationMode.bind(this)))}destroy(){this._handles.destroy(),this._handles=null,this.view=null}get state(){return this.get("view.ready")&&"3d"===this.view.type?"ready":"disabled"}toggle(){"disabled"!==this.state&&(this.navigationMode="pan"!==this.navigationMode?"pan":"rotate",this._setNavigationMode())}_setNavigationMode(){this.get("view.inputManager").primaryDragAction="pan"===this.navigationMode?"pan":"rotate"}};(0,ye._)([(0,Oe.Cb)({readOnly:!0})],Mc.prototype,"state",null),(0,ye._)([(0,Oe.Cb)()],Mc.prototype,"navigationMode",void 0),(0,ye._)([(0,Oe.Cb)()],Mc.prototype,"view",void 0),Mc=(0,ye._)([(0,bn.j)("esri.widgets.NavigationToggleViewModel")],Mc);const kO=Mc,wo_button="esri-navigation-toggle__button esri-widget--button";let ba=class extends oi.Z{constructor(p,g){super(p,g),this.iconClass="esri-icon-pan2",this.label=void 0,this.messages=null,this.view=null,this.viewModel=new kO}set layout(p){"horizontal"!==p&&(p="vertical"),this._set("layout",p)}toggle(){return this.viewModel.toggle()}render(){const p="disabled"===this.get("viewModel.state"),g="pan"===this.get("viewModel.navigationMode"),b={"esri-navigation-toggle__button--active":g},C={"esri-navigation-toggle__button--active":!g},D=p?-1:0,P=this.messages.toggle;return(0,Ft.u)("div",{bind:this,class:this.classes("esri-navigation-toggle esri-widget",{"esri-disabled":p,"esri-navigation-toggle--horizontal":"horizontal"===this.layout}),onclick:this._toggle,onkeydown:this._toggle,tabIndex:D,"aria-label":P,title:P},(0,Ft.u)("div",{class:this.classes(wo_button,"esri-navigation-toggle__button--pan",b)},(0,Ft.u)("span",{class:"esri-icon-pan"})),(0,Ft.u)("div",{class:this.classes(wo_button,"esri-navigation-toggle__button--rotate",C)},(0,Ft.u)("span",{class:"esri-icon-rotate"})))}_toggle(){this.toggle()}};(0,ye._)([(0,Oe.Cb)()],ba.prototype,"iconClass",void 0),(0,ye._)([(0,Oe.Cb)({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],ba.prototype,"label",void 0),(0,ye._)([(0,Oe.Cb)({value:"vertical"})],ba.prototype,"layout",null),(0,ye._)([(0,Oe.Cb)(),(0,ai.H)("esri/widgets/NavigationToggle/t9n/NavigationToggle")],ba.prototype,"messages",void 0),(0,ye._)([(0,Nn.B)("viewModel.view")],ba.prototype,"view",void 0),(0,ye._)([(0,Oe.Cb)({type:kO})],ba.prototype,"viewModel",void 0),(0,ye._)([(0,Yi.h)()],ba.prototype,"_toggle",null),ba=(0,ye._)([(0,bn.j)("esri.widgets.NavigationToggle")],ba);const W4=ba;let Dl=class extends oi.Z{constructor(){super(...arguments),this.enabled=!0,this.iconClass="",this.title=""}render(){const p=this.enabled?0:-1,v={[this.iconClass]:!!this.iconClass};return(0,Ft.u)("div",{bind:this,class:this.classes("esri-widget--button esri-widget",{"esri-disabled":!this.enabled,"esri-interactive":this.enabled}),onclick:this._triggerAction,onkeydown:this._triggerAction,role:"button",tabIndex:p,title:this.title},(0,Ft.u)("span",{"aria-hidden":"true",role:"presentation",class:this.classes("esri-icon",v)}),(0,Ft.u)("span",{class:"esri-icon-font-fallback-text"},this.title))}_triggerAction(){this.action.call(this)}};(0,ye._)([(0,Oe.Cb)()],Dl.prototype,"action",void 0),(0,ye._)([(0,Oe.Cb)()],Dl.prototype,"enabled",void 0),(0,ye._)([(0,Oe.Cb)()],Dl.prototype,"iconClass",void 0),(0,ye._)([(0,Oe.Cb)()],Dl.prototype,"title",void 0),(0,ye._)([(0,Yi.h)()],Dl.prototype,"_triggerAction",null),Dl=(0,ye._)([(0,bn.j)("esri.widgets.IconButton")],Dl);const HO=Dl;let Cc=class extends Ur.Z{get canZoomIn(){if(!this.get("view.ready"))return!1;const p=this.get("view.animation.target.scale")||this.get("view.scale"),g=this.get("view.constraints.effectiveMaxScale");return 0===g||p>g}get canZoomOut(){if(!this.get("view.ready"))return!1;const p=this.get("view.animation.target.scale")||this.get("view.scale"),g=this.get("view.constraints.effectiveMinScale");return 0===g||p<g}};(0,ye._)([(0,Oe.Cb)({readOnly:!0})],Cc.prototype,"canZoomIn",null),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],Cc.prototype,"canZoomOut",null),(0,ye._)([(0,Oe.Cb)()],Cc.prototype,"view",void 0),Cc=(0,ye._)([(0,bn.j)("esri.widgets.Zoom.ZoomConditions2D")],Cc);const V4=Cc;let Dc=class extends Ur.Z{get canZoomIn(){return!!this.get("view.ready")}get canZoomOut(){return!!this.get("view.ready")}};(0,ye._)([(0,Oe.Cb)({readOnly:!0})],Dc.prototype,"canZoomIn",null),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],Dc.prototype,"canZoomOut",null),(0,ye._)([(0,Oe.Cb)()],Dc.prototype,"view",void 0),Dc=(0,ye._)([(0,bn.j)("esri.widgets.Zoom.ZoomConditions3D")],Dc);const Z4=Dc;let Sl=class extends Ur.Z{constructor(p){super(p),this.canZoomIn=!1,this.canZoomOut=!1}destroy(){this.view=null}get state(){return this.get("view.ready")?"ready":"disabled"}set view(p){p?"2d"===p.type?this._zoomConditions=new V4({view:p}):"3d"===p.type&&(this._zoomConditions=new Z4({view:p})):this._zoomConditions=null,this._set("view",p)}zoomIn(){if(!this.canZoomIn)return;const p=this.view;"2d"===p.type?p.mapViewNavigation.zoomIn():(0,Er.R8)(p.goTo({zoomFactor:2}))}zoomOut(){if(!this.canZoomOut)return;const p=this.view;"2d"===p.type?p.mapViewNavigation.zoomOut():(0,Er.R8)(p.goTo({zoomFactor:.5}))}};(0,ye._)([(0,Oe.Cb)()],Sl.prototype,"_zoomConditions",void 0),(0,ye._)([(0,Oe.Cb)({aliasOf:"_zoomConditions.canZoomIn",readOnly:!0})],Sl.prototype,"canZoomIn",void 0),(0,ye._)([(0,Oe.Cb)({aliasOf:"_zoomConditions.canZoomOut",readOnly:!0})],Sl.prototype,"canZoomOut",void 0),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],Sl.prototype,"state",null),(0,ye._)([(0,Oe.Cb)()],Sl.prototype,"view",null),Sl=(0,ye._)([(0,bn.j)("esri.widgets.Zoom.ZoomViewModel")],Sl);const JO=Sl;let za=class extends oi.Z{constructor(p,g){super(p,g),this.iconClass="esri-icon-zoom-in-magnifying-glass",this.label=void 0,this.messages=null,this.view=null,this.viewModel=new JO}initialize(){this._zoomInButton=new HO({action:this.zoomIn.bind(this),iconClass:"esri-icon-plus"}),this._zoomOutButton=new HO({action:this.zoomOut.bind(this),iconClass:"esri-icon-minus"})}destroy(){this._zoomInButton.destroy(),this._zoomOutButton.destroy(),this._zoomInButton=null,this._zoomOutButton=null}set layout(p){"horizontal"!==p&&(p="vertical"),this._set("layout",p)}render(){const p=this.viewModel,g={"esri-zoom--horizontal":"horizontal"===this.layout};return this._zoomInButton.enabled="ready"===p.state&&p.canZoomIn,this._zoomOutButton.enabled="ready"===p.state&&p.canZoomOut,this._zoomInButton.title=this.messages.zoomIn,this._zoomOutButton.title=this.messages.zoomOut,(0,Ft.u)("div",{class:this.classes("esri-zoom esri-widget",g)},this._zoomInButton.render(),this._zoomOutButton.render())}zoomIn(){return this.viewModel.zoomIn()}zoomOut(){return this.viewModel.zoomOut()}};(0,ye._)([(0,Oe.Cb)()],za.prototype,"iconClass",void 0),(0,ye._)([(0,Oe.Cb)({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],za.prototype,"label",void 0),(0,ye._)([(0,Oe.Cb)({value:"vertical"})],za.prototype,"layout",null),(0,ye._)([(0,Oe.Cb)(),(0,ai.H)("esri/widgets/Zoom/t9n/Zoom")],za.prototype,"messages",void 0),(0,ye._)([(0,Nn.B)("viewModel.view")],za.prototype,"view",void 0),(0,ye._)([(0,Oe.Cb)({type:JO})],za.prototype,"viewModel",void 0),za=(0,ye._)([(0,bn.j)("esri.widgets.Zoom")],za);const $4=za,YO="esri.views.ui.DefaultUI";ns.Z.getLogger(YO);let Ef=class extends R4{constructor(p){super(p),this._defaultPositionLookup={attribution:"manual",compass:"top-leading","navigation-toggle":"top-leading",zoom:"top-leading"},this.components=[]}initialize(){this._handles.add([(0,dr.YP)(()=>this.components,this._componentsWatcher.bind(this),dr.nn),(0,dr.YP)(()=>this.view,this._updateViewAwareWidgets.bind(this),dr.nn)])}_add(p,g,v,b){if("string"==typeof p&&this._defaultPositionLookup[p]){if(this._find(p))return;p=this._createComponent(p)}super._add(p,g,v,b)}_removeComponents(p){p.forEach(g=>{const v=this._find(g);v&&(this.remove(v),v.destroy())})}_updateViewAwareWidgets(p){this.components.forEach(g=>{const v=this._find(g),b=v&&v.widget;(function K4(p){return p&&void 0!==p.view})(b)&&(b.view=p)})}_componentsWatcher(p,g){this._removeComponents(g),this._addComponents(p),this._adjustPadding(p)}_adjustPadding(p){if(-1===p.indexOf("attribution")&&!this._isOverridden("padding")){const{top:g}=this.padding;this.padding=g}}_addComponents(p){this.initialized&&p.forEach(g=>this.add(this._createComponent(g),this._defaultPositionLookup[g]))}_createComponent(p){const g=this._createWidget(p);if(g)return new _f({id:p,node:g})}_createWidget(p){return"attribution"===p?this._createAttribution():"compass"===p?this._createCompass():"navigation-toggle"===p?this._createNavigationToggle():"zoom"===p?this._createZoom():void 0}_createAttribution(){return new F4({view:this.view})}_createCompass(){return new B4({view:this.view})}_createNavigationToggle(){return new W4({view:this.view})}_createZoom(){return new $4({view:this.view})}};(0,ye._)([(0,Oe.Cb)()],Ef.prototype,"components",void 0),Ef=(0,ye._)([(0,bn.j)(YO)],Ef);const z4=Ef;let bf=class extends z4{constructor(p){super(p),this.components=["attribution","zoom"]}};(0,ye._)([(0,Oe.Cb)()],bf.prototype,"components",void 0),bf=(0,ye._)([(0,bn.j)("esri.views.ui.2d.DefaultUI2D")],bf);const QO=bf,Ga=ns.Z.getLogger("esri.views.MapView");let XO,qO,ew,tw,nw,rw;function x_(){return x_=(0,Un.Z)(function*(){const[,{GraphicsView2D:p,GraphicContainer:g,LabelManager:v,MapViewNavigation:b,MagnifierView2D:C,Stage:D}]=yield Promise.all([Promise.all([E.e(5086),E.e(5314),E.e(5506),E.e(8592),E.e(4376)]).then(E.bind(E,34376)),Promise.all([E.e(5086),E.e(7692),E.e(3755),E.e(5314),E.e(5024),E.e(5506),E.e(4821),E.e(4589),E.e(3751),E.e(5909),E.e(4175),E.e(2408),E.e(4522),E.e(1619),E.e(9091),E.e(4056),E.e(8773),E.e(8592),E.e(2339)]).then(E.bind(E,2339))]);qO=p,ew=g,tw=v,nw=b,rw=C,XO=D}),x_.apply(this,arguments)}let hr=class extends(k6(nU(rU(OU)))){constructor(p){super(p),this._magnifierView=null,this._stage=null,this._resolveWhenReady=[],this.rootLayerViews=new qu.Z({getCollections:()=>{var g,v;return[null==(g=this.basemapView)?void 0:g.baseLayerViews,this.layerViews,null==(v=this.basemapView)?void 0:v.referenceLayerViews]},getChildrenFunction:()=>null}),this.featuresTilingScheme=null,this.fullOpacity=1,this.graphicsView=null,this.labelManager=null,this.mapViewNavigation=null,this.renderingOptions={samplingMode:"dynamic",edgeLabelsVisible:!0,labelsAnimationTime:125,labelCollisionsEnabled:!0},this.rendering=!1,this.supersampleScreenshotsEnabled=!1,this.supportsGround=!1,this._stationaryTimer=null,this.frameTask=new IU(this),this._pePromise=null,this.floors=new ds.Z,this.highlightOptions=new FO,this.inputManager=new C4({view:this}),this.map=null,this.resizeAlign="center",this.spatialReferenceLocked=!1,this.timeline=new NO.T,this.type="2d",this.ui=new QO,this.constraints=new wO,this.padding={top:0,right:0,bottom:0,left:0},this.handles.add([(0,dr.YP)(()=>this.viewpoint,()=>{this._lastStationaryEventTimestamp=performance.now(),this._flipStationary(160)},dr.Z_),this.on("resize",g=>this._resizeHandler(g)),(0,dr.YP)(()=>{var g;return null==(g=this.animationManager)?void 0:g.animation},g=>{this.animation=g})]),(0,K6.j2)()}destroy(){this._set("preconditionsReady",!1),this._gotoTask=this.frameTask=null,this.rootLayerViews.destroy(),this.inputManager.destroy(),this._set("inputManager",null)}get graphicsTileStore(){return new D4.Z(this.featuresTilingScheme)}get initialExtentRequired(){var p;const{scale:g,constraints:v,center:b,viewpoint:C,extent:D}=this;let P=this.zoom;return!(this.map&&"initialViewProperties"in this.map&&null!=(p=this.map.initialViewProperties)&&p.viewpoint||D||(null!=v&&v.effectiveLODs||(P=-1),b&&(0!==g||-1!==P)||C&&(0,nn.pC)(C.targetGeometry)&&("extent"===C.targetGeometry.type||C.scale)))}get resourceManager(){return this._stage.resourceManager}get textureManager(){return this._stage.painter.textureManager}get _defaultsFromMapSettings(){return{required:{tileInfo:!0,heightModelInfo:!1,extent:!1},requiresExtentInSpatialReference:this.spatialReferenceLocked}}get _projectionEngineLoaded(){return!!(0,ga.kR)()||(this._pePromise||(this._pePromise=(0,ga.zD)().finally(()=>{this._pePromise=null})),!1)}get typeSpecificPreconditionsReady(){const p=this._getDefaultViewpoint();if(!p)return!1;const g=this.spatialReference,v=(0,nn.Wg)(p.targetGeometry);return!!(0,ga.Up)(v.spatialReference,g)||this._projectionEngineLoaded}set animation(p){const g=this._get("animation");if(p===g)return;if(g&&g.stop(),!p||p.isFulfilled())return void this._set("animation",null);this._set("animation",p),this.frameTask.animationInProgress=!0;const v=()=>{p===this._get("animation")&&(this._set("animation",null),this.frameTask.requestFrame()),this.frameTask.animationInProgress=!1};p.when(v,v)}get background(){return this.get("map.initialViewProperties.background")||null}set background(p){void 0===p?this._clearOverride("background"):this._override("background",p)}get center(){if(!this.ready)return this._get("center");const{center:p,spatialReference:g}=this.state.paddedViewState;return new hs.Z({x:p[0],y:p[1],spatialReference:g})}set center(p){if(null==p)return;if(!this.ready)return this._set("center",p),void this.notifyChange("initialExtentRequired");let g;try{g=this._project(p,this.spatialReference)}catch(b){return void Ga.error(new Rn.Z("mapview:invalid-center","could not project the value in the view's spatial reference",{input:p,error:b}))}const v=this.viewpoint;(0,Is.o2)(v,v,g),this.viewpoint=v}set constraints(p){const g=this._get("constraints");g&&(this.handles.remove("map-view-constraints"),g.destroy()),this._set("constraints",p),p&&(p.view=this,this.ready&&(this.state.viewpoint=p.fit(this.state.paddedViewState.viewpoint)),this.handles.add((0,dr.YP)(()=>p.version,()=>{this.ready&&this.state&&(this.state.viewpoint=p.fit(this.state.paddedViewState.viewpoint))},dr.Z_),"map-view-constraints"))}get extent(){return this.ready?this.state.paddedViewState.extent.clone():this._get("extent")}set extent(p){if(null==p)return;if(!p.width||!p.height)return void Ga.error(new Rn.Z("mapview:invalid-extent","invalid extent size"));if(!this.ready)return this._set("extent",p),this._set("center",null),this._set("viewpoint",null),this._set("scale",0),this._set("zoom",-1),void this.notifyChange("initialExtentRequired");let g;try{g=this._project(p,this.spatialReference)}catch(b){return void Ga.error(new Rn.Z("mapview:invalid-extent","could not project the value in the view's spatial reference",{error:b}))}const v=this.viewpoint;(0,Is.qf)(v,v,g,this.size,{constraints:this.constraints}),this.viewpoint=v}get padding(){return this.ready?this.state.padding:this._get("padding")}set padding(p){this.ready?(this.state.padding=p,this._set("padding",this.state.padding)):this._set("padding",p)}get resolution(){return this.state?this.state.resolution:0}get rotation(){return this.ready?this.state.rotation:this._get("rotation")}set rotation(p){if(isNaN(p))return;if(!this.ready)return void this._set("rotation",p);const g=this.viewpoint;(0,Is.YQ)(g,g,p),this.viewpoint=g}get scale(){return this.ready?this.state.scale:this._get("scale")}set scale(p){if(!p||isNaN(p))return;if(!this.ready){this._set("scale",p),this._set("zoom",-1);const v=this._get("extent");return v&&(this._set("extent",null),this._set("center",v.center)),void this.notifyChange("initialExtentRequired")}const g=this.viewpoint;(0,Is.Hy)(g,g,p),this.viewpoint=g}get stationary(){return!(this.animation||this.navigating||this.resizing||this._stationaryTimer)}get updating(){return!this.destroyed&&(!this.layerViewManager||!this.labelManager||!this.graphicsView||!0===this.layerViewManager.updating||!0===this.labelManager.updating||!0===this.graphicsView.updating||this.allLayerViews.some(p=>!p.destroyed&&!("layerViews"in p)&&!0===p.updating))}get viewpoint(){if(!this.ready)return this._get("viewpoint");const p=this.state.paddedViewState;return p&&p.viewpoint.clone()}set viewpoint(p){if(null==p)return;if(!this.ready)return this._set("viewpoint",p),this._set("extent",null),this._set("center",null),this._set("zoom",-1),this._set("scale",0),void this.notifyChange("initialExtentRequired");let g,v;try{g=this._project(p,this.spatialReference),!p.scale||isNaN(p.scale)?v=new Rn.Z("mapview:invalid-viewpoint",`invalid scale value of ${p.scale}`):(0,nn.Wi)(p.targetGeometry)&&(v=new Rn.Z("mapview:invalid-viewpoint","geometry not defined"))}catch(C){v=new Rn.Z("mapview:invalid-viewpoint","could not project the value in the view's spatial reference",{error:C})}if(v)return void Ga.error(v);this._scaleBeforeChangingSpatialReference=null;const b=new Fi.Z({targetGeometry:new hs.Z,scale:0,rotation:0});(0,Is.JG)(b,g),this.constraints.constrain(b,this.state.paddedViewState.viewpoint),this.state.viewpoint=b,this.frameTask.requestFrame(),this._set("viewpoint",b)}get zoom(){return this.ready?this.constraints.scaleToZoom(this.scale):this._get("zoom")}set zoom(p){if(null==p)return;if(!this.ready){this._set("zoom",p),this._set("scale",0);const v=this._get("extent");return v&&(this._set("extent",null),this._set("center",v.center)),void this.notifyChange("initialExtentRequired")}if(!this.constraints.effectiveLODs)return void this._set("zoom",-1);const g=this.viewpoint;(0,Is.Hy)(g,g,this.constraints.zoomToScale(p)),this.viewpoint=g,this._set("zoom",this.constraints.scaleToZoom(this.scale))}get navigating(){return!(!this.mapViewNavigation||!this.mapViewNavigation.interacting)}goTo(p,g){if(p)return this.animation&&(this.animation=null),this._createAnimation(),(0,dr.N1)(()=>this.ready,g).then(()=>{const v=Ct({animate:!0},g),b=(0,Is.Ue)(p,this);return this.animation.update(b),this._gotoTask={},v.animate?this._gotoAnimated(b,v):this._gotoImmediate(b,v)});Ga.error("#goTo()","target cannot be null or undefined")}hitTest(p,g){var v=this;return(0,Un.Z)(function*(){const b=uO(p)?lO(v,p):p;if(!v.ready||isNaN(b.x)||isNaN(b.y))return{screenPoint:b,results:[]};let C=new Set,D=!1,P=null,V=null;null!=g&&g.include?ow(g.include,iw(v,Fe=>C.add(Fe),Fe=>{P||(P=new Set),P.add(Fe)},Fe=>C.add(Fe),()=>D=!0)):(D=!0,C=new Set(v.allLayerViews)),null!=g&&g.exclude&&ow(g.exclude,iw(v,Fe=>C.delete(Fe),Fe=>{V||(V=new Set),V.add(Fe)}));const ae=v.allLayerViews.filter(Fe=>!Fe.suspended&&C.has(Fe)).reverse(),be=v.toMap(b);let Pe=(yield Promise.all([D?v.graphicsView.hitTest(be):null,...ae.map(Fe=>Fe.hitTest(be,b))])).filter(nn.pC).flat();return P&&(Pe=Pe.filter(Fe=>P.has(A_(Fe)))),V&&(Pe=Pe.filter(Fe=>!V.has(A_(Fe)))),{screenPoint:b,results:Pe.map(Fe=>({mapPoint:be,graphic:Fe}))}})()}takeScreenshot(p){p=p||{};const g=this.supersampleScreenshotsEnabled?Math.min(4,(0,BO.RZ)(this.size,Math.min(4096,this._stage.context.parameters.maxTextureSize))):1;let v;p.layers?(v=[],p.layers.forEach(P=>{const V=this.allLayerViews.find(ae=>ae.layer.id===P.id);V&&"container"in V&&V.container&&v.push(V.container)})):v=this._stage.children;const{format:b,quality:C}=(0,BO.LI)(p.format,p.quality),D=function O4(p,g,v,b,C,D,P,V){let ae;p.ignorePadding&&(b={left:0,right:0,top:0,bottom:0}),null!=p.width&&null!=p.height?ae=[p.width,p.height]:null==p.width&&null!=p.height?ae=[p.height,p.height]:null!=p.width&&null==p.height?ae=[p.width,p.width]:null==p.width&&null==p.height&&(ae=null);const be=v[0]-(b.left+b.right),Pe=v[1]-(b.top+b.bottom);let Fe,Xe,rt=p.area||{x:0,y:0,width:be,height:Pe};if(ae){const Zt=ae[0]/ae[1];if(Zt>be/Pe){const Xt=rt.width/Zt;rt={x:rt.x,y:Math.round(rt.y+(rt.height-Xt)/2),width:rt.width,height:Math.round(Xt)}}else{const Xt=rt.height*Zt;rt={x:Math.round(rt.x+(rt.width-Xt)/2),y:rt.y,width:Math.round(Xt),height:rt.height}}}else ae=[rt.width,rt.height];return ae[0]>rt.width?(Fe=Math.min(ae[0]/rt.width,g),Xe=ae[0]/rt.width/Fe):(Fe=1,Xe=ae[0]/rt.width),{resolutionScale:Fe,cropArea:{x:Math.round((rt.x+b.left)*Fe),y:Math.round((rt.y+b.top)*Fe),width:Math.round(rt.width*Fe),height:Math.round(rt.height*Fe)},outputScale:Xe,format:C,quality:D,children:P,rotation:V}}(p,g,this.size,this.padding,b,C,v,p.rotation);return this._stage.takeScreenshot(D)}toMap(p){if(!this.ready)return null;const g=uO(p)?lO(this,p):p,[b,C]=this.state.toMap([0,0],[g.x,g.y]);return new hs.Z({x:b,y:C,spatialReference:this.spatialReference})}toScreen(p){if(!this.ready)return null;const g=this._project(p,this.spatialReference),v=[g.x,g.y];return this.state.toScreen(v,v),(0,ii.vW)(v[0],v[1])}on(p,g,v,b){return this.inputManager&&this.viewEvents.on(p,g,v,b)||super.on(p,g)}hasEventListener(p){return super.hasEventListener(p)||this.viewEvents.hasHandler(p)}whenLayerView(p){return super.whenLayerView(p)}graphicChanged(p){this.graphicsView&&this.graphicsView.graphicUpdateHandler(p)}whenReady(){return new Promise(p=>{this.ready?p(this):this._resolveWhenReady.push(p)})}forceDOMReadyCycle(){this.forceReadyCycle()}getDefaultSpatialReference(){var p,g,v;return this.map&&"initialViewProperties"in this.map&&(null==(p=this.map)||null==(g=p.initialViewProperties)?void 0:g.spatialReference)||(null==(v=this.defaultsFromMap)?void 0:v.spatialReference)||null}hasLayerViewModule(p){return(p=>(0,nn.pC)(CO[p.type]))(p)}importLayerView(p){return(p=>{const g=CO[p.type];if(!(0,nn.pC)(g))throw function TU(p){const g=p.declaredClass?p.declaredClass.slice(p.declaredClass.lastIndexOf(".")+1):"Unknown",v=g.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();return new Rn.Z(`${v}:view-not-supported`,`${g} is not supported in 2D`)}(p);return g(p)})(p)}pixelSizeAt(){return this.ready?this.state.resolution:(Ga.error("#pixelSizeAt()","Map view cannot be used before it is ready"),null)}popupHitTest(p){return this.hitTest(p).then(g=>Bn(Ct({},g),{mapPoint:this.toMap(p)}))}requestUpdate(){this.ready&&this.frameTask.requestUpdate()}validate(){let p=function w4(p){const g=function P4(p){const g=(0,VO.Sh)(p);for(;g.length>1;){const v=(0,WO.hc)(g.shift());if(v.available)return v}return(0,WO.hc)(g.shift())}(p);if(!g.available)return new Rn.Z("webgl:required","WebGL is required but not supported.");if("3d"===p&&g.majorPerformanceCaveat)return new Rn.Z("webgl:major-performance-caveat-detected","Your WebGL implementation doesn't seem to support hardware accelerated rendering. Check your browser settings or if your GPU is in a blocklist.");if(!g.supportsHighPrecisionFragment)return new Rn.Z("webgl:high-precision-fragment-required","WebGL support for high precision fragment shaders is required but not supported.");if(!g.supportsVertexShaderSamplers)return new Rn.Z("webgl:vertex-shader-samplers-required","WebGL support for vertex shader samplers is required but not supported.");if(g.type===VO.zO.WEBGL1){if(!g.supportsElementIndexUint)return new Rn.Z("webgl:element-index-uint-required","WebGL support for uint vertex indices is required but not supported.");if(!g.supportsStandardDerivatives)return new Rn.Z("webgl:standard-derivatives-required","WebGL support for standard derivatives is required but not supported.");if(!g.supportsInstancedArrays)return new Rn.Z("webgl:instanced-arrays-required","WebGL support for instanced rendering is required but not supported.")}return null}(this.type);return(0,Wo.Z)("safari")&&(0,Wo.Z)("safari")<9&&(p=new Rn.Z("mapview:browser-not-supported","This browser is not supported by MapView (Safari < 9)",{type:"safari",requiredVersion:9,detectedVersion:(0,Wo.Z)("safari")})),(0,nn.pC)(p)?(Ga.warn("#validate()",p.message),Promise.reject(p)):function G4(){return x_.apply(this,arguments)}()}_createAnimation(){return this.animation&&!this.animation.done||(this.animation=new h_),this.animation}_cancellableGoTo(p,g,v){const b=()=>p===this._gotoTask,C=v.then(()=>{b()&&(this.animation=null)}).catch(P=>{throw b()&&(this.animation=null,g.done||(g.stop(),this.frameTask.animationInProgress=!1)),P}),D=new Promise(P=>P(C));return g.when().catch(()=>{b()&&D.cancel&&D.cancel()}),D}_gotoImmediate(p,g){const v=this._gotoTask,b=this.animation,C=p.then(D=>{if((0,Er.k_)(g),v!==this._gotoTask)throw new Rn.Z("view:goto-interrupted","Goto was interrupted");this.viewpoint=b.target=D,b.finish()});return this._cancellableGoTo(v,b,C)}_flipStationary(p){return null!==this._stationaryTimer||(this._stationaryTimer=setTimeout(()=>{this._stationaryTimer=null;const g=performance.now()-this._lastStationaryEventTimestamp;g<160&&(this._stationaryTimer=this._flipStationary(g))},p)),this._stationaryTimer}_getDefaultViewpoint(){var p,g,v,b;const{constraints:C,initialExtent:D,map:P}=this;if(!C)return null;const V=P&&"initialViewProperties"in P&&P.initialViewProperties,ae={zoom:this._get("zoom"),scale:this._get("scale"),center:this._get("center"),extent:this._get("extent"),rotation:this._get("rotation"),viewpoint:this._get("viewpoint"),spatialReference:this._userSpatialReference};C.effectiveLODs?-1!==ae.zoom&&(ae.scale=C.zoomToScale(ae.zoom)):ae.zoom=-1;let be=null,Pe=null,Fe=0;const Xe=ae.viewpoint&&ae.viewpoint.rotation,rt=ae.viewpoint&&ae.viewpoint.targetGeometry;(0,nn.pC)(rt)&&("extent"===rt.type?be=rt:"point"===rt.type&&(Pe=rt,Fe=ae.viewpoint.scale));const It=ae.extent||be||(null==(p=(0,nn.Wg)(null==V||null==(g=V.viewpoint)?void 0:g.targetGeometry))?void 0:p.extent)||D,Zt=ae.center||Pe||(null==It?void 0:It.center),Xt=ae.scale||Fe||(null==V||null==(v=V.viewpoint)?void 0:v.scale)||It&&(0,Is.EK)(It,this.size),tn=ae.rotation||Xe||(null==V||null==(b=V.viewpoint)?void 0:b.rotation)||0;return Zt&&Xt?new Fi.Z({targetGeometry:Zt,scale:Xt,rotation:tn}):null}_gotoAnimated(p,g){const v=this._gotoTask,b=this.animation,C=p.then(D=>{if((0,Er.k_)(g),v!==this._gotoTask)throw new Rn.Z("view:goto-interrupted","Goto was interrupted");return b.update(D),this.animationManager.animate(b,this.viewpoint,g),b.when().then(()=>{},()=>{})});return this._cancellableGoTo(v,b,C)}_project(p,g){var v;const b=p&&p.targetGeometry||p;if(!g)return p;if(!b)return null;if(g.imageCoordinateSystem||null!=(v=b.spatialReference)&&v.imageCoordinateSystem||(0,Tp.fS)(g,b.spatialReference))return p;const C=(0,ga.iV)(b,g);if(!C)throw new Rn.Z("mapview:projection-not-possible","projecting input geometry to target spatial reference returned a null value",{geometry:b,spatialReference:g});return function k4(p){return p&&"esri.Viewpoint"===p.declaredClass}(p)?(p.targetGeometry=C,p):C}_resizeHandler(p){if(!this.ready)return;const g=this.state;let v=this.state.paddedViewState.viewpoint;const b=this.state.paddedViewState.size.concat();g.size=[p.width,p.height],(0,Is.SI)(v,v,b,this.state.paddedViewState.size,this.resizeAlign),v=this.constraints.constrain(v,null),this.state.viewpoint=v}_startup(){var p;this.timeline.begin("MapView Startup");const g=this._getDefaultViewpoint(),v=g.targetGeometry;try{this._project(g,this.spatialReference)}catch(be){var b;Ga.warn(new BD.Z("mapview:startup-projection-error","projection of initial viewpoint to the view's spatial reference, defaulting to the initial viewpoint.",{center:v.toJSON(),spatialReference:this.spatialReference,error:be})),g.targetGeometry=(null==(b=this.defaultsFromMap.extent)?void 0:b.center)||new hs.Z({x:0,y:0,spatialReference:this.spatialReference})}null==(p=this.constraints)||p.fit(g),this._set("state",new WU({padding:this._get("padding"),size:this.size,viewpoint:g})),this.graphics.owner=this;const C=new XO(this.surface,{canvas:this.renderCanvas,supersampleScreenshots:this.supersampleScreenshotsEnabled,contextOptions:{disabledExtensions:this.deactivatedWebGLExtensions,debugWebGLExtensions:this.debugWebGLExtensions},renderingOptions:this.renderingOptions,timeline:this.timeline});this._stage=C,this._magnifierView=new rw,this._magnifierView.magnifier=this.magnifier;const D=new tw({view:this});this._set("labelManager",D);const P=new PU({view:this});this._set("animationManager",P);const V=new nw({view:this,animationManager:P});this._set("mapViewNavigation",V),this._setupSpatialReferenceDependentProperties(),this.handles.add([this.rootLayerViews.on("change",()=>this._updateStageChildren()),C.on("post-render",()=>this._set("rendering",C.renderRequested)),C.on("will-render",()=>this._set("rendering",C.renderRequested)),C.on("webgl-error",be=>this.fatalError=be.error),(0,dr.YP)(()=>this.stationary,be=>C.stationary=be,dr.tX),(0,dr.YP)(()=>this.background,be=>{C.background=be,this._magnifierView.background=be},dr.tX),(0,dr.YP)(()=>this.magnifier,be=>this._magnifierView.magnifier=be,dr.tX),(0,dr.YP)(()=>this.renderingOptions,be=>C.renderingOptions=be,dr.tX),(0,dr.YP)(()=>this.highlightOptions,be=>C.highlightOptions=be,dr.tX),(0,dr.YP)(()=>this.state.id,()=>C.state=this.state,dr.tX)],"map-view"),this._updateStageChildren();const ae=this._resolveWhenReady;this._resolveWhenReady=[],ae.forEach(be=>be(this)),this.timeline.end("MapView Startup"),this.frameTask&&this.frameTask.start(),this._set("ready",!0)}_teardown(){this._destroySpatialReferenceDependentProperties(),this.handles.remove("map-view"),this.mapViewNavigation.destroy(),this._set("mapViewNavigation",null),this.animationManager.destroy(),this._set("animationManager",null),this.layerViewManager.clear(),this.labelManager.destroy(),this._magnifierView.destroy(),this._stage.destroy(),this._stage=null,this._set("graphicsView",null),this._magnifierView=null,this._set("labelManager",null),this._set("mapViewNavigation",null),this.graphics.owner=null,this.frameTask&&this.frameTask.stop(),this._stationaryTimer&&(clearTimeout(this._stationaryTimer),this._stationaryTimer=null),this._set("ready",!1);const{center:[p,g],spatialReference:v,rotation:b,scale:C}=this.state.paddedViewState,D=new hs.Z({x:p,y:g,spatialReference:v});this._set("viewpoint",null),this._set("extent",null),this._set("center",D),this._set("zoom",-1),this._set("rotation",b),this._set("scale",C),this._set("spatialReference",v),this._set("state",null),this.animation=null}_updateStageChildren(){this._stage.removeAllChildren(),this.rootLayerViews.forEach(g=>{this._stage.addChild(g.container)}),this._stage.addChild(this.graphicsView.container),this._stage.addChild(this._magnifierView)}_setupSpatialReferenceDependentProperties(){const p=new VU.Z(z6.Z.create({spatialReference:this.spatialReference,size:512,numLODs:36}));this._set("featuresTilingScheme",p);const g=new qO({view:this,graphics:this.graphics,requestUpdateCallback:()=>this.requestUpdate(),container:new ew(p)});this.frameTask.graphicsView=g,this._set("graphicsView",g)}_destroySpatialReferenceDependentProperties(){const p=this.graphicsView;this._set("graphicsView",null),this.frameTask.graphicsView=null,p.destroy(),this._set("featuresTilingScheme",null)}_spatialReferenceChanged(p){if(!this.ready)return;this.frameTask.stop();for(const V of this.allLayerViews)V.processDetach();this._destroySpatialReferenceDependentProperties();const g=this.state.paddedViewState.clone();if((0,nn.Wi)(this._scaleBeforeChangingSpatialReference))this._scaleBeforeChangingSpatialReference=g.scale;else{const V=g.viewpoint.clone();V.scale=this._scaleBeforeChangingSpatialReference,g.viewpoint=V}const v=g.clone(),[b,C]=g.center;let D=null;try{D=this._project(new hs.Z({x:b,y:C,spatialReference:g.spatialReference}),p)}catch(V){(0,ga.kR)()||Ga.warn(new BD.Z("mapview:spatial-reference-change","could not project the view's center to the new spatial reference",{center:D.toJSON(),spatialReference:p,error:V}))}D||(D=new hs.Z({x:0,y:0,spatialReference:p}));const P=(0,Is.o2)(new Fi.Z({targetGeometry:new hs.Z,scale:0,rotation:0}),g.viewpoint,D);v.viewpoint=P;try{const ae=[g.size[0]/2,g.size[1]/2],be=[ae[0]+20,ae[1]],Pe=g.toMap([0,0],be),{x:Fe,y:Xe}=this._project(new hs.Z({x:Pe[0],y:Pe[1],spatialReference:g.spatialReference}),p);Pe[0]=Fe,Pe[1]=Xe,v.toScreen(Pe,Pe);const rt=(0,Is.dI)(ae,Pe,be),It=Math.hypot(Pe[0]-ae[0],Pe[1]-ae[1])/20;!Number.isFinite(It)||Math.abs(It)>4?(P.rotation=0,P.targetGeometry=new hs.Z({x:0,y:0,spatialReference:p})):(P.scale*=It,P.scale>(0,Wo.Z)("mapview-srswitch-adjust-rotation-scale-threshold")?P.rotation=0:P.rotation+=Number.isFinite(rt)?rt:0)}catch(V){}this._get("constraints").constrain(P,null),this._get("state").viewpoint=P,this._stage.state=this.state,this._setupSpatialReferenceDependentProperties();for(const V of this.allLayerViews)V.processAttach();this.frameTask.requestFrame(),this.frameTask.start(),this._updateStageChildren()}};(0,ye._)([(0,Oe.Cb)({readOnly:!0})],hr.prototype,"animationManager",void 0),(0,ye._)([(0,Oe.Cb)({constructOnly:!0})],hr.prototype,"deactivatedWebGLExtensions",void 0),(0,ye._)([(0,Oe.Cb)({constructOnly:!0})],hr.prototype,"debugWebGLExtensions",void 0),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],hr.prototype,"featuresTilingScheme",void 0),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],hr.prototype,"fullOpacity",void 0),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],hr.prototype,"graphicsTileStore",null),(0,ye._)([(0,Oe.Cb)()],hr.prototype,"graphicsView",void 0),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],hr.prototype,"state",void 0),(0,ye._)([(0,Oe.Cb)()],hr.prototype,"initialExtentRequired",null),(0,ye._)([(0,Oe.Cb)()],hr.prototype,"labelManager",void 0),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],hr.prototype,"resourceManager",null),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],hr.prototype,"textureManager",null),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],hr.prototype,"mapViewNavigation",void 0),(0,ye._)([(0,Oe.Cb)({constructOnly:!0})],hr.prototype,"renderCanvas",void 0),(0,ye._)([(0,Oe.Cb)()],hr.prototype,"renderingOptions",void 0),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],hr.prototype,"rendering",void 0),(0,ye._)([(0,Oe.Cb)({constructOnly:!0})],hr.prototype,"supersampleScreenshotsEnabled",void 0),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],hr.prototype,"supportsGround",void 0),(0,ye._)([(0,Oe.Cb)()],hr.prototype,"_stationaryTimer",void 0),(0,ye._)([(0,Oe.Cb)()],hr.prototype,"_defaultsFromMapSettings",null),(0,ye._)([(0,Oe.Cb)()],hr.prototype,"_pePromise",void 0),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],hr.prototype,"typeSpecificPreconditionsReady",null),(0,ye._)([(0,Oe.Cb)()],hr.prototype,"animation",null),(0,ye._)([(0,Oe.Cb)({type:Fp})],hr.prototype,"background",null),(0,ye._)([(0,Oe.Cb)({value:null,type:hs.Z,dependsOn:["state.id","ready"]})],hr.prototype,"center",null),(0,ye._)([(0,Oe.Cb)({type:wO})],hr.prototype,"constraints",null),(0,ye._)([(0,Oe.Cb)({value:null,type:fa.Z,dependsOn:["state.id","ready"]})],hr.prototype,"extent",null),(0,ye._)([(0,Oe.Cb)()],hr.prototype,"floors",void 0),(0,ye._)([(0,Oe.Cb)({type:FO})],hr.prototype,"highlightOptions",void 0),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],hr.prototype,"inputManager",void 0),(0,ye._)([(0,Oe.Cb)()],hr.prototype,"map",void 0),(0,ye._)([(0,Oe.Cb)({value:{top:0,right:0,bottom:0,left:0},cast:p=>Ct({top:0,right:0,bottom:0,left:0},p)})],hr.prototype,"padding",null),(0,ye._)([(0,Oe.Cb)()],hr.prototype,"resizeAlign",void 0),(0,ye._)([(0,Oe.Cb)({readOnly:!0,dependsOn:["state.id"]})],hr.prototype,"resolution",null),(0,ye._)([(0,Oe.Cb)({value:0,type:Number,dependsOn:["state.id","ready"]})],hr.prototype,"rotation",null),(0,ye._)([(0,Oe.Cb)({value:0,type:Number,dependsOn:["state.id","ready"]})],hr.prototype,"scale",null),(0,ye._)([(0,Oe.Cb)({constructOnly:!0})],hr.prototype,"spatialReferenceLocked",void 0),(0,ye._)([(0,Oe.Cb)()],hr.prototype,"stationary",null),(0,ye._)([(0,Oe.Cb)({type:NO.T,readOnly:!0})],hr.prototype,"timeline",void 0),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],hr.prototype,"type",void 0),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],hr.prototype,"updating",null),(0,ye._)([(0,Oe.Cb)({value:null,type:Fi.Z,dependsOn:["state.id","ready"]})],hr.prototype,"viewpoint",null),(0,ye._)([(0,Oe.Cb)({value:-1,dependsOn:["state.id"]})],hr.prototype,"zoom",null),(0,ye._)([(0,Oe.Cb)({type:Boolean})],hr.prototype,"navigating",null),(0,ye._)([(0,Oe.Cb)({type:QO})],hr.prototype,"ui",void 0),hr=(0,ye._)([(0,bn.j)("esri.views.MapView")],hr);const H4=hr;function A_(p){const g=p.getObjectId();var v,b,C,D;return g?`${null!=(v=null!=(b=null==(C=p.layer)?void 0:C.uid)?b:null==(D=p.sourceLayer)?void 0:D.uid)?v:"MapView"}/${g}`:`"MapView/${p.uid}`}function iw(p,g,v,b,C){return D=>{if(D instanceof ja.Z){if(D.layer===p)null==C||C();else{const P=p.allLayerViews.find(V=>V.layer===D.layer);P&&(null==b||b(P))}v(A_(D))}else{const P=p.allLayerViews.find(V=>V.layer===D);P&&g(P)}}}function ow(p,g){if(p)if((0,ND.TW)(p))for(const v of p)if((0,ND.TW)(v))for(const b of v)g(b);else g(v);else g(p)}var aw=E(73281),J4=E(41840);let Ws=class extends((0,SD.I)(Br.wq)){constructor(p){super(p),this.autoNavigate=null,this.filter=null,this.getResults=null,this.getSuggestions=null,this.maxResults=null,this.maxSuggestions=null,this.minSuggestCharacters=null,this.outFields=null,this.placeholder="",this.popupEnabled=null,this.popupTemplate=null,this.prefix="",this.resultGraphicEnabled=null,this.resultSymbol=null,this.suggestionsEnabled=null,this.suffix="",this.withinViewEnabled=!1,this.zoomScale=null}};(0,ye._)([(0,Oe.Cb)()],Ws.prototype,"autoNavigate",void 0),(0,ye._)([(0,Oe.Cb)()],Ws.prototype,"filter",void 0),(0,ye._)([(0,Oe.Cb)()],Ws.prototype,"getResults",void 0),(0,ye._)([(0,Oe.Cb)()],Ws.prototype,"getSuggestions",void 0),(0,ye._)([(0,Oe.Cb)()],Ws.prototype,"maxResults",void 0),(0,ye._)([(0,Oe.Cb)()],Ws.prototype,"maxSuggestions",void 0),(0,ye._)([(0,Oe.Cb)()],Ws.prototype,"minSuggestCharacters",void 0),(0,ye._)([(0,Oe.Cb)()],Ws.prototype,"outFields",void 0),(0,ye._)([(0,Oe.Cb)()],Ws.prototype,"placeholder",void 0),(0,ye._)([(0,Oe.Cb)()],Ws.prototype,"popupEnabled",void 0),(0,ye._)([(0,Oe.Cb)()],Ws.prototype,"popupTemplate",void 0),(0,ye._)([(0,Oe.Cb)()],Ws.prototype,"prefix",void 0),(0,ye._)([(0,Oe.Cb)()],Ws.prototype,"resultGraphicEnabled",void 0),(0,ye._)([(0,Oe.Cb)()],Ws.prototype,"resultSymbol",void 0),(0,ye._)([(0,Oe.Cb)()],Ws.prototype,"suggestionsEnabled",void 0),(0,ye._)([(0,Oe.Cb)()],Ws.prototype,"suffix",void 0),(0,ye._)([(0,Oe.Cb)()],Ws.prototype,"withinViewEnabled",void 0),(0,ye._)([(0,Oe.Cb)()],Ws.prototype,"zoomScale",void 0),Ws=(0,ye._)([(0,bn.j)("esri.widgets.Search.SearchSource")],Ws);const R_=Ws;var Y4=E(83137);const lw=ns.Z.getLogger("esri.widgets.Search.support.geometryUtils");function Q4(p,g){var v,b;if(!g)return lw.error("missing-parameter: view is missing."),Promise.reject(new Rn.Z("searchgeometryutils:missing-parameter","view is missing."));if(!p)return lw.error("missing-parameter: point is missing."),Promise.reject(new Rn.Z("searchgeometryutils:missing-parameter","point is missing."));if(p.hasZ||"2d"===g.type)return Promise.resolve(p);const C=null==g||null==(v=g.map)?void 0:v.ground;return C&&C.layers.length?C.queryElevation(p,{cache:null==(b=g.basemapTerrain)?void 0:b.elevationQueryCache}).then(D=>D.geometry):Promise.resolve(p)}function uw(p){if((0,nn.Wi)(p))return null;switch(p.type){case"point":return p;case"extent":return p.center;case"polygon":return p.centroid;case"multipoint":return p.getPoint(0);case"polyline":return p.getPoint(0,0)}return null}function L_(p,g,v){return(0,nn.Wi)(p)?null:"extent"===p.type?p:"multipoint"===p.type||"polygon"===p.type||"polyline"===p.type?p.extent:"point"===p.type?cw(p,g,v):void 0}function j_(p,g,v){return(0,nn.Wi)(p)||(0,nn.Wi)(g)?null:cw(p.center,g,v)}function cw(p,g,v){const b=p.hasZ?p.z:void 0;return g&&g.map?(v?(0,Y4.D9)(g,v):g.extent).clone().centerAt(p).set({zmax:b,zmin:b}):new fa.Z({xmin:p.x-.25,ymin:p.y-.25,xmax:p.x+.25,ymax:p.y+.25,spatialReference:p.spatialReference,zmin:b,zmax:b})}const X4=/https?:\/\/services.*\.arcgis\.com/i,q4=/(?:\{([^}]+)\})/g,Sc=ns.Z.getLogger("esri.widgets.Search.support.layerSearchUtils");function dw(p,g){const{filter:v,withinViewEnabled:b}=p,C=g&&g.extent;return v&&v.geometry||(b&&C?C:void 0)}function hw(p){return p&&-1!==p.indexOf("*")}function pw(p){return U_.apply(this,arguments)}function U_(){return U_=(0,Un.Z)(function*(p){p&&(yield p.load())}),U_.apply(this,arguments)}function fw(p){var g,v,b;return null!=(g=null==p||null==(v=p.capabilities)||null==(b=v.query)?void 0:b.supportsPagination)&&g}function mw(p){return p.displayField||p.layer.displayField||function n9(p){var g,v,b,C;return null!=(g=null==p||null==(v=p.fieldsIndex)||null==(b=v.fields)||null==(C=b.find(D=>"string"===D.type))?void 0:C.name)?g:""}(p.layer)}function Mf(p,g){return!(!p||!g)&&g.every(v=>F_(p,v))}function F_(p,g){return!!p.getField(g)}function yw(p){return p.replace(/\'/g,"''")}function Cf(p,g){const v=g&&g.where;return v?`(${p}) AND (${v})`:p}function gw({searchTerm:p,layer:g,searchFields:v,filter:b,exactMatch:C,type:D}){const{definitionExpression:P,url:V}=g;let ae="";return p&&v&&v.forEach(be=>{const Pe=g.getField(be),Fe="function"==typeof g.getFieldDomain&&g.getFieldDomain(be),Xe=(Fe&&"coded-value"===Fe.type?function s9(p,g,v){let b=null;const{codedValues:C}=p;return C&&C.some(D=>{const P=D.name,V=v?P:P.toLowerCase();return(v?g:g.toLowerCase())===V&&(b=D.code.toString(),!0)}),b}(Fe,p,C):null)||p||null;if(null!==Xe){const rt=function i9({currentTerm:p,field:g,filter:v,exactMatch:b,url:C,type:D}){const P=g.type,V=g.name;if("string"===P||"date"===P||"global-id"===P){const ae=X4.test(C),be=ae&&function r9(p){for(let g=0;g<p.length;g++)if(p.charCodeAt(g)>255)return!0;return!1}(p)?"N":"";if(b&&"search"===D)return Cf(`${V} = ${be}'${p}'`,v);const Pe=ae?V:`UPPER(${V})`,Fe=ae?p:p.toUpperCase();return Cf(`${Pe} LIKE ${be}${b?`'${Fe}%'`:`'%${Fe}%'`}`,v)}if("oid"===P||"small-integer"===P||"integer"===P||"single"===P||"double"===P){const ae=Number(p);return isNaN(ae)?null:Cf(`${V} = ${ae}`,v)}return Cf(`${V} = ${p}`,v)}({currentTerm:Xe,field:Pe,filter:b,exactMatch:C,url:V,type:D});rt&&(ae+=function o9(p,g){return p?` OR (${g})`:`(${g})`}(ae,rt))}}),P?`(${P}) AND (${ae})`:ae}function _w(p,g,v){const b=p.sourceLayer,{attributes:C}=p,D="function"==typeof b.getFieldDomain&&b.getFieldDomain(v);if(g)return(0,zo.n)(g,C);if(v&&C){const P=b.getField(v),V=function l9(p,g){return p[Object.keys(p).find(v=>v.toLowerCase()===g.toLowerCase())]}(C,v);return null==V?"":D&&"coded-value"===D.type?function a9(p,g){let v=null;const{codedValues:b}=p;return b&&b.length&&b.some(C=>C.code===g&&(v=C.name,!0)),v}(D,V):"date"===(null==P?void 0:P.type)?(0,Ud.p6)(new Date(V)):"number"==typeof V?V.toString():"string"!=typeof V?"":V.trim()}return""}var N_;let ko=N_=class extends R_{constructor(p){super(p),this.displayField=null,this.exactMatch=null,this.orderByFields=null,this.searchFields=null,this.searchTemplate=null,this.suggestionTemplate=null,this.getResults=(g,v)=>function e9(p,g){const{exactMatch:v=!1,location:b,maxResults:C,spatialReference:D,source:P,sourceIndex:V,suggestResult:ae,view:be}=p,{layer:Pe,filter:Fe,zoomScale:Xe}=P,rt=be&&be.scale,It=dw(P,be),Zt=g&&g.signal;return pw(Pe).then(()=>{const Xt=Pe.popupTemplate;return Xt?Xt.getRequiredFields(Pe.fieldsIndex):null}).then(Xt=>{var tn,Gt,On;const{objectIdField:Ln,returnZ:Kn}=Pe,qn=mw(P);if(!F_(Pe,qn))throw Sc.error("invalid-field: displayField is invalid."),new Rn.Z("getResults():invalid-field","displayField is invalid.");const rs=P.outFields||(Xt&&Xt.length?Xt:[qn]),ss=hw(rs);if(-1!==rs.indexOf(Ln)||ss||rs.push(Ln),null!=(tn=Pe.floorInfo)&&tn.floorField&&rs.push(Pe.floorInfo.floorField),!ss&&!Mf(Pe,rs))throw Sc.error("invalid-field: outField is invalid."),new Rn.Z("getResults():invalid-field","outField is invalid.");const Zr=Pe.createQuery(),{orderByFields:xs}=P;if(xs&&(Zr.orderByFields=xs),D){Zr.outSpatialReference=D;const fs=1/(0,KD.c9)(D);fs&&(Zr.maxAllowableOffset=fs)}const qi="mesh"===Pe.geometryType||"multipatch"===Pe.geometryType,Oi=(null==(Gt=Pe.capabilities)||null==(On=Gt.data)?void 0:On.supportsZ)&&!qi;if(Zr.returnZ=Oi&&!1!==Kn,Zr.returnGeometry=!0,Zr.multipatchOption=qi?"xyFootprint":null,rs&&(Zr.outFields=rs),b)Zr.geometry=b;else if(ae.key)Zr.objectIds=[ae.key];else{const fs=P.searchFields||[qn];if(!Mf(Pe,fs))throw Sc.error("invalid-field: search field is invalid."),new Rn.Z("getResults():invalid-field","search field is invalid.");if(fw(Pe)&&(Zr.num=C),It&&(Zr.geometry=It),!ae.text.trim())return[];const{prefix:bi="",suffix:Yo=""}=P,Ac=gw({searchTerm:yw(`${bi}${ae.text}${Yo}`),layer:Pe,searchFields:fs,filter:Fe,exactMatch:v,type:"search"});if(!Ac)return[];Zr.where=Ac}return Pe.queryFeatures(Zr,{signal:Zt}).then(fs=>function h9(p,g,v,b,C,D,P){return p.features.map(V=>function d9(p,g,v,b,C,D,P){const V=p.clone(),ae=p.sourceLayer,be=ae&&ae.objectIdField,Pe=be&&p.attributes[be],Fe=_w(p,v.searchTemplate,C),Xe=L_(V.geometry,g,D),rt="number"==typeof P?j_((0,Qs.d9)(Xe),g,P):Xe,It=p.clone();return(0,nn.pC)(rt)&&(It.geometry=g_.Z.fromExtent(rt)),{extent:rt,target:It,feature:V,key:Pe,name:Fe,sourceIndex:b}}(V,g,v,b,C,D,P))}(fs,be,P,V,qn,rt,Xe))})}(Ct({source:this},g),v),this.getSuggestions=(g,v)=>function t9(p,g){const{source:v,spatialReference:b,view:C,suggestTerm:D,maxSuggestions:P,sourceIndex:V,exactMatch:ae}=p,{layer:be,filter:Pe}=v,Fe=g&&g.signal,Xe=dw(v,C);return pw(be).then(()=>{if(!fw(be))return[];const rt=mw(v),It=v.searchFields||[rt],Zt=[];v.suggestionTemplate?v.suggestionTemplate.replace(q4,(ss,Zr)=>(Zt.push(Zr),ss)):Zt.push(rt);const Xt=hw(Zt);-1!==Zt.indexOf(be.objectIdField)||Xt||Zt.push(be.objectIdField);const tn=F_(be,rt),Gt=Xt||Mf(be,Zt),On=Mf(be,It);if(!tn)throw Sc.error("invalid-field: displayField is invalid."),new Rn.Z("getSuggestions():invalid-field","displayField is invalid.");if(!Gt)throw Sc.error("invalid-field: outField is invalid."),new Rn.Z("getSuggestions():invalid-field","outField is invalid.");if(!On)throw Sc.error("invalid-field: search field is invalid."),new Rn.Z("getSuggestions():invalid-field","search field is invalid.");const Ln=be.createQuery(),{orderByFields:Kn}=v;if(Kn&&(Ln.orderByFields=Kn),Ln.outSpatialReference=b,Ln.returnGeometry=!1,Ln.num=P,Ln.outFields=Zt,Xe&&(Ln.geometry=Xe),!D.trim())return[];const{prefix:qn="",suffix:Hr=""}=v,rs=gw({searchTerm:yw(`${qn}${D}${Hr}`),layer:be,searchFields:It,filter:Pe,exactMatch:ae,type:"suggest"});return rs?(Ln.where=rs,be.queryFeatures(Ln,{signal:Fe}).then(ss=>function c9(p,g,v,b){return p.features.map(C=>function u9(p,g,v,b){const C=p.sourceLayer,{attributes:D}=p,{objectIdField:P}=C,V=D[P];return{text:_w(p,g.suggestionTemplate,b),key:V,sourceIndex:v}}(C,g,v,b))}(ss,v,V,rt))):[]})}(Ct({source:this},g),v)}set layer(p){this._set("layer",p),p&&p.load().catch(()=>{})}get name(){return this._getLayerTitle()||""}set name(p){void 0!==p?this._override("name",p):this._clearOverride("name")}clone(){return new N_({autoNavigate:this.autoNavigate,filter:this.filter,maxResults:this.maxResults,maxSuggestions:this.maxSuggestions,minSuggestCharacters:this.minSuggestCharacters,outFields:this.outFields?(0,Qs.d9)(this.outFields):null,placeholder:this.placeholder,popupEnabled:this.popupEnabled,prefix:this.prefix,resultGraphicEnabled:this.resultGraphicEnabled,resultSymbol:this.resultSymbol?this.resultSymbol.clone():null,suggestionsEnabled:this.suggestionsEnabled,suffix:this.suffix,withinViewEnabled:this.withinViewEnabled,displayField:this.displayField,exactMatch:this.exactMatch,layer:this.layer,searchFields:this.searchFields?(0,Qs.d9)(this.searchFields):null,suggestionTemplate:this.suggestionTemplate,zoomScale:this.zoomScale})}_getFirstStringField(){var p,g;return null!=(p=null==(g=this.layer.fieldsIndex.fields.find(v=>"string"===v.type))?void 0:g.name)?p:""}_getDisplayField(){return this.displayField||this.layer.displayField||this._getFirstStringField()}_getSearchFieldsString(){const{layer:p,searchFields:g}=this;return p.loaded?`: ${(g||[this._getDisplayField()]).map(v=>{const b=p.getField(v);return b&&b.alias||v}).join(", ")}`:""}_getLayerTitle(){const{layer:p}=this;if(!p)return;const{title:g}=p;return g?`${g}${this._getSearchFieldsString()}`:void 0}};(0,ye._)([(0,Oe.Cb)({json:{read:{source:"field.name"},write:{target:"field.name"}}})],ko.prototype,"displayField",void 0),(0,ye._)([(0,Oe.Cb)({json:{read:{source:"field.exactMatch"},write:{target:"field.exactMatch"}}})],ko.prototype,"exactMatch",void 0),(0,ye._)([(0,Oe.Cb)({value:null})],ko.prototype,"layer",null),(0,ye._)([(0,Oe.Cb)()],ko.prototype,"name",null),(0,ye._)([(0,Oe.Cb)({type:[String],json:{write:!0}})],ko.prototype,"orderByFields",void 0),(0,ye._)([(0,Oe.Cb)()],ko.prototype,"searchFields",void 0),(0,ye._)([(0,Oe.Cb)()],ko.prototype,"searchTemplate",void 0),(0,ye._)([(0,Oe.Cb)()],ko.prototype,"suggestionTemplate",void 0),ko=N_=(0,ye._)([(0,bn.j)("esri.widgets.Search.LayerSearchSource")],ko);const Oc=ko;var Po=E(2618);let Ol=class extends Br.wq{constructor(p){super(p),this.address=null,this.attributes=null,this.extent=null,this.location=null,this.score=null}};(0,ye._)([(0,Oe.Cb)({type:String,json:{write:!0}})],Ol.prototype,"address",void 0),(0,ye._)([(0,Oe.Cb)({type:Object,json:{write:!0}})],Ol.prototype,"attributes",void 0),(0,ye._)([(0,Oe.Cb)({type:fa.Z,json:{write:!0}})],Ol.prototype,"extent",void 0),(0,ye._)([(0,Oe.Cb)({type:hs.Z,json:{write:!0}})],Ol.prototype,"location",void 0),(0,ye._)([(0,Oe.Cb)({type:Number,json:{write:!0}})],Ol.prototype,"score",void 0),Ol=(0,ye._)([(0,bn.j)("esri.rest.support.AddressCandidate")],Ol);const B_=Ol;var W_=E(74722);let vi=class extends Br.wq{constructor(p){super(p),this.address=null,this.apiKey=null,this.categories=null,this.countryCode=null,this.forStorage=null,this.location=null,this.locationType=null,this.magicKey=null,this.maxLocations=null,this.outFields=null,this.outSpatialReference=null,this.searchExtent=null}};(0,ye._)([(0,Oe.Cb)({type:Object,json:{write:!0}})],vi.prototype,"address",void 0),(0,ye._)([(0,Oe.Cb)(W_.q)],vi.prototype,"apiKey",void 0),(0,ye._)([(0,Oe.Cb)({type:[String],json:{read:{source:"category",reader:p=>p?p.split(","):null},write:{target:"category",writer:(p,g)=>{g.category=p?p.join(","):null}}}})],vi.prototype,"categories",void 0),(0,ye._)([(0,Oe.Cb)({type:String,json:{write:!0}})],vi.prototype,"countryCode",void 0),(0,ye._)([(0,Oe.Cb)({type:Boolean,json:{write:!0}})],vi.prototype,"forStorage",void 0),(0,ye._)([(0,Oe.Cb)({type:hs.Z,json:{write:{writer:(p,g)=>{g.location=p?p.clone().normalize():null}}}})],vi.prototype,"location",void 0),(0,ye._)([(0,Oe.Cb)({type:String,json:{write:!0}})],vi.prototype,"locationType",void 0),(0,ye._)([(0,Oe.Cb)({type:String,json:{write:!0}})],vi.prototype,"magicKey",void 0),(0,ye._)([(0,Oe.Cb)({type:Number,json:{write:!0}})],vi.prototype,"maxLocations",void 0),(0,ye._)([(0,Oe.Cb)({type:[String],json:{write:{writer:(p,g)=>{g.outFields=p?p.join(","):null}}}})],vi.prototype,"outFields",void 0),(0,ye._)([(0,Oe.Cb)({type:Ni.Z,json:{read:{source:"outSR"},write:{target:"outSR"}}})],vi.prototype,"outSpatialReference",void 0),(0,ye._)([(0,Oe.Cb)({type:fa.Z,json:{write:{writer:(p,g)=>{const v=p?p.shiftCentralMeridian():null;g.searchExtent=v}}}})],vi.prototype,"searchExtent",void 0),vi=(0,ye._)([(0,bn.j)("esri.rest.support.AddressToLocationsParameters")],vi),vi.from=(0,ha.se)(vi);const vw=vi;function Ew(p,g,v){return V_.apply(this,arguments)}function V_(){return V_=(0,Un.Z)(function*(p,g,v){g=vw.from(g);const b=(0,Po.en)(p),Pe=g.toJSON(),{address:C}=Pe,D=Gw(Pe,["address"]),P=Bn(Ct(Ct({},C),D),{f:"json"}),V=(0,Po.cv)(Ct(Ct({},b.query),P)),ae=(0,Po.lA)(V,v);return(0,ll.default)(`${b.path}/findAddressCandidates`,ae).then(m9)}),V_.apply(this,arguments)}function m9({data:p}){if(!p)return[];const{candidates:g,spatialReference:v}=p;return g?g.map(b=>{if(!b)return;const{extent:C,location:D}=b,P=!C||function f9(p){return p&&"number"==typeof p.xmin&&"number"==typeof p.ymin&&"number"==typeof p.xmax&&"number"==typeof p.ymax}(C);return function p9(p){return p&&"number"==typeof p.x&&"number"==typeof p.y}(D)&&P?(C&&(C.spatialReference=v),D.spatialReference=v,B_.fromJSON(b)):void 0}):[]}let Ma=class extends Br.wq{constructor(p){super(p),this.addresses=null,this.categories=null,this.countryCode=null,this.locationType=null,this.outSpatialReference=null}};(0,ye._)([(0,Oe.Cb)({type:[Object],json:{read:{reader:p=>p&&p.records?p.records.map(g=>g.attributes):null},write:{writer:(p,g)=>{const v=[];Array.isArray(p)&&p.forEach(b=>{v.push({attributes:b})}),g.addresses={records:v}}}}})],Ma.prototype,"addresses",void 0),(0,ye._)([(0,Oe.Cb)({type:[String],json:{read:{source:"category",reader:p=>p?p.split(","):null},write:{target:"category",writer:(p,g)=>{g.category=p?p.join(","):null}}}})],Ma.prototype,"categories",void 0),(0,ye._)([(0,Oe.Cb)({type:String,json:{read:{source:"sourceCountry"},write:{target:"sourceCountry"}}})],Ma.prototype,"countryCode",void 0),(0,ye._)([(0,Oe.Cb)({type:String,json:{write:!0}})],Ma.prototype,"locationType",void 0),(0,ye._)([(0,Oe.Cb)({type:Ni.Z,json:{read:{source:"outSR"},write:{target:"outSR"}}})],Ma.prototype,"outSpatialReference",void 0),Ma=(0,ye._)([(0,bn.j)("esri.rest.support.AddressesToLocationsParameters")],Ma),Ma.from=(0,ha.se)(Ma);const y9=Ma;function Z_(){return Z_=(0,Un.Z)(function*(p,g,v){g=y9.from(g);const b=(0,Po.en)(p),C=Bn(Ct({},g.toJSON()),{f:"json"}),D=(0,Po.cv)(Ct(Ct({},b.query),C)),P=(0,Po.lA)(D,v);return(0,ll.default)(`${b.path}/geocodeAddresses`,P).then(_9)}),Z_.apply(this,arguments)}function _9(p){const{data:g}=p;if(!g)return[];const{locations:v,spatialReference:b}=g;return v?v.map(C=>{const{location:D}=C;return D&&(D.spatialReference=b),B_.fromJSON(C)}):[]}let ka=class extends Br.wq{constructor(p){super(p),this.apiKey=null,this.location=null,this.locationType=null,this.outSpatialReference=null}};(0,ye._)([(0,Oe.Cb)(W_.q)],ka.prototype,"apiKey",void 0),(0,ye._)([(0,Oe.Cb)({type:hs.Z,json:{write:{writer:(p,g)=>{const v=p?p.clone().normalize():null;g.location=void 0!==v?v:null}}}})],ka.prototype,"location",void 0),(0,ye._)([(0,Oe.Cb)({type:String,json:{write:!0}})],ka.prototype,"locationType",void 0),(0,ye._)([(0,Oe.Cb)({type:Ni.Z,json:{read:{source:"outSR"},write:{target:"outSR"}}})],ka.prototype,"outSpatialReference",void 0),ka=(0,ye._)([(0,bn.j)("esri.rest.support.LocationToAddressParameters")],ka),ka.from=(0,ha.se)(ka);const bw=ka;function Mw(p,g,v){return $_.apply(this,arguments)}function $_(){return $_=(0,Un.Z)(function*(p,g,v){g=bw.from(g);const b=(0,Po.en)(p),C=Bn(Ct({},g.toJSON()),{f:"json"}),D=(0,Po.cv)(Ct(Ct({},b.query),C)),P=(0,Po.lA)(D,v);return(0,ll.default)(`${b.path}/reverseGeocode`,P).then(v9)}),$_.apply(this,arguments)}function v9({data:p}){if(!p)return;const{address:g,location:v}=p;return B_.fromJSON({address:g&&g.Match_addr||"",attributes:g||{},location:v,score:100})}let wc=class extends Br.wq{constructor(p){super(p),this.isCollection=null,this.magicKey=null,this.text=null}};(0,ye._)([(0,Oe.Cb)({type:Boolean,json:{write:!0}})],wc.prototype,"isCollection",void 0),(0,ye._)([(0,Oe.Cb)({type:String,json:{write:!0}})],wc.prototype,"magicKey",void 0),(0,ye._)([(0,Oe.Cb)({type:String,json:{write:!0}})],wc.prototype,"text",void 0),wc=(0,ye._)([(0,bn.j)("esri.rest.support.SuggestionCandidate")],wc);const E9=wc;let ho=class extends Br.wq{constructor(p){super(p),this.apiKey=null,this.categories=null,this.countryCode=null,this.location=null,this.maxSuggestions=null,this.outSpatialReference=null,this.searchExtent=null,this.text=null}};(0,ye._)([(0,Oe.Cb)(W_.q)],ho.prototype,"apiKey",void 0),(0,ye._)([(0,Oe.Cb)({type:[String],json:{read:{source:"category",reader:p=>p?p.split(","):null},write:{target:"category",writer:(p,g)=>{g.category=p?p.join(","):null}}}})],ho.prototype,"categories",void 0),(0,ye._)([(0,Oe.Cb)({type:String,json:{write:!0}})],ho.prototype,"countryCode",void 0),(0,ye._)([(0,Oe.Cb)({type:hs.Z,json:{write:{writer:(p,g)=>{g.location=p?p.clone().normalize():null}}}})],ho.prototype,"location",void 0),(0,ye._)([(0,Oe.Cb)({type:Number,json:{write:!0}})],ho.prototype,"maxSuggestions",void 0),(0,ye._)([(0,Oe.Cb)({type:Ni.Z,json:{read:{source:"outSR"},write:{target:"outSR"}}})],ho.prototype,"outSpatialReference",void 0),(0,ye._)([(0,Oe.Cb)({type:fa.Z,json:{write:{writer:(p,g)=>{const v=p?p.shiftCentralMeridian():null;g.searchExtent=JSON.stringify(v)}}}})],ho.prototype,"searchExtent",void 0),(0,ye._)([(0,Oe.Cb)({type:String,json:{write:!0}})],ho.prototype,"text",void 0),ho=(0,ye._)([(0,bn.j)("esri.rest.support.SuggestLocationsParameters")],ho),ho.from=(0,ha.se)(ho);const Cw=ho;function Dw(p,g,v){return K_.apply(this,arguments)}function K_(){return K_=(0,Un.Z)(function*(p,g,v){const b=(0,Po.en)(p),C=Bn(Ct({},(g=Cw.from(g)).toJSON()),{f:"json"}),D=(0,Po.cv)(Ct(Ct({},b.query),C)),P=(0,Po.lA)(D,v);return(0,ll.default)(`${b.path}/suggest`,P).then(b9)}),K_.apply(this,arguments)}function b9(p){const{data:g}=p;if(!g)return[];const{suggestions:v}=g;return v?v.map(b=>new E9(b)):[]}var M9=E(79308);let eh=class extends M9.Z{constructor(p){super(p),this.outSpatialReference=null,this.url=null}addressToLocations(p,g){!p.outSpatialReference&&this.outSpatialReference&&(p.outSpatialReference=this.outSpatialReference);const v=Ct(Ct({},this.requestOptions),g);return Ew(this.url,p,v)}suggestLocations(p,g){const v=Ct(Ct({},this.requestOptions),g);return Dw(this.url,p,v)}addressesToLocations(p,g){!p.outSpatialReference&&this.outSpatialReference&&(p.outSpatialReference=this.outSpatialReference);const v=Ct(Ct({},this.requestOptions),g);return function g9(p,g,v){return Z_.apply(this,arguments)}(this.url,p,v)}locationToAddress(p,g){!p.outSpatialReference&&this.outSpatialReference&&(p.outSpatialReference=this.outSpatialReference);const v=Ct(Ct({},this.requestOptions),g);return Mw(this.url,p,v)}};(0,ye._)([(0,Oe.Cb)({type:Ni.Z})],eh.prototype,"outSpatialReference",void 0),(0,ye._)([(0,Oe.Cb)()],eh.prototype,"url",void 0),eh=(0,ye._)([(0,bn.j)("esri.tasks.Locator")],eh);const C9=eh;function Sw(p,g){if(g.localSearchDisabled)return null;const v=null==p?void 0:p.scale;return"number"==typeof v&&v<=3e5?p.get("extent.center"):null}function Ow(p){return!!p&&/(?:arcgis\.com\/arcgis\/rest\/services\/world\/geocodeserver).*/gi.test(p)}function ww(p,g){const{filter:v,withinViewEnabled:b}=p,D=g&&g.extent;return L_(v&&v.geometry,g,g&&g.scale)||(b&&D?D:void 0)}function Pw(p,g){return p.filter(Boolean).map(v=>function j9(p,g){const{key:v,scale:b,sourceIndex:C,view:D,zoomScale:P,defaultZoomScale:V}=g,{attributes:ae,extent:be,location:Pe,address:Fe}=p,Xe=new ja.Z({geometry:Pe,attributes:ae}),rt=be||Pe,It=L_(rt,D,b),Zt="number"==typeof P?j_(It,D,P):"number"==typeof V&&"point"===rt.type?j_(It,D,V):It,tn=Fe||(Pe?`${Pe.x},${Pe.y}`:""),Gt=Xe.clone();return(0,nn.pC)(Zt)&&(Gt.geometry=g_.Z.fromExtent(Zt)),{extent:Zt,feature:Xe,target:Gt,key:v,name:tn,sourceIndex:C}}(v,g))}var z_;const Iw="esri.widgets.Search.LocatorSearchSource",Tw=ns.Z.getLogger(Iw);let Ei=z_=class extends R_{constructor(p){super(p),this.apiKey=null,this.categories=null,this.countryCode=null,this.defaultZoomScale=null,this.localSearchDisabled=!1,this.locationType=null,this.name="",this.placeholder="",this.searchTemplate="",this.singleLineFieldName=null,this.suggestionsEnabled=null,this.url=null,this.zoomScale=null,this.getResults=(g,v)=>function O9(p,g){return p.location?function x9(p,g){const{source:v,spatialReference:b,location:C,sourceIndex:D,view:P}=p,{apiKey:V,url:ae,zoomScale:be,defaultZoomScale:Pe}=v,Fe=P&&P.scale,Xe=g&&g.signal,rt=new bw;return rt.location=C,V&&(rt.apiKey=V),b&&(rt.outSpatialReference=b),Mw(ae,rt,{signal:Xe}).then(It=>Pw([It],{sourceIndex:D,scale:Fe,view:P,zoomScale:be,defaultZoomScale:Pe})).catch(()=>[])}(p,g):function A9(p,g){const{source:v,suggestResult:b,spatialReference:C,view:D,maxResults:P,sourceIndex:V}=p,ae=v&&v.zoomScale,be=v&&v.defaultZoomScale;if(!b.text.trim())return Promise.resolve(null);const Xe=`${!b.key&&v.prefix?v.prefix:""}${b.text}${!b.key&&v.suffix?v.suffix:""}`,rt=new vw,{apiKey:It,url:Zt}=v,Xt=D&&D.scale,tn=ww(v,D),Gt=g&&g.signal;if(It&&(rt.apiKey=It),!Zt)return Promise.resolve(null);v.categories&&(rt.categories=v.categories),v.locationType&&(rt.locationType=v.locationType),C&&(rt.outSpatialReference=C);const On=Sw(D,v);On&&(rt.location=On),rt.maxLocations=P,tn&&(rt.searchExtent=(0,nn.Wg)(tn)),v.countryCode&&(rt.countryCode=v.countryCode);const{key:Ln}=b,Kn=`${Ln}`;return Ln&&(rt.magicKey=Kn),rt.address={},rt.address[v.singleLineFieldName||"Single Line Input"]=Xe,v.outFields&&(rt.outFields=v.outFields),Ew(Zt,rt,{signal:Gt}).then(qn=>Pw(qn,{key:Kn,scale:Xt,sourceIndex:V,view:D,zoomScale:ae,defaultZoomScale:be}))}(p,g)}(Ct({source:this},g),v),this.getSuggestions=(g,v)=>function w9(p,g){const{source:v,spatialReference:b,view:C,suggestTerm:D,maxSuggestions:P,sourceIndex:V}=p,ae=new Cw,{apiKey:be,url:Pe}=v,Fe=ww(v,C),Xe=g&&g.signal;if(!Pe)return Promise.resolve(null);be&&(ae.apiKey=be),v.categories&&(ae.categories=v.categories),b&&(ae.outSpatialReference=b);const rt=Sw(C,v);if(rt&&(ae.location=rt),!D.trim())return Promise.resolve(null);const{prefix:It="",suffix:Zt=""}=v;return ae.text=`${It}${D}${Zt}`,Fe&&(ae.searchExtent=(0,nn.Wg)(Fe)),ae.maxSuggestions=P,v.countryCode&&(ae.countryCode=v.countryCode),Dw(Pe,ae,{signal:Xe}).then(tn=>function L9(p,g){return p.map(v=>function R9(p,g){return{text:p.text,key:p.magicKey,sourceIndex:g}}(v,g))}(tn,V))}(Ct({source:this},g),v)}set locator(p){(0,Ad.Mr)(Tw,"locator",{replacement:"url",version:"4.22"}),this._set("url",p.url),this._set("locator",p)}get locator(){return(0,Ad.Mr)(Tw,"locator",{replacement:"url",version:"4.22"}),this._get("locator")}clone(){return new z_({apiKey:this.apiKey,autoNavigate:this.autoNavigate,filter:this.filter,maxResults:this.maxResults,maxSuggestions:this.maxSuggestions,minSuggestCharacters:this.minSuggestCharacters,outFields:this.outFields?(0,Qs.d9)(this.outFields):null,placeholder:this.placeholder,popupEnabled:this.popupEnabled,prefix:this.prefix,resultGraphicEnabled:this.resultGraphicEnabled,resultSymbol:this.resultSymbol?this.resultSymbol.clone():null,suggestionsEnabled:this.suggestionsEnabled,suffix:this.suffix,withinViewEnabled:this.withinViewEnabled,categories:this.categories?(0,Qs.d9)(this.categories):null,countryCode:this.countryCode,locationType:this.locationType,locator:this.locator,searchTemplate:this.searchTemplate,singleLineFieldName:this.singleLineFieldName,zoomScale:this.zoomScale})}};(0,ye._)([(0,Oe.Cb)()],Ei.prototype,"apiKey",void 0),(0,ye._)([(0,Oe.Cb)()],Ei.prototype,"categories",void 0),(0,ye._)([(0,Oe.Cb)()],Ei.prototype,"countryCode",void 0),(0,ye._)([(0,Oe.Cb)({json:{write:!0}})],Ei.prototype,"defaultZoomScale",void 0),(0,ye._)([(0,Oe.Cb)()],Ei.prototype,"localSearchDisabled",void 0),(0,ye._)([(0,Oe.Cb)({type:C9,json:{read:!1,write:!1}})],Ei.prototype,"locator",null),(0,ye._)([(0,Oe.Cb)()],Ei.prototype,"locationType",void 0),(0,ye._)([(0,Oe.Cb)({json:{write:!0}})],Ei.prototype,"name",void 0),(0,ye._)([(0,Oe.Cb)({json:{write:!0}})],Ei.prototype,"placeholder",void 0),(0,ye._)([(0,Oe.Cb)()],Ei.prototype,"searchTemplate",void 0),(0,ye._)([(0,Oe.Cb)({json:{write:!0}})],Ei.prototype,"singleLineFieldName",void 0),(0,ye._)([(0,Oe.Cb)({json:{read:{source:"suggest"},write:{target:"suggest"}}})],Ei.prototype,"suggestionsEnabled",void 0),(0,ye._)([(0,Oe.Cb)({json:{write:!0}})],Ei.prototype,"url",void 0),(0,ye._)([(0,Oe.Cb)({json:{write:!0}})],Ei.prototype,"zoomScale",void 0),Ei=z_=(0,ye._)([(0,bn.j)(Iw)],Ei);const xw=Ei;E(21674),E(72854);var U9=E(55214);E(47856),E(17232),E(96109),E(29293),E(75499),E(22501),E(80640),E(51342),E(27414),E(18646),E(58245);const Aw=ns.Z.getLogger("esri.widgets.support.geolocationUtils"),F9={maximumAge:0,timeout:15e3,enableHighAccuracy:!0};function Rw(){return function N9(){const p=(0,Wo.Z)("esri-geolocation");return p||Aw.warn("geolocation-unsupported","Geolocation unsupported."),p}()&&function B9(){const p=window.isSecureContext;return p||Aw.warn("insecure-context","Geolocation requires a secure origin."),p}()}var G9=E(13546),k9=E(52068),H9=E(35540);function Si(p,g){return p.hasOwnProperty(g)&&null!=p[g]&&""!==p[g]}const Lw="esri.widgets.Search.SearchViewModel",Ho=ns.Z.getLogger(Lw),jw="highlight",Df=ds.Z.ofType({key:p=>p.layer?"layer":"locator",base:R_,typeMap:{layer:Oc,locator:xw}}),Uw=Ni.Z.WGS84,X9=/<(?:.|\s)*?>/g;let _r=class extends(t_(Id.Z.EventedMixin(Ur.Z))){constructor(p){super(p),this._handles=new Co.Z,this._gotoController=null,this._searching=null,this.autoNavigate=!0,this.autoSelect=!0,this.defaultPopupTemplate=null,this.defaultSources=new Df,this.defaultSymbols={point:new G9.Z({url:(0,dS.V)((0,Wo.Z)("trident")?"esri/images/search/search-symbol-32.png":"esri/images/search/search-symbol-32.svg"),size:24,width:24,height:24}),polyline:new k9.Z({color:[130,130,130,1],width:2}),polygon:new FS.Z({color:[235,235,235,.4],outline:{color:[130,130,130,1],width:2}})},this.includeDefaultSources=!0,this.maxInputLength=128,this.maxResults=6,this.maxSuggestions=6,this.messages=null,this.minSuggestCharacters=3,this.popupEnabled=!0,this.popupTemplate=null,this.portal=Vl.Z.getDefault(),this.resultCount=null,this.resultGraphicEnabled=!0,this.resultGraphic=null,this.results=null,this.selectedSuggestion=null,this.searchAllEnabled=!0,this.selectedResult=null,this.sources=new Df,this.suggestionDelay=350,this.suggestionCount=null,this.suggestions=null,this.suggestionsEnabled=!0,this.view=null}initialize(){var p=this;const g=function(){var v=(0,Un.Z)(function*(){const b=yield(0,J4.ME)("esri/widgets/Search/t9n/Search");p.messages=b,p.defaultPopupTemplate=new aw.Z({title:b.searchResult,content:"{Match_addr}"})});return function(){return v.apply(this,arguments)}}();g(),this._handles.add([(0,Jn.S1)(this,["includeDefaultSources","view","portal"],()=>this._update()),(0,ES.qe)(g)])}destroy(){this._abortGoTo(),this.clearGraphics(),this._handles.destroy(),this._handles=null}get activeSource(){return this.allSources.getItemAt(this.activeSourceIndex)||null}get activeSourceIndex(){return 1!==this.allSources.length&&this.searchAllEnabled?-1:0}set activeSourceIndex(p){void 0!==p?this._override("activeSourceIndex",p):this._clearOverride("activeSourceIndex")}get allPlaceholder(){var p;return null==(p=this.messages)?void 0:p.allPlaceholder}set allPlaceholder(p){p?this._override("allPlaceholder",p):this._clearOverride("allPlaceholder")}get allSources(){const{sources:p,defaultSources:g,includeDefaultSources:v}=this,b="function"==typeof v?v.call(null,{sources:p,defaultSources:g}):v?g.concat(p):p,C=this._get("allSources")||new Df;return C.removeAll(),C.addMany(b.filter(Boolean)),C}get defaultSymbol(){return(0,Ad.Mr)(Ho,"defaultSymbol",{replacement:"defaultSymbols",version:"4.22"}),this._get("defaultSymbol")}set defaultSymbol(p){(0,Ad.Mr)(Ho,"defaultSymbol",{replacement:"defaultSymbols",version:"4.22"}),this._set("defaultSymbol",p)}get locationEnabled(){return this._get("locationEnabled")||Rw()}set locationEnabled(p){if(void 0===p)return void this._clearOverride("locationEnabled");const g=Rw();if(p&&!g){const v=new Rn.Z("locationEnabled:geolocation-unsupported","Geolocation API is unsupported.",{geolocation:navigator.geolocation});Ho.error(v)}this._override("locationEnabled",p&&g)}get placeholder(){const{allSources:p,activeSourceIndex:g,allPlaceholder:v}=this;if(-1===g)return v;const b=p.getItemAt(g);return b?b.placeholder:""}set searchTerm(p){this._set("searchTerm",p||""),this.clearGraphics(),this.selectedSuggestion&&this.selectedSuggestion.text!==p&&this._set("selectedSuggestion",null),""===p&&this._clear()}get searchTerm(){return this._get("searchTerm")||""}get state(){return this._searching?"searching":this.updating?"loading":0===this.allSources.length?"disabled":"ready"}get updating(){return null!=this._updatingPromise}clear(){this.searchTerm=""}clearGraphics(){this._removeHighlight(),this._closePopup(),this.view&&this.view.graphics.remove(this.resultGraphic),this._set("resultGraphic",null)}search(p,g){this.emit("search-start"),this.clearGraphics();const v=this._createSuggestionForSearch(p),b=this.when().then(()=>this._getResultsFromSources(v,g).then(C=>{var D;if(null!=(D=(0,nn.Wg)(null==g?void 0:g.signal))&&D.aborted)return null;const P={activeSourceIndex:this.activeSourceIndex,searchTerm:v.text,numResults:0,numErrors:0,errors:[],results:[]};this._formatResponse(P,C,v);const V=this._getFirstResult(P.results),ae=(v.location&&V?V.name:v.text).replace(X9,"");return this._set("searchTerm",ae),(v.key&&"number"==typeof v.sourceIndex||v.location)&&this._set("selectedSuggestion",v),this._set("results",P.results),this._set("resultCount",P.results.reduce((be,Pe)=>be+Pe.results.length,0)),this.emit("search-complete",P),this._selectFirstResult(V).then(()=>P)})).then(C=>(this._clearSearching(),C),C=>{throw this._clearSearching(),C});return this._searching=b,b}searchNearby(p){if(!this.locationEnabled){const v=new Rn.Z("searchNearby:geolocation-unsupported","Geolocation API is unsupported.",{geolocation:navigator.geolocation});return Ho.error(v),Promise.reject(v)}const g=function W9(p){return p||(p=F9),new Promise((v,b)=>{setTimeout(()=>b(new Rn.Z("geolocation:timeout","getting the current geolocation position timed out")),15e3),navigator.geolocation.getCurrentPosition(v,b,p)})}().then(v=>function V9(p,g){const{position:v,view:b}=p;return function K9(p,g,v){if(!g)return Promise.resolve(p);const b=g.spatialReference;return b.isWGS84?Promise.resolve(p):b.isWebMercator?Promise.resolve((0,Wl.$)(p)):function z9(p){if(Td.Z.geometryServiceUrl)return Promise.resolve(Td.Z.geometryServiceUrl);const g=Vl.Z.getDefault();return g.load(p).catch(()=>{}).then(()=>g.get("helperServices.geometry.url"))}(v).then(C=>{if(!C)throw new Rn.Z("geometry-service:missing-url","Geometry service URL is missing");const D=new Ky.Z({geometries:[p],outSpatialReference:b});return(0,$y.i)(C,D,v).then(P=>P[0])})}(function $9(p){const g=p&&p.coords;return g?new hs.Z({longitude:g.longitude,latitude:g.latitude,z:g.altitude||null,spatialReference:{wkid:4326}}):null}(function Z9(p){const g=p&&p.coords||{};return p&&{coords:{accuracy:g.accuracy,altitude:g.altitude,altitudeAccuracy:g.altitudeAccuracy,heading:g.heading,latitude:g.latitude,longitude:g.longitude,speed:g.speed},timestamp:p.timestamp}}(v)),b,g)}({position:v,view:this.view},p)).then(v=>this.search(v,p));return this._searching=g,g.catch(()=>{}).then(()=>this._clearSearching()),g}select(p){if(this.clearGraphics(),!p){const tn=new Rn.Z("select:missing-parameter","Cannot select without a searchResult.",{searchResult:p});return Ho.error(tn),Promise.reject(tn)}const{view:g}=this,v=Si(p,"sourceIndex")?p.sourceIndex:this._getSourceIndexOfResult(p),b=this.allSources.getItemAt(v);if(!b){const tn=new Rn.Z("select:missing-source","Cannot select without a source.",{source:b});return Ho.error(tn),Promise.reject(tn)}const C=b instanceof Oc?this._getLayerSourcePopupTemplate(b):b.popupTemplate,D=b.resultSymbol||this._getDefaultSymbol(p),P=Si(b,"resultGraphicEnabled")?b.resultGraphicEnabled:this.resultGraphicEnabled,V=Si(b,"autoNavigate")?b.autoNavigate:this.autoNavigate,ae=Si(b,"popupEnabled")?b.popupEnabled:this.popupEnabled,be=ae?C||this.popupTemplate||this.defaultPopupTemplate:null,{feature:Pe}=p;if(!Pe){const tn=new Rn.Z("select:missing-feature","Cannot select without a feature.",{feature:Pe});return Ho.error(tn),Promise.reject(tn)}const{attributes:Fe,geometry:Xe,layer:rt,sourceLayer:It}=Pe,Zt=uw(Xe),Xt={layerViewQuery:this._getLayerView(Pe),elevationQuery:g&&(0,nn.pC)(Zt)?Q4(Zt,g).catch(()=>Zt):Promise.resolve(Zt)};return(0,Er.as)(Xt).then(tn=>{const Gt=tn.layerViewQuery.value,On=tn.elevationQuery.value;D instanceof H9.Z&&(D.text=p.name);const Ln=g&&V?p.target||p.extent:null;return((0,nn.pC)(Ln)?this._goToSearchResult(Ln):Promise.resolve()).then(()=>{var Kn;const qn=Gt?Pe:new ja.Z({geometry:Xe,symbol:D,attributes:Fe,layer:rt,sourceLayer:It,popupTemplate:be}),Hr=ae&&(null==(Kn=this.view)?void 0:Kn.popup),rs=Hr&&qn.getEffectivePopupTemplate(Hr.defaultPopupTemplateEnabled);return rs&&g.popup.open({features:[qn],location:On}),Gt&&jS(Gt)&&!rs&&this._highlightFeature({graphic:qn,layerView:Gt}),!Gt&&P&&g&&g.graphics.push(qn),this._setResultFloor(p),this._set("selectedResult",p),this._set("resultGraphic",qn),this.emit("select-result",{result:p,source:b,sourceIndex:v}),p})})}suggest(p,g,v){const b=p||this.searchTerm;return this.emit("suggest-start",{searchTerm:b}),this._suggestTimer(g,v).then(()=>this._suggestImmediate(b,v).then(C=>(this._set("suggestions",C.results),this._set("suggestionCount",C.results.reduce((D,P)=>D+P.results.length,0)),this.emit("suggest-complete",C),C)))}when(){var p=this;return(0,Un.Z)(function*(){yield(0,dr.N1)(()=>!p.updating)})()}_update(){var p=this;return(0,Un.Z)(function*(){const{portal:g,view:v}=p;if(p.includeDefaultSources){const b=p._updatingPromise=(0,Er.as)([null==g?void 0:g.load(),null==v?void 0:v.when()]);if(p.destroyed||(yield b,b!==p._updatingPromise))return}yield(0,dr.N1)(()=>p.messages),p.destroyed||p._updateDefaultSources(),p._updatingPromise=null})()}_clearSearching(){this._searching=null}_convertHelperServices(){var p,g;const v=null==(p=this.portal)||null==(g=p.helperServices)?void 0:g.geocode;return v?v.map(b=>{if(!1===b.placefinding)return;const C=Td.Z.apiKey&&Ow(b.url)?{url:"https://geocode-api.arcgis.com/arcgis/rest/services/World/GeocodeServer"}:null,D=xw.fromJSON(Ct(Ct({},b),C)),P=D.url;return(Ow(P)||function I9(p){return!!p&&/(?:\/servers\/[\da-z\.-]+\/rest\/services\/world\/geocodeserver).*/gi.test(p)}(P)||function P9(p){return!!p&&/(?:geocode\-api\.arcgis\.com\/arcgis\/rest\/services\/world\/geocodeserver).*/gi.test(p)}(P))&&D.set({singleLineFieldName:"SingleLine",outFields:D.outFields||["Addr_type","Match_addr","StAddr","City"],placeholder:D.placeholder||this.messages.placeholder,defaultZoomScale:"number"==typeof D.defaultZoomScale?D.defaultZoomScale:2500}),D.singleLineFieldName?D:void 0}).filter(Boolean):[]}_getLayerSources(p,g){var v;const b=null==(v=this.view)?void 0:v.map;return p.map(C=>{const D=b.findLayerById(C.id);if(!D)return;const P=this._getLayerJSON(C),V=Oc.fromJSON(P);return V.placeholder=g,this._getLayer(D,P).then(ae=>{V.layer=ae}),V}).filter(Boolean).toArray()}_getTableSources(p,g){var v;const b=null==(v=this.view)?void 0:v.map;return p.map(C=>{const D=b.findTableById(C.id);if(!D)return;const P=this._getLayerJSON(C),V=Oc.fromJSON(P);return V.placeholder=g,this._getLayer(D,P).then(ae=>{V.layer=ae}),V}).filter(Boolean).toArray()}_convertApplicationProperties(){var p,g,v;const b=null==(p=this.view)?void 0:p.map,C=null==b||null==(g=b.applicationProperties)||null==(v=g.viewing)?void 0:v.search;if(!C)return[];const{enabled:D,hintText:P,layers:V,tables:ae}=C;return D?[...this._getLayerSources(V,P),...this._getTableSources(ae,P)]:[]}_getSubLayer(p,g){return p.load().then(()=>{if(!p.allSublayers)return Promise.reject();const v=p.allSublayers.find(b=>b.id===g.subLayer);return v?v.createFeatureLayer():Promise.reject()})}_getBuildingSubLayer(p,g){return(0,Un.Z)(function*(){yield p.load();const v=p.allSublayers.find(b=>b.id===g.subLayer);return"building-component"!==(null==v?void 0:v.type)?Promise.reject():(yield v.load(),null==v.associatedLayer?Promise.reject():(yield v.associatedLayer.load(),v))})()}_getLayer(p,g){return"feature"===p.type||"scene"===p.type||"csv"===p.type||"geojson"===p.type||"ogc-feature"===p.type?Promise.resolve(p):"map-image"===p.type?this._getSubLayer(p,g).catch(()=>{const v=new Rn.Z("search:create-featurelayer","Could not create a FeatureLayer from the MapImageLayer",{layer:p});return Ho.error(v),null}):"building-scene"===p.type?this._getBuildingSubLayer(p,g):Promise.resolve(null)}_getLayerJSON(p){return"function"==typeof p.toJSON?p.toJSON():p}_updateDefaultSources(){const{defaultSources:p,includeDefaultSources:g}=this;p.removeAll(),g&&p.addMany([...this._convertApplicationProperties(),...this._convertHelperServices()])}_abortGoTo(){this._gotoController&&this._gotoController.abort(),this._gotoController=null}_clear(){this._abortGoTo(),this._set("resultCount",null),this._set("results",null),this._set("suggestions",null),this._set("suggestionCount",null),this._set("selectedResult",null),this._set("selectedSuggestion",null),this.emit("search-clear")}_closePopup(){var p;const g=null==(p=this.view)?void 0:p.popup,{resultGraphic:v}=this;if(!g||!v)return;const{selectedFeature:b}=g;b&&b===v&&g.close()}_suggestTimer(p,g){return(0,Er.e4)(null!=p?p:this.suggestionDelay,null,g&&g.signal)}_createLocationForSearch(p){return p instanceof ja.Z?uw(p.geometry):p instanceof hs.Z?p:Array.isArray(p)&&2===p.length?new hs.Z({longitude:p[0],latitude:p[1]}):null}_createSuggestionForSearch(p){if(p&&Si(p,"key")&&Si(p,"text")&&Si(p,"sourceIndex"))return p;const g=this._createLocationForSearch(p),v="string"==typeof p?p:this.searchTerm,{selectedSuggestion:b,selectedResult:C}=this,D=!p&&b&&C;return D&&b.key===C.key&&b.sourceIndex===C.sourceIndex||D&&b.location?b:{location:(0,nn.Wg)(g),text:g?"":v,sourceIndex:null,key:null}}_getFirstResult(p){let g=null;return p&&p.some(v=>{const{results:b}=v,C=b[0],D=!!C;return D&&(g=C),D}),g}_selectFirstResult(p){return this.autoSelect&&p?this.select(p):Promise.resolve(null)}_suggestImmediate(p,g){return this.when().then(()=>this._getSuggestionsFromSources(p,g)).then(v=>{var b;if(null!=(b=(0,nn.Wg)(null==g?void 0:g.signal))&&b.aborted)return null;const C={activeSourceIndex:this.activeSourceIndex,searchTerm:p,numResults:0,numErrors:0,errors:[],results:[]};return this._formatResponse(C,v),C})}_formatSourceResponse(p,g,v){const b=g&&g.value||[],C=g&&g.error,D=this.allSources.getItemAt(v);C?(p.errors.push({sourceIndex:v,source:D,error:C}),Ho.error(C),p.numErrors++):(p.results.push({sourceIndex:v,source:D,results:b}),p.numResults+=b.length)}_formatResponse(p,g,v){if(g)if(-1===p.activeSourceIndex){const b=v&&Si(v,"sourceIndex")&&-1!==v.sourceIndex?v.sourceIndex:void 0;g.forEach((C,D)=>{this._formatSourceResponse(p,C,void 0!==b?b:D)})}else this._formatSourceResponse(p,g[0],p.activeSourceIndex)}_getResultsFromSources(p,g){const{allSources:v}=this,b=!p.location&&Si(p,"sourceIndex")?p.sourceIndex:this.activeSourceIndex,C=[];if(!v.length){const D=new Rn.Z("search:no-sources-defined","At least one source is required.",{allSources:v});return Ho.error(D),Promise.reject(D)}return-1===b?v.forEach((D,P)=>{C.push(this._getResultsFromSource(p,P,g))}):C.push(this._getResultsFromSource(p,b,g)),(0,Er.as)(C)}_getSuggestionsFromSources(p,g){const{allSources:v,activeSourceIndex:b}=this,C=[];if(!v.length){const D=new Rn.Z("suggest:no-sources-defined","At least one source is required.",{allSources:v});return Ho.error(D),Promise.reject(D)}return-1===b?v.forEach((D,P)=>{C.push(this._getSuggestionsFromSource(p,P,g))}):C.push(this._getSuggestionsFromSource(p,b,g)),(0,Er.as)(C)}_getResultsFromSource(p,g,v){var b;const C=this.allSources.getItemAt(g),{location:D=null}=p,P=(null==(b=this.view)?void 0:b.spatialReference)||Uw,V=Si(C,"maxResults")?C.maxResults:this.maxResults,ae=!!(C instanceof Oc&&Si(C,"exactMatch"))&&C.exactMatch,{view:be}=this;return C.getResults({view:be,sourceIndex:g,location:D,suggestResult:p,spatialReference:P,exactMatch:ae,maxResults:V},v)}_getSuggestionsFromSource(p,g,v){const b=this.allSources.getItemAt(g),C=Si(b,"suggestionsEnabled")?b.suggestionsEnabled:this.suggestionsEnabled,D=p.length,P=Si(b,"minSuggestCharacters")?b.minSuggestCharacters:this.minSuggestCharacters;if(C&&p.trim()&&D>=P){var V;const ae=(null==(V=this.view)?void 0:V.spatialReference)||Uw,be=Si(b,"maxSuggestions")?b.maxSuggestions:this.maxSuggestions,{view:Pe}=this,Fe=!!(b instanceof Oc&&Si(b,"exactMatch"))&&b.exactMatch;return b.getSuggestions({view:Pe,sourceIndex:g,suggestTerm:p,spatialReference:ae,maxSuggestions:be,exactMatch:Fe},v)}return Promise.resolve(null)}_getLayerSourcePopupTemplate(p){const{layer:g}=p;if(g)return Si(p,"popupTemplate")?p.popupTemplate:g.popupTemplate}_getSourceIndexOfResult(p){let v=null;return this.results.some(b=>b.results.some(C=>C===p&&(v=b.sourceIndex,!0))),v}_goToSearchResult(p){var g=this;return(0,Un.Z)(function*(){const v=!!p;g._abortGoTo();const b=new AbortController;g._gotoController=b;const C={target:{target:p},options:{animate:v,signal:b.signal}};yield g.callGoTo(C),g._gotoController=null})()}_getDefaultSymbol(p){var g;const{defaultSymbols:v}=this,b=null==(g=p.feature)?void 0:g.geometry;if(!(0,nn.pC)(b))return null;const C=this._get("defaultSymbol");if(C&&("point"===b.type||"multipoint"===b.type))return C;switch(b.type){case"point":case"multipoint":return v.point;case"polyline":return v.polyline;case"extent":case"polygon":return v.polygon;default:return null}}_removeHighlight(){this._handles.remove(jw)}_getLayerView(p){var g=this;return(0,Un.Z)(function*(){const{view:v}=g;if(!p||!v||"building-component"===p.layer.type||"subtype-sublayer"===p.layer.type)return Promise.resolve(null);const{layer:b}=p;return yield v.when(),v.whenLayerView(b)})()}_highlightFeature(p){const{graphic:g,layerView:v}=p,{attributes:b,layer:C}=g,{objectIdField:D}=C,V=v.highlight(b&&b[D]||g);this._handles.add(V,jw)}_setResultFloor(p){var g,v,b;const{view:C}=this,D=null==(g=p.feature)?void 0:g.attributes,P=null==(v=p.feature)?void 0:v.sourceLayer;P&&"floorInfo"in P&&null!=P&&null!=(b=P.floorInfo)&&b.floorField&&D&&C.emit("select-result-floor",D[P.floorInfo.floorField])}};_r.ALL_INDEX=-1,(0,ye._)([(0,Oe.Cb)()],_r.prototype,"_searching",void 0),(0,ye._)([(0,Oe.Cb)()],_r.prototype,"_updatingPromise",void 0),(0,ye._)([(0,Oe.Cb)({readOnly:!0,value:null})],_r.prototype,"activeSource",null),(0,ye._)([(0,Oe.Cb)()],_r.prototype,"activeSourceIndex",null),(0,ye._)([(0,Oe.Cb)()],_r.prototype,"allPlaceholder",null),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],_r.prototype,"allSources",null),(0,ye._)([(0,Oe.Cb)()],_r.prototype,"autoNavigate",void 0),(0,ye._)([(0,Oe.Cb)()],_r.prototype,"autoSelect",void 0),(0,ye._)([(0,Oe.Cb)()],_r.prototype,"defaultPopupTemplate",void 0),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],_r.prototype,"defaultSources",void 0),(0,ye._)([(0,Oe.Cb)()],_r.prototype,"defaultSymbol",null),(0,ye._)([(0,Oe.Cb)()],_r.prototype,"defaultSymbols",void 0),(0,ye._)([(0,Oe.Cb)()],_r.prototype,"includeDefaultSources",void 0),(0,ye._)([(0,Oe.Cb)()],_r.prototype,"locationEnabled",null),(0,ye._)([(0,Oe.Cb)()],_r.prototype,"maxInputLength",void 0),(0,ye._)([(0,Oe.Cb)()],_r.prototype,"maxResults",void 0),(0,ye._)([(0,Oe.Cb)()],_r.prototype,"maxSuggestions",void 0),(0,ye._)([(0,Oe.Cb)()],_r.prototype,"messages",void 0),(0,ye._)([(0,Oe.Cb)()],_r.prototype,"minSuggestCharacters",void 0),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],_r.prototype,"placeholder",null),(0,ye._)([(0,Oe.Cb)()],_r.prototype,"popupEnabled",void 0),(0,ye._)([(0,Oe.Cb)({type:aw.Z})],_r.prototype,"popupTemplate",void 0),(0,ye._)([(0,Oe.Cb)({type:Vl.Z})],_r.prototype,"portal",void 0),(0,ye._)([(0,Oe.Cb)()],_r.prototype,"resultCount",void 0),(0,ye._)([(0,Oe.Cb)()],_r.prototype,"resultGraphicEnabled",void 0),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],_r.prototype,"resultGraphic",void 0),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],_r.prototype,"results",void 0),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],_r.prototype,"selectedSuggestion",void 0),(0,ye._)([(0,Oe.Cb)()],_r.prototype,"searchAllEnabled",void 0),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],_r.prototype,"selectedResult",void 0),(0,ye._)([(0,Oe.Cb)()],_r.prototype,"searchTerm",null),(0,ye._)([(0,Oe.Cb)({type:Df})],_r.prototype,"sources",void 0),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],_r.prototype,"state",null),(0,ye._)([(0,Oe.Cb)()],_r.prototype,"suggestionDelay",void 0),(0,ye._)([(0,Oe.Cb)()],_r.prototype,"suggestionCount",void 0),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],_r.prototype,"suggestions",void 0),(0,ye._)([(0,Oe.Cb)()],_r.prototype,"suggestionsEnabled",void 0),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],_r.prototype,"updating",null),(0,ye._)([(0,Oe.Cb)()],_r.prototype,"view",void 0),(0,ye._)([(0,Oe.Cb)()],_r.prototype,"clear",null),_r=(0,ye._)([(0,bn.j)(Lw)],_r);const Ic=_r;let wl=class extends oi.Z{constructor(p,g){super(p,g),this.messages=null,this.showMoreResultsOpen=!1,this.viewModel=null}render(){return(0,Ft.u)("div",{class:"esri-search-result-renderer esri-widget"},(0,Ft.u)("div",{key:"esri-search-renderer__container",class:this.classes("esri-search-result-renderer__more-results",{"esri-search-result-renderer__more-results--show-more-results":this.showMoreResultsOpen})},this.renderSearchResultName(),this.renderMoreResults()))}renderMoreResults(){return(0,Ft.u)("div",{key:"esri-search-renderer__more-results"},this.renderMoreResultsButton(),this.renderMoreResultsLists())}renderSearchResultName(){var p;const g=null==(p=this.viewModel)?void 0:p.selectedResult;return(0,Ft.u)("div",{key:"esri-search-renderer__result-name",class:"esri-search-result-renderer__more-results-item"},g&&g.name||"")}renderMoreResultsLists(){var p;const g=null==(p=this.viewModel)?void 0:p.results,{resultCount:v}=this.viewModel;if(v<2)return null;const b=g.map(C=>this.renderMoreResultsList(C));return(0,Ft.u)("div",{key:"esri-search-renderer__more-results-container",class:"esri-search-result-renderer__more-results-list"},b)}renderMoreResultsButton(){const{messages:p}=this,{resultCount:g}=this.viewModel;return g<2?null:(0,Ft.u)("div",{key:"esri-search-renderer__more-results-button",class:"esri-search-result-renderer__more-results-item"},(0,Ft.u)("a",{class:"esri-widget__anchor",href:"#",bind:this,onclick:this._showMoreResultsClick,onkeydown:this._showMoreResultsClick},this.showMoreResultsOpen?p.hideMoreResults:p.showMoreResults))}renderMoreResultsHeader(p,g){return(0,Ft.u)("div",{key:`esri-search-result-renderer__header-${g}`,class:"esri-search-result-renderer__more-results-list-header"},p)}renderMoreResultsList(p){var g,v;const{results:b}=p,C=b.length,D=!!C,P=null==(g=this.viewModel)?void 0:g.selectedResult,V=1===C&&b[0]===P,ae=this._getSourceName(p.source,p.sourceIndex),be=(null==(v=this.viewModel)?void 0:v.results.length)>1&&!V?this.renderMoreResultsHeader(ae,p.sourceIndex):null,Pe=D&&b.map((Xe,rt)=>this.renderMoreResultsListItem(Xe,rt)),Fe=D&&!V?(0,Ft.u)("ul",{key:`esri-search-result-renderer__list-${p.sourceIndex}`},Pe):null;return D?(0,Ft.u)("div",{key:`esri-search-result-renderer__results-${p.sourceIndex}`},be,Fe):null}renderMoreResultsListItem(p,g){return p!==this.get("viewModel.selectedResult")?(0,Ft.u)("li",{key:`esri-search-result-renderer__list-item-${g}`},(0,Ft.u)("a",{class:"esri-widget__anchor",href:"#",tabindex:"0",bind:this,"data-result":p,onclick:this._selectResultClick,onkeydown:this._selectResultClick},p.name)):null}_showMoreResultsClick(p){p.preventDefault(),this.showMoreResultsOpen=!this.showMoreResultsOpen;const g=this.get("viewModel.view.popup");g&&g.reposition()}_selectResultClick(p){p.preventDefault(),this.viewModel&&this.viewModel.select(p.currentTarget["data-result"])}_getSourceName(p,g){return g===Ic.ALL_INDEX?this.messages.all:p.name}};(0,ye._)([(0,Oe.Cb)(),(0,ai.H)("esri/widgets/Search/t9n/Search")],wl.prototype,"messages",void 0),(0,ye._)([(0,Oe.Cb)()],wl.prototype,"showMoreResultsOpen",void 0),(0,ye._)([(0,Oe.Cb)()],wl.prototype,"viewModel",void 0),(0,ye._)([(0,Yi.h)()],wl.prototype,"_showMoreResultsClick",null),(0,ye._)([(0,Yi.h)()],wl.prototype,"_selectResultClick",null),wl=(0,ye._)([(0,bn.j)("esri.widgets.Search.SearchResultRenderer")],wl);const q9=wl,tr_button="esri-widget--button",eF=/<[a-z/][\s\S]*>/i;let br=class extends oi.Z{constructor(p,g){super(p,g),this._activeMenuItemIndex=-1,this._handles=new Co.Z,this._inputNode=null,this._menuItemCount=0,this._sourceMenuButtonNode=null,this._sourceListNode=null,this._suggestionListNode=null,this._searchResultRenderer=new q9,this._locateFailed=null,this._container=null,this.activeMenu="none",this.activeSource=null,this.activeSourceIndex=null,this.allPlaceholder=null,this.allSources=null,this.autoNavigate=null,this.autoSelect=null,this.defaultSources=null,this.disabled=!1,this.goToOverride=null,this.iconClass="esri-icon-search",this.includeDefaultSources=null,this.label=void 0,this.locationEnabled=null,this.maxResults=null,this.maxSuggestions=null,this.messages=null,this.messagesCommon=null,this.minSuggestCharacters=null,this.popupEnabled=null,this.popupTemplate=null,this.portal=null,this.resultGraphic=null,this.resultGraphicEnabled=null,this.results=null,this.searchAllEnabled=null,this.searchTerm=null,this.selectedResult=null,this.sources=null,this.suggestions=null,this.suggestionsEnabled=null,this.view=null,this.viewModel=new Ic,this._clearActiveMenu=()=>{this.activeMenu="none"},this._removeActiveMenu=v=>{var b;const C=v.relatedTarget;C&&null!=(b=this._container)&&b.contains(C)||this._clearActiveMenu()},this.own((0,Jn.YP)(this,"searchTerm",v=>{(v&&"warning"===this.activeMenu||!v&&!this.get("viewModel.selectedSuggestion.location"))&&this._clearActiveMenu()}),(0,Jn.on)(this,"viewModel.allSources","change",()=>this._watchSourceChanges()),(0,Jn.S1)(this,"activeMenu",()=>this._resetActiveMenuItemIndex()),(0,Jn.S1)(this,"viewModel.defaultPopupTemplate",v=>{v&&(v.content=this._renderSearchResultsContent.bind(this))}))}destroy(){this._handles.destroy(),this._handles=null,this._cancelSuggest(),this._cancelSearch(),this._searchResultRenderer&&(this._searchResultRenderer.viewModel=null,this._searchResultRenderer.destroy(),this._searchResultRenderer=null)}get displayedSearchTerm(){return`${this.viewModel.searchTerm}`.trim()}get inputId(){return this._buildId("input")}get suggestionsMenuId(){return this._buildId("suggest-menu")}get sourceMenuId(){return this._buildId("source-menu")}get sourceMenuButtonId(){return this._buildId("source-menu-button")}clear(){}focus(){var p;null==(p=this._inputNode)||p.focus(),this.emit("search-focus")}blur(){var p;null==(p=this._inputNode)||p.blur(),this.emit("search-blur")}search(p){this._clearActiveMenu(),this._cancelSuggest(),this._cancelSearch();const g=new AbortController,{signal:v}=g;return this._searchController=g,this.viewModel.search(p,{signal:v}).catch(b=>{if(this._searchController===g)return this._clearActiveMenu(),this._searchController=null,b}).then(b=>{if(this._searchController===g)return this.activeMenu=b.numResults?"none":"warning",this._searchController=null,b})}suggest(p){this._cancelSuggest();const g=new AbortController,{signal:v}=g;return this._suggestController=g,this.viewModel.suggest(p,null,{signal:v}).then(b=>{if(this._suggestController===g)return this._suggestController=null,b.numResults&&this._openSuggestionMenu(),this._scrollToTopSuggestion(),b}).catch(()=>{if(this._suggestController===g)return this._suggestController=null,null})}render(){const{state:p}=this.viewModel;return(0,Ft.u)("div",{class:this.classes("esri-search esri-widget",{"esri-disabled":"disabled"===p,"esri-widget--disabled":this.disabled})},"loading"===p?this.renderLoader():this.renderContainer())}renderSubmitButton(){const{messages:p}=this;return(0,Ft.u)("button",{"aria-label":p.searchButtonTitle,bind:this,class:this.classes("esri-search__submit-button",tr_button),key:"esri-search__submit-button",onclick:this._handleSearchButtonClick,title:p.searchButtonTitle,type:"button"},(0,Ft.u)("span",{"aria-hidden":"true",class:"esri-icon-search"}))}renderWarningMenu(){return(0,Ft.u)("div",{key:"esri-search__error-menu",class:this.classes("esri-menu","esri-search__warning-menu")},(0,Ft.u)("div",{class:"esri-search__warning-body"},this.renderWarning()))}renderSourceMenuButton(){const{messages:p,activeMenu:g,sourceMenuId:v,sourceMenuButtonId:b}=this,{activeSourceIndex:C,allSources:D}=this.viewModel;return D.length>1?(0,Ft.u)("button",{id:b,key:"esri-search__source-menu-button",bind:this,"aria-label":p.searchIn,title:p.searchIn,"aria-haspopup":"true","aria-expanded":("source"===g).toString(),"aria-controls":v,class:this.classes("esri-search__sources-button",tr_button),onclick:this._handleSourcesMenuToggleClick,onfocus:this._handleSourcesMenuToggleFocus,afterCreate:Bs.Yo,"data-node-ref":"_sourceMenuButtonNode",type:"button"},(0,Ft.u)("span",{"aria-hidden":"true",class:"esri-icon-down-arrow esri-search__sources-button--down"}),(0,Ft.u)("span",{"aria-hidden":"true",class:"esri-icon-up-arrow esri-search__sources-button--up"}),(0,Ft.u)("span",{class:"esri-search__source-name"},this._getSourceName(C))):null}renderSourcesList(){const{allSources:p,searchAllEnabled:g}=this.viewModel,{_activeMenuItemIndex:v,activeMenu:b,sourceMenuId:C,sourceMenuButtonId:D}=this,P="source"===b&&v>-1?this._buildId("source-item",v):null;return p.length>1?(0,Ft.u)("ul",{"aria-activedescendant":P,"aria-labelledby":D,id:C,role:"menu",bind:this,afterCreate:Bs.Yo,onkeydown:this._handleSourceMenuKeydown,onkeyup:this._handleSourceMenuKeyup,"data-node-ref":"_sourceListNode",class:"esri-menu__list",tabIndex:-1},g?this.renderSource(Ic.ALL_INDEX):null,p.map((V,ae)=>this.renderSource(ae)).toArray()):null}renderSourcesMenu(){const{allSources:p}=this.viewModel;return p.length>1?(0,Ft.u)("div",{key:"esri-search__source-menu",class:this.classes("esri-menu","esri-search__sources-menu")},this.renderSourcesList()):null}renderLoader(){const{messages:p,messagesCommon:g}=this;return(0,Ft.u)("div",{class:"esri-widget__loader",key:"base-loader"},(0,Ft.u)("span",{"aria-hidden":"true",class:"esri-widget__loader-animation"}),(0,Ft.u)("span",{class:"esri-icon-font-fallback-text"},p.searchButtonTitle),(0,Ft.u)("span",{class:"esri-widget__loader-text"},g.loading))}renderContainer(){const{allSources:p,state:g}=this.viewModel,{activeMenu:v}=this;return(0,Ft.u)("div",{tabIndex:-1,afterCreate:C=>{this._container=C,C.addEventListener("focusout",this._removeActiveMenu)},afterRemoved:C=>{C.removeEventListener("focusout",this._removeActiveMenu)},class:this.classes({"esri-search--multiple-sources":p.length>1,"esri-search--loading":"loading"===g,"esri-search--searching":"searching"===g,"esri-search--warning":"warning"===v,"esri-search--sources":"source"===v,"esri-search--show-suggestions":"suggestion"===v},"esri-search__container"),key:"base-container"},this.renderSourceMenuButton(),this.renderSourcesMenu(),this.renderInputContainer(),this.renderSubmitButton(),this.renderWarningMenu())}renderClearButton(){return this.searchTerm?(0,Ft.u)("button",{bind:this,class:this.classes("esri-search__clear-button",tr_button),key:"esri-search__clear-button",onclick:this._handleClearButtonClick,onfocus:this._clearActiveMenu,title:this.messages.clearButtonTitle,type:"button"},(0,Ft.u)("span",{"aria-hidden":"true",class:"esri-icon-close"})):null}renderLocationGroup(){const{messages:p,locationEnabled:g,displayedSearchTerm:v}=this,C="suggestion"===this.activeMenu&&0===this._activeMenuItemIndex;return g&&!v?(0,Ft.u)("ul",{role:"group",key:"esri-search__suggestion-list-current-location",class:this.classes("esri-menu__list","esri-search__suggestions-list","esri-search__suggestions-list--current-location")},(0,Ft.u)("li",{bind:this,"data-current-location-item":!0,onclick:this._handleUseCurrentLocationClick,id:this._buildId("suggestion-item",0),"aria-selected":("suggestion"===this.activeMenu&&0===this._activeMenuItemIndex).toString(),role:"option",class:this.classes("esri-menu__list-item",C?"esri-menu__list-item--focus":null)},(0,Ft.u)("span",{"aria-hidden":"true",class:"esri-icon-locate-circled"})," ",p.useCurrentLocation)):null}renderInput(){const{activeMenu:p,locationEnabled:g,displayedSearchTerm:v,messages:b,suggestionsMenuId:C,inputId:D,_activeMenuItemIndex:P}=this,{maxInputLength:V,placeholder:ae,searchTerm:be,suggestionCount:Pe}=this.viewModel,Fe=!((!g||v)&&!Pe),Xe="suggestion"===p&&P>-1?this._buildId("suggestion-item",P):null;return(0,Ft.u)("input",{"aria-activedescendant":Xe,"aria-autocomplete":"list","aria-expanded":(Fe&&"suggestion"===p).toString(),"aria-controls":Fe?C:null,"aria-haspopup":"listbox","aria-label":b.searchButtonTitle,bind:this,placeholder:ae,maxlength:V,autocomplete:"off",type:"text",class:this.classes("esri-input","esri-search__input"),value:be,id:D,role:"combobox",onkeyup:this._handleInputKeyup,onclick:this._openSuggestionMenu,oninput:this._handleInputPaste,onpaste:this._handleInputPaste,afterCreate:Bs.Yo,"data-node-ref":"_inputNode",onfocus:this.focus,onblur:this.blur,title:be?"":ae})}renderForm(){return(0,Ft.u)("form",{key:"esri-search__form",bind:this,class:"esri-search__form",onsubmit:this._formSubmit,role:"search"},this.renderInput())}renderSuggestList(p){const{sourceIndex:g}=p,b=p.results;return p.results.length?(0,Ft.u)("ul",{role:"group",key:`esri-search__suggestion-list-${g}`,class:this.classes("esri-menu__list","esri-search__suggestions-list")},b.map(C=>this.renderSuggestion(C,this._menuItemCount++))):null}renderSuggestionsGroup(){const{suggestions:p}=this.viewModel;return p?p.map(g=>[this.renderSuggestionHeader(g),this.renderSuggestList(g)]):null}renderSuggestionsMenu(){const{displayedSearchTerm:p,locationEnabled:g,suggestionsMenuId:v,inputId:b}=this,{suggestionCount:C}=this.viewModel,D=g&&!p||C;return this._menuItemCount=0,D?(0,Ft.u)("div",{id:v,key:"esri-search__suggestions-menu",class:this.classes("esri-menu","esri-search__suggestions-menu"),role:"listbox","aria-labelledby":b,bind:this,afterCreate:Bs.Yo,"data-node-ref":"_suggestionListNode"},this.renderLocationGroup(),this.renderSuggestionsGroup()):null}renderInputContainer(){return(0,Ft.u)("div",{key:"esri-search__input-container",class:"esri-search__input-container"},this.renderForm(),this.renderSuggestionsMenu(),this.renderClearButton())}renderSuggestionHeader(p){const{allSources:g,activeSourceIndex:v}=this.viewModel,{sourceIndex:b}=p;return p.results.length&&g.length>1&&v===Ic.ALL_INDEX?(0,Ft.u)("div",{key:`esri-search__suggestion-header-${b}`,class:"esri-menu__header"},this._getSourceName(b)):null}renderSuggestion(p,g){const{_activeMenuItemIndex:v,messages:b}=this,{searchTerm:C}=this.viewModel;if(C){const{text:D}=p,P=D||b.untitledResult,V=eF.test(P),ae=[];if(V)ae.push((0,Ft.u)("div",{innerHTML:P}));else{const Pe=this._splitResult(P,C),Fe=C.toLowerCase();Pe.forEach((Xe,rt)=>{Xe&&Xe.length&&(Xe.toLowerCase()===Fe?ae.push((0,Ft.u)("strong",{key:rt},Xe)):ae.push(Xe))})}const be="suggestion"===this.activeMenu&&v===g;return(0,Ft.u)("li",{bind:this,id:this._buildId("suggestion-item",g),"aria-selected":("suggestion"===this.activeMenu&&this._activeMenuItemIndex===g).toString(),onclick:this._handleSuggestionClick,key:`esri-search__suggestion_${g}`,"data-suggestion":p,role:"option",class:this.classes("esri-menu__list-item",be?"esri-menu__list-item--focus":null)},ae)}}renderSource(p){const{activeSourceIndex:g,searchAllEnabled:v}=this.viewModel,b={"esri-menu__list-item--active":p===g,"esri-menu__list-item--focus":"source"===this.activeMenu&&p===(v?this._activeMenuItemIndex-1:this._activeMenuItemIndex)};return(0,Ft.u)("li",{bind:this,key:`esri-search__source-${p}`,id:this._buildId("source-item",v?p+1:p),"aria-checked":(p===g).toString(),onclick:this._handleSourceClick,"data-source-index":p,role:"menuitemradio",class:this.classes("esri-search__source","esri-menu__list-item",b)},this._getSourceName(p))}renderNoResultsWarning(p){const{messages:g}=this,v=p?(0,zo.n)(g.noResultsFoundForValue,{value:`"${p}"`}):g.noResultsFound;return(0,Ft.u)("div",{key:"esri-search__no_results"},(0,Ft.u)("div",{class:"esri-search__warning-header"},g.noResults),(0,Ft.u)("div",{class:"esri-search__warning-text"},v))}renderEmptySearchWarning(){const{messages:p}=this;return(0,Ft.u)("div",{key:"esri-search__empty-search"},(0,Ft.u)("span",{"aria-hidden":"true",class:"esri-icon-notice-triangle"}),(0,Ft.u)("span",{class:"esri-search__no-value-text"},p.emptyValue))}renderLocateWarning(){const{messages:p}=this;return(0,Ft.u)("div",{key:"esri-search__locate-error"},(0,Ft.u)("span",{"aria-hidden":"true",class:"esri-icon-notice-triangle"}),(0,Ft.u)("span",{class:"esri-search__no-value-text"},p.locateError))}renderWarning(){var p;const{displayedSearchTerm:g,_locateFailed:v}=this,{viewModel:b}=this;return v?this.renderLocateWarning():null!=(p=b.selectedSuggestion)&&p.location||g?this.renderNoResultsWarning(g):this.renderEmptySearchWarning()}_resetActiveMenuItemIndex(){this._activeMenuItemIndex=-1}_buildId(p,g){return`${this.id}-${p}${void 0===g?"":`-${g}`}`}_watchSourceChanges(){const{_handles:p,viewModel:{allSources:g}}=this,v="sources";p.remove(v),g.forEach(b=>p.add((0,Jn.YP)(b,"name",()=>this.scheduleRender()),v))}_handleSourcesMenuToggleFocus(){"source"!==this.activeMenu&&this._clearActiveMenu()}_handleSourcesMenuToggleClick(){var g;this.activeMenu="source"===this.activeMenu?"none":"source",this.renderNow(),"source"===this.activeMenu&&(null==(g=this._sourceListNode)||g.focus())}_handleClearButtonClick(){this.viewModel.clear(),this._focus()}_handleSearchButtonClick(){this.search()}_handleSuggestionClick(p){const g=p.currentTarget["data-suggestion"];g&&(this._focus(),this.search(g))}_handleUseCurrentLocationClick(){this._useCurrentLocation()}_useCurrentLocation(){this._focus("none"),this._cancelSuggest(),this._cancelSearch();const p=new AbortController,{signal:g}=p;this._searchController=p,this.viewModel.searchNearby({signal:g}).then(v=>{this.activeMenu=v.numResults?"none":"warning"}).catch(()=>{this._locateFailed=!0,this.activeMenu="warning"}).then(()=>{this._searchController=null})}_handleSourceClick(p){this._setSourceFromMenuItem(p.currentTarget)}_setSourceFromMenuItem(p){var g;p&&(this.viewModel.activeSourceIndex=p["data-source-index"],this._clearActiveMenu(),null==(g=this._sourceMenuButtonNode)||g.focus())}_cancelSuggest(){this._suggestController&&(this._suggestController.abort(),this._suggestController=null)}_cancelSearch(){this._searchController&&(this._searchController.abort(),this._searchController=null),this._locateFailed=!1}_handleInputKeyup(p){var g;const v=(0,Ua.kK)(p);if(p.ctrlKey||p.metaKey||"Copy"===v||"ArrowLeft"===v||"ArrowRight"===v||"Shift"===v)return;if("Tab"===v||"Escape"===v||p.shiftKey&&"Tab"===v)return this._cancelSuggest(),void("Escape"===v&&this._clearActiveMenu());const b="Home"===v||"End"===v||"ArrowUp"===v||"ArrowDown"===v;if("Enter"===v&&this._activeMenuItemIndex<0)return void this._cancelSuggest();const C=null==(g=this._suggestionListNode)?void 0:g.getElementsByTagName("li");if(null!=C&&C.length){if("suggestion"!==this.activeMenu&&this._openSuggestionMenu(),b)return p.preventDefault(),this._cancelSuggest(),void this._handleItemNavigation(v,C,this._suggestionListNode);const D=C[this._activeMenuItemIndex];if("Enter"===v&&D){const P=D["data-suggestion"];return void(P?(this._focus(),this.search(P)):D["data-current-location-item"]&&this._useCurrentLocation())}}this.viewModel.searchTerm&&this.suggest()}_handleItemNavigation(p,g,v){const b=this._activeMenuItemIndex;"Home"===p&&(this._activeMenuItemIndex=0),"End"===p&&(this._activeMenuItemIndex=g.length-1),"ArrowUp"===p&&(this._activeMenuItemIndex=this._activeMenuItemIndex<=0?g.length-1:this._activeMenuItemIndex-1),"ArrowDown"===p&&(this._activeMenuItemIndex=this._activeMenuItemIndex===g.length-1?0:this._activeMenuItemIndex+1),b!==this._activeMenuItemIndex&&(0,Bs._q)(g[this._activeMenuItemIndex],v)}_scrollToTopSuggestion(){this._suggestionListNode&&(this._suggestionListNode.scrollTop=0)}_openSuggestionMenu(){this.activeMenu="suggestion"}_handleInputPaste(p){const g=p.target;this.viewModel.searchTerm!==g.value&&(this.viewModel.searchTerm=g.value),this.viewModel.searchTerm&&this.suggest()}_handleSourceMenuKeydown(p){const g=(0,Ua.kK)(p);if((0,Bs.pf)(g)){p.preventDefault();const v=this._sourceListNode.getElementsByTagName("li")[this._activeMenuItemIndex];this._setSourceFromMenuItem(v)}else"ArrowUp"!==g&&"ArrowDown"!==g&&"End"!==g&&"Home"!==g||p.preventDefault()}_handleSourceMenuKeyup(p){var g;const v=(0,Ua.kK)(p),b="ArrowUp"===v||"ArrowDown"===v||"End"===v||"Home"===v;var C;if(b&&p.preventDefault(),"Escape"===v)return this._clearActiveMenu(),void(null==(C=this._sourceMenuButtonNode)||C.focus());const D=null==(g=this._sourceListNode)?void 0:g.getElementsByTagName("li");return D&&0!==D.length&&b?("source"!==this.activeMenu&&(this.activeMenu="source"),void this._handleItemNavigation(v,D,this._sourceListNode.parentElement)):void 0}_focus(p){this.focus(),p&&(this.activeMenu=p)}_formSubmit(p){p.preventDefault(),-1===this._activeMenuItemIndex&&this.search()}_getSourceName(p){const{messages:g}=this,v=this.viewModel,{allSources:b}=v,C=b.getItemAt(p);return p===Ic.ALL_INDEX?g.all:C&&C.name||g.untitledSource}_splitResult(p,g){const v=(0,Gl.Qs)(g);return p.replace(new RegExp(`(^|)(${v})(|$)`,"ig"),"$1|$2|$3").split("|")}_renderSearchResultsContent(){return this._searchResultRenderer.showMoreResultsOpen=!1,this._searchResultRenderer.viewModel=this.viewModel,this._searchResultRenderer}};(0,ye._)([(0,Oe.Cb)()],br.prototype,"_activeMenuItemIndex",void 0),(0,ye._)([(0,Oe.Cb)()],br.prototype,"displayedSearchTerm",null),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],br.prototype,"inputId",null),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],br.prototype,"suggestionsMenuId",null),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],br.prototype,"sourceMenuId",null),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],br.prototype,"sourceMenuButtonId",null),(0,ye._)([(0,Oe.Cb)()],br.prototype,"activeMenu",void 0),(0,ye._)([(0,Nn.B)("viewModel.activeSource")],br.prototype,"activeSource",void 0),(0,ye._)([(0,Nn.B)("viewModel.activeSourceIndex")],br.prototype,"activeSourceIndex",void 0),(0,ye._)([(0,Nn.B)("viewModel.allPlaceholder")],br.prototype,"allPlaceholder",void 0),(0,ye._)([(0,Nn.B)("viewModel.allSources")],br.prototype,"allSources",void 0),(0,ye._)([(0,Nn.B)("viewModel.autoNavigate")],br.prototype,"autoNavigate",void 0),(0,ye._)([(0,Nn.B)("viewModel.autoSelect")],br.prototype,"autoSelect",void 0),(0,ye._)([(0,Nn.B)("viewModel.defaultSources")],br.prototype,"defaultSources",void 0),(0,ye._)([(0,Oe.Cb)()],br.prototype,"disabled",void 0),(0,ye._)([(0,Nn.B)("viewModel.goToOverride")],br.prototype,"goToOverride",void 0),(0,ye._)([(0,Oe.Cb)()],br.prototype,"iconClass",void 0),(0,ye._)([(0,Nn.B)("viewModel.includeDefaultSources")],br.prototype,"includeDefaultSources",void 0),(0,ye._)([(0,Oe.Cb)({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],br.prototype,"label",void 0),(0,ye._)([(0,Nn.B)("viewModel.locationEnabled")],br.prototype,"locationEnabled",void 0),(0,ye._)([(0,Nn.B)("viewModel.maxResults")],br.prototype,"maxResults",void 0),(0,ye._)([(0,Nn.B)("viewModel.maxSuggestions")],br.prototype,"maxSuggestions",void 0),(0,ye._)([(0,Oe.Cb)(),(0,ai.H)("esri/widgets/Search/t9n/Search")],br.prototype,"messages",void 0),(0,ye._)([(0,Oe.Cb)(),(0,ai.H)("esri/t9n/common")],br.prototype,"messagesCommon",void 0),(0,ye._)([(0,Nn.B)("viewModel.minSuggestCharacters")],br.prototype,"minSuggestCharacters",void 0),(0,ye._)([(0,Nn.B)("viewModel.popupEnabled")],br.prototype,"popupEnabled",void 0),(0,ye._)([(0,Nn.B)("viewModel.popupTemplate")],br.prototype,"popupTemplate",void 0),(0,ye._)([(0,Nn.B)("viewModel.portal")],br.prototype,"portal",void 0),(0,ye._)([(0,Nn.B)("viewModel.resultGraphic")],br.prototype,"resultGraphic",void 0),(0,ye._)([(0,Nn.B)("viewModel.resultGraphicEnabled")],br.prototype,"resultGraphicEnabled",void 0),(0,ye._)([(0,Nn.B)("viewModel.results")],br.prototype,"results",void 0),(0,ye._)([(0,Nn.B)("viewModel.searchAllEnabled")],br.prototype,"searchAllEnabled",void 0),(0,ye._)([(0,Nn.B)("viewModel.searchTerm")],br.prototype,"searchTerm",void 0),(0,ye._)([(0,Nn.B)("viewModel.selectedResult")],br.prototype,"selectedResult",void 0),(0,ye._)([(0,Nn.B)("viewModel.sources")],br.prototype,"sources",void 0),(0,ye._)([(0,Nn.B)("viewModel.suggestions")],br.prototype,"suggestions",void 0),(0,ye._)([(0,Nn.B)("viewModel.suggestionsEnabled")],br.prototype,"suggestionsEnabled",void 0),(0,ye._)([(0,Nn.B)("viewModel.view")],br.prototype,"view",void 0),(0,ye._)([VS(["search-complete","search-clear","search-start","select-result","suggest-start","suggest-complete"]),(0,Oe.Cb)({type:Ic})],br.prototype,"viewModel",void 0),(0,ye._)([(0,Nn.B)("viewModel.clear")],br.prototype,"clear",null),br=(0,ye._)([(0,bn.j)("esri.widgets.Search")],br);const tF=br;var Ja=E(37299);function Fw(p){if(!p)return null;if(p.isGeographic&&p.wkid){const g=Ja.Dg[p.wkid];if(g)return g}if(p.wkt){const g=function nF(p){const g=Ja.yB.exec(p);if(!g||2!==g.length)return null;const v=g[1].split(",");if(!v||v.length<3)return null;const b=parseFloat(v[1]),C=parseFloat(v[2]);return isNaN(b)||isNaN(C)?null:{a:b,f:0===C?0:1/C}}(p.wkt);if(g)return g}return null}function Tc(p){return null!==Fw(p)}function G_(p,g,v,b){const C=g[0]*Ja.Yr,D=g[1]*Ja.Yr,P=v[0]*Ja.Yr,V=v[1]*Ja.Yr,{a:ae,b:be,f:Pe,radius:Fe}=function Sf(p){const g=Fw(p||Ni.Z.WGS84);if(function rF(p){return"b"in p&&"eSq"in p&&"radius"in p}(g))return g;const v=g.a*(1-g.f);return Object.assign(g,{b:v,eSq:1-(v/g.a)**2,radius:(2*g.a+v)/3,densificationRatio:1e4/((2*g.a+v)/3)})}(b),Xe=P-C,rt=Math.atan((1-Pe)*Math.tan(D)),It=Math.atan((1-Pe)*Math.tan(V)),Zt=Math.sin(rt),Xt=Math.cos(rt),tn=Math.sin(It),Gt=Math.cos(It);let On,Ln,Kn,qn,Hr,rs,ss,Zr,xs,qi,Oi=1e3,fs=Xe;do{if(ss=Math.sin(fs),Zr=Math.cos(fs),Kn=Math.sqrt(Gt*ss*(Gt*ss)+(Xt*tn-Zt*Gt*Zr)*(Xt*tn-Zt*Gt*Zr)),0===Kn)return p.distance=0,p.azimuth=void 0,p.reverseAzimuth=void 0,p;Hr=Zt*tn+Xt*Gt*Zr,rs=Math.atan2(Kn,Hr),xs=Xt*Gt*ss/Kn,Ln=1-xs*xs,qn=Hr-2*Zt*tn/Ln,isNaN(qn)&&(qn=0),qi=Pe/16*Ln*(4+Pe*(4-3*Ln)),On=fs,fs=Xe+(1-qi)*Pe*xs*(rs+qi*Kn*(qn+qi*Hr*(2*qn*qn-1)))}while(Math.abs(fs-On)>1e-12&&--Oi>0);if(0===Oi){const H_=Fe,yF=Math.acos(Math.sin(D)*Math.sin(V)+Math.cos(D)*Math.cos(V)*Math.cos(P-C))*H_,Zw=P-C,gF=Math.sin(Zw)*Math.cos(V),_F=Math.cos(D)*Math.sin(V)-Math.sin(D)*Math.cos(V)*Math.cos(Zw),vF=Math.atan2(gF,_F);return p.azimuth=vF/Ja.Yr,p.distance=yF,p.reverseAzimuth=void 0,p}const bi=Ln*(ae*ae-be*be)/(be*be),Yo=bi/1024*(256+bi*(bi*(74-47*bi)-128)),Ac=be*(1+bi/16384*(4096+bi*(bi*(320-175*bi)-768)))*(rs-Yo*Kn*(qn+Yo/4*(Hr*(2*qn*qn-1)-Yo/6*qn*(4*Kn*Kn-3)*(4*qn*qn-3)))),th=Math.atan2(Gt*Math.sin(fs),Xt*tn-Zt*Gt*Math.cos(fs)),k_=Math.atan2(Xt*Math.sin(fs),Xt*tn*Math.cos(fs)-Zt*Gt);return p.azimuth=th/Ja.Yr,p.distance=Ac,p.reverseAzimuth=k_/Ja.Yr,p}var oF=E(13924),Pf=E(84029);function Bw(p,g){return p&&p.indexOf(g)>-1}function Ww(p,g){const{x:v,y:b}="decimal-degrees"===p?(0,Wl.Sx)(g,!0):g;return[v,b]}function Vw({state:{paddedViewState:p},spatialReference:g,width:v}){return g.isWrappable&&p.worldScreenWidth<v}let xc=class extends Ur.Z{constructor(p){super(p),this.scaleComputedFrom=(0,ii.vW)(),this.view=null}get state(){return this.get("view.ready")&&"2d"===this.get("view.type")?"ready":"disabled"}getScaleBarProperties(p,g){if("disabled"===this.state||isNaN(p)||!g)return null;const v=this._getDistanceInKm(this.view,this.scaleComputedFrom);return(0,nn.Wi)(v)?null:"metric"===g?this._getScaleBarProps(p,v,"metric"):this._getScaleBarProps(p,v/1.609,"non-metric")}_getLocationUnit(){const p=this.get("view.spatialReference"),{isWebMercator:g,wkid:v,wkt:b}=p;return g||Bw(b,"WGS_1984_Web_Mercator")?"decimal-degrees":null!=Pf.Z[v]||Bw(b,"PROJCS")?"linear-unit":"unknown"}_getDistanceInKm(p,g){const{state:v,spatialReference:b}=p,C=this._getLocationUnit();if("linear-unit"===C)return v.extent.width*function aF(p){const{wkid:g}=p;if(null!=Pf.Z[g])return Pf.Z.values[Pf.Z[g]];const{wkt:v}=p,b=v.lastIndexOf(",")+1,C=v.lastIndexOf("]]");return parseFloat(v.substring(b,C))}(b)/1e3;const[D,P]=this._getScaleMeasuringPoints(p,g),V="decimal-degrees"===C||b.isGeographic&&!Tc(b)?Ni.Z.WGS84:b,ae=new U9.Z({paths:[[Ww(C,D),Ww(C,P)]],spatialReference:V}),be=(0,oF.hR)(ae,10);let Pe;try{[Pe]=function sF(p,g="meters"){if(!p)throw new Rn.Z("geodesic-lengths:invalid-geometries","the input geometries type is not supported");if(p.some(b=>!Tc(b.spatialReference)))throw new Rn.Z("geodesic-lengths:invalid-spatial-reference","the input geometries spatial reference is not supported");const v=[];for(let b=0;b<p.length;b++){const C=p[b],{spatialReference:D}=C,P="polyline"===C.type?C.paths:C.rings;let V=0;for(let ae=0;ae<P.length;ae++){const be=P[ae];let Pe=0;for(let Fe=1;Fe<be.length;Fe++){const Xe=be[Fe-1][0],rt=be[Fe][0],It=be[Fe-1][1],Zt=be[Fe][1];if(It!==Zt||Xe!==rt){const Xt={distance:null};G_(Xt,[Xe,It],[rt,Zt],D),Pe+=Xt.distance}}V+=Pe}V=(0,KD.En)(V,"meters",g),v.push(V)}return v}([be],"kilometers")}catch(Fe){return null}return Pe}_getScaleMeasuringPoints(p,g){const{width:v,height:b,position:C,spatialReference:D}=p;if(Vw(p)){const{valid:be}=(0,Tp.C5)(D);return[new hs.Z(be[0],0,D),new hs.Z(be[1],0,D)]}let P=g.y-C[1];P>b?P=b:P<0&&(P=0);const V=(0,ii.vW)(0,P),ae=(0,ii.vW)(v,P);return[p.toMap(V),p.toMap(ae)]}_getScaleBarProps(p,g,v){const{view:b}=this;let C=p*g/(Vw(b)?b.state.paddedViewState.worldScreenWidth:b.width),D="metric"===v?"km":"mi";C<.1&&("mi"===D?(C*=5280,D="ft"):"km"===D&&(C*=1e3,D="m"));let P=0;for(;C>=1;)C/=10,P++;const V=this._getConstraints(C);if(!V)return null;const{min:ae,max:be}=V,Pe=be/C>=C/ae?ae:be;return{length:p*(Pe/C),value:10**P*Pe,unit:D}}_getConstraints(p){return p>.5?{min:.5,max:1}:p>.3?{min:.3,max:.5}:p>.2?{min:.2,max:.3}:p>.15?{min:.15,max:.2}:p>=.1?{min:.15,max:.1}:void 0}};(0,ye._)([(0,Oe.Cb)()],xc.prototype,"scaleComputedFrom",void 0),(0,ye._)([(0,Oe.Cb)({readOnly:!0})],xc.prototype,"state",null),(0,ye._)([(0,Oe.Cb)()],xc.prototype,"view",void 0),xc=(0,ye._)([(0,bn.j)("esri.widgets.Scalebar.ScaleBarViewModel")],xc);const lF=xc,bs_label="esri-scale-bar__label",bs_rulerBlock="esri-scale-bar__ruler-block";function If(p){return 2*p}let Jo=class extends oi.Z{constructor(p,g){super(p,g),this.label=void 0,this.messages=null,this.unit="non-metric",this.view=null,this.viewModel=new lF}initialize(){this.own([(0,Jn.Z4)(this,"view.stationary",()=>this.scheduleRender()),(0,Jn.YP)(this,["view.center","view.scale","view.zoom"],()=>{this.view.stationary&&this.scheduleRender()})])}set style(p){this._set("style","dual"===this.unit?"line":p)}castStyle(p){return"line"===p?p:"ruler"}castUnit(p){return"metric"===p||"dual"===p?p:"non-metric"}render(){const p="disabled"===this.get("viewModel.state"),g={"esri-disabled":p};let v,b;if(!p){const{unit:C,style:D}=this,P="metric"===C||"dual"===C,V=50;if("non-metric"===C||"dual"===C){const ae=this.viewModel.getScaleBarProperties(V,"non-metric");ae&&(b="ruler"===D?this._renderRuler(ae):this._renderLine(ae,"bottom"))}if(P){const ae=this.viewModel.getScaleBarProperties(V,"metric");ae&&(v="ruler"===D?this._renderRuler(ae):this._renderLine(ae,"top"))}}return(0,Ft.u)("div",{afterCreate:this._handleRootCreateOrUpdate,afterUpdate:this._handleRootCreateOrUpdate,bind:this,class:this.classes("esri-scale-bar esri-widget",g)},v,b)}_renderRuler(p){const g=If(Math.round(p.length)),{messages:v}=this,b=v[p.unit]||v.unknownUnit,C=`${If(p.value)} ${b}`;return(0,Ft.u)("div",{class:this.classes("esri-scale-bar__bar-container","esri-scale-bar__bar-container--ruler"),key:"esri-scale-bar__ruler"},(0,Ft.u)("div",{class:"esri-scale-bar__ruler",styles:{width:`${g}px`}},(0,Ft.u)("div",{class:bs_rulerBlock}),(0,Ft.u)("div",{class:bs_rulerBlock}),(0,Ft.u)("div",{class:bs_rulerBlock}),(0,Ft.u)("div",{class:bs_rulerBlock})),(0,Ft.u)("div",{class:this.classes("esri-scale-bar__label-container","esri-scale-bar__label-container--ruler")},(0,Ft.u)("div",{class:bs_label},"0"),(0,Ft.u)("div",{class:bs_label},C)))}_renderLine(p,g){const{messages:v}=this,b=v[p.unit]||v.unknownUnit,C=`${If(p.value)} ${b}`,P=(0,Ft.u)("div",{class:this.classes("esri-scale-bar__label-container","esri-scale-bar__label-container--line",{"esri-scale-bar__label-container--top":"top"===g,"esri-scale-bar__label-container--bottom":"bottom"===g}),key:"esri-scale-bar__label"},(0,Ft.u)("div",{class:bs_label},C)),V={"esri-scale-bar__line--top":"top"===g,"esri-scale-bar__line--bottom":"bottom"===g},ae=If(Math.round(p.length)),be=(0,Ft.u)("div",{class:this.classes("esri-scale-bar__line",V),key:"esri-scale-bar__line",styles:{width:`${ae}px`}});return(0,Ft.u)("div",{class:this.classes("esri-scale-bar__bar-container","esri-scale-bar__bar-container--line"),key:"esri-scale-bar__line-container"},[be,P])}_handleRootCreateOrUpdate(p){const g=this.viewModel;if(!g)return;const v=p.getBoundingClientRect(),b=v.left+window.pageXOffset,C=v.top+window.pageYOffset,D=(0,ii.vW)(b,C);(D.x!==g.scaleComputedFrom.x||D.y!==g.scaleComputedFrom.y)&&(g.scaleComputedFrom=D)}};(0,ye._)([(0,Oe.Cb)({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],Jo.prototype,"label",void 0),(0,ye._)([(0,Oe.Cb)(),(0,ai.H)("esri/widgets/ScaleBar/t9n/ScaleBar")],Jo.prototype,"messages",void 0),(0,ye._)([(0,Oe.Cb)()],Jo.prototype,"style",null),(0,ye._)([(0,lo.p)("style")],Jo.prototype,"castStyle",null),(0,ye._)([(0,Oe.Cb)()],Jo.prototype,"unit",void 0),(0,ye._)([(0,lo.p)("unit")],Jo.prototype,"castUnit",null),(0,ye._)([(0,Nn.B)("viewModel.view")],Jo.prototype,"view",void 0),(0,ye._)([(0,Oe.Cb)()],Jo.prototype,"viewModel",void 0),Jo=(0,ye._)([(0,bn.j)("esri.widgets.ScaleBar")],Jo);const uF=Jo,cF=["mapViewNode"];let dF=(()=>{class p{constructor(){this.location=null,this.onSearchResult=new _o,this.onMapStatusUpdate=new _o}initializeMap(){const v=this.mapViewEl.nativeElement,b=new $6({portalItem:{id:"aa1d3f80270146208328cf66d022e09c "}}),C=new H4({container:v,map:b}),D=new uF({view:C});return C.ui.add(D,{position:"bottom-left"}),this.searchWidget=new tF({view:C}),this.searchWidget.on("select-result",({result:P})=>this.onSearchResult.emit(P.feature)),C.ui.add(this.searchWidget,{position:"top-right"}),this.view=C,this.view.when()}ngOnInit(){var v=this;return(0,Un.Z)(function*(){v.onMapStatusUpdate.emit(!1);try{yield v.initializeMap(),v.onMapStatusUpdate.emit(!0)}catch(b){console.error(b),alert("OOPS! Cannot load ArcGIS map!")}})()}ngOnChanges(v){var b=this;return(0,Un.Z)(function*(){const{currentValue:C}=v.location;if(C){b.onMapStatusUpdate.emit(!1);try{yield b.view.goTo(C,{duration:1e3}),b.onMapStatusUpdate.emit(!0)}catch(D){console.error(D),alert("OOPS! Something went wrong when executing this operation!")}}})()}ngOnDestroy(){this.view&&this.view.destroy()}}return p.\u0275fac=function(v){return new(v||p)},p.\u0275cmp=Qo({type:p,selectors:[["app-map"]],viewQuery:function(v,b){if(1&v&&AM(cF,7),2&v){let C;xM(C=function RM(){return function RR(p,g){return p[19].queries[g].queryList}(Sn(),nv())}())&&(b.mapViewEl=C.first)}},inputs:{location:"location"},outputs:{onSearchResult:"onSearchResult",onMapStatusUpdate:"onMapStatusUpdate"},features:[ea],decls:2,vars:0,consts:[["mapViewNode",""]],template:function(v,b){1&v&&jl(0,"div",null,0)},styles:['@import"https://js.arcgis.com/4.23/@arcgis/core/assets/esri/themes/dark/main.css";[_nghost-%COMP%]{flex-grow:1;height:calc(100vh - 87px);border:2px solid #0049b7;border-radius:5px}@media (min-width: 531px){[_nghost-%COMP%]{height:calc(100vh - 127px)}}.esri-view[_ngcontent-%COMP%], #mapViewNode[_ngcontent-%COMP%]{padding:0;margin:0;height:100%;width:100%}']}),p})(),hF=(()=>{class p{constructor(){this.onMapOperation=new _o}ngOnInit(){}}return p.\u0275fac=function(v){return new(v||p)},p.\u0275cmp=Qo({type:p,selectors:[["app-side-bar"]],outputs:{onMapOperation:"onMapOperation"},decls:7,vars:0,consts:[[1,"side-bar","flex","space-around"],["title","Pans the map to israel",3,"click"],["title","Adjusts the map view to a default scale of 1/1000000",3,"click"],["title","Go back to the previous searched location",3,"click"]],template:function(v,b){1&v&&(Zs(0,"section",0)(1,"button",1),Ul("click",function(){return b.onMapOperation.emit("PAN_TO_ISRAEL")}),zi(2,"Show Israel"),js(),Zs(3,"button",2),Ul("click",function(){return b.onMapOperation.emit("CHANGE_SCALE")}),zi(4,"Adjust scale"),js(),Zs(5,"button",3),Ul("click",function(){return b.onMapOperation.emit("RETURN_TO_PREV_LOCATION")}),zi(6,"Go Back"),js()())},styles:[".side-bar[_ngcontent-%COMP%]{height:100%;min-height:47px;align-items:center}@media (min-width: 531px){.side-bar[_ngcontent-%COMP%]{flex-direction:column}}"]}),p})(),pF=(()=>{class p{constructor(){}ngOnInit(){}}return p.\u0275fac=function(v){return new(v||p)},p.\u0275cmp=Qo({type:p,selectors:[["app-main-footer"]],decls:14,vars:0,consts:[[1,"main-footer","main-layout","flex","align-center","space-between"],[1,"copyright"],[1,"footer-nav"],[1,"clean-list","flex"],["href","#"]],template:function(v,b){1&v&&(Zs(0,"footer",0)(1,"span",1),zi(2,"\xa9 2022 Kapow, Inc."),js(),Zs(3,"nav",2)(4,"ul",3)(5,"li")(6,"a",4),zi(7,"Link"),js()(),Zs(8,"li")(9,"a",4),zi(10,"Link"),js()(),Zs(11,"li")(12,"a",4),zi(13,"Link"),js()()()()())},styles:[".main-footer[_ngcontent-%COMP%]{padding-top:14px;padding-bottom:14px;background-color:#f0f0f0;position:fixed;bottom:0;left:0;right:0}@media (max-width: 530px){.main-footer[_ngcontent-%COMP%]{display:none}}"]}),p})(),fF=(()=>{class p{constructor(v){this.mapViewService=v,this.title="Kapow-Maps-Exam",this.isMapReady=!1,this._emptySubject$=new XC(null)}handleMapOperation(v){if(this.isMapReady)switch(v){case"CHANGE_SCALE":return this.mapViewService.changeScale();case"PAN_TO_ISRAEL":return this.mapViewService.panToIsrael();case"RETURN_TO_PREV_LOCATION":return this.mapViewService.returnToPrevLocation()}}updateMapStatus(v){this.isMapReady=v,v&&this._emptySubject$.next(null)}handleSearchResult(v){this.mapViewService.saveLocation(v)}ngOnInit(){this.locations$=ks(this.mapViewService.locations$,this._emptySubject$)}}return p.\u0275fac=function(v){return new(v||p)(Or(zj))},p.\u0275cmp=Qo({type:p,selectors:[["app-root"]],decls:7,vars:3,consts:[[1,"app-root"],[1,"main-content","main-layout","flex"],[3,"location","onMapStatusUpdate","onSearchResult"],[3,"onMapOperation"]],template:function(v,b){1&v&&(Zs(0,"section",0),jl(1,"app-main-header"),Zs(2,"main",1)(3,"app-map",2),Ul("onMapStatusUpdate",function(D){return b.updateMapStatus(D)})("onSearchResult",function(D){return b.handleSearchResult(D)}),function DM(p,g){const v=Rr();let b;const C=p+20;v.firstCreatePass?(b=function fR(p,g){if(g)for(let v=g.length-1;v>=0;v--){const b=g[v];if(p===b.name)return b}}(g,v.pipeRegistry),v.data[C]=b,b.onDestroy&&(v.destroyHooks||(v.destroyHooks=[])).push(C,b.onDestroy)):b=v.data[C];const D=b.factory||(b.factory=qo(b.type)),P=qe(Or);try{const V=Oh(!1),ae=D();return Oh(V),function O2(p,g,v,b){v>=p.data.length&&(p.data[v]=null,p.blueprint[v]=null),g[v]=b}(v,Sn(),C,ae),ae}finally{qe(P)}}(4,"async"),js(),Zs(5,"app-side-bar",3),Ul("onMapOperation",function(D){return b.handleMapOperation(D)}),js()(),jl(6,"app-main-footer"),js()),2&v&&(function D1(p){S1(Rr(),Sn(),Ri()+p,!1)}(3),Mm("location",SM(4,1,b.locations$)))},directives:[kj,dF,hF,pF],pipes:[UC],styles:["@media (max-width: 530px){.main-content[_ngcontent-%COMP%]{flex-direction:column}}@media (min-width: 531px){.main-content[_ngcontent-%COMP%]{gap:20px}}"]}),p})(),mF=(()=>{class p{}return p.\u0275fac=function(v){return new(v||p)},p.\u0275mod=Il({type:p,bootstrap:[fF]}),p.\u0275inj=wi({providers:[],imports:[[Lj]]}),p})();(function EL(){hC=!1})(),Aj().bootstrapModule(mF).catch(p=>console.error(p))},76210:(Qe,Me,E)=>{"use strict";E.d(Me,{Z5:()=>di,mv:()=>k,AA:()=>ut,yM:()=>Qt,xE:()=>fr,K3:()=>Fn,h:()=>vt,GH:()=>cn,YY:()=>mn});var M=E(15861);let N,ee,z,x=!1,Z=!1,Y=!1,$=!1,se=null,j=!1;const I="undefined"!=typeof window?window:{},F=I.document||{head:{}},k=I.HTMLElement||class{},W={$flags$:0,$resourcesUrl$:"",jmp:Ge=>Ge(),raf:Ge=>requestAnimationFrame(Ge),ael:(Ge,qe,gt,ft)=>Ge.addEventListener(qe,gt,ft),rel:(Ge,qe,gt,ft)=>Ge.removeEventListener(qe,gt,ft),ce:(Ge,qe)=>new CustomEvent(Ge,qe)},ue=(()=>{let Ge=!1;try{F.addEventListener("e",null,Object.defineProperty({},"passive",{get(){Ge=!0}}))}catch(qe){}return Ge})(),fe=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replace}catch(Ge){}return!1})(),oe=(Ge,qe,gt,ft)=>{gt&&gt.map(([Rt,Ut,Ue])=>{const $e=de(Ge,Rt),ct=K(qe,Ue),At=le(Rt);W.ael($e,Ut,ct,At),(qe.$rmListeners$=qe.$rmListeners$||[]).push(()=>W.rel($e,Ut,ct,At))})},K=(Ge,qe)=>gt=>{try{Ge.$hostElement$[qe](gt)}catch(ft){qr(ft)}},de=(Ge,qe)=>4&qe?F:8&qe?I:16&qe?F.body:Ge,le=Ge=>ue?{passive:0!=(1&Ge),capture:0!=(2&Ge)}:0!=(2&Ge),xe="http://www.w3.org/1999/xlink",We=new WeakMap,Te=(Ge,qe,gt,ft)=>{let Rt=He(qe,gt),Ut=po.get(Rt);if(Ge=11===Ge.nodeType?Ge:F,Ut)if("string"==typeof Ut){let $e,Ue=We.get(Ge=Ge.head||Ge);Ue||We.set(Ge,Ue=new Set),Ue.has(Rt)||($e=F.createElement("style"),$e.innerHTML=Ut,Ge.insertBefore($e,Ge.querySelector("link")),Ue&&Ue.add(Rt))}else!Ge.adoptedStyleSheets.includes(Ut)&&(Ge.adoptedStyleSheets=[...Ge.adoptedStyleSheets,Ut]);return Rt},He=(Ge,qe)=>"sc-"+(qe&&32&Ge.$flags$?Ge.$tagName$+"-"+qe:Ge.$tagName$),ht={},tt=Ge=>"object"==(Ge=typeof Ge)||"function"===Ge,vt=(Ge,qe,...gt)=>{let ft=null,Rt=null,Ut=null,Ue=!1,$e=!1,ct=[];const At=En=>{for(let jn=0;jn<En.length;jn++)ft=En[jn],Array.isArray(ft)?At(ft):null!=ft&&"boolean"!=typeof ft&&((Ue="function"!=typeof Ge&&!tt(ft))&&(ft=String(ft)),Ue&&$e?ct[ct.length-1].$text$+=ft:ct.push(Ue?Ke(null,ft):ft),$e=Ue)};if(At(gt),qe&&(qe.key&&(Rt=qe.key),qe.name&&(Ut=qe.name),true)){const En=qe.className||qe.class;En&&(qe.class="object"!=typeof En?En:Object.keys(En).filter(jn=>En[jn]).join(" "))}if("function"==typeof Ge)return Ge(null===qe?{}:qe,ct,St);const en=Ke(Ge,null);return en.$attrs$=qe,ct.length>0&&(en.$children$=ct),en.$key$=Rt,en.$name$=Ut,en},Ke=(Ge,qe)=>{const gt={$flags$:0,$tag$:Ge,$text$:qe,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null};return gt},ut={},Et=Ge=>Ge&&Ge.$tag$===ut,St={forEach:(Ge,qe)=>Ge.map(kt).forEach(qe),map:(Ge,qe)=>Ge.map(kt).map(qe).map(zt)},kt=Ge=>({vattrs:Ge.$attrs$,vchildren:Ge.$children$,vkey:Ge.$key$,vname:Ge.$name$,vtag:Ge.$tag$,vtext:Ge.$text$}),zt=Ge=>{if("function"==typeof Ge.vtag){const gt=Object.assign({},Ge.vattrs);return Ge.vkey&&(gt.key=Ge.vkey),Ge.vname&&(gt.name=Ge.vname),vt(Ge.vtag,gt,...Ge.vchildren||[])}const qe=Ke(Ge.vtag,Ge.vtext);return qe.$attrs$=Ge.vattrs,qe.$children$=Ge.vchildren,qe.$key$=Ge.vkey,qe.$name$=Ge.vname,qe},dn=(Ge,qe,gt,ft,Rt,Ut)=>{if(gt!==ft){let Ue=us(Ge,qe),$e=qe.toLowerCase();if("class"===qe){const ct=Ge.classList,At=yn(gt),en=yn(ft);ct.remove(...At.filter(En=>En&&!en.includes(En))),ct.add(...en.filter(En=>En&&!At.includes(En)))}else if("style"===qe){for(const ct in gt)(!ft||null==ft[ct])&&(ct.includes("-")?Ge.style.removeProperty(ct):Ge.style[ct]="");for(const ct in ft)(!gt||ft[ct]!==gt[ct])&&(ct.includes("-")?Ge.style.setProperty(ct,ft[ct]):Ge.style[ct]=ft[ct])}else if("key"!==qe)if("ref"===qe)ft&&ft(Ge);else if(Ge.__lookupSetter__(qe)||"o"!==qe[0]||"n"!==qe[1]){{const ct=tt(ft);if((Ue||ct&&null!==ft)&&!Rt)try{if(Ge.tagName.includes("-"))Ge[qe]=ft;else{let en=null==ft?"":ft;"list"===qe?Ue=!1:(null==gt||Ge[qe]!=en)&&(Ge[qe]=en)}}catch(en){}let At=!1;$e!==($e=$e.replace(/^xlink\:?/,""))&&(qe=$e,At=!0),null==ft||!1===ft?(!1!==ft||""===Ge.getAttribute(qe))&&(At?Ge.removeAttributeNS(xe,qe):Ge.removeAttribute(qe)):(!Ue||4&Ut||Rt)&&!ct&&(ft=!0===ft?"":ft,At?Ge.setAttributeNS(xe,qe,ft):Ge.setAttribute(qe,ft))}}else qe="-"===qe[2]?qe.slice(3):us(I,$e)?$e.slice(2):$e[2]+qe.slice(3),gt&&W.rel(Ge,qe,gt,!1),ft&&W.ael(Ge,qe,ft,!1)}},xn=/\s/,yn=Ge=>Ge?Ge.split(xn):[],An=(Ge,qe,gt,ft)=>{const Rt=11===qe.$elm$.nodeType&&qe.$elm$.host?qe.$elm$.host:qe.$elm$,Ut=Ge&&Ge.$attrs$||ht,Ue=qe.$attrs$||ht;for(ft in Ut)ft in Ue||dn(Rt,ft,Ut[ft],void 0,gt,qe.$flags$);for(ft in Ue)dn(Rt,ft,Ut[ft],Ue[ft],gt,qe.$flags$)},In=(Ge,qe,gt,ft)=>{let Ue,$e,ct,Rt=qe.$children$[gt],Ut=0;if(!x&&(Y=!0,"slot"===Rt.$tag$&&(N&&ft.classList.add(N+"-s"),Rt.$flags$|=Rt.$children$?2:1)),null!==Rt.$text$)Ue=Rt.$elm$=F.createTextNode(Rt.$text$);else if(1&Rt.$flags$)Ue=Rt.$elm$=F.createTextNode("");else{if(!$&&($="svg"===Rt.$tag$),Ue=Rt.$elm$=F.createElementNS($?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&Rt.$flags$?"slot-fb":Rt.$tag$),$&&"foreignObject"===Rt.$tag$&&($=!1),An(null,Rt,$),(Ge=>null!=Ge)(N)&&Ue["s-si"]!==N&&Ue.classList.add(Ue["s-si"]=N),Rt.$children$)for(Ut=0;Ut<Rt.$children$.length;++Ut)$e=In(Ge,Rt,Ut,Ue),$e&&Ue.appendChild($e);"svg"===Rt.$tag$?$=!1:"foreignObject"===Ue.tagName&&($=!0)}return Ue["s-hn"]=z,3&Rt.$flags$&&(Ue["s-sr"]=!0,Ue["s-cr"]=ee,Ue["s-sn"]=Rt.$name$||"",ct=Ge&&Ge.$children$&&Ge.$children$[gt],ct&&ct.$tag$===Rt.$tag$&&Ge.$elm$&&Dn(Ge.$elm$,!1)),Ue},Dn=(Ge,qe)=>{W.$flags$|=1;const gt=Ge.childNodes;for(let ft=gt.length-1;ft>=0;ft--){const Rt=gt[ft];Rt["s-hn"]!==z&&Rt["s-ol"]&&(Nt(Rt).insertBefore(Rt,Ht(Rt)),Rt["s-ol"].remove(),Rt["s-ol"]=void 0,Y=!0),qe&&Dn(Rt,qe)}W.$flags$&=-2},st=(Ge,qe,gt,ft,Rt,Ut)=>{let $e,Ue=Ge["s-cr"]&&Ge["s-cr"].parentNode||Ge;for(Ue.shadowRoot&&Ue.tagName===z&&(Ue=Ue.shadowRoot);Rt<=Ut;++Rt)ft[Rt]&&($e=In(null,gt,Rt,Ge),$e&&(ft[Rt].$elm$=$e,Ue.insertBefore($e,Ht(qe))))},Dt=(Ge,qe,gt,ft,Rt)=>{for(;qe<=gt;++qe)(ft=Ge[qe])&&(Rt=ft.$elm$,ze(ft),Z=!0,Rt["s-ol"]?Rt["s-ol"].remove():Dn(Rt,!0),Rt.remove())},Wt=(Ge,qe)=>Ge.$tag$===qe.$tag$&&("slot"===Ge.$tag$?Ge.$name$===qe.$name$:Ge.$key$===qe.$key$),Ht=Ge=>Ge&&Ge["s-ol"]||Ge,Nt=Ge=>(Ge["s-ol"]?Ge["s-ol"]:Ge).parentNode,Yt=(Ge,qe)=>{const gt=qe.$elm$=Ge.$elm$,ft=Ge.$children$,Rt=qe.$children$,Ut=qe.$tag$,Ue=qe.$text$;let $e;null!==Ue?($e=gt["s-cr"])?$e.parentNode.textContent=Ue:Ge.$text$!==Ue&&(gt.data=Ue):($="svg"===Ut||"foreignObject"!==Ut&&$,"slot"===Ut||An(Ge,qe,$),null!==ft&&null!==Rt?((Ge,qe,gt,ft)=>{let Vr,jr,Rt=0,Ut=0,Ue=0,$e=0,ct=qe.length-1,At=qe[0],en=qe[ct],En=ft.length-1,jn=ft[0],zn=ft[En];for(;Rt<=ct&&Ut<=En;)if(null==At)At=qe[++Rt];else if(null==en)en=qe[--ct];else if(null==jn)jn=ft[++Ut];else if(null==zn)zn=ft[--En];else if(Wt(At,jn))Yt(At,jn),At=qe[++Rt],jn=ft[++Ut];else if(Wt(en,zn))Yt(en,zn),en=qe[--ct],zn=ft[--En];else if(Wt(At,zn))("slot"===At.$tag$||"slot"===zn.$tag$)&&Dn(At.$elm$.parentNode,!1),Yt(At,zn),Ge.insertBefore(At.$elm$,en.$elm$.nextSibling),At=qe[++Rt],zn=ft[--En];else if(Wt(en,jn))("slot"===At.$tag$||"slot"===zn.$tag$)&&Dn(en.$elm$.parentNode,!1),Yt(en,jn),Ge.insertBefore(en.$elm$,At.$elm$),en=qe[--ct],jn=ft[++Ut];else{for(Ue=-1,$e=Rt;$e<=ct;++$e)if(qe[$e]&&null!==qe[$e].$key$&&qe[$e].$key$===jn.$key$){Ue=$e;break}Ue>=0?(jr=qe[Ue],jr.$tag$!==jn.$tag$?Vr=In(qe&&qe[Ut],gt,Ue,Ge):(Yt(jr,jn),qe[Ue]=void 0,Vr=jr.$elm$),jn=ft[++Ut]):(Vr=In(qe&&qe[Ut],gt,Ut,Ge),jn=ft[++Ut]),Vr&&Nt(At.$elm$).insertBefore(Vr,Ht(At.$elm$))}Rt>ct?st(Ge,null==ft[En+1]?null:ft[En+1].$elm$,gt,ft,Ut,En):Ut>En&&Dt(qe,Rt,ct)})(gt,ft,qe,Rt):null!==Rt?(null!==Ge.$text$&&(gt.textContent=""),st(gt,null,qe,Rt,0,Rt.length-1)):null!==ft&&Dt(ft,0,ft.length-1),$&&"svg"===Ut&&($=!1))},Jt=Ge=>{let gt,ft,Rt,Ut,Ue,$e,qe=Ge.childNodes;for(ft=0,Rt=qe.length;ft<Rt;ft++)if(gt=qe[ft],1===gt.nodeType){if(gt["s-sr"])for(Ue=gt["s-sn"],gt.hidden=!1,Ut=0;Ut<Rt;Ut++)if($e=qe[Ut].nodeType,qe[Ut]["s-hn"]!==gt["s-hn"]||""!==Ue){if(1===$e&&Ue===qe[Ut].getAttribute("slot")){gt.hidden=!0;break}}else if(1===$e||3===$e&&""!==qe[Ut].textContent.trim()){gt.hidden=!0;break}Jt(gt)}},an=[],Ot=Ge=>{let qe,gt,ft,Rt,Ut,Ue,$e=0,ct=Ge.childNodes,At=ct.length;for(;$e<At;$e++){if(qe=ct[$e],qe["s-sr"]&&(gt=qe["s-cr"])&&gt.parentNode)for(ft=gt.parentNode.childNodes,Rt=qe["s-sn"],Ue=ft.length-1;Ue>=0;Ue--)gt=ft[Ue],!gt["s-cn"]&&!gt["s-nr"]&&gt["s-hn"]!==qe["s-hn"]&&(yt(gt,Rt)?(Ut=an.find(en=>en.$nodeToRelocate$===gt),Z=!0,gt["s-sn"]=gt["s-sn"]||Rt,Ut?Ut.$slotRefNode$=qe:an.push({$slotRefNode$:qe,$nodeToRelocate$:gt}),gt["s-sr"]&&an.map(en=>{yt(en.$nodeToRelocate$,gt["s-sn"])&&(Ut=an.find(En=>En.$nodeToRelocate$===gt),Ut&&!en.$slotRefNode$&&(en.$slotRefNode$=Ut.$slotRefNode$))})):an.some(en=>en.$nodeToRelocate$===gt)||an.push({$nodeToRelocate$:gt}));1===qe.nodeType&&Ot(qe)}},yt=(Ge,qe)=>1===Ge.nodeType?null===Ge.getAttribute("slot")&&""===qe||Ge.getAttribute("slot")===qe:Ge["s-sn"]===qe||""===qe,ze=Ge=>{Ge.$attrs$&&Ge.$attrs$.ref&&Ge.$attrs$.ref(null),Ge.$children$&&Ge.$children$.map(ze)},mt=(Ge,qe)=>{const gt=Ge.$hostElement$,ft=Ge.$cmpMeta$,Rt=Ge.$vnode$||Ke(null,null),Ut=Et(qe)?qe:vt(null,null,qe);if(z=gt.tagName,ft.$attrsToReflect$&&(Ut.$attrs$=Ut.$attrs$||{},ft.$attrsToReflect$.map(([Ue,$e])=>Ut.$attrs$[$e]=gt[Ue])),Ut.$tag$=null,Ut.$flags$|=4,Ge.$vnode$=Ut,Ut.$elm$=Rt.$elm$=gt.shadowRoot||gt,N=gt["s-sc"],ee=gt["s-cr"],x=0!=(1&ft.$flags$),Z=!1,Yt(Rt,Ut),W.$flags$|=1,Y){Ot(Ut.$elm$);let Ue,$e,ct,At,en,En,jn=0;for(;jn<an.length;jn++)Ue=an[jn],$e=Ue.$nodeToRelocate$,$e["s-ol"]||(ct=F.createTextNode(""),ct["s-nr"]=$e,$e.parentNode.insertBefore($e["s-ol"]=ct,$e));for(jn=0;jn<an.length;jn++)if(Ue=an[jn],$e=Ue.$nodeToRelocate$,Ue.$slotRefNode$){for(At=Ue.$slotRefNode$.parentNode,en=Ue.$slotRefNode$.nextSibling,ct=$e["s-ol"];ct=ct.previousSibling;)if(En=ct["s-nr"],En&&En["s-sn"]===$e["s-sn"]&&At===En.parentNode&&(En=En.nextSibling,!En||!En["s-nr"])){en=En;break}(!en&&At!==$e.parentNode||$e.nextSibling!==en)&&$e!==en&&(!$e["s-hn"]&&$e["s-ol"]&&($e["s-hn"]=$e["s-ol"].parentNode.nodeName),At.insertBefore($e,en))}else 1===$e.nodeType&&($e.hidden=!0)}Z&&Jt(Ut.$elm$),W.$flags$&=-2,an.length=0},Qt=(Ge,qe,gt)=>{const ft=Ge;return{emit:Rt=>on(ft,qe,{bubbles:!!(4&gt),composed:!!(2&gt),cancelable:!!(1&gt),detail:Rt})}},on=(Ge,qe,gt)=>{const ft=W.ce(qe,gt);return Ge.dispatchEvent(ft),ft},Vt=(Ge,qe)=>{Ge.$flags$|=16;const gt=()=>$t(Ge,qe);return Cn(gt)},$t=(Ge,qe)=>{const gt=Ge.$hostElement$,ft=()=>{},Rt=gt;let Ut;return qe?(Wr(gt,"componentWillLoad"),Ut=Lr(Rt,"componentWillLoad")):(Wr(gt,"componentWillUpdate"),Ut=Lr(Rt,"componentWillUpdate")),Wr(gt,"componentWillRender"),Ut=zs(Ut,()=>Lr(Rt,"componentWillRender")),ft(),zs(Ut,()=>rn(Ge,Rt,qe))},rn=function(){var Ge=(0,M.Z)(function*(qe,gt,ft){const Rt=qe.$hostElement$,Ut=()=>{};ft&&(Ge=>{const qe=Ge.$cmpMeta$,gt=Ge.$hostElement$,ft=qe.$flags$,Rt=()=>{},Ut=Te(gt.shadowRoot?gt.shadowRoot:gt.getRootNode(),qe,Ge.$modeName$);10&ft&&(gt["s-sc"]=Ut,gt.classList.add(Ut+"-h"),2&ft&&gt.classList.add(Ut+"-s")),Rt()})(qe);const $e=()=>{};gn(qe,gt,Rt),$e(),Ut(),mr(qe)});return function(gt,ft,Rt){return Ge.apply(this,arguments)}}(),gn=(Ge,qe,gt)=>{try{se=qe,qe=qe.render&&qe.render(),Ge.$flags$&=-17,Ge.$flags$|=2,mt(Ge,qe)}catch($e){qr($e,Ge.$hostElement$)}return se=null,null},mr=Ge=>{const gt=Ge.$hostElement$,ft=()=>{},Rt=gt;Lr(Rt,"componentDidRender"),Wr(gt,"componentDidRender"),64&Ge.$flags$?(Lr(Rt,"componentDidUpdate"),Wr(gt,"componentDidUpdate"),ft()):(Ge.$flags$|=64,Lr(Rt,"componentDidLoad"),Wr(gt,"componentDidLoad"),ft())},fr=Ge=>{{const qe=xr(Ge),gt=qe.$hostElement$.isConnected;return gt&&2==(18&qe.$flags$)&&Vt(qe,!1),gt}},Lr=(Ge,qe,gt)=>{if(Ge&&Ge[qe])try{return Ge[qe](gt)}catch(ft){qr(ft)}},zs=(Ge,qe)=>Ge&&Ge.then?Ge.then(qe):qe(),Wr=(Ge,qe)=>{},Jr=(Ge,qe,gt)=>{if(qe.$members$){Ge.watchers&&(qe.$watchers$=Ge.watchers);const ft=Object.entries(qe.$members$),Rt=Ge.prototype;ft.map(([Ut,[Ue]])=>{(31&Ue||32&Ue)&&Object.defineProperty(Rt,Ut,{get(){return((Ge,qe)=>xr(this).$instanceValues$.get(qe))(0,Ut)},set($e){((Ge,qe,gt,ft)=>{const Rt=xr(Ge),Ut=Ge,Ue=Rt.$instanceValues$.get(qe),$e=Rt.$flags$,ct=Ut;if(gt=((Ge,qe)=>null==Ge||tt(Ge)?Ge:4&qe?"false"!==Ge&&(""===Ge||!!Ge):2&qe?parseFloat(Ge):1&qe?String(Ge):Ge)(gt,ft.$members$[qe][0]),gt!==Ue&&(Rt.$instanceValues$.set(qe,gt),1)){if(ft.$watchers$&&128&$e){const At=ft.$watchers$[qe];At&&At.map(en=>{try{ct[en](gt,Ue,qe)}catch(En){qr(En,Ut)}})}if(2==(18&$e)){if(ct.componentShouldUpdate&&!1===ct.componentShouldUpdate(gt,Ue,qe))return;Vt(Rt,!1)}}})(this,Ut,$e,qe)},configurable:!0,enumerable:!0})});{const Ut=new Map;Rt.attributeChangedCallback=function(Ue,$e,ct){W.jmp(()=>{const At=Ut.get(Ue);if(this.hasOwnProperty(At))ct=this[At],delete this[At];else if(Rt.hasOwnProperty(At)&&"number"==typeof this[At]&&this[At]==ct)return;this[At]=(null!==ct||"boolean"!=typeof this[At])&&ct})},Ge.observedAttributes=ft.filter(([Ue,$e])=>15&$e[0]).map(([Ue,$e])=>{const ct=$e[1]||Ue;return Ut.set(ct,Ue),512&$e[0]&&qe.$attrsToReflect$.push([Ue,ct]),ct})}}return Ge},ks=function(){var Ge=(0,M.Z)(function*(qe,gt,ft,Rt,Ut){if(0==(32&gt.$flags$)&&(Ut=qe.constructor,gt.$flags$|=32,customElements.whenDefined(ft.$tagName$).then(()=>gt.$flags$|=128),Ut.style)){let ct=Ut.style;"string"!=typeof ct&&(ct=ct[gt.$modeName$=(Ge=>wi.map(qe=>qe(Ge)).find(qe=>!!qe))(qe)]);const At=He(ft,gt.$modeName$);if(!po.has(At)){const en=()=>{};((Ge,qe,gt)=>{let ft=po.get(Ge);fe&&gt?(ft=ft||new CSSStyleSheet,ft.replace(qe)):ft=qe,po.set(Ge,ft)})(At,ct,!!(1&ft.$flags$)),en()}}const $e=()=>Vt(gt,!0);$e()});return function(gt,ft,Rt,Ut,Ue){return Ge.apply(this,arguments)}}(),Ms=Ge=>{},Kt=Ge=>{const qe=Ge["s-cr"]=F.createComment("");qe["s-cn"]=!0,Ge.insertBefore(qe,Ge.firstChild)},cn=(Ge,qe)=>{const gt={$flags$:qe[0],$tagName$:qe[1]};gt.$members$=qe[2],gt.$listeners$=qe[3],gt.$watchers$=Ge.$watchers$,gt.$attrsToReflect$=[];const ft=Ge.prototype.connectedCallback,Rt=Ge.prototype.disconnectedCallback;return Object.assign(Ge.prototype,{__registerHost(){Fr(this,gt)},connectedCallback(){(Ge=>{if(0==(1&W.$flags$)){const qe=xr(Ge),gt=qe.$cmpMeta$,ft=()=>{};if(1&qe.$flags$)oe(Ge,qe,gt.$listeners$),Ms(qe.$lazyInstance$);else{let Rt;qe.$flags$|=1,!Rt&&12&gt.$flags$&&Kt(Ge),gt.$members$&&Object.entries(gt.$members$).map(([Ut,[Ue]])=>{if(31&Ue&&Ge.hasOwnProperty(Ut)){const $e=Ge[Ut];delete Ge[Ut],Ge[Ut]=$e}}),ks(Ge,qe,gt)}ft()}})(this),ft&&ft.call(this)},disconnectedCallback(){(Ge=>{if(0==(1&W.$flags$)){const qe=xr(Ge);qe.$rmListeners$&&(qe.$rmListeners$.map(ft=>ft()),qe.$rmListeners$=void 0)}})(this),Rt&&Rt.call(this)},__attachShadow(){this.attachShadow({mode:"open",delegatesFocus:!!(16&gt.$flags$)})}}),Ge.is=gt.$tagName$,Jr(Ge,gt)},Fn=Ge=>{const qe=new URL(Ge,W.$resourcesUrl$);return qe.origin!==I.location.origin?qe.href:qe.pathname},mn=Ge=>W.$resourcesUrl$=Ge,Cs=new WeakMap,xr=Ge=>Cs.get(Ge),Fr=(Ge,qe)=>{const gt={$flags$:0,$hostElement$:Ge,$cmpMeta$:qe,$instanceValues$:new Map};return oe(Ge,gt,qe.$listeners$),Cs.set(Ge,gt)},us=(Ge,qe)=>qe in Ge,qr=(Ge,qe)=>(0,console.error)(Ge,qe),po=new Map,wi=[],Yr=[],ci=[],xt=(Ge,qe)=>gt=>{Ge.push(gt),j||(j=!0,qe&&4&W.$flags$?Pr($n):W.raf($n))},ln=Ge=>{for(let qe=0;qe<Ge.length;qe++)try{Ge[qe](performance.now())}catch(gt){qr(gt)}Ge.length=0},$n=()=>{ln(Yr),ln(ci),(j=Yr.length>0)&&W.raf($n)},Pr=Ge=>Promise.resolve(void 0).then(Ge),Cn=xt(ci,!0),di={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1}},27122:(Qe,Me)=>{"use strict";function M(Se,Be){for(var Re=0;Re<Be.length;Re++){var Ce=Be[Re];Ce.enumerable=Ce.enumerable||!1,Ce.configurable=!0,"value"in Ce&&(Ce.writable=!0),Object.defineProperty(Se,Ce.key,Ce)}}function O(Se,Be,Re){return Be&&M(Se.prototype,Be),Re&&M(Se,Re),Se}function X(){return X=Object.assign||function(Se){for(var Be=1;Be<arguments.length;Be++){var Re=arguments[Be];for(var Ce in Re)Object.prototype.hasOwnProperty.call(Re,Ce)&&(Se[Ce]=Re[Ce])}return Se},X.apply(this,arguments)}function B(Se,Be){Se.prototype=Object.create(Be.prototype),Se.prototype.constructor=Se,ee(Se,Be)}function N(Se){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(Re){return Re.__proto__||Object.getPrototypeOf(Re)})(Se)}function ee(Se,Be){return(ee=Object.setPrototypeOf||function(Ce,Ne){return Ce.__proto__=Ne,Ce})(Se,Be)}function z(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(Se){return!1}}function L(Se,Be,Re){return(L=z()?Reflect.construct:function(Ne,Je,Mt){var Pt=[null];Pt.push.apply(Pt,Je);var sn=new(Function.bind.apply(Ne,Pt));return Mt&&ee(sn,Mt.prototype),sn}).apply(null,arguments)}function x(Se){var Be="function"==typeof Map?new Map:void 0;return x=function(Ce){if(null===Ce||!function T(Se){return-1!==Function.toString.call(Se).indexOf("[native code]")}(Ce))return Ce;if("function"!=typeof Ce)throw new TypeError("Super expression must either be null or a function");if(void 0!==Be){if(Be.has(Ce))return Be.get(Ce);Be.set(Ce,Ne)}function Ne(){return L(Ce,arguments,N(this).constructor)}return Ne.prototype=Object.create(Ce.prototype,{constructor:{value:Ne,enumerable:!1,writable:!0,configurable:!0}}),ee(Ne,Ce)},x(Se)}function Z(Se,Be){if(null==Se)return{};var Ne,Je,Re={},Ce=Object.keys(Se);for(Je=0;Je<Ce.length;Je++)!(Be.indexOf(Ne=Ce[Je])>=0)&&(Re[Ne]=Se[Ne]);return Re}function $(Se,Be){(null==Be||Be>Se.length)&&(Be=Se.length);for(var Re=0,Ce=new Array(Be);Re<Be;Re++)Ce[Re]=Se[Re];return Ce}function se(Se,Be){var Re="undefined"!=typeof Symbol&&Se[Symbol.iterator]||Se["@@iterator"];if(Re)return(Re=Re.call(Se)).next.bind(Re);if(Array.isArray(Se)||(Re=function Y(Se,Be){if(Se){if("string"==typeof Se)return $(Se,Be);var Re=Object.prototype.toString.call(Se).slice(8,-1);if("Object"===Re&&Se.constructor&&(Re=Se.constructor.name),"Map"===Re||"Set"===Re)return Array.from(Se);if("Arguments"===Re||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Re))return $(Se,Be)}}(Se))||Be&&Se&&"number"==typeof Se.length){Re&&(Se=Re);var Ce=0;return function(){return Ce>=Se.length?{done:!0}:{done:!1,value:Se[Ce++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var ne=function(Se){function Be(){return Se.apply(this,arguments)||this}return B(Be,Se),Be}(x(Error)),j=function(Se){function Be(Re){return Se.call(this,"Invalid DateTime: "+Re.toMessage())||this}return B(Be,Se),Be}(ne),I=function(Se){function Be(Re){return Se.call(this,"Invalid Interval: "+Re.toMessage())||this}return B(Be,Se),Be}(ne),w=function(Se){function Be(Re){return Se.call(this,"Invalid Duration: "+Re.toMessage())||this}return B(Be,Se),Be}(ne),F=function(Se){function Be(){return Se.apply(this,arguments)||this}return B(Be,Se),Be}(ne),k=function(Se){function Be(Re){return Se.call(this,"Invalid unit "+Re)||this}return B(Be,Se),Be}(ne),W=function(Se){function Be(){return Se.apply(this,arguments)||this}return B(Be,Se),Be}(ne),re=function(Se){function Be(){return Se.call(this,"Zone is an abstract class")||this}return B(Be,Se),Be}(ne),Q="numeric",ue="short",he="long",fe={year:Q,month:Q,day:Q},pe={year:Q,month:ue,day:Q},oe={year:Q,month:ue,day:Q,weekday:ue},K={year:Q,month:he,day:Q},de={year:Q,month:he,day:Q,weekday:he},le={hour:Q,minute:Q},me={hour:Q,minute:Q,second:Q},ce={hour:Q,minute:Q,second:Q,timeZoneName:ue},ge={hour:Q,minute:Q,second:Q,timeZoneName:he},J={hour:Q,minute:Q,hourCycle:"h23"},ie={hour:Q,minute:Q,second:Q,hourCycle:"h23"},De={hour:Q,minute:Q,second:Q,hourCycle:"h23",timeZoneName:ue},_e={hour:Q,minute:Q,second:Q,hourCycle:"h23",timeZoneName:he},Ie={year:Q,month:Q,day:Q,hour:Q,minute:Q},xe={year:Q,month:Q,day:Q,hour:Q,minute:Q,second:Q},ke={year:Q,month:ue,day:Q,hour:Q,minute:Q},Ve={year:Q,month:ue,day:Q,hour:Q,minute:Q,second:Q},ve={year:Q,month:ue,day:Q,weekday:ue,hour:Q,minute:Q},we={year:Q,month:he,day:Q,hour:Q,minute:Q,timeZoneName:ue},We={year:Q,month:he,day:Q,hour:Q,minute:Q,second:Q,timeZoneName:ue},nt={year:Q,month:he,day:Q,weekday:he,hour:Q,minute:Q,timeZoneName:he},Te={year:Q,month:he,day:Q,weekday:he,hour:Q,minute:Q,second:Q,timeZoneName:he};function Ze(Se){return void 0===Se}function He(Se){return"number"==typeof Se}function te(Se){return"number"==typeof Se&&Se%1==0}function Ye(){try{return"undefined"!=typeof Intl&&!!Intl.RelativeTimeFormat}catch(Se){return!1}}function ot(Se,Be,Re){if(0!==Se.length)return Se.reduce(function(Ce,Ne){var Je=[Be(Ne),Ne];return Ce&&Re(Ce[0],Je[0])===Ce[0]?Ce:Je},null)[1]}function lt(Se,Be){return Object.prototype.hasOwnProperty.call(Se,Be)}function tt(Se,Be,Re){return te(Se)&&Se>=Be&&Se<=Re}function Ke(Se,Be){return void 0===Be&&(Be=2),Se<0?"-"+(""+-Se).padStart(Be,"0"):(""+Se).padStart(Be,"0")}function ut(Se){if(!Ze(Se)&&null!==Se&&""!==Se)return parseInt(Se,10)}function Et(Se){if(!Ze(Se)&&null!==Se&&""!==Se)return parseFloat(Se)}function St(Se){if(!Ze(Se)&&null!==Se&&""!==Se){var Be=1e3*parseFloat("0."+Se);return Math.floor(Be)}}function kt(Se,Be,Re){void 0===Re&&(Re=!1);var Ce=Math.pow(10,Be);return(Re?Math.trunc:Math.round)(Se*Ce)/Ce}function zt(Se){return Se%4==0&&(Se%100!=0||Se%400==0)}function qt(Se){return zt(Se)?366:365}function dn(Se,Be){var Re=function vt(Se,Be){return Se-Be*Math.floor(Se/Be)}(Be-1,12)+1;return 2===Re?zt(Se+(Be-Re)/12)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][Re-1]}function xn(Se){var Be=Date.UTC(Se.year,Se.month-1,Se.day,Se.hour,Se.minute,Se.second,Se.millisecond);return Se.year<100&&Se.year>=0&&(Be=new Date(Be)).setUTCFullYear(Be.getUTCFullYear()-1900),+Be}function yn(Se){var Be=(Se+Math.floor(Se/4)-Math.floor(Se/100)+Math.floor(Se/400))%7,Re=Se-1,Ce=(Re+Math.floor(Re/4)-Math.floor(Re/100)+Math.floor(Re/400))%7;return 4===Be||3===Ce?53:52}function An(Se){return Se>99?Se:Se>60?1900+Se:2e3+Se}function In(Se,Be,Re,Ce){void 0===Ce&&(Ce=null);var Ne=new Date(Se),Je={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};Ce&&(Je.timeZone=Ce);var Mt=X({timeZoneName:Be},Je),Pt=new Intl.DateTimeFormat(Re,Mt).formatToParts(Ne).find(function(Bt){return"timezonename"===Bt.type.toLowerCase()});return Pt?Pt.value:null}function Dn(Se,Be){var Re=parseInt(Se,10);Number.isNaN(Re)&&(Re=0);var Ce=parseInt(Be,10)||0;return 60*Re+(Re<0||Object.is(Re,-0)?-Ce:Ce)}function st(Se){var Be=Number(Se);if("boolean"==typeof Se||""===Se||Number.isNaN(Be))throw new W("Invalid unit value "+Se);return Be}function Dt(Se,Be){var Re={};for(var Ce in Se)if(lt(Se,Ce)){var Ne=Se[Ce];if(null==Ne)continue;Re[Be(Ce)]=st(Ne)}return Re}function jt(Se,Be){var Re=Math.trunc(Math.abs(Se/60)),Ce=Math.trunc(Math.abs(Se%60)),Ne=Se>=0?"+":"-";switch(Be){case"short":return""+Ne+Ke(Re,2)+":"+Ke(Ce,2);case"narrow":return""+Ne+Re+(Ce>0?":"+Ce:"");case"techie":return""+Ne+Ke(Re,2)+Ke(Ce,2);default:throw new RangeError("Value format "+Be+" is out of range for property format")}}function Wt(Se){return function at(Se,Be){return Be.reduce(function(Re,Ce){return Re[Ce]=Se[Ce],Re},{})}(Se,["hour","minute","second","millisecond"])}var Nt=["January","February","March","April","May","June","July","August","September","October","November","December"],Yt=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Jt=["J","F","M","A","M","J","J","A","S","O","N","D"];function an(Se){switch(Se){case"narrow":return[].concat(Jt);case"short":return[].concat(Yt);case"long":return[].concat(Nt);case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}var Ot=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],yt=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],ze=["M","T","W","T","F","S","S"];function mt(Se){switch(Se){case"narrow":return[].concat(ze);case"short":return[].concat(yt);case"long":return[].concat(Ot);case"numeric":return["1","2","3","4","5","6","7"];default:return null}}var Ae=["AM","PM"],et=["Before Christ","Anno Domini"],Tt=["BC","AD"],Qt=["B","A"];function on(Se){switch(Se){case"narrow":return[].concat(Qt);case"short":return[].concat(Tt);case"long":return[].concat(et);default:return null}}function Zn(Se,Be){for(var Ne,Re="",Ce=se(Se);!(Ne=Ce()).done;){var Je=Ne.value;Re+=Je.literal?Je.val:Be(Je.val)}return Re}var mr={D:fe,DD:pe,DDD:K,DDDD:de,t:le,tt:me,ttt:ce,tttt:ge,T:J,TT:ie,TTT:De,TTTT:_e,f:Ie,ff:ke,fff:we,ffff:nt,F:xe,FF:Ve,FFF:We,FFFF:Te},fr=function(){function Se(Re,Ce){this.opts=Ce,this.loc=Re,this.systemLoc=null}Se.create=function(Ce,Ne){return void 0===Ne&&(Ne={}),new Se(Ce,Ne)},Se.parseFormat=function(Ce){for(var Ne=null,Je="",Mt=!1,Pt=[],Bt=0;Bt<Ce.length;Bt++){var sn=Ce.charAt(Bt);"'"===sn?(Je.length>0&&Pt.push({literal:Mt,val:Je}),Ne=null,Je="",Mt=!Mt):Mt||sn===Ne?Je+=sn:(Je.length>0&&Pt.push({literal:!1,val:Je}),Je=sn,Ne=sn)}return Je.length>0&&Pt.push({literal:Mt,val:Je}),Pt},Se.macroTokenToFormatOpts=function(Ce){return mr[Ce]};var Be=Se.prototype;return Be.formatWithSystemDefault=function(Ce,Ne){return null===this.systemLoc&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(Ce,X({},this.opts,Ne)).format()},Be.formatDateTime=function(Ce,Ne){return void 0===Ne&&(Ne={}),this.loc.dtFormatter(Ce,X({},this.opts,Ne)).format()},Be.formatDateTimeParts=function(Ce,Ne){return void 0===Ne&&(Ne={}),this.loc.dtFormatter(Ce,X({},this.opts,Ne)).formatToParts()},Be.resolvedOptions=function(Ce,Ne){return void 0===Ne&&(Ne={}),this.loc.dtFormatter(Ce,X({},this.opts,Ne)).resolvedOptions()},Be.num=function(Ce,Ne){if(void 0===Ne&&(Ne=0),this.opts.forceSimple)return Ke(Ce,Ne);var Je=X({},this.opts);return Ne>0&&(Je.padTo=Ne),this.loc.numberFormatter(Je).format(Ce)},Be.formatDateTimeFromString=function(Ce,Ne){var Je=this,Mt="en"===this.loc.listingMode(),Pt=this.loc.outputCalendar&&"gregory"!==this.loc.outputCalendar,Bt=function(ir,Xn){return Je.loc.extract(Ce,ir,Xn)},sn=function(ir){return Ce.isOffsetFixed&&0===Ce.offset&&ir.allowZ?"Z":Ce.isValid?Ce.zone.formatOffset(Ce.ts,ir.format):""},vn=function(ir,Xn){return Mt?function $t(Se,Be){return an(Be)[Se.month-1]}(Ce,ir):Bt(Xn?{month:ir}:{month:ir,day:"numeric"},"month")},Pn=function(ir,Xn){return Mt?function Vt(Se,Be){return mt(Be)[Se.weekday-1]}(Ce,ir):Bt(Xn?{weekday:ir}:{weekday:ir,month:"long",day:"numeric"},"weekday")},ur=function(ir){return Mt?function rn(Se,Be){return on(Be)[Se.year<0?0:1]}(Ce,ir):Bt({era:ir},"era")};return Zn(Se.parseFormat(Ne),function(ir){switch(ir){case"S":return Je.num(Ce.millisecond);case"u":case"SSS":return Je.num(Ce.millisecond,3);case"s":return Je.num(Ce.second);case"ss":return Je.num(Ce.second,2);case"uu":return Je.num(Math.floor(Ce.millisecond/10),2);case"uuu":return Je.num(Math.floor(Ce.millisecond/100));case"m":return Je.num(Ce.minute);case"mm":return Je.num(Ce.minute,2);case"h":return Je.num(Ce.hour%12==0?12:Ce.hour%12);case"hh":return Je.num(Ce.hour%12==0?12:Ce.hour%12,2);case"H":return Je.num(Ce.hour);case"HH":return Je.num(Ce.hour,2);case"Z":return sn({format:"narrow",allowZ:Je.opts.allowZ});case"ZZ":return sn({format:"short",allowZ:Je.opts.allowZ});case"ZZZ":return sn({format:"techie",allowZ:Je.opts.allowZ});case"ZZZZ":return Ce.zone.offsetName(Ce.ts,{format:"short",locale:Je.loc.locale});case"ZZZZZ":return Ce.zone.offsetName(Ce.ts,{format:"long",locale:Je.loc.locale});case"z":return Ce.zoneName;case"a":return Mt?function it(Se){return Ae[Se.hour<12?0:1]}(Ce):Bt({hour:"numeric",hourCycle:"h12"},"dayperiod");case"d":return Pt?Bt({day:"numeric"},"day"):Je.num(Ce.day);case"dd":return Pt?Bt({day:"2-digit"},"day"):Je.num(Ce.day,2);case"c":case"E":return Je.num(Ce.weekday);case"ccc":return Pn("short",!0);case"cccc":return Pn("long",!0);case"ccccc":return Pn("narrow",!0);case"EEE":return Pn("short",!1);case"EEEE":return Pn("long",!1);case"EEEEE":return Pn("narrow",!1);case"L":return Pt?Bt({month:"numeric",day:"numeric"},"month"):Je.num(Ce.month);case"LL":return Pt?Bt({month:"2-digit",day:"numeric"},"month"):Je.num(Ce.month,2);case"LLL":return vn("short",!0);case"LLLL":return vn("long",!0);case"LLLLL":return vn("narrow",!0);case"M":return Pt?Bt({month:"numeric"},"month"):Je.num(Ce.month);case"MM":return Pt?Bt({month:"2-digit"},"month"):Je.num(Ce.month,2);case"MMM":return vn("short",!1);case"MMMM":return vn("long",!1);case"MMMMM":return vn("narrow",!1);case"y":return Pt?Bt({year:"numeric"},"year"):Je.num(Ce.year);case"yy":return Pt?Bt({year:"2-digit"},"year"):Je.num(Ce.year.toString().slice(-2),2);case"yyyy":return Pt?Bt({year:"numeric"},"year"):Je.num(Ce.year,4);case"yyyyyy":return Pt?Bt({year:"numeric"},"year"):Je.num(Ce.year,6);case"G":return ur("short");case"GG":return ur("long");case"GGGGG":return ur("narrow");case"kk":return Je.num(Ce.weekYear.toString().slice(-2),2);case"kkkk":return Je.num(Ce.weekYear,4);case"W":return Je.num(Ce.weekNumber);case"WW":return Je.num(Ce.weekNumber,2);case"o":return Je.num(Ce.ordinal);case"ooo":return Je.num(Ce.ordinal,3);case"q":return Je.num(Ce.quarter);case"qq":return Je.num(Ce.quarter,2);case"X":return Je.num(Math.floor(Ce.ts/1e3));case"x":return Je.num(Ce.ts);default:return function(ir){var Xn=Se.macroTokenToFormatOpts(ir);return Xn?Je.formatWithSystemDefault(Ce,Xn):ir}(ir)}})},Be.formatDurationFromString=function(Ce,Ne){var Pn,Je=this,Mt=function(Pn){switch(Pn[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},Bt=Se.parseFormat(Ne),sn=Bt.reduce(function(vn,Pn){return Pn.literal?vn:vn.concat(Pn.val)},[]),wn=Ce.shiftTo.apply(Ce,sn.map(Mt).filter(function(vn){return vn}));return Zn(Bt,(Pn=wn,function(Qn){var ur=Mt(Qn);return ur?Je.num(Pn.get(ur),Qn.length):Qn}))},Se}(),Mr=function(){function Se(Re,Ce){this.reason=Re,this.explanation=Ce}return Se.prototype.toMessage=function(){return this.explanation?this.reason+": "+this.explanation:this.reason},Se}(),Lr=function(){function Se(){}var Be=Se.prototype;return Be.offsetName=function(Ce,Ne){throw new re},Be.formatOffset=function(Ce,Ne){throw new re},Be.offset=function(Ce){throw new re},Be.equals=function(Ce){throw new re},O(Se,[{key:"type",get:function(){throw new re}},{key:"name",get:function(){throw new re}},{key:"isUniversal",get:function(){throw new re}},{key:"isValid",get:function(){throw new re}}]),Se}(),zs=null,Wr=function(Se){function Be(){return Se.apply(this,arguments)||this}B(Be,Se);var Re=Be.prototype;return Re.offsetName=function(Ne,Je){return In(Ne,Je.format,Je.locale)},Re.formatOffset=function(Ne,Je){return jt(this.offset(Ne),Je)},Re.offset=function(Ne){return-new Date(Ne).getTimezoneOffset()},Re.equals=function(Ne){return"system"===Ne.type},O(Be,[{key:"type",get:function(){return"system"}},{key:"name",get:function(){return(new Intl.DateTimeFormat).resolvedOptions().timeZone}},{key:"isUniversal",get:function(){return!1}},{key:"isValid",get:function(){return!0}}],[{key:"instance",get:function(){return null===zs&&(zs=new Be),zs}}]),Be}(Lr),zr={},Vi={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6},ni={},As=function(Se){function Be(Ce){var Ne;return(Ne=Se.call(this)||this).zoneName=Ce,Ne.valid=Be.isValidZone(Ce),Ne}B(Be,Se),Be.create=function(Ne){return ni[Ne]||(ni[Ne]=new Be(Ne)),ni[Ne]},Be.resetCache=function(){ni={},zr={}},Be.isValidSpecifier=function(Ne){return this.isValidZone(Ne)},Be.isValidZone=function(Ne){if(!Ne)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:Ne}).format(),!0}catch(Je){return!1}};var Re=Be.prototype;return Re.offsetName=function(Ne,Je){return In(Ne,Je.format,Je.locale,this.name)},Re.formatOffset=function(Ne,Je){return jt(this.offset(Ne),Je)},Re.offset=function(Ne){var Je=new Date(Ne);if(isNaN(Je))return NaN;var Mt=function ti(Se){return zr[Se]||(zr[Se]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:Se,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),zr[Se]}(this.name),Pt=Mt.formatToParts?function li(Se,Be){for(var Re=Se.formatToParts(Be),Ce=[],Ne=0;Ne<Re.length;Ne++){var Je=Re[Ne],Mt=Je.type,Pt=Je.value,Bt=Vi[Mt];"era"===Mt?Ce[Bt]=Pt:Ze(Bt)||(Ce[Bt]=parseInt(Pt,10))}return Ce}(Mt,Je):function ls(Se,Be){var Re=Se.format(Be).replace(/\u200E/g,""),Ce=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(Re);return[Ce[3],Ce[1],Ce[2],Ce[4],Ce[5],Ce[6],Ce[7]]}(Mt,Je),Bt=Pt[0],sn=Pt[1],wn=Pt[2],Pn=Pt[4],Qn=Pt[5],ur=Pt[6];"BC"===Pt[3]&&(Bt=1-Math.abs(Bt));var ir=+Je,Xn=ir%1e3;return(xn({year:Bt,month:sn,day:wn,hour:24===Pn?0:Pn,minute:Qn,second:ur,millisecond:0})-(ir-=Xn>=0?Xn:1e3+Xn))/6e4},Re.equals=function(Ne){return"iana"===Ne.type&&Ne.name===this.name},O(Be,[{key:"type",get:function(){return"iana"}},{key:"name",get:function(){return this.zoneName}},{key:"isUniversal",get:function(){return!1}},{key:"isValid",get:function(){return this.valid}}]),Be}(Lr),Gs=null,Jr=function(Se){function Be(Ce){var Ne;return(Ne=Se.call(this)||this).fixed=Ce,Ne}B(Be,Se),Be.instance=function(Ne){return 0===Ne?Be.utcInstance:new Be(Ne)},Be.parseSpecifier=function(Ne){if(Ne){var Je=Ne.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(Je)return new Be(Dn(Je[1],Je[2]))}return null};var Re=Be.prototype;return Re.offsetName=function(){return this.name},Re.formatOffset=function(Ne,Je){return jt(this.fixed,Je)},Re.offset=function(){return this.fixed},Re.equals=function(Ne){return"fixed"===Ne.type&&Ne.fixed===this.fixed},O(Be,[{key:"type",get:function(){return"fixed"}},{key:"name",get:function(){return 0===this.fixed?"UTC":"UTC"+jt(this.fixed,"narrow")}},{key:"isUniversal",get:function(){return!0}},{key:"isValid",get:function(){return!0}}],[{key:"utcInstance",get:function(){return null===Gs&&(Gs=new Be(0)),Gs}}]),Be}(Lr),ks=function(Se){function Be(Ce){var Ne;return(Ne=Se.call(this)||this).zoneName=Ce,Ne}B(Be,Se);var Re=Be.prototype;return Re.offsetName=function(){return null},Re.formatOffset=function(){return""},Re.offset=function(){return NaN},Re.equals=function(){return!1},O(Be,[{key:"type",get:function(){return"invalid"}},{key:"name",get:function(){return this.zoneName}},{key:"isUniversal",get:function(){return!1}},{key:"isValid",get:function(){return!1}}]),Be}(Lr);function Ms(Se,Be){if(Ze(Se)||null===Se)return Be;if(Se instanceof Lr)return Se;if(function Ee(Se){return"string"==typeof Se}(Se)){var Re=Se.toLowerCase();return"local"===Re||"system"===Re?Be:"utc"===Re||"gmt"===Re?Jr.utcInstance:Jr.parseSpecifier(Re)||As.create(Se)}return He(Se)?Jr.instance(Se):"object"==typeof Se&&Se.offset&&"number"==typeof Se.offset?Se:new ks(Se)}var Mn,Le=function(){return Date.now()},Kt="system",wt=null,fn=null,cn=null,Wn=function(){function Se(){}return Se.resetCaches=function(){Fr.resetCache(),As.resetCache()},O(Se,null,[{key:"now",get:function(){return Le},set:function(Re){Le=Re}},{key:"defaultZone",get:function(){return Ms(Kt,Wr.instance)},set:function(Re){Kt=Re}},{key:"defaultLocale",get:function(){return wt},set:function(Re){wt=Re}},{key:"defaultNumberingSystem",get:function(){return fn},set:function(Re){fn=Re}},{key:"defaultOutputCalendar",get:function(){return cn},set:function(Re){cn=Re}},{key:"throwOnInvalid",get:function(){return Mn},set:function(Re){Mn=Re}}]),Se}(),dt=["base"],bt=["padTo","floor"],pt={},_t={};function un(Se,Be){void 0===Be&&(Be={});var Re=JSON.stringify([Se,Be]),Ce=_t[Re];return Ce||(Ce=new Intl.DateTimeFormat(Se,Be),_t[Re]=Ce),Ce}var hn={},Fn={},sr=null;function Gr(Se,Be,Re,Ce,Ne){var Je=Se.listingMode(Re);return"error"===Je?null:"en"===Je?Ce(Be):Ne(Be)}var Cs=function(){function Se(Re,Ce,Ne){this.padTo=Ne.padTo||0,this.floor=Ne.floor||!1;var Je=Z(Ne,bt);if(!Ce||Object.keys(Je).length>0){var Mt=X({useGrouping:!1},Ne);Ne.padTo>0&&(Mt.minimumIntegerDigits=Ne.padTo),this.inf=function pn(Se,Be){void 0===Be&&(Be={});var Re=JSON.stringify([Se,Be]),Ce=hn[Re];return Ce||(Ce=new Intl.NumberFormat(Se,Be),hn[Re]=Ce),Ce}(Re,Mt)}}return Se.prototype.format=function(Ce){if(this.inf){var Ne=this.floor?Math.floor(Ce):Ce;return this.inf.format(Ne)}return Ke(this.floor?Math.floor(Ce):kt(Ce,3),this.padTo)},Se}(),xr=function(){function Se(Re,Ce,Ne){var Je;if(this.opts=Ne,Re.zone.isUniversal){var Mt=Re.offset/60*-1,Pt=Mt>=0?"Etc/GMT+"+Mt:"Etc/GMT"+Mt;0!==Re.offset&&As.create(Pt).valid?(Je=Pt,this.dt=Re):(Je="UTC",this.dt=Ne.timeZoneName||0===Re.offset?Re:Os.fromMillis(Re.ts+60*Re.offset*1e3))}else"system"===Re.zone.type?this.dt=Re:(this.dt=Re,Je=Re.zone.name);var Bt=X({},this.opts);Je&&(Bt.timeZone=Je),this.dtf=un(Ce,Bt)}var Be=Se.prototype;return Be.format=function(){return this.dtf.format(this.dt.toJSDate())},Be.formatToParts=function(){return this.dtf.formatToParts(this.dt.toJSDate())},Be.resolvedOptions=function(){return this.dtf.resolvedOptions()},Se}(),ui=function(){function Se(Re,Ce,Ne){this.opts=X({style:"long"},Ne),!Ce&&Ye()&&(this.rtf=function mn(Se,Be){void 0===Be&&(Be={});var Ce=Z(Be,dt),Ne=JSON.stringify([Se,Ce]),Je=Fn[Ne];return Je||(Je=new Intl.RelativeTimeFormat(Se,Be),Fn[Ne]=Je),Je}(Re,Ne))}var Be=Se.prototype;return Be.format=function(Ce,Ne){return this.rtf?this.rtf.format(Ce,Ne):function gn(Se,Be,Re,Ce){void 0===Re&&(Re="always"),void 0===Ce&&(Ce=!1);var Ne={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},Je=-1===["hours","minutes","seconds"].indexOf(Se);if("auto"===Re&&Je){var Mt="days"===Se;switch(Be){case 1:return Mt?"tomorrow":"next "+Ne[Se][0];case-1:return Mt?"yesterday":"last "+Ne[Se][0];case 0:return Mt?"today":"this "+Ne[Se][0]}}var Pt=Object.is(Be,-0)||Be<0,Bt=Math.abs(Be),sn=1===Bt,wn=Ne[Se],vn=Ce?sn?wn[1]:wn[2]||wn[1]:sn?Ne[Se][0]:Se;return Pt?Bt+" "+vn+" ago":"in "+Bt+" "+vn}(Ne,Ce,this.opts.numeric,"long"!==this.opts.style)},Be.formatToParts=function(Ce,Ne){return this.rtf?this.rtf.formatToParts(Ce,Ne):[]},Se}(),Fr=function(){function Se(Re,Ce,Ne,Je){var Mt=function Cr(Se){var Be=Se.indexOf("-u-");if(-1===Be)return[Se];var Re,Ce=Se.substring(0,Be);try{Re=un(Se).resolvedOptions()}catch(Pt){Re=un(Ce).resolvedOptions()}return[Ce,Re.numberingSystem,Re.calendar]}(Re),Bt=Mt[1],sn=Mt[2];this.locale=Mt[0],this.numberingSystem=Ce||Bt||null,this.outputCalendar=Ne||sn||null,this.intl=function Rs(Se,Be,Re){return(Re||Be)&&(Se+="-u",Re&&(Se+="-ca-"+Re),Be&&(Se+="-nu-"+Be)),Se}(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=Je,this.fastNumbersCached=null}Se.fromOpts=function(Ce){return Se.create(Ce.locale,Ce.numberingSystem,Ce.outputCalendar,Ce.defaultToEN)},Se.create=function(Ce,Ne,Je,Mt){void 0===Mt&&(Mt=!1);var Pt=Ce||Wn.defaultLocale;return new Se(Pt||(Mt?"en-US":function er(){return sr||(sr=(new Intl.DateTimeFormat).resolvedOptions().locale)}()),Ne||Wn.defaultNumberingSystem,Je||Wn.defaultOutputCalendar,Pt)},Se.resetCache=function(){sr=null,_t={},hn={},Fn={}},Se.fromObject=function(Ce){var Ne=void 0===Ce?{}:Ce;return Se.create(Ne.locale,Ne.numberingSystem,Ne.outputCalendar)};var Be=Se.prototype;return Be.listingMode=function(){return this.isEnglish()&&!(null!==this.numberingSystem&&"latn"!==this.numberingSystem||null!==this.outputCalendar&&"gregory"!==this.outputCalendar)?"en":"intl"},Be.clone=function(Ce){return Ce&&0!==Object.getOwnPropertyNames(Ce).length?Se.create(Ce.locale||this.specifiedLocale,Ce.numberingSystem||this.numberingSystem,Ce.outputCalendar||this.outputCalendar,Ce.defaultToEN||!1):this},Be.redefaultToEN=function(Ce){return void 0===Ce&&(Ce={}),this.clone(X({},Ce,{defaultToEN:!0}))},Be.redefaultToSystem=function(Ce){return void 0===Ce&&(Ce={}),this.clone(X({},Ce,{defaultToEN:!1}))},Be.months=function(Ce,Ne,Je){var Mt=this;return void 0===Ne&&(Ne=!1),void 0===Je&&(Je=!0),Gr(this,Ce,Je,an,function(){var Pt=Ne?{month:Ce,day:"numeric"}:{month:Ce},Bt=Ne?"format":"standalone";return Mt.monthsCache[Bt][Ce]||(Mt.monthsCache[Bt][Ce]=function $r(Se){for(var Be=[],Re=1;Re<=12;Re++){var Ce=Os.utc(2016,Re,1);Be.push(Se(Ce))}return Be}(function(sn){return Mt.extract(sn,Pt,"month")})),Mt.monthsCache[Bt][Ce]})},Be.weekdays=function(Ce,Ne,Je){var Mt=this;return void 0===Ne&&(Ne=!1),void 0===Je&&(Je=!0),Gr(this,Ce,Je,mt,function(){var Pt=Ne?{weekday:Ce,year:"numeric",month:"long",day:"numeric"}:{weekday:Ce},Bt=Ne?"format":"standalone";return Mt.weekdaysCache[Bt][Ce]||(Mt.weekdaysCache[Bt][Ce]=function ms(Se){for(var Be=[],Re=1;Re<=7;Re++){var Ce=Os.utc(2016,11,13+Re);Be.push(Se(Ce))}return Be}(function(sn){return Mt.extract(sn,Pt,"weekday")})),Mt.weekdaysCache[Bt][Ce]})},Be.meridiems=function(Ce){var Ne=this;return void 0===Ce&&(Ce=!0),Gr(this,void 0,Ce,function(){return Ae},function(){if(!Ne.meridiemCache){var Je={hour:"numeric",hourCycle:"h12"};Ne.meridiemCache=[Os.utc(2016,11,13,9),Os.utc(2016,11,13,19)].map(function(Mt){return Ne.extract(Mt,Je,"dayperiod")})}return Ne.meridiemCache})},Be.eras=function(Ce,Ne){var Je=this;return void 0===Ne&&(Ne=!0),Gr(this,Ce,Ne,on,function(){var Mt={era:Ce};return Je.eraCache[Ce]||(Je.eraCache[Ce]=[Os.utc(-40,1,1),Os.utc(2017,1,1)].map(function(Pt){return Je.extract(Pt,Mt,"era")})),Je.eraCache[Ce]})},Be.extract=function(Ce,Ne,Je){var Bt=this.dtFormatter(Ce,Ne).formatToParts().find(function(sn){return sn.type.toLowerCase()===Je});return Bt?Bt.value:null},Be.numberFormatter=function(Ce){return void 0===Ce&&(Ce={}),new Cs(this.intl,Ce.forceSimple||this.fastNumbers,Ce)},Be.dtFormatter=function(Ce,Ne){return void 0===Ne&&(Ne={}),new xr(Ce,this.intl,Ne)},Be.relFormatter=function(Ce){return void 0===Ce&&(Ce={}),new ui(this.intl,this.isEnglish(),Ce)},Be.listFormatter=function(Ce){return void 0===Ce&&(Ce={}),function Lt(Se,Be){void 0===Be&&(Be={});var Re=JSON.stringify([Se,Be]),Ce=pt[Re];return Ce||(Ce=new Intl.ListFormat(Se,Be),pt[Re]=Ce),Ce}(this.intl,Ce)},Be.isEnglish=function(){return"en"===this.locale||"en-us"===this.locale.toLowerCase()||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")},Be.equals=function(Ce){return this.locale===Ce.locale&&this.numberingSystem===Ce.numberingSystem&&this.outputCalendar===Ce.outputCalendar},O(Se,[{key:"fastNumbers",get:function(){return null==this.fastNumbersCached&&(this.fastNumbersCached=function Yn(Se){return(!Se.numberingSystem||"latn"===Se.numberingSystem)&&("latn"===Se.numberingSystem||!Se.locale||Se.locale.startsWith("en")||"latn"===new Intl.DateTimeFormat(Se.intl).resolvedOptions().numberingSystem)}(this)),this.fastNumbersCached}}]),Se}();function us(){for(var Se=arguments.length,Be=new Array(Se),Re=0;Re<Se;Re++)Be[Re]=arguments[Re];var Ce=Be.reduce(function(Ne,Je){return Ne+Je.source},"");return RegExp("^"+Ce+"$")}function qr(){for(var Se=arguments.length,Be=new Array(Se),Re=0;Re<Se;Re++)Be[Re]=arguments[Re];return function(Ce){return Be.reduce(function(Ne,Je){var Mt=Ne[0],Pt=Ne[1],sn=Je(Ce,Ne[2]),vn=sn[1],Pn=sn[2];return[X({},Mt,sn[0]),Pt||vn,Pn]},[{},null,1]).slice(0,2)}}function Ds(Se){if(null==Se)return[null,null];for(var Be=arguments.length,Re=new Array(Be>1?Be-1:0),Ce=1;Ce<Be;Ce++)Re[Ce-1]=arguments[Ce];for(var Ne=0,Je=Re;Ne<Je.length;Ne++){var Mt=Je[Ne],Pt=Mt[0],Bt=Mt[1],sn=Pt.exec(Se);if(sn)return Bt(sn)}return[null,null]}function pr(){for(var Se=arguments.length,Be=new Array(Se),Re=0;Re<Se;Re++)Be[Re]=arguments[Re];return function(Ce,Ne){var Mt,Je={};for(Mt=0;Mt<Be.length;Mt++)Je[Be[Mt]]=ut(Ce[Ne+Mt]);return[Je,null,Ne+Mt]}}var nr=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,eo=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,Io=RegExp(""+eo.source+nr.source+"?"),To=RegExp("(?:T"+Io.source+")?"),Yr=pr("weekYear","weekNumber","weekDay"),ci=pr("year","ordinal"),xt=RegExp(eo.source+" ?(?:"+nr.source+"|("+/[A-Za-z_+-]{1,256}(:?\/[A-Za-z0-9_+-]{1,256}(\/[A-Za-z0-9_+-]{1,256})?)?/.source+"))?"),ln=RegExp("(?: "+xt.source+")?");function _n(Se,Be,Re){var Ce=Se[Be];return Ze(Ce)?Re:ut(Ce)}function $n(Se,Be){return[{year:_n(Se,Be),month:_n(Se,Be+1,1),day:_n(Se,Be+2,1)},null,Be+3]}function Pr(Se,Be){return[{hours:_n(Se,Be,0),minutes:_n(Se,Be+1,0),seconds:_n(Se,Be+2,0),milliseconds:St(Se[Be+3])},null,Be+4]}function Ir(Se,Be){var Re=!Se[Be]&&!Se[Be+1],Ce=Dn(Se[Be+1],Se[Be+2]);return[{},Re?null:Jr.instance(Ce),Be+3]}function Cn(Se,Be){return[{},Se[Be]?As.create(Se[Be]):null,Be+1]}var di=RegExp("^T?"+eo.source+"$"),Ge=/^-?P(?:(?:(-?\d{1,9}(?:\.\d{1,9})?)Y)?(?:(-?\d{1,9}(?:\.\d{1,9})?)M)?(?:(-?\d{1,9}(?:\.\d{1,9})?)W)?(?:(-?\d{1,9}(?:\.\d{1,9})?)D)?(?:T(?:(-?\d{1,9}(?:\.\d{1,9})?)H)?(?:(-?\d{1,9}(?:\.\d{1,9})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,9}))?S)?)?)$/;function qe(Se){var Ce=Se[2],Ne=Se[3],Je=Se[4],Mt=Se[5],Pt=Se[6],Bt=Se[7],sn=Se[8],wn="-"===Se[0][0],vn=Bt&&"-"===Bt[0],Pn=function(ur,vr){return void 0===vr&&(vr=!1),void 0!==ur&&(vr||ur&&wn)?-ur:ur};return[{years:Pn(Et(Se[1])),months:Pn(Et(Ce)),weeks:Pn(Et(Ne)),days:Pn(Et(Je)),hours:Pn(Et(Mt)),minutes:Pn(Et(Pt)),seconds:Pn(Et(Bt),"-0"===Bt),milliseconds:Pn(St(sn),vn)}]}var gt={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function ft(Se,Be,Re,Ce,Ne,Je,Mt){var Pt={year:2===Be.length?An(ut(Be)):ut(Be),month:Yt.indexOf(Re)+1,day:ut(Ce),hour:ut(Ne),minute:ut(Je)};return Mt&&(Pt.second=ut(Mt)),Se&&(Pt.weekday=Se.length>3?Ot.indexOf(Se)+1:yt.indexOf(Se)+1),Pt}var Rt=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function Ut(Se){var Qn,Bt=Se[8],sn=Se[9],wn=Se[10],vn=Se[11],Pn=ft(Se[1],Se[4],Se[3],Se[2],Se[5],Se[6],Se[7]);return Qn=Bt?gt[Bt]:sn?0:Dn(wn,vn),[Pn,new Jr(Qn)]}var $e=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,ct=/^(Monday|Tuesday|Wedsday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,At=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function en(Se){return[ft(Se[1],Se[4],Se[3],Se[2],Se[5],Se[6],Se[7]),Jr.utcInstance]}function En(Se){return[ft(Se[1],Se[7],Se[2],Se[3],Se[4],Se[5],Se[6]),Jr.utcInstance]}var jn=us(/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,To),zn=us(/(\d{4})-?W(\d\d)(?:-?(\d))?/,To),Vr=us(/(\d{4})-?(\d{3})/,To),jr=us(Io),yr=qr($n,Pr,Ir),ar=qr(Yr,Pr,Ir),hi=qr(ci,Pr,Ir),cs=qr(Pr,Ir),xf=qr(Pr),Af=us(/(\d{4})-(\d\d)-(\d\d)/,ln),rh=us(xt),sh=qr($n,Pr,Ir,Cn),ih=qr(Pr,Ir,Cn),Lc={weeks:{days:7,hours:168,minutes:10080,seconds:604800,milliseconds:6048e5},days:{hours:24,minutes:1440,seconds:86400,milliseconds:864e5},hours:{minutes:60,seconds:3600,milliseconds:36e5},minutes:{seconds:60,milliseconds:6e4},seconds:{milliseconds:1e3}},$i=X({years:{quarters:4,months:12,weeks:52,days:365,hours:8760,minutes:525600,seconds:31536e3,milliseconds:31536e6},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:131040,seconds:7862400,milliseconds:78624e5},months:{weeks:4,days:30,hours:720,minutes:43200,seconds:2592e3,milliseconds:2592e6}},Lc),es=365.2425,ys=30.436875,Xo=X({years:{quarters:4,months:12,weeks:es/7,days:es,hours:24*es,minutes:525949.2,seconds:525949.2*60,milliseconds:525949.2*60*1e3},quarters:{months:3,weeks:es/28,days:es/4,hours:24*es/4,minutes:131487.3,seconds:525949.2*60/4,milliseconds:7889237999.999999},months:{weeks:ys/7,days:ys,hours:24*ys,minutes:43829.1,seconds:2629746,milliseconds:2629746e3}},Lc),Pi=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],Ki=Pi.slice(0).reverse();function fo(Se,Be,Re){void 0===Re&&(Re=!1);var Ce={values:Re?Be.values:X({},Se.values,Be.values||{}),loc:Se.loc.clone(Be.loc),conversionAccuracy:Be.conversionAccuracy||Se.conversionAccuracy};return new as(Ce)}function Ya(Se,Be,Re,Ce,Ne){var Je=Se[Ne][Re],Mt=Be[Re]/Je,Bt=Math.sign(Mt)!==Math.sign(Ce[Ne])&&0!==Ce[Ne]&&Math.abs(Mt)<=1?function jc(Se){return Se<0?Math.floor(Se):Math.ceil(Se)}(Mt):Math.trunc(Mt);Ce[Ne]+=Bt,Be[Re]-=Bt*Je}var as=function(){function Se(Re){var Ce="longterm"===Re.conversionAccuracy||!1;this.values=Re.values,this.loc=Re.loc||Fr.create(),this.conversionAccuracy=Ce?"longterm":"casual",this.invalid=Re.invalid||null,this.matrix=Ce?Xo:$i,this.isLuxonDuration=!0}Se.fromMillis=function(Ce,Ne){return Se.fromObject({milliseconds:Ce},Ne)},Se.fromObject=function(Ce,Ne){if(void 0===Ne&&(Ne={}),null==Ce||"object"!=typeof Ce)throw new W("Duration.fromObject: argument expected to be an object, got "+(null===Ce?"null":typeof Ce));return new Se({values:Dt(Ce,Se.normalizeUnit),loc:Fr.fromObject(Ne),conversionAccuracy:Ne.conversionAccuracy})},Se.fromDurationLike=function(Ce){if(He(Ce))return Se.fromMillis(Ce);if(Se.isDuration(Ce))return Ce;if("object"==typeof Ce)return Se.fromObject(Ce);throw new W("Unknown duration argument "+Ce+" of type "+typeof Ce)},Se.fromISO=function(Ce,Ne){var Je=function Pl(Se){return Ds(Se,[Ge,qe])}(Ce),Mt=Je[0];return Mt?Se.fromObject(Mt,Ne):Se.invalid("unparsable",'the input "'+Ce+"\" can't be parsed as ISO 8601")},Se.fromISOTime=function(Ce,Ne){var Je=function Qo(Se){return Ds(Se,[di,xf])}(Ce),Mt=Je[0];return Mt?Se.fromObject(Mt,Ne):Se.invalid("unparsable",'the input "'+Ce+"\" can't be parsed as ISO 8601")},Se.invalid=function(Ce,Ne){if(void 0===Ne&&(Ne=null),!Ce)throw new W("need to specify a reason the Duration is invalid");var Je=Ce instanceof Mr?Ce:new Mr(Ce,Ne);if(Wn.throwOnInvalid)throw new w(Je);return new Se({invalid:Je})},Se.normalizeUnit=function(Ce){var Ne={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[Ce&&Ce.toLowerCase()];if(!Ne)throw new k(Ce);return Ne},Se.isDuration=function(Ce){return Ce&&Ce.isLuxonDuration||!1};var Be=Se.prototype;return Be.toFormat=function(Ce,Ne){void 0===Ne&&(Ne={});var Je=X({},Ne,{floor:!1!==Ne.round&&!1!==Ne.floor});return this.isValid?fr.create(this.loc,Je).formatDurationFromString(this,Ce):"Invalid Duration"},Be.toHuman=function(Ce){var Ne=this;void 0===Ce&&(Ce={});var Je=Pi.map(function(Mt){var Pt=Ne.values[Mt];return Ze(Pt)?null:Ne.loc.numberFormatter(X({style:"unit",unitDisplay:"long"},Ce,{unit:Mt.slice(0,-1)})).format(Pt)}).filter(function(Mt){return Mt});return this.loc.listFormatter(X({type:"conjunction",style:Ce.listStyle||"narrow"},Ce)).format(Je)},Be.toObject=function(){return this.isValid?X({},this.values):{}},Be.toISO=function(){if(!this.isValid)return null;var Ce="P";return 0!==this.years&&(Ce+=this.years+"Y"),(0!==this.months||0!==this.quarters)&&(Ce+=this.months+3*this.quarters+"M"),0!==this.weeks&&(Ce+=this.weeks+"W"),0!==this.days&&(Ce+=this.days+"D"),(0!==this.hours||0!==this.minutes||0!==this.seconds||0!==this.milliseconds)&&(Ce+="T"),0!==this.hours&&(Ce+=this.hours+"H"),0!==this.minutes&&(Ce+=this.minutes+"M"),(0!==this.seconds||0!==this.milliseconds)&&(Ce+=kt(this.seconds+this.milliseconds/1e3,3)+"S"),"P"===Ce&&(Ce+="T0S"),Ce},Be.toISOTime=function(Ce){if(void 0===Ce&&(Ce={}),!this.isValid)return null;var Ne=this.toMillis();if(Ne<0||Ne>=864e5)return null;Ce=X({suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended"},Ce);var Je=this.shiftTo("hours","minutes","seconds","milliseconds"),Mt="basic"===Ce.format?"hhmm":"hh:mm";(!Ce.suppressSeconds||0!==Je.seconds||0!==Je.milliseconds)&&(Mt+="basic"===Ce.format?"ss":":ss",(!Ce.suppressMilliseconds||0!==Je.milliseconds)&&(Mt+=".SSS"));var Pt=Je.toFormat(Mt);return Ce.includePrefix&&(Pt="T"+Pt),Pt},Be.toJSON=function(){return this.toISO()},Be.toString=function(){return this.toISO()},Be.toMillis=function(){return this.as("milliseconds")},Be.valueOf=function(){return this.toMillis()},Be.plus=function(Ce){if(!this.isValid)return this;for(var Pt,Ne=Se.fromDurationLike(Ce),Je={},Mt=se(Pi);!(Pt=Mt()).done;){var Bt=Pt.value;(lt(Ne.values,Bt)||lt(this.values,Bt))&&(Je[Bt]=Ne.get(Bt)+this.get(Bt))}return fo(this,{values:Je},!0)},Be.minus=function(Ce){if(!this.isValid)return this;var Ne=Se.fromDurationLike(Ce);return this.plus(Ne.negate())},Be.mapUnits=function(Ce){if(!this.isValid)return this;for(var Ne={},Je=0,Mt=Object.keys(this.values);Je<Mt.length;Je++){var Pt=Mt[Je];Ne[Pt]=st(Ce(this.values[Pt],Pt))}return fo(this,{values:Ne},!0)},Be.get=function(Ce){return this[Se.normalizeUnit(Ce)]},Be.set=function(Ce){return this.isValid?fo(this,{values:X({},this.values,Dt(Ce,Se.normalizeUnit))}):this},Be.reconfigure=function(Ce){var Ne=void 0===Ce?{}:Ce,Pt=Ne.conversionAccuracy,sn={loc:this.loc.clone({locale:Ne.locale,numberingSystem:Ne.numberingSystem})};return Pt&&(sn.conversionAccuracy=Pt),fo(this,sn)},Be.as=function(Ce){return this.isValid?this.shiftTo(Ce).get(Ce):NaN},Be.normalize=function(){if(!this.isValid)return this;var Ce=this.toObject();return function su(Se,Be){Ki.reduce(function(Re,Ce){return Ze(Be[Ce])?Re:(Re&&Ya(Se,Be,Re,Be,Ce),Ce)},null)}(this.matrix,Ce),fo(this,{values:Ce},!0)},Be.shiftTo=function(){for(var Ce=arguments.length,Ne=new Array(Ce),Je=0;Je<Ce;Je++)Ne[Je]=arguments[Je];if(!this.isValid)return this;if(0===Ne.length)return this;Ne=Ne.map(function(Xn){return Se.normalizeUnit(Xn)});for(var sn,vn,Mt={},Pt={},Bt=this.toObject(),wn=se(Pi);!(vn=wn()).done;){var Pn=vn.value;if(Ne.indexOf(Pn)>=0){sn=Pn;var Qn=0;for(var ur in Pt)Qn+=this.matrix[ur][Pn]*Pt[ur],Pt[ur]=0;He(Bt[Pn])&&(Qn+=Bt[Pn]);var vr=Math.trunc(Qn);for(var Ar in Mt[Pn]=vr,Pt[Pn]=(1e3*Qn-1e3*vr)/1e3,Bt)Pi.indexOf(Ar)>Pi.indexOf(Pn)&&Ya(this.matrix,Bt,Ar,Mt,Pn)}else He(Bt[Pn])&&(Pt[Pn]=Bt[Pn])}for(var ir in Pt)0!==Pt[ir]&&(Mt[sn]+=ir===sn?Pt[ir]:Pt[ir]/this.matrix[sn][ir]);return fo(this,{values:Mt},!0).normalize()},Be.negate=function(){if(!this.isValid)return this;for(var Ce={},Ne=0,Je=Object.keys(this.values);Ne<Je.length;Ne++){var Mt=Je[Ne];Ce[Mt]=0===this.values[Mt]?0:-this.values[Mt]}return fo(this,{values:Ce},!0)},Be.equals=function(Ce){if(!this.isValid||!Ce.isValid||!this.loc.equals(Ce.loc))return!1;for(var Mt,Je=se(Pi);!(Mt=Je()).done;){var Pt=Mt.value;if(sn=Ce.values[Pt],!(void 0===(Bt=this.values[Pt])||0===Bt?void 0===sn||0===sn:Bt===sn))return!1}var Bt,sn;return!0},O(Se,[{key:"locale",get:function(){return this.isValid?this.loc.locale:null}},{key:"numberingSystem",get:function(){return this.isValid?this.loc.numberingSystem:null}},{key:"years",get:function(){return this.isValid?this.values.years||0:NaN}},{key:"quarters",get:function(){return this.isValid?this.values.quarters||0:NaN}},{key:"months",get:function(){return this.isValid?this.values.months||0:NaN}},{key:"weeks",get:function(){return this.isValid?this.values.weeks||0:NaN}},{key:"days",get:function(){return this.isValid?this.values.days||0:NaN}},{key:"hours",get:function(){return this.isValid?this.values.hours||0:NaN}},{key:"minutes",get:function(){return this.isValid?this.values.minutes||0:NaN}},{key:"seconds",get:function(){return this.isValid?this.values.seconds||0:NaN}},{key:"milliseconds",get:function(){return this.isValid?this.values.milliseconds||0:NaN}},{key:"isValid",get:function(){return null===this.invalid}},{key:"invalidReason",get:function(){return this.invalid?this.invalid.reason:null}},{key:"invalidExplanation",get:function(){return this.invalid?this.invalid.explanation:null}}]),Se}(),Ss="Invalid Interval",ri=function(){function Se(Re){this.s=Re.start,this.e=Re.end,this.invalid=Re.invalid||null,this.isLuxonInterval=!0}Se.invalid=function(Ce,Ne){if(void 0===Ne&&(Ne=null),!Ce)throw new W("need to specify a reason the Interval is invalid");var Je=Ce instanceof Mr?Ce:new Mr(Ce,Ne);if(Wn.throwOnInvalid)throw new I(Je);return new Se({invalid:Je})},Se.fromDateTimes=function(Ce,Ne){var Je=Oa(Ce),Mt=Oa(Ne),Pt=function Lf(Se,Be){return Se&&Se.isValid?Be&&Be.isValid?Be<Se?ri.invalid("end before start","The end of an interval must be after its start, but you had start="+Se.toISO()+" and end="+Be.toISO()):null:ri.invalid("missing or invalid end"):ri.invalid("missing or invalid start")}(Je,Mt);return null==Pt?new Se({start:Je,end:Mt}):Pt},Se.after=function(Ce,Ne){var Je=as.fromDurationLike(Ne),Mt=Oa(Ce);return Se.fromDateTimes(Mt,Mt.plus(Je))},Se.before=function(Ce,Ne){var Je=as.fromDurationLike(Ne),Mt=Oa(Ce);return Se.fromDateTimes(Mt.minus(Je),Mt)},Se.fromISO=function(Ce,Ne){var Je=(Ce||"").split("/",2),Mt=Je[0],Pt=Je[1];if(Mt&&Pt){var Bt,sn,wn,vn;try{sn=(Bt=Os.fromISO(Mt,Ne)).isValid}catch(ur){sn=!1}try{vn=(wn=Os.fromISO(Pt,Ne)).isValid}catch(ur){vn=!1}if(sn&&vn)return Se.fromDateTimes(Bt,wn);if(sn){var Pn=as.fromISO(Pt,Ne);if(Pn.isValid)return Se.after(Bt,Pn)}else if(vn){var Qn=as.fromISO(Mt,Ne);if(Qn.isValid)return Se.before(wn,Qn)}}return Se.invalid("unparsable",'the input "'+Ce+"\" can't be parsed as ISO 8601")},Se.isInterval=function(Ce){return Ce&&Ce.isLuxonInterval||!1};var Be=Se.prototype;return Be.length=function(Ce){return void 0===Ce&&(Ce="milliseconds"),this.isValid?this.toDuration.apply(this,[Ce]).get(Ce):NaN},Be.count=function(Ce){if(void 0===Ce&&(Ce="milliseconds"),!this.isValid)return NaN;var Ne=this.start.startOf(Ce),Je=this.end.startOf(Ce);return Math.floor(Je.diff(Ne,Ce).get(Ce))+1},Be.hasSame=function(Ce){return!!this.isValid&&(this.isEmpty()||this.e.minus(1).hasSame(this.s,Ce))},Be.isEmpty=function(){return this.s.valueOf()===this.e.valueOf()},Be.isAfter=function(Ce){return!!this.isValid&&this.s>Ce},Be.isBefore=function(Ce){return!!this.isValid&&this.e<=Ce},Be.contains=function(Ce){return!!this.isValid&&this.s<=Ce&&this.e>Ce},Be.set=function(Ce){var Ne=void 0===Ce?{}:Ce;return this.isValid?Se.fromDateTimes(Ne.start||this.s,Ne.end||this.e):this},Be.splitAt=function(){var Ce=this;if(!this.isValid)return[];for(var Ne=arguments.length,Je=new Array(Ne),Mt=0;Mt<Ne;Mt++)Je[Mt]=arguments[Mt];for(var Pt=Je.map(Oa).filter(function(Qn){return Ce.contains(Qn)}).sort(),Bt=[],sn=this.s,wn=0;sn<this.e;){var vn=Pt[wn]||this.e,Pn=+vn>+this.e?this.e:vn;Bt.push(Se.fromDateTimes(sn,Pn)),sn=Pn,wn+=1}return Bt},Be.splitBy=function(Ce){var Ne=as.fromDurationLike(Ce);if(!this.isValid||!Ne.isValid||0===Ne.as("milliseconds"))return[];for(var Pt,Je=this.s,Mt=1,Bt=[];Je<this.e;){var sn=this.start.plus(Ne.mapUnits(function(wn){return wn*Mt}));Bt.push(Se.fromDateTimes(Je,Pt=+sn>+this.e?this.e:sn)),Je=Pt,Mt+=1}return Bt},Be.divideEqually=function(Ce){return this.isValid?this.splitBy(this.length()/Ce).slice(0,Ce):[]},Be.overlaps=function(Ce){return this.e>Ce.s&&this.s<Ce.e},Be.abutsStart=function(Ce){return!!this.isValid&&+this.e==+Ce.s},Be.abutsEnd=function(Ce){return!!this.isValid&&+Ce.e==+this.s},Be.engulfs=function(Ce){return!!this.isValid&&this.s<=Ce.s&&this.e>=Ce.e},Be.equals=function(Ce){return!(!this.isValid||!Ce.isValid)&&this.s.equals(Ce.s)&&this.e.equals(Ce.e)},Be.intersection=function(Ce){if(!this.isValid)return this;var Ne=this.s>Ce.s?this.s:Ce.s,Je=this.e<Ce.e?this.e:Ce.e;return Ne>=Je?null:Se.fromDateTimes(Ne,Je)},Be.union=function(Ce){return this.isValid?Se.fromDateTimes(this.s<Ce.s?this.s:Ce.s,this.e>Ce.e?this.e:Ce.e):this},Se.merge=function(Ce){var Ne=Ce.sort(function(Pt,Bt){return Pt.s-Bt.s}).reduce(function(Pt,Bt){var sn=Pt[0],wn=Pt[1];return wn?wn.overlaps(Bt)||wn.abutsStart(Bt)?[sn,wn.union(Bt)]:[sn.concat([wn]),Bt]:[sn,Bt]},[[],null]),Je=Ne[0],Mt=Ne[1];return Mt&&Je.push(Mt),Je},Se.xor=function(Ce){for(var Ne,Pn,Je=null,Mt=0,Pt=[],Bt=Ce.map(function(ur){return[{time:ur.s,type:"s"},{time:ur.e,type:"e"}]}),vn=se((Ne=Array.prototype).concat.apply(Ne,Bt).sort(function(ur,vr){return ur.time-vr.time}));!(Pn=vn()).done;){var Qn=Pn.value;1===(Mt+="s"===Qn.type?1:-1)?Je=Qn.time:(Je&&+Je!=+Qn.time&&Pt.push(Se.fromDateTimes(Je,Qn.time)),Je=null)}return Se.merge(Pt)},Be.difference=function(){for(var Ce=this,Ne=arguments.length,Je=new Array(Ne),Mt=0;Mt<Ne;Mt++)Je[Mt]=arguments[Mt];return Se.xor([this].concat(Je)).map(function(Pt){return Ce.intersection(Pt)}).filter(function(Pt){return Pt&&!Pt.isEmpty()})},Be.toString=function(){return this.isValid?"["+this.s.toISO()+" \u2013 "+this.e.toISO()+")":Ss},Be.toISO=function(Ce){return this.isValid?this.s.toISO(Ce)+"/"+this.e.toISO(Ce):Ss},Be.toISODate=function(){return this.isValid?this.s.toISODate()+"/"+this.e.toISODate():Ss},Be.toISOTime=function(Ce){return this.isValid?this.s.toISOTime(Ce)+"/"+this.e.toISOTime(Ce):Ss},Be.toFormat=function(Ce,Ne){var Mt=(void 0===Ne?{}:Ne).separator,Pt=void 0===Mt?" \u2013 ":Mt;return this.isValid?""+this.s.toFormat(Ce)+Pt+this.e.toFormat(Ce):Ss},Be.toDuration=function(Ce,Ne){return this.isValid?this.e.diff(this.s,Ce,Ne):as.invalid(this.invalidReason)},Be.mapEndpoints=function(Ce){return Se.fromDateTimes(Ce(this.s),Ce(this.e))},O(Se,[{key:"start",get:function(){return this.isValid?this.s:null}},{key:"end",get:function(){return this.isValid?this.e:null}},{key:"isValid",get:function(){return null===this.invalidReason}},{key:"invalidReason",get:function(){return this.invalid?this.invalid.reason:null}},{key:"invalidExplanation",get:function(){return this.invalid?this.invalid.explanation:null}}]),Se}(),Vn=function(){function Se(){}return Se.hasDST=function(Re){void 0===Re&&(Re=Wn.defaultZone);var Ce=Os.now().setZone(Re).set({month:12});return!Re.isUniversal&&Ce.offset!==Ce.set({month:6}).offset},Se.isValidIANAZone=function(Re){return As.isValidZone(Re)},Se.normalizeZone=function(Re){return Ms(Re,Wn.defaultZone)},Se.months=function(Re,Ce){void 0===Re&&(Re="long");var Ne=void 0===Ce?{}:Ce,Je=Ne.locale,Pt=Ne.numberingSystem,sn=Ne.locObj,vn=Ne.outputCalendar;return((void 0===sn?null:sn)||Fr.create(void 0===Je?null:Je,void 0===Pt?null:Pt,void 0===vn?"gregory":vn)).months(Re)},Se.monthsFormat=function(Re,Ce){void 0===Re&&(Re="long");var Ne=void 0===Ce?{}:Ce,Je=Ne.locale,Pt=Ne.numberingSystem,sn=Ne.locObj,vn=Ne.outputCalendar;return((void 0===sn?null:sn)||Fr.create(void 0===Je?null:Je,void 0===Pt?null:Pt,void 0===vn?"gregory":vn)).months(Re,!0)},Se.weekdays=function(Re,Ce){void 0===Re&&(Re="long");var Ne=void 0===Ce?{}:Ce,Je=Ne.locale,Pt=Ne.numberingSystem,sn=Ne.locObj;return((void 0===sn?null:sn)||Fr.create(void 0===Je?null:Je,void 0===Pt?null:Pt,null)).weekdays(Re)},Se.weekdaysFormat=function(Re,Ce){void 0===Re&&(Re="long");var Ne=void 0===Ce?{}:Ce,Je=Ne.locale,Pt=Ne.numberingSystem,sn=Ne.locObj;return((void 0===sn?null:sn)||Fr.create(void 0===Je?null:Je,void 0===Pt?null:Pt,null)).weekdays(Re,!0)},Se.meridiems=function(Re){var Ne=(void 0===Re?{}:Re).locale;return Fr.create(void 0===Ne?null:Ne).meridiems()},Se.eras=function(Re,Ce){void 0===Re&&(Re="short");var Je=(void 0===Ce?{}:Ce).locale;return Fr.create(void 0===Je?null:Je,null,"gregory").eras(Re)},Se.features=function(){return{relative:Ye()}},Se}();function Dr(Se,Be){var Re=function(Je){return Je.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf()},Ce=Re(Be)-Re(Se);return Math.floor(as.fromMillis(Ce).as("days"))}var Ao={arab:"[\u0660-\u0669]",arabext:"[\u06f0-\u06f9]",bali:"[\u1b50-\u1b59]",beng:"[\u09e6-\u09ef]",deva:"[\u0966-\u096f]",fullwide:"[\uff10-\uff19]",gujr:"[\u0ae6-\u0aef]",hanidec:"[\u3007|\u4e00|\u4e8c|\u4e09|\u56db|\u4e94|\u516d|\u4e03|\u516b|\u4e5d]",khmr:"[\u17e0-\u17e9]",knda:"[\u0ce6-\u0cef]",laoo:"[\u0ed0-\u0ed9]",limb:"[\u1946-\u194f]",mlym:"[\u0d66-\u0d6f]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0b66-\u0b6f]",tamldec:"[\u0be6-\u0bef]",telu:"[\u0c66-\u0c6f]",thai:"[\u0e50-\u0e59]",tibt:"[\u0f20-\u0f29]",latn:"\\d"},Ls={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},Ca=Ao.hanidec.replace(/[\[|\]]/g,"").split("");function pi(Se,Be){return void 0===Be&&(Be=""),new RegExp(""+Ao[Se.numberingSystem||"latn"]+Be)}function Gn(Se,Be){return void 0===Be&&(Be=function(Ce){return Ce}),{regex:Se,deser:function(Ce){return Be(function gs(Se){var Be=parseInt(Se,10);if(isNaN(Be)){Be="";for(var Re=0;Re<Se.length;Re++){var Ce=Se.charCodeAt(Re);if(-1!==Se[Re].search(Ao.hanidec))Be+=Ca.indexOf(Se[Re]);else for(var Ne in Ls){var Je=Ls[Ne],Mt=Je[0];Ce>=Mt&&Ce<=Je[1]&&(Be+=Ce-Mt)}}return parseInt(Be,10)}return Be}(Ce[0]))}}}var Da="( |"+String.fromCharCode(160)+")",ou=new RegExp(Da,"g");function Xa(Se){return Se.replace(/\./g,"\\.?").replace(ou,Da)}function fi(Se){return Se.replace(/\./g,"").replace(ou," ").toLowerCase()}function mi(Se,Be){return null===Se?null:{regex:RegExp(Se.map(Xa).join("|")),deser:function(Ce){var Ne=Ce[0];return Se.findIndex(function(Je){return fi(Ne)===fi(Je)})+Be}}}function Sa(Se,Be){return{regex:Se,deser:function(Ce){return Dn(Ce[1],Ce[2])},groups:Be}}function Ti(Se){return{regex:Se,deser:function(Re){return Re[0]}}}function Qr(Se){return Se.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}var Uf={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour:{numeric:"h","2-digit":"hh"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"}},qa=null;function oh(Se,Be,Re){var Ce=function J_(Se,Be){var Re;return(Re=Array.prototype).concat.apply(Re,Se.map(function(Ce){return function Ff(Se,Be){if(Se.literal)return Se;var Re=fr.macroTokenToFormatOpts(Se.val);if(!Re)return Se;var Je=fr.create(Be,Re).formatDateTimeParts(function no(){return qa||(qa=Os.fromMillis(1555555555555)),qa}()).map(function(Mt){return function mo(Se,Be,Re){var Ce=Se.type;if("literal"===Ce)return{literal:!0,val:Se.value};var Mt=Uf[Ce];return"object"==typeof Mt&&(Mt=Mt[Re[Ce]]),Mt?{literal:!1,val:Mt}:void 0}(Mt,0,Re)});return Je.includes(void 0)?Se:Je}(Ce,Be)}))}(fr.parseFormat(Re),Se),Ne=Ce.map(function(ir){return function jf(Se,Be){var Re=pi(Be),Ce=pi(Be,"{2}"),Ne=pi(Be,"{3}"),Je=pi(Be,"{4}"),Mt=pi(Be,"{6}"),Pt=pi(Be,"{1,2}"),Bt=pi(Be,"{1,3}"),sn=pi(Be,"{1,6}"),wn=pi(Be,"{1,9}"),vn=pi(Be,"{2,4}"),Pn=pi(Be,"{4,6}"),Qn=function(ir){return{regex:RegExp(Qr(ir.val)),deser:function(xl){return xl[0]},literal:!0}},vr=function(ir){if(Se.literal)return Qn(ir);switch(ir.val){case"G":return mi(Be.eras("short",!1),0);case"GG":return mi(Be.eras("long",!1),0);case"y":return Gn(sn);case"yy":case"kk":return Gn(vn,An);case"yyyy":case"kkkk":return Gn(Je);case"yyyyy":return Gn(Pn);case"yyyyyy":return Gn(Mt);case"M":case"L":case"d":case"H":case"h":case"m":case"q":case"s":case"W":return Gn(Pt);case"MM":case"LL":case"dd":case"HH":case"hh":case"mm":case"qq":case"ss":case"WW":return Gn(Ce);case"MMM":return mi(Be.months("short",!0,!1),1);case"MMMM":return mi(Be.months("long",!0,!1),1);case"LLL":return mi(Be.months("short",!1,!1),1);case"LLLL":return mi(Be.months("long",!1,!1),1);case"o":case"S":return Gn(Bt);case"ooo":case"SSS":return Gn(Ne);case"u":return Ti(wn);case"uu":return Ti(Pt);case"uuu":case"E":case"c":return Gn(Re);case"a":return mi(Be.meridiems(),0);case"EEE":return mi(Be.weekdays("short",!1,!1),1);case"EEEE":return mi(Be.weekdays("long",!1,!1),1);case"ccc":return mi(Be.weekdays("short",!0,!1),1);case"cccc":return mi(Be.weekdays("long",!0,!1),1);case"Z":case"ZZ":return Sa(new RegExp("([+-]"+Pt.source+")(?::("+Ce.source+"))?"),2);case"ZZZ":return Sa(new RegExp("([+-]"+Pt.source+")("+Ce.source+")?"),2);case"z":return Ti(/[a-z_+-/]{1,256}?/i);default:return Qn(ir)}}(Se)||{invalidReason:"missing Intl.DateTimeFormat.formatToParts support"};return vr.token=Se,vr}(ir,Se)}),Je=Ne.find(function(ir){return ir.invalidReason});if(Je)return{input:Be,tokens:Ce,invalidReason:Je.invalidReason};var Mt=function to(Se){return["^"+Se.map(function(Re){return Re.regex}).reduce(function(Re,Ce){return Re+"("+Ce.source+")"},"")+"$",Se]}(Ne),Bt=Mt[1],sn=RegExp(Mt[0],"i"),wn=function Uc(Se,Be,Re){var Ce=Se.match(Be);if(Ce){var Ne={},Je=1;for(var Mt in Re)if(lt(Re,Mt)){var Pt=Re[Mt],Bt=Pt.groups?Pt.groups+1:1;!Pt.literal&&Pt.token&&(Ne[Pt.token.val[0]]=Pt.deser(Ce.slice(Je,Je+Bt))),Je+=Bt}return[Ce,Ne]}return[Ce,{}]}(Be,sn,Bt),vn=wn[0],Pn=wn[1],Qn=Pn?function au(Se){var Ce,Re=null;return Ze(Se.z)||(Re=As.create(Se.z)),Ze(Se.Z)||(Re||(Re=new Jr(Se.Z)),Ce=Se.Z),Ze(Se.q)||(Se.M=3*(Se.q-1)+1),Ze(Se.h)||(Se.h<12&&1===Se.a?Se.h+=12:12===Se.h&&0===Se.a&&(Se.h=0)),0===Se.G&&Se.y&&(Se.y=-Se.y),Ze(Se.u)||(Se.S=St(Se.u)),[Object.keys(Se).reduce(function(Je,Mt){var Pt=function(Mt){switch(Mt){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}}(Mt);return Pt&&(Je[Pt]=Se[Mt]),Je},{}),Re,Ce]}(Pn):[null,null,void 0],ur=Qn[0],vr=Qn[1],Ar=Qn[2];if(lt(Pn,"a")&&lt(Pn,"H"))throw new F("Can't include meridiem when specifying 24-hour format");return{input:Be,tokens:Ce,regex:sn,rawMatches:vn,matches:Pn,result:ur,zone:vr,specificOffset:Ar}}var Bf=[0,31,59,90,120,151,181,212,243,273,304,334],Wf=[0,31,60,91,121,152,182,213,244,274,305,335];function ro(Se,Be){return new Mr("unit out of range","you specified "+Be+" (of type "+typeof Be+") as a "+Se+", which is invalid")}function Vf(Se,Be,Re){var Ce=new Date(Date.UTC(Se,Be-1,Re));Se<100&&Se>=0&&Ce.setUTCFullYear(Ce.getUTCFullYear()-1900);var Ne=Ce.getUTCDay();return 0===Ne?7:Ne}function Zf(Se,Be,Re){return Re+(zt(Se)?Wf:Bf)[Be-1]}function $f(Se,Be){var Re=zt(Se)?Wf:Bf,Ce=Re.findIndex(function(Je){return Je<Be});return{month:Ce+1,day:Be-Re[Ce]}}function ah(Se){var Pt,Be=Se.year,Re=Se.month,Ce=Se.day,Ne=Zf(Be,Re,Ce),Je=Vf(Be,Re,Ce),Mt=Math.floor((Ne-Je+10)/7);return Mt<1?Mt=yn(Pt=Be-1):Mt>yn(Be)?(Pt=Be+1,Mt=1):Pt=Be,X({weekYear:Pt,weekNumber:Mt,weekday:Je},Wt(Se))}function Kf(Se){var Pt,Be=Se.weekYear,Re=Se.weekNumber,Ce=Se.weekday,Ne=Vf(Be,1,4),Je=qt(Be),Mt=7*Re+Ce-Ne-3;Mt<1?Mt+=qt(Pt=Be-1):Mt>Je?(Pt=Be+1,Mt-=qt(Be)):Pt=Be;var Bt=$f(Pt,Mt);return X({year:Pt,month:Bt.month,day:Bt.day},Wt(Se))}function lh(Se){var Be=Se.year;return X({year:Be,ordinal:Zf(Be,Se.month,Se.day)},Wt(Se))}function zf(Se){var Be=Se.year,Ce=$f(Be,Se.ordinal);return X({year:Be,month:Ce.month,day:Ce.day},Wt(Se))}function Gf(Se){var Be=te(Se.year),Re=tt(Se.month,1,12),Ce=tt(Se.day,1,dn(Se.year,Se.month));return Be?Re?!Ce&&ro("day",Se.day):ro("month",Se.month):ro("year",Se.year)}function kf(Se){var Be=Se.hour,Re=Se.minute,Ce=Se.second,Ne=Se.millisecond,Je=tt(Be,0,23)||24===Be&&0===Re&&0===Ce&&0===Ne,Mt=tt(Re,0,59),Pt=tt(Ce,0,59),Bt=tt(Ne,0,999);return Je?Mt?Pt?!Bt&&ro("millisecond",Ne):ro("second",Ce):ro("minute",Re):ro("hour",Be)}var lu="Invalid DateTime",uu=864e13;function Fc(Se){return new Mr("unsupported zone",'the zone "'+Se.name+'" is not supported')}function uh(Se){return null===Se.weekData&&(Se.weekData=ah(Se.c)),Se.weekData}function cu(Se,Be){var Re={ts:Se.ts,zone:Se.zone,c:Se.c,o:Se.o,loc:Se.loc,invalid:Se.invalid};return new Os(X({},Re,Be,{old:Re}))}function qo(Se,Be,Re){var Ce=Se-60*Be*1e3,Ne=Re.offset(Ce);if(Be===Ne)return[Ce,Be];var Je=Re.offset(Ce-=60*(Ne-Be)*1e3);return Ne===Je?[Ce,Ne]:[Se-60*Math.min(Ne,Je)*1e3,Math.max(Ne,Je)]}function ch(Se,Be){var Re=new Date(Se+=60*Be*1e3);return{year:Re.getUTCFullYear(),month:Re.getUTCMonth()+1,day:Re.getUTCDate(),hour:Re.getUTCHours(),minute:Re.getUTCMinutes(),second:Re.getUTCSeconds(),millisecond:Re.getUTCMilliseconds()}}function ea(Se,Be,Re){return qo(xn(Se),Be,Re)}function Nc(Se,Be){var Re=Se.o,Ce=Se.c.year+Math.trunc(Be.years),Ne=Se.c.month+Math.trunc(Be.months)+3*Math.trunc(Be.quarters),Je=X({},Se.c,{year:Ce,month:Ne,day:Math.min(Se.c.day,dn(Ce,Ne))+Math.trunc(Be.days)+7*Math.trunc(Be.weeks)}),Mt=as.fromObject({years:Be.years-Math.trunc(Be.years),quarters:Be.quarters-Math.trunc(Be.quarters),months:Be.months-Math.trunc(Be.months),weeks:Be.weeks-Math.trunc(Be.weeks),days:Be.days-Math.trunc(Be.days),hours:Be.hours,minutes:Be.minutes,seconds:Be.seconds,milliseconds:Be.milliseconds}).as("milliseconds"),Bt=qo(xn(Je),Re,Se.zone),sn=Bt[0],wn=Bt[1];return 0!==Mt&&(wn=Se.zone.offset(sn+=Mt)),{ts:sn,o:wn}}function Tl(Se,Be,Re,Ce,Ne,Je){var Mt=Re.setZone,Pt=Re.zone;if(Se&&0!==Object.keys(Se).length){var sn=Os.fromObject(Se,X({},Re,{zone:Be||Pt,specificOffset:Je}));return Mt?sn:sn.setZone(Pt)}return Os.invalid(new Mr("unparsable",'the input "'+Ne+"\" can't be parsed as "+Ce))}function du(Se,Be,Re){return void 0===Re&&(Re=!0),Se.isValid?fr.create(Fr.create("en-US"),{allowZ:Re,forceSimple:!0}).formatDateTimeFromString(Se,Be):null}function hu(Se,Be){var Re=Se.c.year>9999||Se.c.year<0,Ce="";return Re&&Se.c.year>=0&&(Ce+="+"),Ce+=Ke(Se.c.year,Re?6:4),Be?(Ce+="-",Ce+=Ke(Se.c.month),Ce+="-",Ce+=Ke(Se.c.day)):(Ce+=Ke(Se.c.month),Ce+=Ke(Se.c.day)),Ce}function Bc(Se,Be,Re,Ce,Ne){var Je=Ke(Se.c.hour);return Be?(Je+=":",Je+=Ke(Se.c.minute),(0!==Se.c.second||!Re)&&(Je+=":")):Je+=Ke(Se.c.minute),(0!==Se.c.second||!Re)&&(Je+=Ke(Se.c.second),(0!==Se.c.millisecond||!Ce)&&(Je+=".",Je+=Ke(Se.c.millisecond,3))),Ne&&(Se.isOffsetFixed&&0===Se.offset?Je+="Z":Se.o<0?(Je+="-",Je+=Ke(Math.trunc(-Se.o/60)),Je+=":",Je+=Ke(Math.trunc(-Se.o%60))):(Je+="+",Je+=Ke(Math.trunc(Se.o/60)),Je+=":",Je+=Ke(Math.trunc(Se.o%60)))),Je}var dh={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},Wc={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},Hf={ordinal:1,hour:0,minute:0,second:0,millisecond:0},xi=["year","month","day","hour","minute","second","millisecond"],Vc=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],Jf=["year","ordinal","hour","minute","second","millisecond"];function pu(Se){var Be={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[Se.toLowerCase()];if(!Be)throw new k(Se);return Be}function hh(Se,Be){var Je,Mt,Re=Ms(Be.zone,Wn.defaultZone),Ce=Fr.fromObject(Be),Ne=Wn.now();if(Ze(Se.year))Je=Ne;else{for(var Bt,Pt=se(xi);!(Bt=Pt()).done;){var sn=Bt.value;Ze(Se[sn])&&(Se[sn]=dh[sn])}var wn=Gf(Se)||kf(Se);if(wn)return Os.invalid(wn);var Pn=ea(Se,Re.offset(Ne),Re);Je=Pn[0],Mt=Pn[1]}return new Os({ts:Je,zone:Re,loc:Ce,o:Mt})}function ph(Se,Be,Re){var Ce=!!Ze(Re.round)||Re.round,Ne=function(vn,Pn){return vn=kt(vn,Ce||Re.calendary?0:2,!0),Be.loc.clone(Re).relFormatter(Re).format(vn,Pn)},Je=function(vn){return Re.calendary?Be.hasSame(Se,vn)?0:Be.startOf(vn).diff(Se.startOf(vn),vn).get(vn):Be.diff(Se,vn).get(vn)};if(Re.unit)return Ne(Je(Re.unit),Re.unit);for(var Pt,Mt=se(Re.units);!(Pt=Mt()).done;){var Bt=Pt.value,sn=Je(Bt);if(Math.abs(sn)>=1)return Ne(sn,Bt)}return Ne(Se>Be?-0:0,Re.units[Re.units.length-1])}function fu(Se){var Re,Be={};return Se.length>0&&"object"==typeof Se[Se.length-1]?(Be=Se[Se.length-1],Re=Array.from(Se).slice(0,Se.length-1)):Re=Array.from(Se),[Be,Re]}var Os=function(){function Se(Re){var Ce=Re.zone||Wn.defaultZone,Ne=Re.invalid||(Number.isNaN(Re.ts)?new Mr("invalid input"):null)||(Ce.isValid?null:Fc(Ce));this.ts=Ze(Re.ts)?Wn.now():Re.ts;var Je=null,Mt=null;if(!Ne)if(Re.old&&Re.old.ts===this.ts&&Re.old.zone.equals(Ce)){var Bt=[Re.old.c,Re.old.o];Je=Bt[0],Mt=Bt[1]}else{var sn=Ce.offset(this.ts);Je=ch(this.ts,sn),Je=(Ne=Number.isNaN(Je.year)?new Mr("invalid input"):null)?null:Je,Mt=Ne?null:sn}this._zone=Ce,this.loc=Re.loc||Fr.create(),this.invalid=Ne,this.weekData=null,this.c=Je,this.o=Mt,this.isLuxonDateTime=!0}Se.now=function(){return new Se({})},Se.local=function(){var Ce=fu(arguments),Ne=Ce[0],Je=Ce[1],Mt=Je[0],Pt=Je[1],Bt=Je[2],sn=Je[3],wn=Je[4],vn=Je[5],Pn=Je[6];return hh({year:Mt,month:Pt,day:Bt,hour:sn,minute:wn,second:vn,millisecond:Pn},Ne)},Se.utc=function(){var Ce=fu(arguments),Ne=Ce[0],Je=Ce[1],Mt=Je[0],Pt=Je[1],Bt=Je[2],sn=Je[3],wn=Je[4],vn=Je[5],Pn=Je[6];return Ne.zone=Jr.utcInstance,hh({year:Mt,month:Pt,day:Bt,hour:sn,minute:wn,second:vn,millisecond:Pn},Ne)},Se.fromJSDate=function(Ce,Ne){void 0===Ne&&(Ne={});var Je=function je(Se){return"[object Date]"===Object.prototype.toString.call(Se)}(Ce)?Ce.valueOf():NaN;if(Number.isNaN(Je))return Se.invalid("invalid input");var Mt=Ms(Ne.zone,Wn.defaultZone);return Mt.isValid?new Se({ts:Je,zone:Mt,loc:Fr.fromObject(Ne)}):Se.invalid(Fc(Mt))},Se.fromMillis=function(Ce,Ne){if(void 0===Ne&&(Ne={}),He(Ce))return Ce<-uu||Ce>uu?Se.invalid("Timestamp out of range"):new Se({ts:Ce,zone:Ms(Ne.zone,Wn.defaultZone),loc:Fr.fromObject(Ne)});throw new W("fromMillis requires a numerical input, but received a "+typeof Ce+" with value "+Ce)},Se.fromSeconds=function(Ce,Ne){if(void 0===Ne&&(Ne={}),He(Ce))return new Se({ts:1e3*Ce,zone:Ms(Ne.zone,Wn.defaultZone),loc:Fr.fromObject(Ne)});throw new W("fromSeconds requires a numerical input")},Se.fromObject=function(Ce,Ne){void 0===Ne&&(Ne={}),Ce=Ce||{};var Je=Ms(Ne.zone,Wn.defaultZone);if(!Je.isValid)return Se.invalid(Fc(Je));var Mt=Wn.now(),Pt=Ze(Ne.specificOffset)?Je.offset(Mt):Ne.specificOffset,Bt=Dt(Ce,pu),sn=!Ze(Bt.ordinal),wn=!Ze(Bt.year),vn=!Ze(Bt.month)||!Ze(Bt.day),Pn=wn||vn,Qn=Bt.weekYear||Bt.weekNumber,ur=Fr.fromObject(Ne);if((Pn||sn)&&Qn)throw new F("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(vn&&sn)throw new F("Can't mix ordinal dates with month/day");var Ar,ir,vr=Qn||Bt.weekday&&!Pn,Xn=ch(Mt,Pt);vr?(Ar=Vc,ir=Wc,Xn=ah(Xn)):sn?(Ar=Jf,ir=Hf,Xn=lh(Xn)):(Ar=xi,ir=dh);for(var mh,xl=!1,fh=se(Ar);!(mh=fh()).done;){var Al=mh.value;Ze(Bt[Al])?Bt[Al]=xl?ir[Al]:Xn[Al]:xl=!0}var yh=vr?function Y_(Se){var Be=te(Se.weekYear),Re=tt(Se.weekNumber,1,yn(Se.weekYear)),Ce=tt(Se.weekday,1,7);return Be?Re?!Ce&&ro("weekday",Se.weekday):ro("week",Se.week):ro("weekYear",Se.weekYear)}(Bt):sn?function Q_(Se){var Be=te(Se.year),Re=tt(Se.ordinal,1,qt(Se.year));return Be?!Re&&ro("ordinal",Se.ordinal):ro("year",Se.year)}(Bt):Gf(Bt),gh=yh||kf(Bt);if(gh)return Se.invalid(gh);var Sn=ea(vr?Kf(Bt):sn?zf(Bt):Bt,Pt,Je),_s=new Se({ts:Sn[0],zone:Je,o:Sn[1],loc:ur});return Bt.weekday&&Pn&&Ce.weekday!==_s.weekday?Se.invalid("mismatched weekday","you can't specify both a weekday of "+Bt.weekday+" and a date of "+_s.toISO()):_s},Se.fromISO=function(Ce,Ne){void 0===Ne&&(Ne={});var Je=function Rc(Se){return Ds(Se,[jn,yr],[zn,ar],[Vr,hi],[jr,cs])}(Ce);return Tl(Je[0],Je[1],Ne,"ISO 8601",Ce)},Se.fromRFC2822=function(Ce,Ne){void 0===Ne&&(Ne={});var Je=function nh(Se){return Ds(function Ue(Se){return Se.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}(Se),[Rt,Ut])}(Ce);return Tl(Je[0],Je[1],Ne,"RFC 2822",Ce)},Se.fromHTTP=function(Ce,Ne){void 0===Ne&&(Ne={});var Je=function xo(Se){return Ds(Se,[$e,en],[ct,en],[At,En])}(Ce);return Tl(Je[0],Je[1],Ne,"HTTP",Ne)},Se.fromFormat=function(Ce,Ne,Je){if(void 0===Je&&(Je={}),Ze(Ce)||Ze(Ne))throw new W("fromFormat requires an input string and a format");var Pt=Je.locale,sn=Je.numberingSystem,Pn=function Nf(Se,Be,Re){var Ce=oh(Se,Be,Re);return[Ce.result,Ce.zone,Ce.specificOffset,Ce.invalidReason]}(Fr.fromOpts({locale:void 0===Pt?null:Pt,numberingSystem:void 0===sn?null:sn,defaultToEN:!0}),Ce,Ne),Qn=Pn[0],ur=Pn[1],vr=Pn[2],Ar=Pn[3];return Ar?Se.invalid(Ar):Tl(Qn,ur,Je,"format "+Ne,Ce,vr)},Se.fromString=function(Ce,Ne,Je){return void 0===Je&&(Je={}),Se.fromFormat(Ce,Ne,Je)},Se.fromSQL=function(Ce,Ne){void 0===Ne&&(Ne={});var Je=function Il(Se){return Ds(Se,[Af,sh],[rh,ih])}(Ce);return Tl(Je[0],Je[1],Ne,"SQL",Ce)},Se.invalid=function(Ce,Ne){if(void 0===Ne&&(Ne=null),!Ce)throw new W("need to specify a reason the DateTime is invalid");var Je=Ce instanceof Mr?Ce:new Mr(Ce,Ne);if(Wn.throwOnInvalid)throw new j(Je);return new Se({invalid:Je})},Se.isDateTime=function(Ce){return Ce&&Ce.isLuxonDateTime||!1};var Be=Se.prototype;return Be.get=function(Ce){return this[Ce]},Be.resolvedLocaleOptions=function(Ce){void 0===Ce&&(Ce={});var Ne=fr.create(this.loc.clone(Ce),Ce).resolvedOptions(this);return{locale:Ne.locale,numberingSystem:Ne.numberingSystem,outputCalendar:Ne.calendar}},Be.toUTC=function(Ce,Ne){return void 0===Ce&&(Ce=0),void 0===Ne&&(Ne={}),this.setZone(Jr.instance(Ce),Ne)},Be.toLocal=function(){return this.setZone(Wn.defaultZone)},Be.setZone=function(Ce,Ne){var Je=void 0===Ne?{}:Ne,Mt=Je.keepLocalTime,Pt=void 0!==Mt&&Mt,Bt=Je.keepCalendarTime,sn=void 0!==Bt&&Bt;if((Ce=Ms(Ce,Wn.defaultZone)).equals(this.zone))return this;if(Ce.isValid){var wn=this.ts;if(Pt||sn){var vn=Ce.offset(this.ts);wn=ea(this.toObject(),vn,Ce)[0]}return cu(this,{ts:wn,zone:Ce})}return Se.invalid(Fc(Ce))},Be.reconfigure=function(Ce){var Ne=void 0===Ce?{}:Ce;return cu(this,{loc:this.loc.clone({locale:Ne.locale,numberingSystem:Ne.numberingSystem,outputCalendar:Ne.outputCalendar})})},Be.setLocale=function(Ce){return this.reconfigure({locale:Ce})},Be.set=function(Ce){if(!this.isValid)return this;var vn,Ne=Dt(Ce,pu),Je=!Ze(Ne.weekYear)||!Ze(Ne.weekNumber)||!Ze(Ne.weekday),Mt=!Ze(Ne.ordinal),Pt=!Ze(Ne.year),Bt=!Ze(Ne.month)||!Ze(Ne.day);if((Pt||Bt||Mt)&&(Ne.weekYear||Ne.weekNumber))throw new F("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(Bt&&Mt)throw new F("Can't mix ordinal dates with month/day");Je?vn=Kf(X({},ah(this.c),Ne)):Ze(Ne.ordinal)?(vn=X({},this.toObject(),Ne),Ze(Ne.day)&&(vn.day=Math.min(dn(vn.year,vn.month),vn.day))):vn=zf(X({},lh(this.c),Ne));var Pn=ea(vn,this.o,this.zone);return cu(this,{ts:Pn[0],o:Pn[1]})},Be.plus=function(Ce){return this.isValid?cu(this,Nc(this,as.fromDurationLike(Ce))):this},Be.minus=function(Ce){return this.isValid?cu(this,Nc(this,as.fromDurationLike(Ce).negate())):this},Be.startOf=function(Ce){if(!this.isValid)return this;var Ne={},Je=as.normalizeUnit(Ce);switch(Je){case"years":Ne.month=1;case"quarters":case"months":Ne.day=1;case"weeks":case"days":Ne.hour=0;case"hours":Ne.minute=0;case"minutes":Ne.second=0;case"seconds":Ne.millisecond=0}if("weeks"===Je&&(Ne.weekday=1),"quarters"===Je){var Mt=Math.ceil(this.month/3);Ne.month=3*(Mt-1)+1}return this.set(Ne)},Be.endOf=function(Ce){var Ne;return this.isValid?this.plus((Ne={},Ne[Ce]=1,Ne)).startOf(Ce).minus(1):this},Be.toFormat=function(Ce,Ne){return void 0===Ne&&(Ne={}),this.isValid?fr.create(this.loc.redefaultToEN(Ne)).formatDateTimeFromString(this,Ce):lu},Be.toLocaleString=function(Ce,Ne){return void 0===Ce&&(Ce=fe),void 0===Ne&&(Ne={}),this.isValid?fr.create(this.loc.clone(Ne),Ce).formatDateTime(this):lu},Be.toLocaleParts=function(Ce){return void 0===Ce&&(Ce={}),this.isValid?fr.create(this.loc.clone(Ce),Ce).formatDateTimeParts(this):[]},Be.toISO=function(Ce){var Ne=void 0===Ce?{}:Ce,Je=Ne.format,Pt=Ne.suppressSeconds,Bt=void 0!==Pt&&Pt,sn=Ne.suppressMilliseconds,wn=void 0!==sn&&sn,vn=Ne.includeOffset,Pn=void 0===vn||vn;if(!this.isValid)return null;var Qn="extended"===(void 0===Je?"extended":Je),ur=hu(this,Qn);return(ur+="T")+Bc(this,Qn,Bt,wn,Pn)},Be.toISODate=function(Ce){var Je=(void 0===Ce?{}:Ce).format;return this.isValid?hu(this,"extended"===(void 0===Je?"extended":Je)):null},Be.toISOWeekDate=function(){return du(this,"kkkk-'W'WW-c")},Be.toISOTime=function(Ce){var Ne=void 0===Ce?{}:Ce,Je=Ne.suppressMilliseconds,Pt=Ne.suppressSeconds,sn=Ne.includeOffset,vn=Ne.includePrefix,Qn=Ne.format;return this.isValid?(void 0!==vn&&vn?"T":"")+Bc(this,"extended"===(void 0===Qn?"extended":Qn),void 0!==Pt&&Pt,void 0!==Je&&Je,void 0===sn||sn):null},Be.toRFC2822=function(){return du(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)},Be.toHTTP=function(){return du(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")},Be.toSQLDate=function(){return this.isValid?hu(this,!0):null},Be.toSQLTime=function(Ce){var Ne=void 0===Ce?{}:Ce,Je=Ne.includeOffset,Mt=void 0===Je||Je,Pt=Ne.includeZone,Bt=void 0!==Pt&&Pt,sn=Ne.includeOffsetSpace,vn="HH:mm:ss.SSS";return(Bt||Mt)&&((void 0===sn||sn)&&(vn+=" "),Bt?vn+="z":Mt&&(vn+="ZZ")),du(this,vn,!0)},Be.toSQL=function(Ce){return void 0===Ce&&(Ce={}),this.isValid?this.toSQLDate()+" "+this.toSQLTime(Ce):null},Be.toString=function(){return this.isValid?this.toISO():lu},Be.valueOf=function(){return this.toMillis()},Be.toMillis=function(){return this.isValid?this.ts:NaN},Be.toSeconds=function(){return this.isValid?this.ts/1e3:NaN},Be.toUnixInteger=function(){return this.isValid?Math.floor(this.ts/1e3):NaN},Be.toJSON=function(){return this.toISO()},Be.toBSON=function(){return this.toJSDate()},Be.toObject=function(Ce){if(void 0===Ce&&(Ce={}),!this.isValid)return{};var Ne=X({},this.c);return Ce.includeConfig&&(Ne.outputCalendar=this.outputCalendar,Ne.numberingSystem=this.loc.numberingSystem,Ne.locale=this.loc.locale),Ne},Be.toJSDate=function(){return new Date(this.isValid?this.ts:NaN)},Be.diff=function(Ce,Ne,Je){if(void 0===Ne&&(Ne="milliseconds"),void 0===Je&&(Je={}),!this.isValid||!Ce.isValid)return as.invalid("created by diffing an invalid DateTime");var Mt=X({locale:this.locale,numberingSystem:this.numberingSystem},Je),Pt=function ht(Se){return Array.isArray(Se)?Se:[Se]}(Ne).map(as.normalizeUnit),Bt=Ce.valueOf()>this.valueOf(),vn=function Ii(Se,Be,Re,Ce){var vn,Ne=function is(Se,Be,Re){for(var Je,Mt,Ne={},Pt=0,Bt=[["years",function(vr,Ar){return Ar.year-vr.year}],["quarters",function(vr,Ar){return Ar.quarter-vr.quarter}],["months",function(vr,Ar){return Ar.month-vr.month+12*(Ar.year-vr.year)}],["weeks",function(vr,Ar){var ir=Dr(vr,Ar);return(ir-ir%7)/7}],["days",Dr]];Pt<Bt.length;Pt++){var sn=Bt[Pt],wn=sn[0],vn=sn[1];if(Re.indexOf(wn)>=0){var Pn;Je=wn;var ur,Qn=vn(Se,Be);(Mt=Se.plus(((Pn={})[wn]=Qn,Pn)))>Be?(Se=Se.plus(((ur={})[wn]=Qn-1,ur)),Qn-=1):Se=Mt,Ne[wn]=Qn}}return[Se,Ne,Mt,Je]}(Se,Be,Re),Je=Ne[0],Mt=Ne[1],Pt=Ne[2],Bt=Ne[3],sn=Be-Je,wn=Re.filter(function(ur){return["hours","minutes","seconds","milliseconds"].indexOf(ur)>=0});0===wn.length&&(Pt<Be&&(Pt=Je.plus(((vn={})[Bt]=1,vn))),Pt!==Je&&(Mt[Bt]=(Mt[Bt]||0)+sn/(Pt-Je)));var Qn,Pn=as.fromObject(Mt,Ce);return wn.length>0?(Qn=as.fromMillis(sn,Ce)).shiftTo.apply(Qn,wn).plus(Pn):Pn}(Bt?this:Ce,Bt?Ce:this,Pt,Mt);return Bt?vn.negate():vn},Be.diffNow=function(Ce,Ne){return void 0===Ce&&(Ce="milliseconds"),void 0===Ne&&(Ne={}),this.diff(Se.now(),Ce,Ne)},Be.until=function(Ce){return this.isValid?ri.fromDateTimes(this,Ce):this},Be.hasSame=function(Ce,Ne){if(!this.isValid)return!1;var Je=Ce.valueOf(),Mt=this.setZone(Ce.zone,{keepLocalTime:!0});return Mt.startOf(Ne)<=Je&&Je<=Mt.endOf(Ne)},Be.equals=function(Ce){return this.isValid&&Ce.isValid&&this.valueOf()===Ce.valueOf()&&this.zone.equals(Ce.zone)&&this.loc.equals(Ce.loc)},Be.toRelative=function(Ce){if(void 0===Ce&&(Ce={}),!this.isValid)return null;var Ne=Ce.base||Se.fromObject({},{zone:this.zone}),Je=Ce.padding?this<Ne?-Ce.padding:Ce.padding:0,Mt=["years","months","days","hours","minutes","seconds"],Pt=Ce.unit;return Array.isArray(Ce.unit)&&(Mt=Ce.unit,Pt=void 0),ph(Ne,this.plus(Je),X({},Ce,{numeric:"always",units:Mt,unit:Pt}))},Be.toRelativeCalendar=function(Ce){return void 0===Ce&&(Ce={}),this.isValid?ph(Ce.base||Se.fromObject({},{zone:this.zone}),this,X({},Ce,{numeric:"auto",units:["years","months","days"],calendary:!0})):null},Se.min=function(){for(var Ce=arguments.length,Ne=new Array(Ce),Je=0;Je<Ce;Je++)Ne[Je]=arguments[Je];if(!Ne.every(Se.isDateTime))throw new W("min requires all arguments be DateTimes");return ot(Ne,function(Mt){return Mt.valueOf()},Math.min)},Se.max=function(){for(var Ce=arguments.length,Ne=new Array(Ce),Je=0;Je<Ce;Je++)Ne[Je]=arguments[Je];if(!Ne.every(Se.isDateTime))throw new W("max requires all arguments be DateTimes");return ot(Ne,function(Mt){return Mt.valueOf()},Math.max)},Se.fromFormatExplain=function(Ce,Ne,Je){void 0===Je&&(Je={});var Pt=Je.locale,sn=Je.numberingSystem;return oh(Fr.fromOpts({locale:void 0===Pt?null:Pt,numberingSystem:void 0===sn?null:sn,defaultToEN:!0}),Ce,Ne)},Se.fromStringExplain=function(Ce,Ne,Je){return void 0===Je&&(Je={}),Se.fromFormatExplain(Ce,Ne,Je)},O(Se,[{key:"isValid",get:function(){return null===this.invalid}},{key:"invalidReason",get:function(){return this.invalid?this.invalid.reason:null}},{key:"invalidExplanation",get:function(){return this.invalid?this.invalid.explanation:null}},{key:"locale",get:function(){return this.isValid?this.loc.locale:null}},{key:"numberingSystem",get:function(){return this.isValid?this.loc.numberingSystem:null}},{key:"outputCalendar",get:function(){return this.isValid?this.loc.outputCalendar:null}},{key:"zone",get:function(){return this._zone}},{key:"zoneName",get:function(){return this.isValid?this.zone.name:null}},{key:"year",get:function(){return this.isValid?this.c.year:NaN}},{key:"quarter",get:function(){return this.isValid?Math.ceil(this.c.month/3):NaN}},{key:"month",get:function(){return this.isValid?this.c.month:NaN}},{key:"day",get:function(){return this.isValid?this.c.day:NaN}},{key:"hour",get:function(){return this.isValid?this.c.hour:NaN}},{key:"minute",get:function(){return this.isValid?this.c.minute:NaN}},{key:"second",get:function(){return this.isValid?this.c.second:NaN}},{key:"millisecond",get:function(){return this.isValid?this.c.millisecond:NaN}},{key:"weekYear",get:function(){return this.isValid?uh(this).weekYear:NaN}},{key:"weekNumber",get:function(){return this.isValid?uh(this).weekNumber:NaN}},{key:"weekday",get:function(){return this.isValid?uh(this).weekday:NaN}},{key:"ordinal",get:function(){return this.isValid?lh(this.c).ordinal:NaN}},{key:"monthShort",get:function(){return this.isValid?Vn.months("short",{locObj:this.loc})[this.month-1]:null}},{key:"monthLong",get:function(){return this.isValid?Vn.months("long",{locObj:this.loc})[this.month-1]:null}},{key:"weekdayShort",get:function(){return this.isValid?Vn.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}},{key:"weekdayLong",get:function(){return this.isValid?Vn.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}},{key:"offset",get:function(){return this.isValid?+this.o:NaN}},{key:"offsetNameShort",get:function(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}},{key:"offsetNameLong",get:function(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}},{key:"isOffsetFixed",get:function(){return this.isValid?this.zone.isUniversal:null}},{key:"isInDST",get:function(){return!this.isOffsetFixed&&(this.offset>this.set({month:1}).offset||this.offset>this.set({month:5}).offset)}},{key:"isInLeapYear",get:function(){return zt(this.year)}},{key:"daysInMonth",get:function(){return dn(this.year,this.month)}},{key:"daysInYear",get:function(){return this.isValid?qt(this.year):NaN}},{key:"weeksInWeekYear",get:function(){return this.isValid?yn(this.weekYear):NaN}}],[{key:"DATE_SHORT",get:function(){return fe}},{key:"DATE_MED",get:function(){return pe}},{key:"DATE_MED_WITH_WEEKDAY",get:function(){return oe}},{key:"DATE_FULL",get:function(){return K}},{key:"DATE_HUGE",get:function(){return de}},{key:"TIME_SIMPLE",get:function(){return le}},{key:"TIME_WITH_SECONDS",get:function(){return me}},{key:"TIME_WITH_SHORT_OFFSET",get:function(){return ce}},{key:"TIME_WITH_LONG_OFFSET",get:function(){return ge}},{key:"TIME_24_SIMPLE",get:function(){return J}},{key:"TIME_24_WITH_SECONDS",get:function(){return ie}},{key:"TIME_24_WITH_SHORT_OFFSET",get:function(){return De}},{key:"TIME_24_WITH_LONG_OFFSET",get:function(){return _e}},{key:"DATETIME_SHORT",get:function(){return Ie}},{key:"DATETIME_SHORT_WITH_SECONDS",get:function(){return xe}},{key:"DATETIME_MED",get:function(){return ke}},{key:"DATETIME_MED_WITH_SECONDS",get:function(){return Ve}},{key:"DATETIME_MED_WITH_WEEKDAY",get:function(){return ve}},{key:"DATETIME_FULL",get:function(){return we}},{key:"DATETIME_FULL_WITH_SECONDS",get:function(){return We}},{key:"DATETIME_HUGE",get:function(){return nt}},{key:"DATETIME_HUGE_WITH_SECONDS",get:function(){return Te}}]),Se}();function Oa(Se){if(Os.isDateTime(Se))return Se;if(Se&&Se.valueOf&&He(Se.valueOf()))return Os.fromJSDate(Se);if(Se&&"object"==typeof Se)return Os.fromObject(Se);throw new W("Unknown datetime argument: "+Se+", of type "+typeof Se)}Me.ou=Os},41993:Qe=>{function Me(E){return Promise.resolve().then(()=>{var M=new Error("Cannot find module '"+E+"'");throw M.code="MODULE_NOT_FOUND",M})}Me.keys=()=>[],Me.resolve=Me,Me.id=41993,Qe.exports=Me},73386:(Qe,Me,E)=>{"use strict";E.r(Me),E.d(Me,{default:()=>pe});var Q,M=E(15861),O=E(17626),X=E(48701),B=E(89726),N=E(55538),ee=E(86810),z=E(58817),L=E(47996),T=E(47877),x=E(63290),Z=E(62208),Y=E(10699),$=E(21726),se=E(77712),j=(E(90912),E(76898)),I=E(99433),w=E(65234),F=E(84687),k=E(55463),W=E(33954),re=E(32584);let ue=0;const he=x.Z.getLogger("esri.Basemap");let fe=Q=class extends((0,ee.eC)(L.Z)){constructor(oe){super(oe),this.id=null,this.portalItem=null,this.spatialReference=null,this.thumbnailUrl=null,this.title="Basemap",this.id=Date.now().toString(16)+"-basemap-"+ue++,this.baseLayers=new X.Z,this.referenceLayers=new X.Z;const K=le=>{le.parent&&le.parent!==this&&"remove"in le.parent&&le.parent.remove(le),le.parent=this,"elevation"===le.type&&he.error(`Layer '${le.title}, id:${le.id}' of type '${le.type}' is not supported as a basemap layer and will therefore be ignored.`)},de=le=>{le.parent=null};this.baseLayers.on("after-add",le=>K(le.item)),this.referenceLayers.on("after-add",le=>K(le.item)),this.baseLayers.on("after-remove",le=>de(le.item)),this.referenceLayers.on("after-remove",le=>de(le.item))}initialize(){this.when().catch(oe=>{he.error("#load()",`Failed to load basemap (title: '${this.title}', id: '${this.id}')`,oe)}),this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)}destroy(){var oe;const K=this.baseLayers.removeAll();for(const le of K)le.destroy();const de=this.referenceLayers.removeAll();for(const le of de)le.destroy();this.baseLayers.destroy(),this.referenceLayers.destroy(),null==(oe=this.portalItem)||oe.destroy(),this.portalItem=null}normalizeCtorArgs(oe){return oe&&"resourceInfo"in oe&&(this._set("resourceInfo",oe.resourceInfo),delete(oe=Ct({},oe)).resourceInfo),oe}set baseLayers(oe){this._set("baseLayers",(0,B.Z)(oe,this._get("baseLayers")))}_writeBaseLayers(oe,K,de){const le=[];oe&&(de=Bn(Ct({},de),{layerContainerType:"basemap"}),this.baseLayers.forEach(me=>{const ce=(0,re.Nw)(me,de.webmap?de.webmap.getLayerJSONFromResourceInfo(me):null,de);(0,Z.pC)(ce)&&le.push(ce)}),this.referenceLayers.forEach(me=>{const ce=(0,re.Nw)(me,de.webmap?de.webmap.getLayerJSONFromResourceInfo(me):null,de);(0,Z.pC)(ce)&&(ce.isReference=!0,le.push(ce))})),K.baseMapLayers=le}set referenceLayers(oe){this._set("referenceLayers",(0,B.Z)(oe,this._get("referenceLayers")))}writeTitle(oe,K){K.title=oe||"Basemap"}load(oe){return this.addResolvingPromise(this._loadFromSource(oe)),Promise.resolve(this)}loadAll(){return(0,T.G)(this,oe=>{oe(this.baseLayers,this.referenceLayers)})}clone(){const oe={id:this.id,title:this.title,portalItem:this.portalItem,baseLayers:this.baseLayers.slice(),referenceLayers:this.referenceLayers.slice()};return this.loaded&&(oe.loadStatus="loaded"),new Q({resourceInfo:this.resourceInfo}).set(oe)}read(oe,K){this.resourceInfo||this._set("resourceInfo",{data:oe,context:K}),super.read(oe,K)}write(oe,K){return oe=oe||{},K&&K.origin||(K=Ct({origin:"web-map"},K)),super.write(oe,K),!this.loaded&&this.resourceInfo&&this.resourceInfo.data.baseMapLayers&&(oe.baseMapLayers=this.resourceInfo.data.baseMapLayers.map(de=>{const le=(0,z.d9)(de);return le.url&&(0,$.oC)(le.url)&&(le.url=`https:${le.url}`),le.templateUrl&&(0,$.oC)(le.templateUrl)&&(le.templateUrl=`https:${le.templateUrl}`),le})),oe}_loadFromSource(oe){var K=this;return(0,M.Z)(function*(){const{resourceInfo:de,portalItem:le}=K;(0,Y.k_)(oe);const me=[];de?(me.push(K._loadLayersFromJSON(de.data,de.context?de.context.url:null,oe)),de.data.id&&!de.data.title&&me.push((0,W.g)(de.data.id).then(J=>{J&&K.read({title:J},de.context)}))):le&&me.push(K._loadFromItem(le,oe)),yield Promise.all(me)})()}_loadLayersFromJSON(oe,K,de){var le=this;return(0,M.Z)(function*(){const me=le.resourceInfo&&le.resourceInfo.context,ce=le.portalItem&&le.portalItem.portal||me&&me.portal||null,ge=me&&"web-scene"===me.origin?"web-scene":"web-map",{populateOperationalLayers:J}=yield Promise.all([E.e(7534),E.e(1074)]).then(E.bind(E,71074)),ie=[];if((0,Y.k_)(de),oe.baseMapLayers&&Array.isArray(oe.baseMapLayers)){const De={context:{origin:ge,url:K,portal:ce,layerContainerType:"basemap"},defaultLayerType:"DefaultTileLayer"},_e=J(le.baseLayers,oe.baseMapLayers.filter(xe=>!xe.isReference),De);ie.push(_e);const Ie=J(le.referenceLayers,oe.baseMapLayers.filter(xe=>xe.isReference),De);ie.push(Ie)}yield(0,Y.as)(ie)})()}_loadFromItem(oe,K){var de=this;return(0,M.Z)(function*(){const le=yield oe.load(K),me=yield le.fetchData("json",K),ce=(0,$.mN)(oe.itemUrl);return de._set("resourceInfo",{data:me.baseMap,context:{origin:"web-map",portal:oe.portal||F.Z.getDefault(),url:ce}}),de.read(de.resourceInfo.data,de.resourceInfo.context),de.read({spatialReference:me.spatialReference},de.resourceInfo.context),de.read({title:oe.title,thumbnailUrl:oe.thumbnailUrl},{origin:"portal-item",portal:oe.portal||F.Z.getDefault(),url:ce}),de._loadLayersFromJSON(de.resourceInfo.data,ce,K)})()}static fromId(oe){const K=W.s[oe];if(K){if(K.deprecated){let de=null;"dark-gray"===oe?de="dark-gray-vector":"gray"===oe?de="gray-vector":"streets"===oe?de="streets-vector":"topo"===oe&&(de="topo-vector"),(0,N.x9)(he,`The ${oe} basemap has entered mature support and is no longer being updated.`,{replacement:de,see:"https://arcg.is/1iq8aD",warnOnce:!0})}return Q.fromJSON(K)}return null}};(0,O._)([(0,se.Cb)({json:{write:{ignoreOrigin:!0,target:"baseMapLayers",writer(oe,K,de,le){this._writeBaseLayers(oe,K,le)}},origins:{"web-scene":{write:{ignoreOrigin:!0,target:{baseMapLayers:{type:X.Z}},writer(oe,K,de,le){this._writeBaseLayers(oe,K,le)}}}}}})],fe.prototype,"baseLayers",null),(0,O._)([(0,se.Cb)({type:String,json:{origins:{"web-scene":{write:!0}}}})],fe.prototype,"id",void 0),(0,O._)([(0,se.Cb)({type:k.default})],fe.prototype,"portalItem",void 0),(0,O._)([(0,se.Cb)()],fe.prototype,"referenceLayers",null),(0,O._)([(0,se.Cb)({readOnly:!0})],fe.prototype,"resourceInfo",void 0),(0,O._)([(0,se.Cb)({type:w.Z})],fe.prototype,"spatialReference",void 0),(0,O._)([(0,se.Cb)()],fe.prototype,"thumbnailUrl",void 0),(0,O._)([(0,se.Cb)({type:String,json:{origins:{"web-scene":{write:{isRequired:!0}}}}})],fe.prototype,"title",void 0),(0,O._)([(0,I.c)("title")],fe.prototype,"writeTitle",null),fe=Q=(0,O._)([(0,j.j)("esri.Basemap")],fe);const pe=fe},91558:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>L});var T,x,M=E(20414),O=E(21286),X=E(62208),B=E(90912);function N(T){return(0,O.uZ)((0,B.vU)(T),0,255)}function ee(T,x,Z){return T=Number(T),isNaN(T)?Z:T<x?x:T>Z?Z:T}class z{constructor(x){this.r=255,this.g=255,this.b=255,this.a=1,x&&this.setColor(x)}static blendColors(x,Z,Y,$=new z){return $.r=Math.round(x.r+(Z.r-x.r)*Y),$.g=Math.round(x.g+(Z.g-x.g)*Y),$.b=Math.round(x.b+(Z.b-x.b)*Y),$.a=x.a+(Z.a-x.a)*Y,$._sanitize()}static fromRgb(x,Z){const Y=x.toLowerCase().match(/^(rgba?|hsla?)\(([\s\.\-,%0-9]+)\)/);if(Y){const $=Y[2].split(/\s*,\s*/),se=Y[1];if("rgb"===se&&3===$.length||"rgba"===se&&4===$.length){const ne=$[0];if("%"===ne.charAt(ne.length-1)){const j=$.map(I=>2.56*parseFloat(I));return 4===$.length&&(j[3]=parseFloat($[3])),z.fromArray(j,Z)}return z.fromArray($.map(j=>parseFloat(j)),Z)}if("hsl"===se&&3===$.length||"hsla"===se&&4===$.length)return z.fromArray((0,M.B7)(parseFloat($[0]),parseFloat($[1])/100,parseFloat($[2])/100,parseFloat($[3])),Z)}return null}static fromHex(x,Z=new z){if(4!==x.length&&7!==x.length||"#"!==x[0])return null;const Y=4===x.length?4:8,$=(1<<Y)-1;let se=Number("0x"+x.substr(1));return isNaN(se)?null:(["b","g","r"].forEach(ne=>{const j=se&$;se>>=Y,Z[ne]=4===Y?17*j:j}),Z.a=1,Z)}static fromArray(x,Z=new z){return Z._set(Number(x[0]),Number(x[1]),Number(x[2]),Number(x[3])),isNaN(Z.a)&&(Z.a=1),Z._sanitize()}static fromString(x,Z){const Y=(0,M.St)(x)?(0,M.h$)(x):null;return Y&&z.fromArray(Y,Z)||z.fromRgb(x,Z)||z.fromHex(x,Z)}static fromJSON(x){return x&&new z([x[0],x[1],x[2],x[3]/255])}static toUnitRGB(x){return(0,X.pC)(x)?[x.r/255,x.g/255,x.b/255]:null}static toUnitRGBA(x){return(0,X.pC)(x)?[x.r/255,x.g/255,x.b/255,null!=x.a?x.a:1]:null}get isBright(){return.299*this.r+.587*this.g+.114*this.b>=127}setColor(x){if("string"==typeof x)z.fromString(x,this);else if(Array.isArray(x))z.fromArray(x,this);else{var Z,Y,$,se;this._set(null!=(Z=x.r)?Z:0,null!=(Y=x.g)?Y:0,null!=($=x.b)?$:0,null!=(se=x.a)?se:1),x instanceof z||this._sanitize()}return this}toRgb(){return[this.r,this.g,this.b]}toRgba(){return[this.r,this.g,this.b,this.a]}toHex(){const x=this.r.toString(16),Z=this.g.toString(16),Y=this.b.toString(16);return`#${x.length<2?"0"+x:x}${Z.length<2?"0"+Z:Z}${Y.length<2?"0"+Y:Y}`}toCss(x=!1){const Z=this.r+", "+this.g+", "+this.b;return x?`rgba(${Z}, ${this.a})`:`rgb(${Z})`}toString(){return this.toCss(!0)}toJSON(){return this.toArray()}toArray(x=z.AlphaMode.ALWAYS){const Z=N(this.r),Y=N(this.g),$=N(this.b);return x===z.AlphaMode.ALWAYS||1!==this.a?[Z,Y,$,N(255*this.a)]:[Z,Y,$]}clone(){return new z(this.toRgba())}hash(){return this.r<<24|this.g<<16|this.b<<8|255*this.a}equals(x){return(0,X.pC)(x)&&x.r===this.r&&x.g===this.g&&x.b===this.b&&x.a===this.a}_sanitize(){return this.r=Math.round(ee(this.r,0,255)),this.g=Math.round(ee(this.g,0,255)),this.b=Math.round(ee(this.b,0,255)),this.a=ee(this.a,0,1),this}_set(x,Z,Y,$){this.r=x,this.g=Z,this.b=Y,this.a=$}}z.prototype.declaredClass="esri.Color",(x=(T=z||(z={})).AlphaMode||(T.AlphaMode={}))[x.ALWAYS=0]="ALWAYS",x[x.UNLESS_OPAQUE=1]="UNLESS_OPAQUE";const L=z},88879:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>w});var M=E(17626),O=E(29132),X=E(73281),B=E(65787),N=E(79608),ee=E(86810),z=E(62208),L=E(86236),T=E(77712),$=(E(85931),E(8314),E(90912),E(76898)),se=E(91179);function j(F){if(!(0,z.pC)(F))return null;const k={};for(const W in F){const re=F[W];re&&(k[W]=re.toJSON())}return 0!==Object.keys(k).length?k:null}let I=class extends((0,N.J)(ee.wq)){constructor(...F){super(...F),this.isAggregate=!1,this.layer=null,this.popupTemplate=null,this.sourceLayer=null,Object.defineProperty(this,"uid",{value:(0,L.D)(),configurable:!0})}normalizeCtorArgs(F,k,W,re){return F&&!F.declaredClass?F:{geometry:F,symbol:k,attributes:W,popupTemplate:re}}set aggregateGeometries(F){const k=this._get("aggregateGeometries");JSON.stringify(k)!==JSON.stringify(F)&&this._set("aggregateGeometries",F)}set attributes(F){const k=this._get("attributes");k!==F&&(this._set("attributes",F),this._notifyLayer("attributes",k,F))}set geometry(F){const k=this._get("geometry");k!==F&&(this._set("geometry",F),this._notifyLayer("geometry",k,F))}set symbol(F){const k=this._get("symbol");k!==F&&(this._set("symbol",F),this._notifyLayer("symbol",k,F))}set visible(F){const k=this._get("visible");k!==F&&(this._set("visible",F),this._notifyLayer("visible",k,F))}getEffectivePopupTemplate(F=!1){if(this.popupTemplate)return this.popupTemplate;for(const k of[this.sourceLayer,this.layer])if(k){if("popupTemplate"in k&&k.popupTemplate)return k.popupTemplate;if(F&&"defaultPopupTemplate"in k&&(0,z.pC)(k.defaultPopupTemplate))return k.defaultPopupTemplate}return null}getAttribute(F){return this.attributes&&this.attributes[F]}setAttribute(F,k){if(this.attributes){const W=this.getAttribute(F);this.attributes[F]=k,this._notifyLayer("attributes",W,k,F)}else this.attributes={[F]:k},this._notifyLayer("attributes",void 0,k,F)}getObjectId(){return this.sourceLayer&&"objectIdField"in this.sourceLayer&&this.sourceLayer.objectIdField?this.getAttribute(this.sourceLayer.objectIdField):null}toJSON(){return{aggregateGeometries:j(this.aggregateGeometries),geometry:(0,z.pC)(this.geometry)?this.geometry.toJSON():null,symbol:(0,z.pC)(this.symbol)?this.symbol.toJSON():null,attributes:Ct({},this.attributes),popupTemplate:this.popupTemplate&&this.popupTemplate.toJSON()}}notifyGeometryChanged(){this._notifyLayer("geometry",this.geometry,this.geometry)}notifyMeshTransformChanged(){(0,z.pC)(this.geometry)&&"mesh"===this.geometry.type&&this._notifyLayer("transform",this.geometry.transform,this.geometry.transform)}_notifyLayer(F,k,W,re){if(!this.layer||!("graphicChanged"in this.layer))return;const Q={graphic:this,property:F,oldValue:k,newValue:W};"attributes"===F&&(Q.attributeName=re),this.layer.graphicChanged(Q)}};(0,M._)([(0,T.Cb)({value:null,json:{read:function ne(F){if(!F)return null;const k={};for(const W in F){const re=(0,se.im)(F[W]);re&&(k[W]=re)}return 0!==Object.keys(k).length?k:null}}})],I.prototype,"aggregateGeometries",null),(0,M._)([(0,T.Cb)({value:null})],I.prototype,"attributes",null),(0,M._)([(0,T.Cb)({value:null,types:O.qM,json:{read:se.im}})],I.prototype,"geometry",null),(0,M._)([(0,T.Cb)({type:Boolean})],I.prototype,"isAggregate",void 0),(0,M._)([(0,T.Cb)({clonable:"reference"})],I.prototype,"layer",void 0),(0,M._)([(0,T.Cb)({type:X.Z})],I.prototype,"popupTemplate",void 0),(0,M._)([(0,T.Cb)({clonable:"reference"})],I.prototype,"sourceLayer",void 0),(0,M._)([(0,T.Cb)({value:null,types:B.LB})],I.prototype,"symbol",null),(0,M._)([(0,T.Cb)({type:Boolean,value:!0})],I.prototype,"visible",null),I=(0,M._)([(0,$.j)("esri.Graphic")],I),(I||(I={})).generateUID=L.D;const w=I},73281:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>nt});var M=E(15861),O=E(17626),X=E(48701),B=E(86810),N=E(58817),ee=E(63290),z=E(10699),L=E(77712),T=E(66656),x=E(68653),Z=E(76898),Y=E(99433),$=E(90912),se=E(36630),ne=E(55664),j=E(55013),I=E(16615),w=E(82561),F=E(75484),k=E(64531),W=E(501);const Q={base:null,key:"type",typeMap:{attachment:ne.Z,media:k.Z,text:W.Z,expression:w.Z,field:F.Z}};var oe,ue=E(38439),he=E(25621);E(85931),E(8314);let K=oe=class extends B.wq{constructor(Te){super(Te),this.returnTopmostRaster=null,this.showNoDataRecords=null}clone(){return new oe({showNoDataRecords:this.showNoDataRecords,returnTopmostRaster:this.returnTopmostRaster})}};(0,O._)([(0,L.Cb)({type:Boolean,json:{write:!0}})],K.prototype,"returnTopmostRaster",void 0),(0,O._)([(0,L.Cb)({type:Boolean,json:{write:!0}})],K.prototype,"showNoDataRecords",void 0),K=oe=(0,O._)([(0,Z.j)("esri.popup.LayerOptions")],K);const de=K;var me,le=E(51686);let ce=me=class extends B.wq{constructor(Te){super(Te),this.showRelatedRecords=null,this.orderByFields=null}clone(){return new me({showRelatedRecords:this.showRelatedRecords,orderByFields:this.orderByFields?(0,N.d9)(this.orderByFields):null})}};(0,O._)([(0,L.Cb)({type:Boolean,json:{write:!0}})],ce.prototype,"showRelatedRecords",void 0),(0,O._)([(0,L.Cb)({type:[le.Z],json:{write:!0}})],ce.prototype,"orderByFields",void 0),ce=me=(0,O._)([(0,Z.j)("esri.popup.RelatedRecordsInfo")],ce);const ge=ce;var Ie,J=E(65560),ie=E(59397),De=E(48753),_e=E(10671);const xe=X.Z.ofType({key:"type",defaultKeyValue:"button",base:ie.Z,typeMap:{button:De.Z,toggle:_e.Z}}),ke={base:j.Z,key:"type",typeMap:{media:k.Z,custom:I.Z,text:W.Z,attachments:ne.Z,fields:F.Z,expression:w.Z}},Ve="esri.PopupTemplate",ve=ee.Z.getLogger(Ve),we=["attachments","fields","media","text","expression"];let We=Ie=class extends B.wq{constructor(){super(...arguments),this.actions=null,this.content="",this.expressionInfos=null,this.fieldInfos=null,this.layerOptions=null,this.lastEditInfoEnabled=!0,this.outFields=null,this.overwriteActions=!1,this.returnGeometry=!1,this.title="",this.relatedRecordsInfo=null}castContent(Te){return Array.isArray(Te)?Te.map(Ze=>(0,$.N7)(ke,Ze)):"string"==typeof Te||"function"==typeof Te||Te instanceof HTMLElement||(0,z.y8)(Te)?Te:(ve.error("content error","unsupported content value",{value:Te}),null)}readContent(Te,Ze){const{popupElements:He}=Ze;return Array.isArray(He)&&He.length>0?this._readPopupInfoElements(Ze):this._readPopupInfo(Ze)}writeContent(Te,Ze,He,te){"string"!=typeof Te?Array.isArray(Te)&&(Ze.popupElements=Te.filter(Ee=>-1!==we.indexOf(Ee.type)).map(Ee=>Ee&&Ee.toJSON(te)),Ze.popupElements.forEach(Ee=>{"attachments"===Ee.type?this._writeAttachmentContent(Ze):"media"===Ee.type?this._writeMediaContent(Ee,Ze):"text"===Ee.type&&this._writeTextContent(Ee,Ze)})):Ze.description=Te}writeFieldInfos(Te,Ze,He,te){const{content:Ee}=this,je=Array.isArray(Ee)?Ee:null;if(Te){const Ye=je?je.filter(ot=>"fields"===ot.type):[],ht=Ye.length&&Ye.every(ot=>{var at;return null==(at=ot.fieldInfos)?void 0:at.length});Ze.fieldInfos=Te.filter(Boolean).map(ot=>{const at=ot.toJSON(te);return ht&&(at.visible=!1),at})}if(je)for(const Ye of je)"fields"===Ye.type&&this._writeFieldsContent(Ye,Ze)}writeLayerOptions(Te,Ze,He,te){Ze[He]=!Te||null===Te.showNoDataRecords&&null===Te.returnTopmostRaster?null:Te.toJSON(te)}writeTitle(Te,Ze){Ze.title=Te||""}clone(){const{actions:Te}=this,Ze=Te?(0,N.d9)(Te.toArray()):[];return new Ie({actions:Ze,content:Array.isArray(this.content)?(0,N.d9)(this.content):this.content,expressionInfos:Array.isArray(this.expressionInfos)?(0,N.d9)(this.expressionInfos):null,fieldInfos:Array.isArray(this.fieldInfos)?(0,N.d9)(this.fieldInfos):null,layerOptions:this.layerOptions?(0,N.d9)(this.layerOptions):null,lastEditInfoEnabled:this.lastEditInfoEnabled,outFields:Array.isArray(this.outFields)?(0,N.d9)(this.outFields):null,overwriteActions:this.overwriteActions,returnGeometry:this.returnGeometry,title:this.title,relatedRecordsInfo:this.relatedRecordsInfo?(0,N.d9)(this.relatedRecordsInfo):null})}collectRequiredFields(Te,Ze){var He=this;return(0,M.Z)(function*(){const te=He.expressionInfos||[];yield He._collectExpressionInfoFields(Te,Ze,[...te,...He._getContentExpressionInfos(He.content,te)]),(0,se.gd)(Te,Ze,[...He.outFields||[],...He._getActionsFields(He.actions),...He._getTitleFields(He.title),...He._getContentFields(He.content)])})()}getRequiredFields(Te){var Ze=this;return(0,M.Z)(function*(){const He=new Set;return yield Ze.collectRequiredFields(He,Te),[...He].sort()})()}_writeFieldsContent(Te,Ze){if(!Array.isArray(Te.fieldInfos)||!Te.fieldInfos.length)return;const He=(0,N.d9)(Te.fieldInfos);Array.isArray(Ze.fieldInfos)?He.forEach(te=>{const Ee=Ze.fieldInfos.find(je=>je.fieldName.toLowerCase()===te.fieldName.toLowerCase());Ee?Ee.visible=!0:Ze.fieldInfos.push(te)}):Ze.fieldInfos=He}_writeAttachmentContent(Te){Te.showAttachments||(Te.showAttachments=!0)}_writeTextContent(Te,Ze){!Ze.description&&Te.text&&(Ze.description=Te.text)}_writeMediaContent(Te,Ze){if(!Array.isArray(Te.mediaInfos)||!Te.mediaInfos.length)return;const He=(0,N.d9)(Te.mediaInfos);Ze.mediaInfos=Array.isArray(Ze.mediaInfos)?[...Ze.mediaInfos,...He]:He}_readPopupInfoElements({description:Te,mediaInfos:Ze,popupElements:He}){const te={description:!1,mediaInfos:!1};return He.map(Ee=>"media"===Ee.type?(Ee.mediaInfos||!Ze||te.mediaInfos||(Ee.mediaInfos=Ze,te.mediaInfos=!0),k.Z.fromJSON(Ee)):"text"===Ee.type?(Ee.text||!Te||te.description||(Ee.text=Te,te.description=!0),W.Z.fromJSON(Ee)):"attachments"===Ee.type?ne.Z.fromJSON(Ee):"fields"===Ee.type?F.Z.fromJSON(Ee):"expression"===Ee.type?w.Z.fromJSON(Ee):void 0).filter(Boolean)}_readPopupInfo({description:Te,mediaInfos:Ze,showAttachments:He}){const te=[];return te.push(Te?new W.Z({text:Te}):new F.Z),Array.isArray(Ze)&&Ze.length&&te.push(k.Z.fromJSON({mediaInfos:Ze})),He&&te.push(ne.Z.fromJSON({displayType:"auto"})),te.length?te:Te}_getContentElementFields(Te){const Ze=null==Te?void 0:Te.type;if("attachments"===Ze)return[...this._extractFieldNames(Te.title),...this._extractFieldNames(Te.description)];if("custom"===Ze)return Te.outFields||[];if("fields"===Ze)return[...this._extractFieldNames(Te.title),...this._extractFieldNames(Te.description),...this._getFieldInfoFields(Te.fieldInfos||this.fieldInfos)];if("media"===Ze){const He=Te.mediaInfos||[];return[...this._extractFieldNames(Te.title),...this._extractFieldNames(Te.description),...He.reduce((te,Ee)=>[...te,...this._getMediaInfoFields(Ee)],[])]}return"text"===Ze?this._extractFieldNames(Te.text):[]}_getMediaInfoFields(Te){const{caption:Ze,title:He,value:te}=Te,Ee=te||{},{fields:je=[],normalizeField:Ye,tooltipField:ht,sourceURL:ot,linkURL:at}=Ee,lt=[...this._extractFieldNames(He),...this._extractFieldNames(Ze),...this._extractFieldNames(ot),...this._extractFieldNames(at),...je];return Ye&&lt.push(Ye),ht&&lt.push(ht),lt}_getContentExpressionInfos(Te,Ze){return Array.isArray(Te)?Te.reduce((He,te)=>[...He,..."expression"===te.type&&te.expressionInfo?[te.expressionInfo]:[]],Ze):[]}_getContentFields(Te){return"string"==typeof Te?this._extractFieldNames(Te):Array.isArray(Te)?Te.reduce((Ze,He)=>[...Ze,...this._getContentElementFields(He)],[]):[]}_collectExpressionInfoFields(Te,Ze,He){return(0,M.Z)(function*(){He&&(yield Promise.all(He.map(te=>(0,se.io)(Te,Ze,te.expression))))})()}_getFieldInfoFields(Te){return Te?Te.filter(Ze=>void 0===Ze.visible||!!Ze.visible).map(Ze=>Ze.fieldName).filter(Ze=>-1===Ze.indexOf("relationships/")&&-1===Ze.indexOf("expression/")):[]}_getActionsFields(Te){return Te?Te.toArray().reduce((Ze,He)=>[...Ze,...this._getActionFields(He)],[]):[]}_getActionFields(Te){const{className:Ze,title:He,type:te}=Te,Ee="button"===te||"toggle"===te?Te.image:"";return[...this._extractFieldNames(He),...this._extractFieldNames(Ze),...this._extractFieldNames(Ee)]}_getTitleFields(Te){return"string"==typeof Te?this._extractFieldNames(Te):[]}_extractFieldNames(Te){if(!Te||"string"!=typeof Te)return[];const He=Te.match(/{[^}]*}/g);if(!He)return[];const te=/\{(\w+):.+\}/,Ee=He.filter(je=>!(0===je.indexOf("{relationships/")||0===je.indexOf("{expression/"))).map(je=>je.replace(te,"{$1}"));return Ee?Ee.map(je=>je.slice(1,-1)):[]}};(0,O._)([(0,L.Cb)({type:xe})],We.prototype,"actions",void 0),(0,O._)([(0,L.Cb)()],We.prototype,"content",void 0),(0,O._)([(0,T.p)("content")],We.prototype,"castContent",null),(0,O._)([(0,x.r)("content",["description","fieldInfos","popupElements","mediaInfos","showAttachments"])],We.prototype,"readContent",null),(0,O._)([(0,Y.c)("content",{popupElements:{type:X.Z.ofType(Q)},showAttachments:{type:Boolean},mediaInfos:{type:X.Z.ofType(J.V)},description:{type:String}})],We.prototype,"writeContent",null),(0,O._)([(0,L.Cb)({type:[ue.Z],json:{write:!0}})],We.prototype,"expressionInfos",void 0),(0,O._)([(0,L.Cb)({type:[he.Z]})],We.prototype,"fieldInfos",void 0),(0,O._)([(0,Y.c)("fieldInfos")],We.prototype,"writeFieldInfos",null),(0,O._)([(0,L.Cb)({type:de})],We.prototype,"layerOptions",void 0),(0,O._)([(0,Y.c)("layerOptions")],We.prototype,"writeLayerOptions",null),(0,O._)([(0,L.Cb)({type:Boolean,json:{read:{source:"showLastEditInfo"},write:{target:"showLastEditInfo"},default:!0}})],We.prototype,"lastEditInfoEnabled",void 0),(0,O._)([(0,L.Cb)()],We.prototype,"outFields",void 0),(0,O._)([(0,L.Cb)()],We.prototype,"overwriteActions",void 0),(0,O._)([(0,L.Cb)()],We.prototype,"returnGeometry",void 0),(0,O._)([(0,L.Cb)({json:{type:String}})],We.prototype,"title",void 0),(0,O._)([(0,Y.c)("title")],We.prototype,"writeTitle",null),(0,O._)([(0,L.Cb)({type:ge,json:{write:!0}})],We.prototype,"relatedRecordsInfo",void 0),We=Ie=(0,O._)([(0,Z.j)(Ve)],We);const nt=We},97478:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>j});var Y,M=E(17626),O=E(86810),X=E(62208),B=E(28170),N=E(77712),T=(E(85931),E(8314),E(90912),E(68653)),x=E(76898),Z=E(99433);let $=Y=class extends O.wq{constructor(I){super(I),this.end=null,this.start=null}static get allTime(){return se}static get empty(){return ne}readEnd(I,w){return null!=w.end?new Date(w.end):null}writeEnd(I,w){w.end=I?I.getTime():null}get isAllTime(){return this.equals(Y.allTime)}get isEmpty(){return this.equals(Y.empty)}readStart(I,w){return null!=w.start?new Date(w.start):null}writeStart(I,w){w.start=I?I.getTime():null}clone(){return new Y({end:this.end,start:this.start})}equals(I){if(!I)return!1;const w=(0,X.pC)(this.start)?this.start.getTime():this.start,F=(0,X.pC)(this.end)?this.end.getTime():this.end,k=(0,X.pC)(I.start)?I.start.getTime():I.start,W=(0,X.pC)(I.end)?I.end.getTime():I.end;return w===k&&F===W}expandTo(I){if(this.isEmpty||this.isAllTime)return this.clone();const w=(0,X.yw)(this.start,k=>(0,B.JE)(k,I)),F=(0,X.yw)(this.end,k=>(0,B.Nm)((0,B.JE)(k,I),1,I));return new Y({start:w,end:F})}intersection(I){if(!I)return this.clone();if(this.isEmpty||I.isEmpty)return Y.empty;if(this.isAllTime)return I.clone();if(I.isAllTime)return this.clone();const w=(0,X.R2)(this.start,-1/0,ue=>ue.getTime()),F=(0,X.R2)(this.end,1/0,ue=>ue.getTime()),k=(0,X.R2)(I.start,-1/0,ue=>ue.getTime()),W=(0,X.R2)(I.end,1/0,ue=>ue.getTime());let re,Q;if(k>=w&&k<=F?re=k:w>=k&&w<=W&&(re=w),F>=k&&F<=W?Q=F:W>=w&&W<=F&&(Q=W),!isNaN(re)&&!isNaN(Q)){const ue=new Y;return ue.start=re===-1/0?null:new Date(re),ue.end=Q===1/0?null:new Date(Q),ue}return Y.empty}offset(I,w){if(this.isEmpty||this.isAllTime)return this.clone();const F=new Y,{start:k,end:W}=this;return(0,X.pC)(k)&&(F.start=(0,B.Nm)(k,I,w)),(0,X.pC)(W)&&(F.end=(0,B.Nm)(W,I,w)),F}union(I){if(!I||I.isEmpty)return this.clone();if(this.isEmpty)return I.clone();if(this.isAllTime||I.isAllTime)return se.clone();const w=(0,X.pC)(this.start)&&(0,X.pC)(I.start)?new Date(Math.min(this.start.getTime(),I.start.getTime())):null,F=(0,X.pC)(this.end)&&(0,X.pC)(I.end)?new Date(Math.max(this.end.getTime(),I.end.getTime())):null;return new Y({start:w,end:F})}};(0,M._)([(0,N.Cb)({type:Date,json:{write:{allowNull:!0}}})],$.prototype,"end",void 0),(0,M._)([(0,T.r)("end")],$.prototype,"readEnd",null),(0,M._)([(0,Z.c)("end")],$.prototype,"writeEnd",null),(0,M._)([(0,N.Cb)({readOnly:!0,json:{read:!1}})],$.prototype,"isAllTime",null),(0,M._)([(0,N.Cb)({readOnly:!0,json:{read:!1}})],$.prototype,"isEmpty",null),(0,M._)([(0,N.Cb)({type:Date,json:{write:{allowNull:!0}}})],$.prototype,"start",void 0),(0,M._)([(0,T.r)("start")],$.prototype,"readStart",null),(0,M._)([(0,Z.c)("start")],$.prototype,"writeStart",null),$=Y=(0,M._)([(0,x.j)("esri.TimeExtent")],$);const se=new $,ne=new $({start:void 0,end:void 0}),j=$},20849:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>Y});var x,M=E(17626),O=E(86810),X=E(28170),B=E(77712),L=(E(85931),E(8314),E(90912),E(76898)),T=E(58926);let Z=x=class extends O.wq{constructor($){super($),this.value=0,this.unit="milliseconds"}toMilliseconds(){return(0,X.rJ)(this.value,this.unit,"milliseconds")}clone(){return new x({value:this.value,unit:this.unit})}};(0,M._)([(0,B.Cb)({type:Number,json:{write:!0},nonNullable:!0})],Z.prototype,"value",void 0),(0,M._)([(0,B.Cb)({type:T.v.apiValues,json:{type:T.v.jsonValues,read:T.v.read,write:T.v.write},nonNullable:!0})],Z.prototype,"unit",void 0),Z=x=(0,M._)([(0,L.j)("esri.TimeInterval")],Z);const Y=Z},76687:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>Ze});var M=E(17626),O=E(79608),X=E(86810),B=E(21286),N=E(77712),L=(E(85931),E(8314),E(66656)),T=E(68653),x=E(76898),Z=E(99433),Y=E(90912),$=E(49672),ne=(E(84161),E(28093));class K{constructor(te,Ee){this.min=te,this.max=Ee,this.range=Ee-te}ndiff(te,Ee=0){return Math.ceil((te-Ee)/this.range)*this.range+Ee}_normalize(te,Ee,je,Ye=0,ht=!1){return(je-=Ye)<te?je+=this.ndiff(te-je):je>Ee&&(je-=this.ndiff(je-Ee)),ht&&je===Ee&&(je=te),je+Ye}normalize(te,Ee=0,je=!1){return this._normalize(this.min,this.max,te,Ee,je)}clamp(te,Ee=0){return(0,B.uZ)(te-Ee,this.min,this.max)+Ee}monotonic(te,Ee,je){return te<Ee?Ee:Ee+this.ndiff(te-Ee,je)}minimalMonotonic(te,Ee,je){return this._normalize(te,te+this.range,Ee,je)}center(te,Ee,je){return Ee=this.monotonic(te,Ee,je),this.normalize((te+Ee)/2,je)}diff(te,Ee,je){return this.monotonic(te,Ee,je)-te}shortestSignedDiff(te,Ee){te=this.normalize(te);const je=(Ee=this.normalize(Ee))-te,Ye=Ee<te?this.minimalMonotonic(te,Ee)-te:Ee-this.minimalMonotonic(Ee,te);return Math.abs(je)<Math.abs(Ye)?je:Ye}contains(te,Ee,je){return Ee=this.minimalMonotonic(te,Ee),(je=this.minimalMonotonic(te,je))>te&&je<Ee}}function ce(He){for(const te in He){const Ee=He[te];Ee instanceof Function&&(He[te]=Ee.bind(He))}return He}(0,ne.c)(),(0,ne.c)(),ce(new K(0,2*Math.PI)),ce(new K(-Math.PI,Math.PI));const ie=ce(new K(0,360));(0,ne.c)(),(0,ne.c)(),(0,ne.c)();let xe=class extends((0,O.J)(X.wq)){constructor(...He){super(...He),this.position=new $.Z([0,0,0]),this.heading=0,this.tilt=0,this.fov=55}normalizeCtorArgs(He,te,Ee,je){if(He&&"object"==typeof He&&("x"in He||Array.isArray(He))){const Ye={position:He};return null!=te&&(Ye.heading=te),null!=Ee&&(Ye.tilt=Ee),null!=je&&(Ye.fov=je),Ye}return He}writePosition(He,te,Ee,je){const Ye=He.clone();Ye.x=(0,Y.q9)(He.x||0),Ye.y=(0,Y.q9)(He.y||0),Ye.z=He.hasZ?(0,Y.q9)(He.z||0):He.z,te[Ee]=Ye.write({},je)}readPosition(He,te){const Ee=new $.Z;return Ee.read(He,te),Ee.x=(0,Y.q9)(Ee.x||0),Ee.y=(0,Y.q9)(Ee.y||0),Ee.z=Ee.hasZ?(0,Y.q9)(Ee.z||0):Ee.z,Ee}equals(He){return!!He&&this.tilt===He.tilt&&this.heading===He.heading&&this.fov===He.fov&&this.position.equals(He.position)}};(0,M._)([(0,N.Cb)({type:$.Z,json:{write:{isRequired:!0}}})],xe.prototype,"position",void 0),(0,M._)([(0,Z.c)("position")],xe.prototype,"writePosition",null),(0,M._)([(0,T.r)("position")],xe.prototype,"readPosition",null),(0,M._)([(0,N.Cb)({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),(0,L.p)(He=>ie.normalize((0,Y.q9)(He)))],xe.prototype,"heading",void 0),(0,M._)([(0,N.Cb)({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),(0,L.p)(He=>(0,B.uZ)((0,Y.q9)(He),-180,180))],xe.prototype,"tilt",void 0),(0,M._)([(0,N.Cb)({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],xe.prototype,"fov",void 0),xe=(0,M._)([(0,x.j)("esri.Camera")],xe);const ke=xe;var We,Ve=E(29132),ve=E(62208),we=E(91179);let nt=We=class extends X.wq{constructor(He){super(He),this.rotation=0,this.scale=0,this.targetGeometry=null,this.camera=null}castRotation(He){return(He%=360)<0&&(He+=360),He}clone(){return new We({rotation:this.rotation,scale:this.scale,targetGeometry:(0,ve.pC)(this.targetGeometry)?this.targetGeometry.clone():null,camera:(0,ve.pC)(this.camera)?this.camera.clone():null})}};function Te(){return{enabled:!this.camera}}(0,M._)([(0,N.Cb)({type:Number,json:{write:!0,origins:{"web-map":{default:0,write:!0},"web-scene":{write:{overridePolicy:Te}}}}})],nt.prototype,"rotation",void 0),(0,M._)([(0,L.p)("rotation")],nt.prototype,"castRotation",null),(0,M._)([(0,N.Cb)({type:Number,json:{write:!0,origins:{"web-map":{default:0,write:!0},"web-scene":{write:{overridePolicy:Te}}}}})],nt.prototype,"scale",void 0),(0,M._)([(0,N.Cb)({types:Ve.qM,json:{read:we.im,write:!0,origins:{"web-scene":{read:we.im,write:{overridePolicy:Te}}}}})],nt.prototype,"targetGeometry",void 0),(0,M._)([(0,N.Cb)({type:ke,json:{write:!0}})],nt.prototype,"camera",void 0),nt=We=(0,M._)([(0,x.j)("esri.Viewpoint")],nt);const Ze=nt},7652:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>M});class M{constructor(X,B){this.definition=null,this.context=null,this.definition=X,this.context=B}}},98362:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>M});class M{constructor(X=[]){this._elements=X}length(){return this._elements.length}get(X){return this._elements[X]}toArray(){const X=[];for(let B=0;B<this.length();B++)X.push(this.get(B));return X}}},5371:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>X});var M=E(98362),O=E(26685);class X extends M.Z{constructor(N,ee,z,L,T){super(N),this._lazyPath=[],this._hasZ=!1,this._hasM=!1,this._hasZ=z,this._hasM=L,this._spRef=ee,this._cacheId=T}get(N){if(void 0===this._lazyPath[N]){const ee=this._elements[N];if(void 0===ee)return;this._lazyPath[N]=new O.Z(ee,this._spRef,this._hasZ,this._hasM,this._cacheId,N)}return this._lazyPath[N]}equalityTest(N){return N===this||null!==N&&N instanceof X&&N.getUniqueHash()===this.getUniqueHash()}getUniqueHash(){return this._cacheId.toString()}}},26685:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>X});var M=E(98362),O=E(49672);class X extends M.Z{constructor(N,ee,z,L,T,x){super(N),this._lazyPt=[],this._hasZ=!1,this._hasM=!1,this._spRef=ee,this._hasZ=z,this._hasM=L,this._cacheId=T,this._partId=x}get(N){if(void 0===this._lazyPt[N]){const ee=this._elements[N];if(void 0===ee)return;const z=this._hasZ,L=this._hasM;let T=null;T=z&&!L?new O.Z(ee[0],ee[1],ee[2],void 0,this._spRef):L&&!z?new O.Z(ee[0],ee[1],void 0,ee[2],this._spRef):z&&L?new O.Z(ee[0],ee[1],ee[2],ee[3],this._spRef):new O.Z(ee[0],ee[1],this._spRef),T.cache._arcadeCacheId=this._cacheId.toString()+"-"+this._partId.toString()+"-"+N.toString(),this._lazyPt[N]=T}return this._lazyPt[N]}equalityTest(N){return N===this||null!==N&&N instanceof X&&N.getUniqueHash()===this.getUniqueHash()}getUniqueHash(){return this._cacheId.toString()+"-"+this._partId.toString()}}},77132:(Qe,Me,E)=>{"use strict";E.d(Me,{Bj:()=>B,Dt:()=>fe,EI:()=>ne,HD:()=>L,JW:()=>ee,Lz:()=>I,Qk:()=>re,SV:()=>j,Sh:()=>z,US:()=>pe,dj:()=>N,hd:()=>oe,hj:()=>x,q2:()=>Q,tI:()=>F,tt:()=>$,yE:()=>ue});var B,N,K,M=E(10699),O=E(2004),X=E(36255);function ee(K){return X.Z.fromJSON(K.toJSON())}function z(K){return K.toJSON?K.toJSON():K}function L(K){return"string"==typeof K||K instanceof String}function x(K){return"number"==typeof K}function Y(K){return K instanceof Date}function $(K,de){return K===de||!(!Y(K)||!Y(de))&&K.getTime()===de.getTime()}function ne(K){if(void 0===K)return null;if("number"==typeof K)return K;switch(K.toLowerCase()){case"meters":case"meter":return 109404;case"miles":case"mile":return 109413;case"kilometers":case"kilometer":case"km":return 109414}return null}function j(K){if(null===K)return null;switch(K.type){case"polygon":case"multipoint":case"polyline":return K.extent;case"point":return new O.Z({xmin:K.x,ymin:K.y,xmax:K.x,ymax:K.y,spatialReference:K.spatialReference});case"extent":return K}return null}function I(K){if(void 0===K)return null;if("number"==typeof K||"number"==typeof K)return K;switch(K.toLowerCase()){case"meters":case"meter":return 9001;case"miles":case"mile":return 9035;case"kilometers":case"kilometer":case"km":return 9036}return null}(K=B||(B={}))[K.Standardised=0]="Standardised",K[K.StandardisedNoInterval=1]="StandardisedNoInterval",K[K.SqlServer=2]="SqlServer",K[K.Oracle=3]="Oracle",K[K.Postgres=4]="Postgres",K[K.PGDB=5]="PGDB",K[K.FILEGDB=6]="FILEGDB",K[K.NotEvaluated=7]="NotEvaluated",function(K){K[K.InFeatureSet=0]="InFeatureSet",K[K.NotInFeatureSet=1]="NotInFeatureSet",K[K.Unknown=2]="Unknown"}(N||(N={}));const F=1e3,re={point:"point",polygon:"polygon",polyline:"polyline",multipoint:"multipoint",extent:"extent",esriGeometryPoint:"point",esriGeometryPolygon:"polygon",esriGeometryPolyline:"polyline",esriGeometryMultipoint:"multipoint",esriGeometryEnvelope:"extent",envelope:"extent"},Q={point:"esriGeometryPoint",polygon:"esriGeometryPolygon",polyline:"esriGeometryPolyline",multipoint:"esriGeometryMultipoint",extent:"esriGeometryEnvelope",esriGeometryPoint:"esriGeometryPoint",esriGeometryPolygon:"esriGeometryPolygon",esriGeometryPolyline:"esriGeometryPolyline",esriGeometryMultipoint:"esriGeometryMultipoint",esriGeometryEnvelope:"esriGeometryEnvelope",envelope:"esriGeometryEnvelope"},ue={"small-integer":"esriFieldTypeSmallInteger",integer:"esriFieldTypeInteger",long:"esriFieldTypeLong",single:"esriFieldTypeSingle",double:"esriFieldTypeDouble",string:"esriFieldTypeString",date:"esriFieldTypeDate",oid:"esriFieldTypeOID",geometry:"esriFieldTypeGeometry",blob:"esriFieldTypeBlob",raster:"esriFieldTypeRaster",guid:"esriFieldTypeGUID","global-id":"esriFieldTypeGlobalID",xml:"eesriFieldTypeXML",esriFieldTypeSmallInteger:"esriFieldTypeSmallInteger",esriFieldTypeInteger:"esriFieldTypeInteger",esriFieldTypeLong:"esriFieldTypeLong",esriFieldTypeSingle:"esriFieldTypeSingle",esriFieldTypeDouble:"esriFieldTypeDouble",esriFieldTypeString:"esriFieldTypeString",esriFieldTypeDate:"esriFieldTypeDate",esriFieldTypeOID:"esriFieldTypeOID",esriFieldTypeGeometry:"esriFieldTypeGeometry",esriFieldTypeBlob:"esriFieldTypeBlob",esriFieldTypeRaster:"esriFieldTypeRaster",esriFieldTypeGUID:"esriFieldTypeGUID",esriFieldTypeGlobalID:"esriFieldTypeGlobalID",esriFieldTypeXML:"eesriFieldTypeXML"};function fe(K,de){return(0,M.Ue)((le,me)=>{const ce=(0,M.DB)(!0);K.reduce((ge,J,ie,De)=>ge.then(_e=>{try{return de(_e,J,ie,De)}catch(Ie){return(0,M.d1)(Ie)}},_e=>(0,M.d1)(_e)),ce).then(le,me)})}function pe(K){return void 0===K?"":K=(K=(K=K.replace(/\/featureserver\/[0-9]*/i,"/FeatureServer")).replace(/\/mapserver\/[0-9]*/i,"/MapServer")).split("?")[0]}function oe(K,de){de||(de={}),"function"==typeof de&&(de={cmp:de});const le="boolean"==typeof de.cycles&&de.cycles,me=de.cmp&&(ce=de.cmp,function(J){return function(ie,De){return ce({key:ie,value:J[ie]},{key:De,value:J[De]})}});var ce;const ge=[];return function J(ie){if(ie&&ie.toJSON&&"function"==typeof ie.toJSON&&(ie=ie.toJSON()),void 0===ie)return;if("number"==typeof ie)return isFinite(ie)?""+ie:"null";if("object"!=typeof ie)return JSON.stringify(ie);let De,_e;if(Array.isArray(ie)){for(_e="[",De=0;De<ie.length;De++)De&&(_e+=","),_e+=J(ie[De])||"null";return _e+"]"}if(null===ie)return"null";if(-1!==ge.indexOf(ie)){if(le)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}const Ie=ge.push(ie)-1,xe=Object.keys(ie).sort(me&&me(ie));for(_e="",De=0;De<xe.length;De++){const ke=xe[De],Ve=J(ie[ke]);Ve&&(_e&&(_e+=","),_e+=JSON.stringify(ke)+":"+Ve)}return ge.splice(Ie,1),"{"+_e+"}"}(K)}},54346:(Qe,Me,E)=>{"use strict";E.d(Me,{V:()=>L});var M=E(59318),X=(E(84792),E(26584)),B=E(63290),N=E(21726);const ee=B.Z.getLogger("esri.assets");function L(T){if(!M.Z.assetsPath)throw ee.errorOnce("The API assets location needs to be set using config.assetsPath. More information: https://arcg.is/1OzLe50"),new X.Z("assets:path-not-set","config.assetsPath is not set");return(0,N.v_)(M.Z.assetsPath,T)}},71530:(Qe,Me,E)=>{"use strict";E.d(Me,{a:()=>Z});var T,M=E(17626),O=E(91558),X=E(86810),B=E(58817),N=E(77712),z=(E(90912),E(76898)),L=E(60958);let x=T=class extends X.wq{constructor(){super(...arguments),this.color=new O.Z("white")}clone(){return new T({color:(0,B.d9)(this.color)})}};(0,M._)([(0,N.Cb)(L.a)],x.prototype,"color",void 0),x=T=(0,M._)([(0,z.j)("esri.symbols.callouts.LineCallout3DBorder")],x);const Z=x;Object.freeze({__proto__:null,get LineCallout3DBorder(){return x},default:Z})},1719:(Qe,Me,E)=>{"use strict";E.d(Me,{a:()=>X,c:()=>M,g:()=>O});var M="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function O(B){return B&&B.__esModule&&Object.prototype.hasOwnProperty.call(B,"default")?B.default:B}function X(B){throw new Error('Could not dynamically require "'+B+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}},39863:(Qe,Me,E)=>{"use strict";E.d(Me,{E:()=>M,R:()=>O,t:()=>N});const M=1e-6,O=Math.random,X=Math.PI/180,B=180/Math.PI;function N(T){return T*X}Object.freeze({__proto__:null,EPSILON:M,RANDOM:O,toRadian:N,toDegree:function ee(T){return T*B},equals:function z(T,x){return Math.abs(T-x)<=M*Math.max(1,Math.abs(T),Math.abs(x))}})},47562:(Qe,Me,E)=>{"use strict";E.d(Me,{$:()=>kt,A:()=>lt,B:()=>ie,C:()=>me,D:()=>Ze,E:()=>tt,F:()=>we,G:()=>Et,H:()=>xn,I:()=>Q,J:()=>In,K:()=>An,L:()=>Dn,M:()=>K,N:()=>re,O:()=>We,P:()=>ze,Q:()=>an,R:()=>ue,S:()=>he,T:()=>Jt,U:()=>Ot,V:()=>yt,W:()=>Ye,X:()=>jt,Y:()=>st,Z:()=>zt,_:()=>St,a:()=>De,b:()=>ke,c:()=>de,d:()=>je,e:()=>Ee,f:()=>ce,g:()=>te,h:()=>Wt,i:()=>ge,j:()=>J,k:()=>_e,l:()=>mt,m:()=>pe,n:()=>oe,o:()=>Ve,p:()=>ve,q:()=>Ie,r:()=>xe,s:()=>ut,t:()=>at,u:()=>ht,v:()=>fe,w:()=>Ht,x:()=>Yt,y:()=>le,z:()=>Ke});var M=E(7652),O=E(98362),X=E(5371),B=E(26685),N=E(10699),ee=E(2004),z=E(21674),L=E(72854),T=E(49672),x=E(37118),Z=E(55214),Y=E(27122),$=E(62208),se=E(75327),ne=E(25748),j=E(56683),I=E(77132);class w{constructor(et){this.value=et}}class F{constructor(et){this.value=et}}class k{constructor(et){this.fn=et}}class W{constructor(et,Tt){this.paramCount=Tt,this.fn=et}}const re=k,Q=F,ue=w,he=W,fe={type:"VOID"},pe={type:"BREAK"},oe={type:"CONTINUE"};function K(Ae,et,Tt){return""===et||null==et||et===Tt||et===Tt?Ae:Ae=Ae.split(et).join(Tt)}function de(Ae){return Ae instanceof k||Ae instanceof M.Z||Ae instanceof W}function le(Ae){return!!(ce(Ae)||J(Ae)||Ve(Ae)||ge(Ae)||null===Ae||Ae===fe||"number"==typeof Ae)}function me(Ae,et){return void 0===Ae?et:Ae}function ce(Ae){return"string"==typeof Ae||Ae instanceof String}function ge(Ae){return"boolean"==typeof Ae}function J(Ae){return"number"==typeof Ae}function ie(Ae){return"number"==typeof Ae&&isFinite(Ae)&&Math.floor(Ae)===Ae}function De(Ae){return Ae instanceof Array}function _e(Ae){return"esri.arcade.Feature"===(null==Ae?void 0:Ae.arcadeDeclaredClass)}function Ie(Ae){return!0===(Ae&&Ae.declaredRootClass&&"esri.arcade.featureset.support.FeatureSet"===Ae.declaredRootClass)}function xe(Ae){return!0===(Ae&&Ae.declaredRootClass&&"esri.arcade.featureSetCollection"===Ae.declaredRootClass)}function ke(Ae){return Ae instanceof O.Z}function Ve(Ae){return Ae instanceof Date}function ve(Ae,et,Tt){if(Ae.length<et||Ae.length>Tt)throw new Error("Function called with wrong number of Parameters")}function we(Ae){return Ae<0?-Math.round(-Ae):Math.round(Ae)}function We(){let Ae=Date.now();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(et){const Tt=(Ae+16*Math.random())%16|0;return Ae=Math.floor(Ae/16),("x"===et?Tt:3&Tt|8).toString(16)})}function nt(Ae,et){return!1===isNaN(Ae)?null==et||""===et?Ae.toString():(et=K(et,"\u2030",""),et=K(et,"\xa4",""),(0,se.WU)(Ae,{pattern:et})):Ae.toString()}function Te(Ae,et){const Tt=Y.ou.fromJSDate(Ae);return null==et||""===et?Tt.toISO({suppressMilliseconds:!0}):Tt.toFormat(Ze(et),{locale:(0,j.Kd)(),numberingSystem:"latn"})}function Ze(Ae){Ae=Ae.replace(/LTS|LT|LL?L?L?|l{1,4}/g,"[$&]");let et="";const Tt=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g;for(const Qt of Ae.match(Tt))switch(Qt){case"D":et+="d";break;case"DD":et+="dd";break;case"DDD":et+="o";break;case"d":et+="c";break;case"ddd":et+="ccc";break;case"dddd":et+="cccc";break;case"M":et+="L";break;case"MM":et+="LL";break;case"MMM":et+="LLL";break;case"MMMM":et+="LLLL";break;case"YY":et+="yy";break;case"Y":case"YYYY":et+="yyyy";break;case"Q":et+="q";break;case"Z":et+="ZZ";break;case"ZZ":et+="ZZZ";break;case"S":et+="'S'";break;case"SS":et+="'SS'";break;case"SSS":et+="u";break;case"A":case"a":et+="a";break;case"m":case"mm":case"h":case"hh":case"H":case"HH":case"s":case"ss":case"X":case"x":et+=Qt;break;default:Qt.length>=2&&"["===Qt.slice(0,1)&&"]"===Qt.slice(-1)?et+=`'${Qt.slice(1,-1)}'`:et+=`'${Qt}'`}return et}function He(Ae,et,Tt){switch(Tt){case">":return Ae>et;case"<":return Ae<et;case">=":return Ae>=et;case"<=":return Ae<=et}return!1}function te(Ae,et,Tt){if(null===Ae){if(null===et||et===fe)return He(null,null,Tt);if(J(et))return He(0,et,Tt);if(ce(et)||ge(et))return He(0,at(et),Tt);if(Ve(et))return He(0,et.getTime(),Tt)}if(Ae===fe){if(null===et||et===fe)return He(null,null,Tt);if(J(et))return He(0,et,Tt);if(ce(et)||ge(et))return He(0,at(et),Tt);if(Ve(et))return He(0,et.getTime(),Tt)}else if(J(Ae)){if(J(et))return He(Ae,et,Tt);if(ge(et))return He(Ae,at(et),Tt);if(null===et||et===fe)return He(Ae,0,Tt);if(ce(et))return He(Ae,at(et),Tt);if(Ve(et))return He(Ae,et.getTime(),Tt)}else if(ce(Ae)){if(ce(et))return He(je(Ae),je(et),Tt);if(Ve(et))return He(at(Ae),et.getTime(),Tt);if(J(et))return He(at(Ae),et,Tt);if(null===et||et===fe)return He(at(Ae),0,Tt);if(ge(et))return He(at(Ae),at(et),Tt)}else if(Ve(Ae)){if(Ve(et))return He(Ae,et,Tt);if(null===et||et===fe)return He(Ae.getTime(),0,Tt);if(J(et))return He(Ae.getTime(),et,Tt);if(ge(et)||ce(et))return He(Ae.getTime(),at(et),Tt)}else if(ge(Ae)){if(ge(et))return He(Ae,et,Tt);if(J(et))return He(at(Ae),at(et),Tt);if(Ve(et))return He(at(Ae),et.getTime(),Tt);if(null===et||et===fe)return He(at(Ae),0,Tt);if(ce(et))return He(at(Ae),at(et),Tt)}return!!Ee(Ae,et)&&("<="===Tt||">="===Tt)}function Ee(Ae,et){if(Ae===et||null===Ae&&et===fe||null===et&&Ae===fe)return!0;if(Ve(Ae)&&Ve(et))return Ae.getTime()===et.getTime();if(Ae instanceof X.Z||Ae instanceof B.Z)return Ae.equalityTest(et);if(Ae instanceof T.Z&&et instanceof T.Z){const Tt=Ae.cache._arcadeCacheId,Qt=et.cache._arcadeCacheId;if(null!=Tt)return Tt===Qt}return void 0!==Ae&&void 0!==et&&null!==Ae&&null!==et&&"object"==typeof Ae&&"object"==typeof et&&(Ae._arcadeCacheId===et._arcadeCacheId&&null!=Ae._arcadeCacheId||Ae._underlyingGraphic===et._underlyingGraphic&&null!=Ae._underlyingGraphic)}function je(Ae,et){if(ce(Ae))return Ae;if(null===Ae)return"";if(J(Ae))return nt(Ae,et);if(ge(Ae))return Ae.toString();if(Ve(Ae))return Te(Ae,et);if(Ae instanceof z.Z)return JSON.stringify(Ae.toJSON());if(De(Ae)){const Tt=[];for(let Qt=0;Qt<Ae.length;Qt++)Tt[Qt]=ot(Ae[Qt]);return"["+Tt.join(",")+"]"}if(Ae instanceof O.Z){const Tt=[];for(let Qt=0;Qt<Ae.length();Qt++)Tt[Qt]=ot(Ae.get(Qt));return"["+Tt.join(",")+"]"}return null!==Ae&&"object"==typeof Ae&&void 0!==Ae.castToText?Ae.castToText():de(Ae)?"object, Function":""}function Ye(Ae){const et=[];if(!1===De(Ae))return null;if(Ae instanceof O.Z){for(let Tt=0;Tt<Ae.length();Tt++)et[Tt]=at(Ae.get(Tt));return et}for(let Tt=0;Tt<Ae.length;Tt++)et[Tt]=at(Ae[Tt]);return et}function ht(Ae,et){if(ce(Ae))return Ae;if(null===Ae)return"";if(J(Ae))return nt(Ae,et);if(ge(Ae))return Ae.toString();if(Ve(Ae))return Te(Ae,et);if(Ae instanceof z.Z)return Ae instanceof ee.Z?'{"xmin":'+Ae.xmin.toString()+',"ymin":'+Ae.ymin.toString()+","+(Ae.hasZ?'"zmin":'+Ae.zmin.toString()+",":"")+(Ae.hasM?'"mmin":'+Ae.mmin.toString()+",":"")+'"xmax":'+Ae.xmax.toString()+',"ymax":'+Ae.ymax.toString()+","+(Ae.hasZ?'"zmax":'+Ae.zmax.toString()+",":"")+(Ae.hasM?'"mmax":'+Ae.mmax.toString()+",":"")+'"spatialReference":'+dn(Ae.spatialReference)+"}":dn(Ae.toJSON(),(Tt,Qt)=>Tt.key===Qt.key?0:"spatialReference"===Tt.key?1:"spatialReference"===Qt.key||Tt.key<Qt.key?-1:Tt.key>Qt.key?1:0);if(De(Ae)){const Tt=[];for(let Qt=0;Qt<Ae.length;Qt++)Tt[Qt]=ot(Ae[Qt]);return"["+Tt.join(",")+"]"}if(Ae instanceof O.Z){const Tt=[];for(let Qt=0;Qt<Ae.length();Qt++)Tt[Qt]=ot(Ae.get(Qt));return"["+Tt.join(",")+"]"}return null!==Ae&&"object"==typeof Ae&&void 0!==Ae.castToText?Ae.castToText():de(Ae)?"object, Function":""}function ot(Ae){if(null===Ae)return"null";if(ge(Ae)||J(Ae)||ce(Ae))return JSON.stringify(Ae);if(Ae instanceof z.Z||Ae instanceof O.Z||Ae instanceof Array)return ht(Ae);if(Ae instanceof Date)return JSON.stringify(Te(Ae,""));if(null!==Ae&&"object"==typeof Ae){if(void 0!==Ae.castToText)return Ae.castToText()}else if(Ae===fe)return"null";return"null"}function at(Ae,et){return J(Ae)?Ae:null===Ae||""===Ae?0:Ve(Ae)?NaN:ge(Ae)?Ae?1:0:De(Ae)||""===Ae||void 0===Ae?NaN:void 0!==et&&ce(Ae)?(et=K(et,"\u2030",""),et=K(et,"\xa4",""),(0,se.Qc)(Ae,{pattern:et})):Ae===fe?0:Number(Ae)}function lt(Ae){if(Ve(Ae))return Ae;if(ce(Ae)){const et=vt(Ae);if(et)return et.toJSDate()}return null}function tt(Ae){return Ve(Ae)?Y.ou.fromJSDate(Ae):ce(Ae)?vt(Ae):null}function vt(Ae){const et=/ (\d\d)/;let Tt=Y.ou.fromISO(Ae);return Tt.isValid||et.test(Ae)&&(Ae=Ae.replace(et,"T$1"),Tt=Y.ou.fromISO(Ae),Tt.isValid)?Tt:null}function Ke(Ae){return ge(Ae)?Ae:ce(Ae)?"true"===(Ae=Ae.toLowerCase()):!!J(Ae)&&0!==Ae&&!isNaN(Ae)}function ut(Ae,et){return(0,$.Wi)(Ae)?null:(null!=Ae.spatialReference||(Ae.spatialReference=et),Ae)}function Et(Ae){if(null===Ae)return null;if(Ae instanceof T.Z)return"NaN"===Ae.x||null===Ae.x||isNaN(Ae.x)?null:Ae;if(Ae instanceof x.Z){if(0===Ae.rings.length)return null;for(const et of Ae.rings)if(et.length>0)return Ae;return null}if(Ae instanceof Z.Z){if(0===Ae.paths.length)return null;for(const et of Ae.paths)if(et.length>0)return Ae;return null}return Ae instanceof L.Z?0===Ae.points.length?null:Ae:Ae instanceof ee.Z?"NaN"===Ae.xmin||null===Ae.xmin||isNaN(Ae.xmin)?null:Ae:null}function St(Ae,et){if(!Ae||!Ae.domain)return et;let Tt=null;if("string"===Ae.field.type||"esriFieldTypeString"===Ae.field.type)et=je(et);else{if(null==et)return null;if(""===et)return et;et=at(et)}for(let Qt=0;Qt<Ae.domain.codedValues.length;Qt++){const on=Ae.domain.codedValues[Qt];on.code===et&&(Tt=on)}return null===Tt?et:Tt.name}function kt(Ae,et){if(!Ae||!Ae.domain)return et;let Tt=null;et=je(et);for(let Qt=0;Qt<Ae.domain.codedValues.length;Qt++){const on=Ae.domain.codedValues[Qt];on.name===et&&(Tt=on)}return null===Tt?et:Tt.code}function zt(Ae,et,Tt=null,Qt=null){if(!et||!et.fields)return null;let on,it,Vt=null;for(let $t=0;$t<et.fields.length;$t++){const rn=et.fields[$t];rn.name.toLowerCase()===Ae.toString().toLowerCase()&&(Vt=rn)}if(null===Vt)throw new Error("Field not found");return null===Qt&&Tt&&et.typeIdField&&(Qt=Tt.hasField(et.typeIdField)?Tt.field(et.typeIdField):null),null!=Qt&&et.types.some(function($t){return $t.id===Qt&&(on=$t.domains&&$t.domains[Vt.name],on&&"inherited"===on.type&&(on=qt(Vt.name,et),it=!0),!0)}),it||on||(on=qt(Ae,et)),{field:Vt,domain:on}}function qt(Ae,et){let Tt;return et.fields.some(function(Qt){return Qt.name.toLowerCase()===Ae.toLowerCase()&&(Tt=Qt.domain),!!Tt}),Tt}function dn(Ae,et){et||(et={}),"function"==typeof et&&(et={cmp:et});const Tt="boolean"==typeof et.cycles&&et.cycles,Qt=et.cmp&&(on=et.cmp,function(Vt){return function($t,rn){return on({key:$t,value:Vt[$t]},{key:rn,value:Vt[rn]})}});var on;const it=[];return function Vt($t){if($t&&$t.toJSON&&"function"==typeof $t.toJSON&&($t=$t.toJSON()),void 0===$t)return;if("number"==typeof $t)return isFinite($t)?""+$t:"null";if("object"!=typeof $t)return JSON.stringify($t);let rn,gn;if(Array.isArray($t)){for(gn="[",rn=0;rn<$t.length;rn++)rn&&(gn+=","),gn+=Vt($t[rn])||"null";return gn+"]"}if(null===$t)return"null";if(-1!==it.indexOf($t)){if(Tt)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}const Zn=it.push($t)-1,mr=Object.keys($t).sort(Qt&&Qt($t));for(gn="",rn=0;rn<mr.length;rn++){const fr=mr[rn],Mr=Vt($t[fr]);Mr&&(gn&&(gn+=","),gn+=JSON.stringify(fr)+":"+Mr)}return it.splice(Zn,1),"{"+gn+"}"}(Ae)}function xn(Ae){if(null===Ae)return null;const et=[];for(const Tt of Ae)et.push(Tt&&Tt.arcadeDeclaredClass&&"esri.arcade.Feature"===Tt.arcadeDeclaredClass?Tt.geometry():Tt);return et}function yn(Ae,et){if(!(et instanceof T.Z))throw new Error("Invalid Argument");Ae.push(et.hasZ?et.hasM?[et.x,et.y,et.z,et.m]:[et.x,et.y,et.z]:[et.x,et.y])}function An(Ae,et){if(De(Ae)||ke(Ae)){let Tt=!1,Qt=!1,on=[],it=et;if(De(Ae)){for(const Vt of Ae)yn(on,Vt);on.length>0&&(it=Ae[0].spatialReference,Tt=Ae[0].hasZ,Qt=Ae[0].hasM)}else if(Ae instanceof B.Z)on=Ae._elements,on.length>0&&(Tt=Ae._hasZ,Qt=Ae._hasM,it=Ae.get(0).spatialReference);else{if(!ke(Ae))throw new Error("Invalid Argument");for(const Vt of Ae.toArray())yn(on,Vt);on.length>0&&(it=Ae.get(0).spatialReference,Tt=!0===Ae.get(0).hasZ,Qt=!0===Ae.get(0).hasM)}return 0===on.length?null:(!1===(0,ne.bu)(on,Qt,Tt)&&(on=on.slice(0).reverse()),new x.Z({rings:[on],spatialReference:it,hasZ:Tt,hasM:Qt}))}return Ae}function In(Ae,et){if(De(Ae)||ke(Ae)){let Tt=!1,Qt=!1,on=[],it=et;if(De(Ae)){for(const Vt of Ae)yn(on,Vt);on.length>0&&(it=Ae[0].spatialReference,Tt=!0===Ae[0].hasZ,Qt=!0===Ae[0].hasM)}else if(Ae instanceof B.Z)on=Ae._elements,on.length>0&&(Tt=Ae._hasZ,Qt=Ae._hasM,it=Ae.get(0).spatialReference);else if(ke(Ae)){for(const Vt of Ae.toArray())yn(on,Vt);on.length>0&&(it=Ae.get(0).spatialReference,Tt=!0===Ae.get(0).hasZ,Qt=!0===Ae.get(0).hasM)}return 0===on.length?null:new Z.Z({paths:[on],spatialReference:it,hasZ:Tt,hasM:Qt})}return Ae}function Dn(Ae,et){if(De(Ae)||ke(Ae)){let Tt=!1,Qt=!1,on=[],it=et;if(De(Ae)){for(const Vt of Ae)yn(on,Vt);on.length>0&&(it=Ae[0].spatialReference,Tt=!0===Ae[0].hasZ,Qt=!0===Ae[0].hasM)}else if(Ae instanceof B.Z)on=Ae._elements,on.length>0&&(Tt=Ae._hasZ,Qt=Ae._hasM,it=Ae.get(0).spatialReference);else if(ke(Ae)){for(const Vt of Ae.toArray())yn(on,Vt);on.length>0&&(it=Ae.get(0).spatialReference,Tt=!0===Ae.get(0).hasZ,Qt=!0===Ae.get(0).hasM)}return 0===on.length?null:new L.Z({points:on,spatialReference:it,hasZ:Tt,hasM:Qt})}return Ae}function st(Ae,et=!1){const Tt=[];if(null===Ae)return Tt;if(!0===De(Ae)){for(let Qt=0;Qt<Ae.length;Qt++){const on=je(Ae[Qt]);""===on&&!0!==et||Tt.push(on)}return Tt}if(Ae instanceof O.Z){for(let Qt=0;Qt<Ae.length();Qt++){const on=je(Ae.get(Qt));""===on&&!0!==et||Tt.push(on)}return Tt}if(le(Ae)){const Qt=je(Ae);return""===Qt&&!0!==et||Tt.push(Qt),Tt}return[]}let Dt=0;function jt(Ae){return Dt++,Dt%100==0?(Dt=0,(0,N.Ue)(et=>{setTimeout(()=>{et(Ae)},0)})):Ae}function Wt(Ae,et,Tt){switch(Tt){case"&":return Ae&et;case"|":return Ae|et;case"^":return Ae^et;case"<<":return Ae<<et;case">>":return Ae>>et;case">>>":return Ae>>>et}}function Ht(Ae,et=null){return null==Ae?null:ge(Ae)||J(Ae)||ce(Ae)?Ae:Ae instanceof z.Z?!0===(null==et?void 0:et.keepGeometryType)?Ae:Ae.toJSON():Ae instanceof O.Z?Ae.toArray().map(Tt=>Ht(Tt,et)):Ae instanceof Array?Ae.map(Tt=>Ht(Tt,et)):Ae instanceof Date?Ae:null!==Ae&&"object"==typeof Ae&&void 0!==Ae.castAsJson?Ae.castAsJson(et):null}function Nt(Ae,et,Tt,Qt,on){return Yt(Ae,et,Tt).then(it=>{on[Qt]=it})}function Yt(Ae,et=null,Tt=null){if(Ae instanceof O.Z&&(Ae=Ae.toArray()),null==Ae)return(0,N.DB)(null);if(le(Ae)||Ae instanceof z.Z||Ae instanceof Date)return(0,N.DB)(Ht(Ae,Tt));if(Ae instanceof Array){const Qt=[],on=[];for(const it of Ae)null===it||le(it)||it instanceof z.Z||it instanceof Date?on.push(Ht(it,Tt)):(on.push(null),Qt.push(Nt(it,et,Tt,on.length-1,on)));return Qt.length>0?(0,N.$6)(Qt).then(()=>on):(0,N.DB)(on)}return null!==Ae&&"object"==typeof Ae&&void 0!==Ae.castAsJsonAsync?Ae.castAsJsonAsync(et,Tt):(0,N.DB)(null)}function Jt(Ae,et,Tt){const Qt=Ae.fullSchema();return null!==Qt&&Qt.fields?zt(et,Qt,Ae,Tt):null}function an(Ae){const et=Ae.fullSchema();return null===et?null:et.fields&&et.typeIdField?{subtypeField:et.typeIdField,subtypes:et.types?et.types.map(Tt=>({name:Tt.name,code:Tt.id})):[]}:null}function Ot(Ae,et,Tt,Qt){const on=Ae.fullSchema();if(null===on||!on.fields)return null;const it=zt(et,on,Ae,Qt);if(void 0===Tt)try{Tt=Ae.field(et)}catch(Vt){return null}return St(it,Tt)}function yt(Ae,et,Tt,Qt){const on=Ae.fullSchema();if(null===on||!on.fields)return null;if(void 0===Tt){try{Tt=Ae.field(et)}catch(it){return null}return Tt}return kt(zt(et,on,Ae,Qt),Tt)}function ze(Ae){const et=Ae.fullSchema();if(null===et||!et.fields)return null;const Tt=[];for(const Qt of et.fields)Tt.push((0,I.Sh)(Qt));return{objectIdField:et.objectIdField,globalIdField:et.globalIdField,geometryType:void 0===I.q2[et.geometryType]?"":I.q2[et.geometryType],fields:Tt}}const mt=Object.freeze({__proto__:null,ReturnResultE:w,ImplicitResultE:F,NativeFunctionE:k,SizzleFunctionE:W,NativeFunction:re,ImplicitResult:Q,ReturnResult:ue,SizzleFunction:he,voidOperation:fe,breakResult:pe,continueResult:oe,multiReplace:K,isFunctionParameter:de,isSimpleType:le,defaultUndefined:me,isString:ce,isBoolean:ge,isNumber:J,isInteger:ie,isArray:De,isFeature:_e,isFeatureSet:Ie,isFeatureSetCollection:xe,isImmutableArray:ke,isDate:Ve,pcCheck:ve,absRound:we,generateUUID:We,formatNumber:nt,formatDate:Te,standardiseDateFormat:Ze,greaterThanLessThan:te,equalityTest:Ee,toString:je,toNumberArray:Ye,toStringExplicit:ht,toNumber:at,toDate:lt,toDateTime:tt,toBoolean:Ke,fixSpatialReference:ut,fixNullGeometry:Et,getDomainValue:St,getDomainCode:kt,getDomain:zt,stableStringify:dn,autoCastFeatureToGeometry:xn,autoCastArrayOfPointsToPolygon:An,autoCastArrayOfPointsToPolyline:In,autoCastArrayOfPointsToMultiPoint:Dn,toStringArray:st,tick:jt,binaryOperator:Wt,castAsJson:Ht,castAsJsonAsync:Yt,featureFullDomain:Jt,featureSubtypes:an,featureDomainValueLookup:Ot,featureDomainCodeLookup:yt,featureSchema:ze})},31478:(Qe,Me,E)=>{"use strict";E.d(Me,{a:()=>$,b:()=>Z,c:()=>X,f:()=>Y,i:()=>N,m:()=>z,r:()=>L,s:()=>T,t:()=>x});var M=E(39863);function X(he){return he[0]=1,he[1]=0,he[2]=0,he[3]=1,he[4]=0,he[5]=0,he}function N(he,fe){const pe=fe[0],oe=fe[1],K=fe[2],de=fe[3],le=fe[4],me=fe[5];let ce=pe*de-oe*K;return ce?(ce=1/ce,he[0]=de*ce,he[1]=-oe*ce,he[2]=-K*ce,he[3]=pe*ce,he[4]=(K*me-de*le)*ce,he[5]=(oe*le-pe*me)*ce,he):null}function z(he,fe,pe){const oe=fe[0],K=fe[1],de=fe[2],le=fe[3],me=fe[4],ce=fe[5],ge=pe[0],J=pe[1],ie=pe[2],De=pe[3],_e=pe[4],Ie=pe[5];return he[0]=oe*ge+de*J,he[1]=K*ge+le*J,he[2]=oe*ie+de*De,he[3]=K*ie+le*De,he[4]=oe*_e+de*Ie+me,he[5]=K*_e+le*Ie+ce,he}function L(he,fe,pe){const oe=fe[0],K=fe[1],de=fe[2],le=fe[3],me=fe[4],ce=fe[5],ge=Math.sin(pe),J=Math.cos(pe);return he[0]=oe*J+de*ge,he[1]=K*J+le*ge,he[2]=oe*-ge+de*J,he[3]=K*-ge+le*J,he[4]=me,he[5]=ce,he}function T(he,fe,pe){const K=fe[1],de=fe[2],le=fe[3],me=fe[4],ce=fe[5],ge=pe[0],J=pe[1];return he[0]=fe[0]*ge,he[1]=K*ge,he[2]=de*J,he[3]=le*J,he[4]=me,he[5]=ce,he}function x(he,fe,pe){const oe=fe[0],K=fe[1],de=fe[2],le=fe[3],me=fe[4],ce=fe[5],ge=pe[0],J=pe[1];return he[0]=oe,he[1]=K,he[2]=de,he[3]=le,he[4]=oe*ge+de*J+me,he[5]=K*ge+le*J+ce,he}function Z(he,fe){const pe=Math.sin(fe),oe=Math.cos(fe);return he[0]=oe,he[1]=pe,he[2]=-pe,he[3]=oe,he[4]=0,he[5]=0,he}function Y(he,fe){return he[0]=fe[0],he[1]=0,he[2]=0,he[3]=fe[1],he[4]=0,he[5]=0,he}function $(he,fe){return he[0]=1,he[1]=0,he[2]=0,he[3]=1,he[4]=fe[0],he[5]=fe[1],he}function I(he,fe,pe){return he[0]=fe[0]-pe[0],he[1]=fe[1]-pe[1],he[2]=fe[2]-pe[2],he[3]=fe[3]-pe[3],he[4]=fe[4]-pe[4],he[5]=fe[5]-pe[5],he}Object.freeze({__proto__:null,copy:function O(he,fe){return he[0]=fe[0],he[1]=fe[1],he[2]=fe[2],he[3]=fe[3],he[4]=fe[4],he[5]=fe[5],he},identity:X,set:function B(he,fe,pe,oe,K,de,le){return he[0]=fe,he[1]=pe,he[2]=oe,he[3]=K,he[4]=de,he[5]=le,he},invert:N,determinant:function ee(he){return he[0]*he[3]-he[1]*he[2]},multiply:z,rotate:L,scale:T,translate:x,fromRotation:Z,fromScaling:Y,fromTranslation:$,str:function se(he){return"mat2d("+he[0]+", "+he[1]+", "+he[2]+", "+he[3]+", "+he[4]+", "+he[5]+")"},frob:function ne(he){return Math.sqrt(he[0]**2+he[1]**2+he[2]**2+he[3]**2+he[4]**2+he[5]**2+1)},add:function j(he,fe,pe){return he[0]=fe[0]+pe[0],he[1]=fe[1]+pe[1],he[2]=fe[2]+pe[2],he[3]=fe[3]+pe[3],he[4]=fe[4]+pe[4],he[5]=fe[5]+pe[5],he},subtract:I,multiplyScalar:function w(he,fe,pe){return he[0]=fe[0]*pe,he[1]=fe[1]*pe,he[2]=fe[2]*pe,he[3]=fe[3]*pe,he[4]=fe[4]*pe,he[5]=fe[5]*pe,he},multiplyScalarAndAdd:function F(he,fe,pe,oe){return he[0]=fe[0]+pe[0]*oe,he[1]=fe[1]+pe[1]*oe,he[2]=fe[2]+pe[2]*oe,he[3]=fe[3]+pe[3]*oe,he[4]=fe[4]+pe[4]*oe,he[5]=fe[5]+pe[5]*oe,he},exactEquals:function k(he,fe){return he[0]===fe[0]&&he[1]===fe[1]&&he[2]===fe[2]&&he[3]===fe[3]&&he[4]===fe[4]&&he[5]===fe[5]},equals:function W(he,fe){const pe=he[0],oe=he[1],K=he[2],de=he[3],le=he[4],me=he[5],ce=fe[0],ge=fe[1],J=fe[2],ie=fe[3],De=fe[4],_e=fe[5];return Math.abs(pe-ce)<=M.E*Math.max(1,Math.abs(pe),Math.abs(ce))&&Math.abs(oe-ge)<=M.E*Math.max(1,Math.abs(oe),Math.abs(ge))&&Math.abs(K-J)<=M.E*Math.max(1,Math.abs(K),Math.abs(J))&&Math.abs(de-ie)<=M.E*Math.max(1,Math.abs(de),Math.abs(ie))&&Math.abs(le-De)<=M.E*Math.max(1,Math.abs(le),Math.abs(De))&&Math.abs(me-_e)<=M.E*Math.max(1,Math.abs(me),Math.abs(_e))},mul:z,sub:I})},12225:(Qe,Me,E)=>{"use strict";function M(){const L=new Float32Array(6);return L[0]=1,L[3]=1,L}function N(L,T,x,Z){const Y=T[Z],$=T[Z+1];L[Z]=x[0]*Y+x[2]*$+x[4],L[Z+1]=x[1]*Y+x[3]*$+x[5]}function ee(L,T,x,Z=0,Y=0,$=2){const se=Y||T.length/$;for(let ne=Z;ne<se;ne++)N(L,T,x,ne*$)}E.d(Me,{c:()=>M,t:()=>ee}),Object.freeze({__proto__:null,create:M,clone:function O(L){const T=new Float32Array(6);return T[0]=L[0],T[1]=L[1],T[2]=L[2],T[3]=L[3],T[4]=L[4],T[5]=L[5],T},fromValues:function X(L,T,x,Z,Y,$){const se=new Float32Array(6);return se[0]=L,se[1]=T,se[2]=x,se[3]=Z,se[4]=Y,se[5]=$,se},createView:function B(L,T){return new Float32Array(L,T,6)},transform:N,transformMany:ee})},46342:(Qe,Me,E)=>{"use strict";function M(){return[1,0,0,1,0,0]}E.d(Me,{c:()=>M}),Object.freeze({__proto__:null,create:M,clone:function O(ee){return[ee[0],ee[1],ee[2],ee[3],ee[4],ee[5]]},fromValues:function X(ee,z,L,T,x,Z){return[ee,z,L,T,x,Z]},createView:function B(ee,z){return new Float64Array(ee,z,6)}})},30217:(Qe,Me,E)=>{"use strict";E.d(Me,{a:()=>W,b:()=>N,c:()=>Z,d:()=>$,f:()=>O,i:()=>le,j:()=>se,l:()=>ne,m:()=>x,r:()=>Y,s:()=>B,t:()=>ee});var M=E(39863);function O(J,ie){return J[0]=ie[0],J[1]=ie[1],J[2]=ie[2],J[3]=ie[4],J[4]=ie[5],J[5]=ie[6],J[6]=ie[8],J[7]=ie[9],J[8]=ie[10],J}function B(J,ie,De,_e,Ie,xe,ke,Ve,ve,we){return J[0]=ie,J[1]=De,J[2]=_e,J[3]=Ie,J[4]=xe,J[5]=ke,J[6]=Ve,J[7]=ve,J[8]=we,J}function N(J){return J[0]=1,J[1]=0,J[2]=0,J[3]=0,J[4]=1,J[5]=0,J[6]=0,J[7]=0,J[8]=1,J}function ee(J,ie){if(J===ie){const De=ie[1],_e=ie[2],Ie=ie[5];J[1]=ie[3],J[2]=ie[6],J[3]=De,J[5]=ie[7],J[6]=_e,J[7]=Ie}else J[0]=ie[0],J[1]=ie[3],J[2]=ie[6],J[3]=ie[1],J[4]=ie[4],J[5]=ie[7],J[6]=ie[2],J[7]=ie[5],J[8]=ie[8];return J}function x(J,ie,De){const _e=ie[0],Ie=ie[1],xe=ie[2],ke=ie[3],Ve=ie[4],ve=ie[5],we=ie[6],We=ie[7],nt=ie[8],Te=De[0],Ze=De[1],He=De[2],te=De[3],Ee=De[4],je=De[5],Ye=De[6],ht=De[7],ot=De[8];return J[0]=Te*_e+Ze*ke+He*we,J[1]=Te*Ie+Ze*Ve+He*We,J[2]=Te*xe+Ze*ve+He*nt,J[3]=te*_e+Ee*ke+je*we,J[4]=te*Ie+Ee*Ve+je*We,J[5]=te*xe+Ee*ve+je*nt,J[6]=Ye*_e+ht*ke+ot*we,J[7]=Ye*Ie+ht*Ve+ot*We,J[8]=Ye*xe+ht*ve+ot*nt,J}function Z(J,ie,De){const _e=ie[0],Ie=ie[1],xe=ie[2],ke=ie[3],Ve=ie[4],ve=ie[5],we=ie[6],We=ie[7],nt=ie[8],Te=De[0],Ze=De[1];return J[0]=_e,J[1]=Ie,J[2]=xe,J[3]=ke,J[4]=Ve,J[5]=ve,J[6]=Te*_e+Ze*ke+we,J[7]=Te*Ie+Ze*Ve+We,J[8]=Te*xe+Ze*ve+nt,J}function Y(J,ie,De){const _e=ie[0],Ie=ie[1],xe=ie[2],ke=ie[3],Ve=ie[4],ve=ie[5],we=ie[6],We=ie[7],nt=ie[8],Te=Math.sin(De),Ze=Math.cos(De);return J[0]=Ze*_e+Te*ke,J[1]=Ze*Ie+Te*Ve,J[2]=Ze*xe+Te*ve,J[3]=Ze*ke-Te*_e,J[4]=Ze*Ve-Te*Ie,J[5]=Ze*ve-Te*xe,J[6]=we,J[7]=We,J[8]=nt,J}function $(J,ie,De){const _e=De[0],Ie=De[1],xe=De[2];return J[0]=_e*ie[0],J[1]=_e*ie[1],J[2]=_e*ie[2],J[3]=Ie*ie[3],J[4]=Ie*ie[4],J[5]=Ie*ie[5],J[6]=xe*ie[6],J[7]=xe*ie[7],J[8]=xe*ie[8],J}function se(J,ie,De){const _e=De[0],Ie=De[1];return J[0]=_e*ie[0],J[1]=_e*ie[1],J[2]=_e*ie[2],J[3]=Ie*ie[3],J[4]=Ie*ie[4],J[5]=Ie*ie[5],J}function ne(J,ie){return J[0]=1,J[1]=0,J[2]=0,J[3]=0,J[4]=1,J[5]=0,J[6]=ie[0],J[7]=ie[1],J[8]=1,J}function W(J,ie){const De=ie[0],_e=ie[1],Ie=ie[2],xe=ie[3],ke=ie[4],Ve=ie[5],ve=ie[6],we=ie[7],We=ie[8],nt=ie[9],Te=ie[10],Ze=ie[11],He=ie[12],te=ie[13],Ee=ie[14],je=ie[15],Ye=De*Ve-_e*ke,ht=De*ve-Ie*ke,ot=De*we-xe*ke,at=_e*ve-Ie*Ve,lt=_e*we-xe*Ve,tt=Ie*we-xe*ve,vt=We*te-nt*He,Ke=We*Ee-Te*He,ut=We*je-Ze*He,Et=nt*Ee-Te*te,St=nt*je-Ze*te,kt=Te*je-Ze*Ee;let zt=Ye*kt-ht*St+ot*Et+at*ut-lt*Ke+tt*vt;return zt?(zt=1/zt,J[0]=(Ve*kt-ve*St+we*Et)*zt,J[1]=(ve*ut-ke*kt-we*Ke)*zt,J[2]=(ke*St-Ve*ut+we*vt)*zt,J[3]=(Ie*St-_e*kt-xe*Et)*zt,J[4]=(De*kt-Ie*ut+xe*Ke)*zt,J[5]=(_e*ut-De*St-xe*vt)*zt,J[6]=(te*tt-Ee*lt+je*at)*zt,J[7]=(Ee*ot-He*tt-je*ht)*zt,J[8]=(He*lt-te*ot+je*Ye)*zt,J):null}function fe(J,ie,De){return J[0]=ie[0]-De[0],J[1]=ie[1]-De[1],J[2]=ie[2]-De[2],J[3]=ie[3]-De[3],J[4]=ie[4]-De[4],J[5]=ie[5]-De[5],J[6]=ie[6]-De[6],J[7]=ie[7]-De[7],J[8]=ie[8]-De[8],J}function le(J){const ie=M.E,De=J[0],_e=J[1],Ie=J[2],xe=J[3],ke=J[4],Ve=J[5],ve=J[6],we=J[7],We=J[8];return Math.abs(1-(De*De+xe*xe+ve*ve))<=ie&&Math.abs(1-(_e*_e+ke*ke+we*we))<=ie&&Math.abs(1-(Ie*Ie+Ve*Ve+We*We))<=ie}Object.freeze({__proto__:null,fromMat4:O,copy:function X(J,ie){return J[0]=ie[0],J[1]=ie[1],J[2]=ie[2],J[3]=ie[3],J[4]=ie[4],J[5]=ie[5],J[6]=ie[6],J[7]=ie[7],J[8]=ie[8],J},set:B,identity:N,transpose:ee,invert:function z(J,ie){const De=ie[0],_e=ie[1],Ie=ie[2],xe=ie[3],ke=ie[4],Ve=ie[5],ve=ie[6],we=ie[7],We=ie[8],nt=We*ke-Ve*we,Te=-We*xe+Ve*ve,Ze=we*xe-ke*ve;let He=De*nt+_e*Te+Ie*Ze;return He?(He=1/He,J[0]=nt*He,J[1]=(-We*_e+Ie*we)*He,J[2]=(Ve*_e-Ie*ke)*He,J[3]=Te*He,J[4]=(We*De-Ie*ve)*He,J[5]=(-Ve*De+Ie*xe)*He,J[6]=Ze*He,J[7]=(-we*De+_e*ve)*He,J[8]=(ke*De-_e*xe)*He,J):null},adjoint:function L(J,ie){const De=ie[0],_e=ie[1],Ie=ie[2],xe=ie[3],ke=ie[4],Ve=ie[5],ve=ie[6],we=ie[7],We=ie[8];return J[0]=ke*We-Ve*we,J[1]=Ie*we-_e*We,J[2]=_e*Ve-Ie*ke,J[3]=Ve*ve-xe*We,J[4]=De*We-Ie*ve,J[5]=Ie*xe-De*Ve,J[6]=xe*we-ke*ve,J[7]=_e*ve-De*we,J[8]=De*ke-_e*xe,J},determinant:function T(J){const Ie=J[3],xe=J[4],ke=J[5],Ve=J[6],ve=J[7],we=J[8];return J[0]*(we*xe-ke*ve)+J[1]*(-we*Ie+ke*Ve)+J[2]*(ve*Ie-xe*Ve)},multiply:x,translate:Z,rotate:Y,scale:$,scaleByVec2:se,fromTranslation:ne,fromRotation:function j(J,ie){const De=Math.sin(ie),_e=Math.cos(ie);return J[0]=_e,J[1]=De,J[2]=0,J[3]=-De,J[4]=_e,J[5]=0,J[6]=0,J[7]=0,J[8]=1,J},fromScaling:function I(J,ie){return J[0]=ie[0],J[1]=0,J[2]=0,J[3]=0,J[4]=ie[1],J[5]=0,J[6]=0,J[7]=0,J[8]=1,J},fromMat2d:function w(J,ie){return J[0]=ie[0],J[1]=ie[1],J[2]=0,J[3]=ie[2],J[4]=ie[3],J[5]=0,J[6]=ie[4],J[7]=ie[5],J[8]=1,J},fromQuat:function F(J,ie){const De=ie[0],_e=ie[1],Ie=ie[2],xe=ie[3],ke=De+De,Ve=_e+_e,ve=Ie+Ie,we=De*ke,We=_e*ke,nt=_e*Ve,Te=Ie*ke,Ze=Ie*Ve,He=Ie*ve,te=xe*ke,Ee=xe*Ve,je=xe*ve;return J[0]=1-nt-He,J[3]=We-je,J[6]=Te+Ee,J[1]=We+je,J[4]=1-we-He,J[7]=Ze-te,J[2]=Te-Ee,J[5]=Ze+te,J[8]=1-we-nt,J},normalFromMat4Legacy:function k(J,ie){const De=ie[0],_e=ie[1],Ie=ie[2],xe=ie[4],ke=ie[5],Ve=ie[6],ve=ie[8],we=ie[9],We=ie[10],nt=We*ke-Ve*we,Te=-We*xe+Ve*ve,Ze=we*xe-ke*ve,He=De*nt+_e*Te+Ie*Ze;if(!He)return null;const te=1/He;return J[0]=nt*te,J[1]=(-We*_e+Ie*we)*te,J[2]=(Ve*_e-Ie*ke)*te,J[3]=Te*te,J[4]=(We*De-Ie*ve)*te,J[5]=(-Ve*De+Ie*xe)*te,J[6]=Ze*te,J[7]=(-we*De+_e*ve)*te,J[8]=(ke*De-_e*xe)*te,J},normalFromMat4:W,projection:function re(J,ie,De){return J[0]=2/ie,J[1]=0,J[2]=0,J[3]=0,J[4]=-2/De,J[5]=0,J[6]=-1,J[7]=1,J[8]=1,J},str:function Q(J){return"mat3("+J[0]+", "+J[1]+", "+J[2]+", "+J[3]+", "+J[4]+", "+J[5]+", "+J[6]+", "+J[7]+", "+J[8]+")"},frob:function ue(J){return Math.sqrt(J[0]**2+J[1]**2+J[2]**2+J[3]**2+J[4]**2+J[5]**2+J[6]**2+J[7]**2+J[8]**2)},add:function he(J,ie,De){return J[0]=ie[0]+De[0],J[1]=ie[1]+De[1],J[2]=ie[2]+De[2],J[3]=ie[3]+De[3],J[4]=ie[4]+De[4],J[5]=ie[5]+De[5],J[6]=ie[6]+De[6],J[7]=ie[7]+De[7],J[8]=ie[8]+De[8],J},subtract:fe,multiplyScalar:function pe(J,ie,De){return J[0]=ie[0]*De,J[1]=ie[1]*De,J[2]=ie[2]*De,J[3]=ie[3]*De,J[4]=ie[4]*De,J[5]=ie[5]*De,J[6]=ie[6]*De,J[7]=ie[7]*De,J[8]=ie[8]*De,J},multiplyScalarAndAdd:function oe(J,ie,De,_e){return J[0]=ie[0]+De[0]*_e,J[1]=ie[1]+De[1]*_e,J[2]=ie[2]+De[2]*_e,J[3]=ie[3]+De[3]*_e,J[4]=ie[4]+De[4]*_e,J[5]=ie[5]+De[5]*_e,J[6]=ie[6]+De[6]*_e,J[7]=ie[7]+De[7]*_e,J[8]=ie[8]+De[8]*_e,J},exactEquals:function K(J,ie){return J[0]===ie[0]&&J[1]===ie[1]&&J[2]===ie[2]&&J[3]===ie[3]&&J[4]===ie[4]&&J[5]===ie[5]&&J[6]===ie[6]&&J[7]===ie[7]&&J[8]===ie[8]},equals:function de(J,ie){const De=J[0],_e=J[1],Ie=J[2],xe=J[3],ke=J[4],Ve=J[5],ve=J[6],we=J[7],We=J[8],nt=ie[0],Te=ie[1],Ze=ie[2],He=ie[3],te=ie[4],Ee=ie[5],je=ie[6],Ye=ie[7],ht=ie[8];return Math.abs(De-nt)<=M.E*Math.max(1,Math.abs(De),Math.abs(nt))&&Math.abs(_e-Te)<=M.E*Math.max(1,Math.abs(_e),Math.abs(Te))&&Math.abs(Ie-Ze)<=M.E*Math.max(1,Math.abs(Ie),Math.abs(Ze))&&Math.abs(xe-He)<=M.E*Math.max(1,Math.abs(xe),Math.abs(He))&&Math.abs(ke-te)<=M.E*Math.max(1,Math.abs(ke),Math.abs(te))&&Math.abs(Ve-Ee)<=M.E*Math.max(1,Math.abs(Ve),Math.abs(Ee))&&Math.abs(ve-je)<=M.E*Math.max(1,Math.abs(ve),Math.abs(je))&&Math.abs(we-Ye)<=M.E*Math.max(1,Math.abs(we),Math.abs(Ye))&&Math.abs(We-ht)<=M.E*Math.max(1,Math.abs(We),Math.abs(ht))},isOrthoNormal:le,mul:x,sub:fe})},49966:(Qe,Me,E)=>{"use strict";function M(){const ee=new Float32Array(9);return ee[0]=1,ee[4]=1,ee[8]=1,ee}function O(ee){const z=new Float32Array(9);return z[0]=ee[0],z[1]=ee[1],z[2]=ee[2],z[3]=ee[3],z[4]=ee[4],z[5]=ee[5],z[6]=ee[6],z[7]=ee[7],z[8]=ee[8],z}E.d(Me,{a:()=>O,c:()=>M}),Object.freeze({__proto__:null,create:M,clone:O,fromValues:function X(ee,z,L,T,x,Z,Y,$,se){const ne=new Float32Array(9);return ne[0]=ee,ne[1]=z,ne[2]=L,ne[3]=T,ne[4]=x,ne[5]=Z,ne[6]=Y,ne[7]=$,ne[8]=se,ne},createView:function B(ee,z){return new Float32Array(ee,z,9)}})},28347:(Qe,Me,E)=>{"use strict";E.d(Me,{a:()=>z,d:()=>F,e:()=>$,f:()=>I,h:()=>Y,i:()=>N,j:()=>Z,m:()=>x,p:()=>nt,s:()=>B,t:()=>ee,u:()=>w,v:()=>We,w:()=>we,y:()=>k});var M=E(28093),O=E(39863);function B(te,Ee,je,Ye,ht,ot,at,lt,tt,vt,Ke,ut,Et,St,kt,zt,qt){return te[0]=Ee,te[1]=je,te[2]=Ye,te[3]=ht,te[4]=ot,te[5]=at,te[6]=lt,te[7]=tt,te[8]=vt,te[9]=Ke,te[10]=ut,te[11]=Et,te[12]=St,te[13]=kt,te[14]=zt,te[15]=qt,te}function N(te){return te[0]=1,te[1]=0,te[2]=0,te[3]=0,te[4]=0,te[5]=1,te[6]=0,te[7]=0,te[8]=0,te[9]=0,te[10]=1,te[11]=0,te[12]=0,te[13]=0,te[14]=0,te[15]=1,te}function ee(te,Ee){if(te===Ee){const je=Ee[1],Ye=Ee[2],ht=Ee[3],ot=Ee[6],at=Ee[7],lt=Ee[11];te[1]=Ee[4],te[2]=Ee[8],te[3]=Ee[12],te[4]=je,te[6]=Ee[9],te[7]=Ee[13],te[8]=Ye,te[9]=ot,te[11]=Ee[14],te[12]=ht,te[13]=at,te[14]=lt}else te[0]=Ee[0],te[1]=Ee[4],te[2]=Ee[8],te[3]=Ee[12],te[4]=Ee[1],te[5]=Ee[5],te[6]=Ee[9],te[7]=Ee[13],te[8]=Ee[2],te[9]=Ee[6],te[10]=Ee[10],te[11]=Ee[14],te[12]=Ee[3],te[13]=Ee[7],te[14]=Ee[11],te[15]=Ee[15];return te}function z(te,Ee){const je=Ee[0],Ye=Ee[1],ht=Ee[2],ot=Ee[3],at=Ee[4],lt=Ee[5],tt=Ee[6],vt=Ee[7],Ke=Ee[8],ut=Ee[9],Et=Ee[10],St=Ee[11],kt=Ee[12],zt=Ee[13],qt=Ee[14],dn=Ee[15],xn=je*lt-Ye*at,yn=je*tt-ht*at,An=je*vt-ot*at,In=Ye*tt-ht*lt,Dn=Ye*vt-ot*lt,st=ht*vt-ot*tt,Dt=Ke*zt-ut*kt,jt=Ke*qt-Et*kt,Wt=Ke*dn-St*kt,Ht=ut*qt-Et*zt,Nt=ut*dn-St*zt,Yt=Et*dn-St*qt;let Jt=xn*Yt-yn*Nt+An*Ht+In*Wt-Dn*jt+st*Dt;return Jt?(Jt=1/Jt,te[0]=(lt*Yt-tt*Nt+vt*Ht)*Jt,te[1]=(ht*Nt-Ye*Yt-ot*Ht)*Jt,te[2]=(zt*st-qt*Dn+dn*In)*Jt,te[3]=(Et*Dn-ut*st-St*In)*Jt,te[4]=(tt*Wt-at*Yt-vt*jt)*Jt,te[5]=(je*Yt-ht*Wt+ot*jt)*Jt,te[6]=(qt*An-kt*st-dn*yn)*Jt,te[7]=(Ke*st-Et*An+St*yn)*Jt,te[8]=(at*Nt-lt*Wt+vt*Dt)*Jt,te[9]=(Ye*Wt-je*Nt-ot*Dt)*Jt,te[10]=(kt*Dn-zt*An+dn*xn)*Jt,te[11]=(ut*An-Ke*Dn-St*xn)*Jt,te[12]=(lt*jt-at*Ht-tt*Dt)*Jt,te[13]=(je*Ht-Ye*jt+ht*Dt)*Jt,te[14]=(zt*yn-kt*In-qt*xn)*Jt,te[15]=(Ke*In-ut*yn+Et*xn)*Jt,te):null}function x(te,Ee,je){const Ye=Ee[0],ht=Ee[1],ot=Ee[2],at=Ee[3],lt=Ee[4],tt=Ee[5],vt=Ee[6],Ke=Ee[7],ut=Ee[8],Et=Ee[9],St=Ee[10],kt=Ee[11],zt=Ee[12],qt=Ee[13],dn=Ee[14],xn=Ee[15];let yn=je[0],An=je[1],In=je[2],Dn=je[3];return te[0]=yn*Ye+An*lt+In*ut+Dn*zt,te[1]=yn*ht+An*tt+In*Et+Dn*qt,te[2]=yn*ot+An*vt+In*St+Dn*dn,te[3]=yn*at+An*Ke+In*kt+Dn*xn,yn=je[4],An=je[5],In=je[6],Dn=je[7],te[4]=yn*Ye+An*lt+In*ut+Dn*zt,te[5]=yn*ht+An*tt+In*Et+Dn*qt,te[6]=yn*ot+An*vt+In*St+Dn*dn,te[7]=yn*at+An*Ke+In*kt+Dn*xn,yn=je[8],An=je[9],In=je[10],Dn=je[11],te[8]=yn*Ye+An*lt+In*ut+Dn*zt,te[9]=yn*ht+An*tt+In*Et+Dn*qt,te[10]=yn*ot+An*vt+In*St+Dn*dn,te[11]=yn*at+An*Ke+In*kt+Dn*xn,yn=je[12],An=je[13],In=je[14],Dn=je[15],te[12]=yn*Ye+An*lt+In*ut+Dn*zt,te[13]=yn*ht+An*tt+In*Et+Dn*qt,te[14]=yn*ot+An*vt+In*St+Dn*dn,te[15]=yn*at+An*Ke+In*kt+Dn*xn,te}function Z(te,Ee,je){const Ye=je[0],ht=je[1],ot=je[2];let at,lt,tt,vt,Ke,ut,Et,St,kt,zt,qt,dn;return Ee===te?(te[12]=Ee[0]*Ye+Ee[4]*ht+Ee[8]*ot+Ee[12],te[13]=Ee[1]*Ye+Ee[5]*ht+Ee[9]*ot+Ee[13],te[14]=Ee[2]*Ye+Ee[6]*ht+Ee[10]*ot+Ee[14],te[15]=Ee[3]*Ye+Ee[7]*ht+Ee[11]*ot+Ee[15]):(at=Ee[0],lt=Ee[1],tt=Ee[2],vt=Ee[3],Ke=Ee[4],ut=Ee[5],Et=Ee[6],St=Ee[7],kt=Ee[8],zt=Ee[9],qt=Ee[10],dn=Ee[11],te[0]=at,te[1]=lt,te[2]=tt,te[3]=vt,te[4]=Ke,te[5]=ut,te[6]=Et,te[7]=St,te[8]=kt,te[9]=zt,te[10]=qt,te[11]=dn,te[12]=at*Ye+Ke*ht+kt*ot+Ee[12],te[13]=lt*Ye+ut*ht+zt*ot+Ee[13],te[14]=tt*Ye+Et*ht+qt*ot+Ee[14],te[15]=vt*Ye+St*ht+dn*ot+Ee[15]),te}function Y(te,Ee,je){const Ye=je[0],ht=je[1],ot=je[2];return te[0]=Ee[0]*Ye,te[1]=Ee[1]*Ye,te[2]=Ee[2]*Ye,te[3]=Ee[3]*Ye,te[4]=Ee[4]*ht,te[5]=Ee[5]*ht,te[6]=Ee[6]*ht,te[7]=Ee[7]*ht,te[8]=Ee[8]*ot,te[9]=Ee[9]*ot,te[10]=Ee[10]*ot,te[11]=Ee[11]*ot,te[12]=Ee[12],te[13]=Ee[13],te[14]=Ee[14],te[15]=Ee[15],te}function $(te,Ee,je,Ye){let ht,ot,at,lt,tt,vt,Ke,ut,Et,St,kt,zt,qt,dn,xn,yn,An,In,Dn,st,Dt,jt,Wt,Ht,Nt=Ye[0],Yt=Ye[1],Jt=Ye[2],an=Math.sqrt(Nt*Nt+Yt*Yt+Jt*Jt);return an<O.E?null:(an=1/an,Nt*=an,Yt*=an,Jt*=an,ht=Math.sin(je),ot=Math.cos(je),at=1-ot,lt=Ee[0],tt=Ee[1],vt=Ee[2],Ke=Ee[3],ut=Ee[4],Et=Ee[5],St=Ee[6],kt=Ee[7],zt=Ee[8],qt=Ee[9],dn=Ee[10],xn=Ee[11],yn=Nt*Nt*at+ot,An=Yt*Nt*at+Jt*ht,In=Jt*Nt*at-Yt*ht,Dn=Nt*Yt*at-Jt*ht,st=Yt*Yt*at+ot,Dt=Jt*Yt*at+Nt*ht,jt=Nt*Jt*at+Yt*ht,Wt=Yt*Jt*at-Nt*ht,Ht=Jt*Jt*at+ot,te[0]=lt*yn+ut*An+zt*In,te[1]=tt*yn+Et*An+qt*In,te[2]=vt*yn+St*An+dn*In,te[3]=Ke*yn+kt*An+xn*In,te[4]=lt*Dn+ut*st+zt*Dt,te[5]=tt*Dn+Et*st+qt*Dt,te[6]=vt*Dn+St*st+dn*Dt,te[7]=Ke*Dn+kt*st+xn*Dt,te[8]=lt*jt+ut*Wt+zt*Ht,te[9]=tt*jt+Et*Wt+qt*Ht,te[10]=vt*jt+St*Wt+dn*Ht,te[11]=Ke*jt+kt*Wt+xn*Ht,Ee!==te&&(te[12]=Ee[12],te[13]=Ee[13],te[14]=Ee[14],te[15]=Ee[15]),te)}function I(te,Ee){return te[0]=1,te[1]=0,te[2]=0,te[3]=0,te[4]=0,te[5]=1,te[6]=0,te[7]=0,te[8]=0,te[9]=0,te[10]=1,te[11]=0,te[12]=Ee[0],te[13]=Ee[1],te[14]=Ee[2],te[15]=1,te}function w(te,Ee){return te[0]=Ee[0],te[1]=0,te[2]=0,te[3]=0,te[4]=0,te[5]=Ee[1],te[6]=0,te[7]=0,te[8]=0,te[9]=0,te[10]=Ee[2],te[11]=0,te[12]=0,te[13]=0,te[14]=0,te[15]=1,te}function F(te,Ee,je){let Ye,ht,ot,at=je[0],lt=je[1],tt=je[2],vt=Math.sqrt(at*at+lt*lt+tt*tt);return vt<O.E?null:(vt=1/vt,at*=vt,lt*=vt,tt*=vt,Ye=Math.sin(Ee),ht=Math.cos(Ee),ot=1-ht,te[0]=at*at*ot+ht,te[1]=lt*at*ot+tt*Ye,te[2]=tt*at*ot-lt*Ye,te[3]=0,te[4]=at*lt*ot-tt*Ye,te[5]=lt*lt*ot+ht,te[6]=tt*lt*ot+at*Ye,te[7]=0,te[8]=at*tt*ot+lt*Ye,te[9]=lt*tt*ot-at*Ye,te[10]=tt*tt*ot+ht,te[11]=0,te[12]=0,te[13]=0,te[14]=0,te[15]=1,te)}function k(te,Ee){const je=Math.sin(Ee),Ye=Math.cos(Ee);return te[0]=1,te[1]=0,te[2]=0,te[3]=0,te[4]=0,te[5]=Ye,te[6]=je,te[7]=0,te[8]=0,te[9]=-je,te[10]=Ye,te[11]=0,te[12]=0,te[13]=0,te[14]=0,te[15]=1,te}function Q(te,Ee,je){const Ye=Ee[0],ht=Ee[1],ot=Ee[2],at=Ee[3],lt=Ye+Ye,tt=ht+ht,vt=ot+ot,Ke=Ye*lt,ut=Ye*tt,Et=Ye*vt,St=ht*tt,kt=ht*vt,zt=ot*vt,qt=at*lt,dn=at*tt,xn=at*vt;return te[0]=1-(St+zt),te[1]=ut+xn,te[2]=Et-dn,te[3]=0,te[4]=ut-xn,te[5]=1-(Ke+zt),te[6]=kt+qt,te[7]=0,te[8]=Et+dn,te[9]=kt-qt,te[10]=1-(Ke+St),te[11]=0,te[12]=je[0],te[13]=je[1],te[14]=je[2],te[15]=1,te}const he=(0,M.c)();function ke(te,Ee,je){return te[0]=Ee[0]-je[0],te[1]=Ee[1]-je[1],te[2]=Ee[2]-je[2],te[3]=Ee[3]-je[3],te[4]=Ee[4]-je[4],te[5]=Ee[5]-je[5],te[6]=Ee[6]-je[6],te[7]=Ee[7]-je[7],te[8]=Ee[8]-je[8],te[9]=Ee[9]-je[9],te[10]=Ee[10]-je[10],te[11]=Ee[11]-je[11],te[12]=Ee[12]-je[12],te[13]=Ee[13]-je[13],te[14]=Ee[14]-je[14],te[15]=Ee[15]-je[15],te}function we(te,Ee){return te[0]===Ee[0]&&te[1]===Ee[1]&&te[2]===Ee[2]&&te[3]===Ee[3]&&te[4]===Ee[4]&&te[5]===Ee[5]&&te[6]===Ee[6]&&te[7]===Ee[7]&&te[8]===Ee[8]&&te[9]===Ee[9]&&te[10]===Ee[10]&&te[11]===Ee[11]&&te[12]===Ee[12]&&te[13]===Ee[13]&&te[14]===Ee[14]&&te[15]===Ee[15]}function We(te,Ee){if(te===Ee)return!0;const je=te[0],Ye=te[1],ht=te[2],ot=te[3],at=te[4],lt=te[5],tt=te[6],vt=te[7],Ke=te[8],ut=te[9],Et=te[10],St=te[11],kt=te[12],zt=te[13],qt=te[14],dn=te[15],xn=Ee[0],yn=Ee[1],An=Ee[2],In=Ee[3],Dn=Ee[4],st=Ee[5],Dt=Ee[6],jt=Ee[7],Wt=Ee[8],Ht=Ee[9],Nt=Ee[10],Yt=Ee[11],Jt=Ee[12],an=Ee[13],Ot=Ee[14],yt=Ee[15];return Math.abs(je-xn)<=O.E*Math.max(1,Math.abs(je),Math.abs(xn))&&Math.abs(Ye-yn)<=O.E*Math.max(1,Math.abs(Ye),Math.abs(yn))&&Math.abs(ht-An)<=O.E*Math.max(1,Math.abs(ht),Math.abs(An))&&Math.abs(ot-In)<=O.E*Math.max(1,Math.abs(ot),Math.abs(In))&&Math.abs(at-Dn)<=O.E*Math.max(1,Math.abs(at),Math.abs(Dn))&&Math.abs(lt-st)<=O.E*Math.max(1,Math.abs(lt),Math.abs(st))&&Math.abs(tt-Dt)<=O.E*Math.max(1,Math.abs(tt),Math.abs(Dt))&&Math.abs(vt-jt)<=O.E*Math.max(1,Math.abs(vt),Math.abs(jt))&&Math.abs(Ke-Wt)<=O.E*Math.max(1,Math.abs(Ke),Math.abs(Wt))&&Math.abs(ut-Ht)<=O.E*Math.max(1,Math.abs(ut),Math.abs(Ht))&&Math.abs(Et-Nt)<=O.E*Math.max(1,Math.abs(Et),Math.abs(Nt))&&Math.abs(St-Yt)<=O.E*Math.max(1,Math.abs(St),Math.abs(Yt))&&Math.abs(kt-Jt)<=O.E*Math.max(1,Math.abs(kt),Math.abs(Jt))&&Math.abs(zt-an)<=O.E*Math.max(1,Math.abs(zt),Math.abs(an))&&Math.abs(qt-Ot)<=O.E*Math.max(1,Math.abs(qt),Math.abs(Ot))&&Math.abs(dn-yt)<=O.E*Math.max(1,Math.abs(dn),Math.abs(yt))}function nt(te){const Ee=O.E,je=te[0],Ye=te[1],ht=te[2],ot=te[4],at=te[5],lt=te[6],tt=te[8],vt=te[9],Ke=te[10];return Math.abs(1-(je*je+ot*ot+tt*tt))<=Ee&&Math.abs(1-(Ye*Ye+at*at+vt*vt))<=Ee&&Math.abs(1-(ht*ht+lt*lt+Ke*Ke))<=Ee}Object.freeze({__proto__:null,copy:function X(te,Ee){return te[0]=Ee[0],te[1]=Ee[1],te[2]=Ee[2],te[3]=Ee[3],te[4]=Ee[4],te[5]=Ee[5],te[6]=Ee[6],te[7]=Ee[7],te[8]=Ee[8],te[9]=Ee[9],te[10]=Ee[10],te[11]=Ee[11],te[12]=Ee[12],te[13]=Ee[13],te[14]=Ee[14],te[15]=Ee[15],te},set:B,identity:N,transpose:ee,invert:z,adjoint:function L(te,Ee){const je=Ee[0],Ye=Ee[1],ht=Ee[2],ot=Ee[3],at=Ee[4],lt=Ee[5],tt=Ee[6],vt=Ee[7],Ke=Ee[8],ut=Ee[9],Et=Ee[10],St=Ee[11],kt=Ee[12],zt=Ee[13],qt=Ee[14],dn=Ee[15];return te[0]=lt*(Et*dn-St*qt)-ut*(tt*dn-vt*qt)+zt*(tt*St-vt*Et),te[1]=-(Ye*(Et*dn-St*qt)-ut*(ht*dn-ot*qt)+zt*(ht*St-ot*Et)),te[2]=Ye*(tt*dn-vt*qt)-lt*(ht*dn-ot*qt)+zt*(ht*vt-ot*tt),te[3]=-(Ye*(tt*St-vt*Et)-lt*(ht*St-ot*Et)+ut*(ht*vt-ot*tt)),te[4]=-(at*(Et*dn-St*qt)-Ke*(tt*dn-vt*qt)+kt*(tt*St-vt*Et)),te[5]=je*(Et*dn-St*qt)-Ke*(ht*dn-ot*qt)+kt*(ht*St-ot*Et),te[6]=-(je*(tt*dn-vt*qt)-at*(ht*dn-ot*qt)+kt*(ht*vt-ot*tt)),te[7]=je*(tt*St-vt*Et)-at*(ht*St-ot*Et)+Ke*(ht*vt-ot*tt),te[8]=at*(ut*dn-St*zt)-Ke*(lt*dn-vt*zt)+kt*(lt*St-vt*ut),te[9]=-(je*(ut*dn-St*zt)-Ke*(Ye*dn-ot*zt)+kt*(Ye*St-ot*ut)),te[10]=je*(lt*dn-vt*zt)-at*(Ye*dn-ot*zt)+kt*(Ye*vt-ot*lt),te[11]=-(je*(lt*St-vt*ut)-at*(Ye*St-ot*ut)+Ke*(Ye*vt-ot*lt)),te[12]=-(at*(ut*qt-Et*zt)-Ke*(lt*qt-tt*zt)+kt*(lt*Et-tt*ut)),te[13]=je*(ut*qt-Et*zt)-Ke*(Ye*qt-ht*zt)+kt*(Ye*Et-ht*ut),te[14]=-(je*(lt*qt-tt*zt)-at*(Ye*qt-ht*zt)+kt*(Ye*tt-ht*lt)),te[15]=je*(lt*Et-tt*ut)-at*(Ye*Et-ht*ut)+Ke*(Ye*tt-ht*lt),te},determinant:function T(te){const Ee=te[0],je=te[1],Ye=te[2],ht=te[3],ot=te[4],at=te[5],lt=te[6],tt=te[7],vt=te[8],Ke=te[9],ut=te[10],Et=te[11],St=te[12],kt=te[13],zt=te[14],qt=te[15];return(Ee*at-je*ot)*(ut*qt-Et*zt)-(Ee*lt-Ye*ot)*(Ke*qt-Et*kt)+(Ee*tt-ht*ot)*(Ke*zt-ut*kt)+(je*lt-Ye*at)*(vt*qt-Et*St)-(je*tt-ht*at)*(vt*zt-ut*St)+(Ye*tt-ht*lt)*(vt*kt-Ke*St)},multiply:x,translate:Z,scale:Y,rotate:$,rotateX:function se(te,Ee,je){const Ye=Math.sin(je),ht=Math.cos(je),ot=Ee[4],at=Ee[5],lt=Ee[6],tt=Ee[7],vt=Ee[8],Ke=Ee[9],ut=Ee[10],Et=Ee[11];return Ee!==te&&(te[0]=Ee[0],te[1]=Ee[1],te[2]=Ee[2],te[3]=Ee[3],te[12]=Ee[12],te[13]=Ee[13],te[14]=Ee[14],te[15]=Ee[15]),te[4]=ot*ht+vt*Ye,te[5]=at*ht+Ke*Ye,te[6]=lt*ht+ut*Ye,te[7]=tt*ht+Et*Ye,te[8]=vt*ht-ot*Ye,te[9]=Ke*ht-at*Ye,te[10]=ut*ht-lt*Ye,te[11]=Et*ht-tt*Ye,te},rotateY:function ne(te,Ee,je){const Ye=Math.sin(je),ht=Math.cos(je),ot=Ee[0],at=Ee[1],lt=Ee[2],tt=Ee[3],vt=Ee[8],Ke=Ee[9],ut=Ee[10],Et=Ee[11];return Ee!==te&&(te[4]=Ee[4],te[5]=Ee[5],te[6]=Ee[6],te[7]=Ee[7],te[12]=Ee[12],te[13]=Ee[13],te[14]=Ee[14],te[15]=Ee[15]),te[0]=ot*ht-vt*Ye,te[1]=at*ht-Ke*Ye,te[2]=lt*ht-ut*Ye,te[3]=tt*ht-Et*Ye,te[8]=ot*Ye+vt*ht,te[9]=at*Ye+Ke*ht,te[10]=lt*Ye+ut*ht,te[11]=tt*Ye+Et*ht,te},rotateZ:function j(te,Ee,je){const Ye=Math.sin(je),ht=Math.cos(je),ot=Ee[0],at=Ee[1],lt=Ee[2],tt=Ee[3],vt=Ee[4],Ke=Ee[5],ut=Ee[6],Et=Ee[7];return Ee!==te&&(te[8]=Ee[8],te[9]=Ee[9],te[10]=Ee[10],te[11]=Ee[11],te[12]=Ee[12],te[13]=Ee[13],te[14]=Ee[14],te[15]=Ee[15]),te[0]=ot*ht+vt*Ye,te[1]=at*ht+Ke*Ye,te[2]=lt*ht+ut*Ye,te[3]=tt*ht+Et*Ye,te[4]=vt*ht-ot*Ye,te[5]=Ke*ht-at*Ye,te[6]=ut*ht-lt*Ye,te[7]=Et*ht-tt*Ye,te},fromTranslation:I,fromScaling:w,fromRotation:F,fromXRotation:k,fromYRotation:function W(te,Ee){const je=Math.sin(Ee),Ye=Math.cos(Ee);return te[0]=Ye,te[1]=0,te[2]=-je,te[3]=0,te[4]=0,te[5]=1,te[6]=0,te[7]=0,te[8]=je,te[9]=0,te[10]=Ye,te[11]=0,te[12]=0,te[13]=0,te[14]=0,te[15]=1,te},fromZRotation:function re(te,Ee){const je=Math.sin(Ee),Ye=Math.cos(Ee);return te[0]=Ye,te[1]=je,te[2]=0,te[3]=0,te[4]=-je,te[5]=Ye,te[6]=0,te[7]=0,te[8]=0,te[9]=0,te[10]=1,te[11]=0,te[12]=0,te[13]=0,te[14]=0,te[15]=1,te},fromRotationTranslation:Q,fromQuat2:function ue(te,Ee){const je=he,Ye=-Ee[0],ht=-Ee[1],ot=-Ee[2],at=Ee[3],lt=Ee[4],tt=Ee[5],vt=Ee[6],Ke=Ee[7],ut=Ye*Ye+ht*ht+ot*ot+at*at;return ut>0?(je[0]=2*(lt*at+Ke*Ye+tt*ot-vt*ht)/ut,je[1]=2*(tt*at+Ke*ht+vt*Ye-lt*ot)/ut,je[2]=2*(vt*at+Ke*ot+lt*ht-tt*Ye)/ut):(je[0]=2*(lt*at+Ke*Ye+tt*ot-vt*ht),je[1]=2*(tt*at+Ke*ht+vt*Ye-lt*ot),je[2]=2*(vt*at+Ke*ot+lt*ht-tt*Ye)),Q(te,Ee,je),te},getTranslation:function fe(te,Ee){return te[0]=Ee[12],te[1]=Ee[13],te[2]=Ee[14],te},getScaling:function pe(te,Ee){const je=Ee[0],Ye=Ee[1],ht=Ee[2],ot=Ee[4],at=Ee[5],lt=Ee[6],tt=Ee[8],vt=Ee[9],Ke=Ee[10];return te[0]=Math.sqrt(je*je+Ye*Ye+ht*ht),te[1]=Math.sqrt(ot*ot+at*at+lt*lt),te[2]=Math.sqrt(tt*tt+vt*vt+Ke*Ke),te},getRotation:function oe(te,Ee){const je=Ee[0]+Ee[5]+Ee[10];let Ye=0;return je>0?(Ye=2*Math.sqrt(je+1),te[3]=.25*Ye,te[0]=(Ee[6]-Ee[9])/Ye,te[1]=(Ee[8]-Ee[2])/Ye,te[2]=(Ee[1]-Ee[4])/Ye):Ee[0]>Ee[5]&&Ee[0]>Ee[10]?(Ye=2*Math.sqrt(1+Ee[0]-Ee[5]-Ee[10]),te[3]=(Ee[6]-Ee[9])/Ye,te[0]=.25*Ye,te[1]=(Ee[1]+Ee[4])/Ye,te[2]=(Ee[8]+Ee[2])/Ye):Ee[5]>Ee[10]?(Ye=2*Math.sqrt(1+Ee[5]-Ee[0]-Ee[10]),te[3]=(Ee[8]-Ee[2])/Ye,te[0]=(Ee[1]+Ee[4])/Ye,te[1]=.25*Ye,te[2]=(Ee[6]+Ee[9])/Ye):(Ye=2*Math.sqrt(1+Ee[10]-Ee[0]-Ee[5]),te[3]=(Ee[1]-Ee[4])/Ye,te[0]=(Ee[8]+Ee[2])/Ye,te[1]=(Ee[6]+Ee[9])/Ye,te[2]=.25*Ye),te},fromRotationTranslationScale:function K(te,Ee,je,Ye){const ht=Ee[0],ot=Ee[1],at=Ee[2],lt=Ee[3],tt=ht+ht,vt=ot+ot,Ke=at+at,ut=ht*tt,Et=ht*vt,St=ht*Ke,kt=ot*vt,zt=ot*Ke,qt=at*Ke,dn=lt*tt,xn=lt*vt,yn=lt*Ke,An=Ye[0],In=Ye[1],Dn=Ye[2];return te[0]=(1-(kt+qt))*An,te[1]=(Et+yn)*An,te[2]=(St-xn)*An,te[3]=0,te[4]=(Et-yn)*In,te[5]=(1-(ut+qt))*In,te[6]=(zt+dn)*In,te[7]=0,te[8]=(St+xn)*Dn,te[9]=(zt-dn)*Dn,te[10]=(1-(ut+kt))*Dn,te[11]=0,te[12]=je[0],te[13]=je[1],te[14]=je[2],te[15]=1,te},fromRotationTranslationScaleOrigin:function de(te,Ee,je,Ye,ht){const ot=Ee[0],at=Ee[1],lt=Ee[2],tt=Ee[3],vt=ot+ot,Ke=at+at,ut=lt+lt,Et=ot*vt,St=ot*Ke,kt=ot*ut,zt=at*Ke,qt=at*ut,dn=lt*ut,xn=tt*vt,yn=tt*Ke,An=tt*ut,In=Ye[0],Dn=Ye[1],st=Ye[2],Dt=ht[0],jt=ht[1],Wt=ht[2],Ht=(1-(zt+dn))*In,Nt=(St+An)*In,Yt=(kt-yn)*In,Jt=(St-An)*Dn,an=(1-(Et+dn))*Dn,Ot=(qt+xn)*Dn,yt=(kt+yn)*st,ze=(qt-xn)*st,mt=(1-(Et+zt))*st;return te[0]=Ht,te[1]=Nt,te[2]=Yt,te[3]=0,te[4]=Jt,te[5]=an,te[6]=Ot,te[7]=0,te[8]=yt,te[9]=ze,te[10]=mt,te[11]=0,te[12]=je[0]+Dt-(Ht*Dt+Jt*jt+yt*Wt),te[13]=je[1]+jt-(Nt*Dt+an*jt+ze*Wt),te[14]=je[2]+Wt-(Yt*Dt+Ot*jt+mt*Wt),te[15]=1,te},fromQuat:function le(te,Ee){const je=Ee[0],Ye=Ee[1],ht=Ee[2],ot=Ee[3],at=je+je,lt=Ye+Ye,tt=ht+ht,vt=je*at,Ke=Ye*at,ut=Ye*lt,Et=ht*at,St=ht*lt,kt=ht*tt,zt=ot*at,qt=ot*lt,dn=ot*tt;return te[0]=1-ut-kt,te[1]=Ke+dn,te[2]=Et-qt,te[3]=0,te[4]=Ke-dn,te[5]=1-vt-kt,te[6]=St+zt,te[7]=0,te[8]=Et+qt,te[9]=St-zt,te[10]=1-vt-ut,te[11]=0,te[12]=0,te[13]=0,te[14]=0,te[15]=1,te},frustum:function me(te,Ee,je,Ye,ht,ot,at){const lt=1/(je-Ee),tt=1/(ht-Ye),vt=1/(ot-at);return te[0]=2*ot*lt,te[1]=0,te[2]=0,te[3]=0,te[4]=0,te[5]=2*ot*tt,te[6]=0,te[7]=0,te[8]=(je+Ee)*lt,te[9]=(ht+Ye)*tt,te[10]=(at+ot)*vt,te[11]=-1,te[12]=0,te[13]=0,te[14]=at*ot*2*vt,te[15]=0,te},perspective:function ce(te,Ee,je,Ye,ht){const ot=1/Math.tan(Ee/2);let at;return te[0]=ot/je,te[1]=0,te[2]=0,te[3]=0,te[4]=0,te[5]=ot,te[6]=0,te[7]=0,te[8]=0,te[9]=0,te[11]=-1,te[12]=0,te[13]=0,te[15]=0,null!=ht&&ht!==1/0?(at=1/(Ye-ht),te[10]=(ht+Ye)*at,te[14]=2*ht*Ye*at):(te[10]=-1,te[14]=-2*Ye),te},perspectiveFromFieldOfView:function ge(te,Ee,je,Ye){const ht=Math.tan(Ee.upDegrees*Math.PI/180),ot=Math.tan(Ee.downDegrees*Math.PI/180),at=Math.tan(Ee.leftDegrees*Math.PI/180),lt=Math.tan(Ee.rightDegrees*Math.PI/180),tt=2/(at+lt),vt=2/(ht+ot);return te[0]=tt,te[1]=0,te[2]=0,te[3]=0,te[4]=0,te[5]=vt,te[6]=0,te[7]=0,te[8]=-(at-lt)*tt*.5,te[9]=(ht-ot)*vt*.5,te[10]=Ye/(je-Ye),te[11]=-1,te[12]=0,te[13]=0,te[14]=Ye*je/(je-Ye),te[15]=0,te},ortho:function J(te,Ee,je,Ye,ht,ot,at){const lt=1/(Ee-je),tt=1/(Ye-ht),vt=1/(ot-at);return te[0]=-2*lt,te[1]=0,te[2]=0,te[3]=0,te[4]=0,te[5]=-2*tt,te[6]=0,te[7]=0,te[8]=0,te[9]=0,te[10]=2*vt,te[11]=0,te[12]=(Ee+je)*lt,te[13]=(ht+Ye)*tt,te[14]=(at+ot)*vt,te[15]=1,te},lookAt:function ie(te,Ee,je,Ye){let ht,ot,at,lt,tt,vt,Ke,ut,Et,St;const kt=Ee[0],zt=Ee[1],qt=Ee[2],dn=Ye[0],xn=Ye[1],yn=Ye[2],An=je[0],In=je[1],Dn=je[2];return Math.abs(kt-An)<O.E&&Math.abs(zt-In)<O.E&&Math.abs(qt-Dn)<O.E?N(te):(Ke=kt-An,ut=zt-In,Et=qt-Dn,St=1/Math.sqrt(Ke*Ke+ut*ut+Et*Et),Ke*=St,ut*=St,Et*=St,ht=xn*Et-yn*ut,ot=yn*Ke-dn*Et,at=dn*ut-xn*Ke,St=Math.sqrt(ht*ht+ot*ot+at*at),St?(St=1/St,ht*=St,ot*=St,at*=St):(ht=0,ot=0,at=0),lt=ut*at-Et*ot,tt=Et*ht-Ke*at,vt=Ke*ot-ut*ht,St=Math.sqrt(lt*lt+tt*tt+vt*vt),St?(St=1/St,lt*=St,tt*=St,vt*=St):(lt=0,tt=0,vt=0),te[0]=ht,te[1]=lt,te[2]=Ke,te[3]=0,te[4]=ot,te[5]=tt,te[6]=ut,te[7]=0,te[8]=at,te[9]=vt,te[10]=Et,te[11]=0,te[12]=-(ht*kt+ot*zt+at*qt),te[13]=-(lt*kt+tt*zt+vt*qt),te[14]=-(Ke*kt+ut*zt+Et*qt),te[15]=1,te)},targetTo:function De(te,Ee,je,Ye){const ht=Ee[0],ot=Ee[1],at=Ee[2],lt=Ye[0],tt=Ye[1],vt=Ye[2];let Ke=ht-je[0],ut=ot-je[1],Et=at-je[2],St=Ke*Ke+ut*ut+Et*Et;St>0&&(St=1/Math.sqrt(St),Ke*=St,ut*=St,Et*=St);let kt=tt*Et-vt*ut,zt=vt*Ke-lt*Et,qt=lt*ut-tt*Ke;return St=kt*kt+zt*zt+qt*qt,St>0&&(St=1/Math.sqrt(St),kt*=St,zt*=St,qt*=St),te[0]=kt,te[1]=zt,te[2]=qt,te[3]=0,te[4]=ut*qt-Et*zt,te[5]=Et*kt-Ke*qt,te[6]=Ke*zt-ut*kt,te[7]=0,te[8]=Ke,te[9]=ut,te[10]=Et,te[11]=0,te[12]=ht,te[13]=ot,te[14]=at,te[15]=1,te},str:function _e(te){return"mat4("+te[0]+", "+te[1]+", "+te[2]+", "+te[3]+", "+te[4]+", "+te[5]+", "+te[6]+", "+te[7]+", "+te[8]+", "+te[9]+", "+te[10]+", "+te[11]+", "+te[12]+", "+te[13]+", "+te[14]+", "+te[15]+")"},frob:function Ie(te){return Math.sqrt(te[0]**2+te[1]**2+te[2]**2+te[3]**2+te[4]**2+te[5]**2+te[6]**2+te[7]**2+te[8]**2+te[9]**2+te[10]**2+te[11]**2+te[12]**2+te[13]**2+te[14]**2+te[15]**2)},add:function xe(te,Ee,je){return te[0]=Ee[0]+je[0],te[1]=Ee[1]+je[1],te[2]=Ee[2]+je[2],te[3]=Ee[3]+je[3],te[4]=Ee[4]+je[4],te[5]=Ee[5]+je[5],te[6]=Ee[6]+je[6],te[7]=Ee[7]+je[7],te[8]=Ee[8]+je[8],te[9]=Ee[9]+je[9],te[10]=Ee[10]+je[10],te[11]=Ee[11]+je[11],te[12]=Ee[12]+je[12],te[13]=Ee[13]+je[13],te[14]=Ee[14]+je[14],te[15]=Ee[15]+je[15],te},subtract:ke,multiplyScalar:function Ve(te,Ee,je){return te[0]=Ee[0]*je,te[1]=Ee[1]*je,te[2]=Ee[2]*je,te[3]=Ee[3]*je,te[4]=Ee[4]*je,te[5]=Ee[5]*je,te[6]=Ee[6]*je,te[7]=Ee[7]*je,te[8]=Ee[8]*je,te[9]=Ee[9]*je,te[10]=Ee[10]*je,te[11]=Ee[11]*je,te[12]=Ee[12]*je,te[13]=Ee[13]*je,te[14]=Ee[14]*je,te[15]=Ee[15]*je,te},multiplyScalarAndAdd:function ve(te,Ee,je,Ye){return te[0]=Ee[0]+je[0]*Ye,te[1]=Ee[1]+je[1]*Ye,te[2]=Ee[2]+je[2]*Ye,te[3]=Ee[3]+je[3]*Ye,te[4]=Ee[4]+je[4]*Ye,te[5]=Ee[5]+je[5]*Ye,te[6]=Ee[6]+je[6]*Ye,te[7]=Ee[7]+je[7]*Ye,te[8]=Ee[8]+je[8]*Ye,te[9]=Ee[9]+je[9]*Ye,te[10]=Ee[10]+je[10]*Ye,te[11]=Ee[11]+je[11]*Ye,te[12]=Ee[12]+je[12]*Ye,te[13]=Ee[13]+je[13]*Ye,te[14]=Ee[14]+je[14]*Ye,te[15]=Ee[15]+je[15]*Ye,te},exactEquals:we,equals:We,isOrthoNormal:nt,mul:x,sub:ke})},55494:(Qe,Me,E)=>{"use strict";function M(){const z=new Float32Array(16);return z[0]=1,z[5]=1,z[10]=1,z[15]=1,z}E.d(Me,{c:()=>M});const N=M();Object.freeze({__proto__:null,create:M,clone:function O(z){const L=new Float32Array(16);return L[0]=z[0],L[1]=z[1],L[2]=z[2],L[3]=z[3],L[4]=z[4],L[5]=z[5],L[6]=z[6],L[7]=z[7],L[8]=z[8],L[9]=z[9],L[10]=z[10],L[11]=z[11],L[12]=z[12],L[13]=z[13],L[14]=z[14],L[15]=z[15],L},fromValues:function X(z,L,T,x,Z,Y,$,se,ne,j,I,w,F,k,W,re){const Q=new Float32Array(16);return Q[0]=z,Q[1]=L,Q[2]=T,Q[3]=x,Q[4]=Z,Q[5]=Y,Q[6]=$,Q[7]=se,Q[8]=ne,Q[9]=j,Q[10]=I,Q[11]=w,Q[12]=F,Q[13]=k,Q[14]=W,Q[15]=re,Q},createView:function B(z,L){return new Float32Array(z,L,16)},IDENTITY:N})},44956:(Qe,Me,E)=>{"use strict";E.d(Me,{e:()=>x,f:()=>T,g:()=>L,h:()=>se,i:()=>N,j:()=>F,l:()=>z,p:()=>fe});var M=E(54346),O=E(8314);let X,B=null;function N(){return!!B}function z(){return X||(X=E.e(352).then(E.bind(E,73714)).then(pe=>pe.p).then(({default:pe})=>pe({locateFile:oe=>(0,M.V)(`esri/geometry/support/${oe}`)})).then(pe=>{W(pe)}),X)}var L,T,x,pe;(function(pe){function oe(me,ce,ge){B.ensureCache.prepare();const J=ue(ge),ie=ge===J,De=B.ensureFloat64(J),_e=B._pe_geog_to_proj(B.getPointer(me),ce,De);return _e&&he(ge,ce,De,ie),_e}function de(me,ce,ge){return le(me,ce,ge,0)}function le(me,ce,ge,J){B.ensureCache.prepare();const ie=ue(ge),De=ge===ie,_e=B.ensureFloat64(ie),Ie=B._pe_proj_to_geog_center(B.getPointer(me),ce,_e,J);return Ie&&he(ge,ce,_e,De),Ie}pe.geogToProj=oe,pe.projGeog=function K(me,ce,ge,J){switch(J){case T.PE_TRANSFORM_P_TO_G:return de(me,ce,ge);case T.PE_TRANSFORM_G_TO_P:return oe(me,ce,ge)}return 0},pe.projToGeog=de,pe.projToGeogCenter=le})(L||(L={})),(pe=T||(T={})).init=function oe(){pe.PE_BUFFER_MAX=B.PeDefs.prototype.PE_BUFFER_MAX,pe.PE_NAME_MAX=B.PeDefs.prototype.PE_NAME_MAX,pe.PE_MGRS_MAX=B.PeDefs.prototype.PE_MGRS_MAX,pe.PE_USNG_MAX=B.PeDefs.prototype.PE_USNG_MAX,pe.PE_DD_MAX=B.PeDefs.prototype.PE_DD_MAX,pe.PE_DDM_MAX=B.PeDefs.prototype.PE_DDM_MAX,pe.PE_DMS_MAX=B.PeDefs.prototype.PE_DMS_MAX,pe.PE_UTM_MAX=B.PeDefs.prototype.PE_UTM_MAX,pe.PE_PARM_MAX=B.PeDefs.prototype.PE_PARM_MAX,pe.PE_TYPE_NONE=B.PeDefs.prototype.PE_TYPE_NONE,pe.PE_TYPE_GEOGCS=B.PeDefs.prototype.PE_TYPE_GEOGCS,pe.PE_TYPE_PROJCS=B.PeDefs.prototype.PE_TYPE_PROJCS,pe.PE_TYPE_GEOGTRAN=B.PeDefs.prototype.PE_TYPE_GEOGTRAN,pe.PE_TYPE_COORDSYS=B.PeDefs.prototype.PE_TYPE_COORDSYS,pe.PE_TYPE_UNIT=B.PeDefs.prototype.PE_TYPE_UNIT,pe.PE_TYPE_LINUNIT=B.PeDefs.prototype.PE_TYPE_LINUNIT,pe.PE_STR_OPTS_NONE=B.PeDefs.prototype.PE_STR_OPTS_NONE,pe.PE_STR_AUTH_NONE=B.PeDefs.prototype.PE_STR_AUTH_NONE,pe.PE_STR_AUTH_TOP=B.PeDefs.prototype.PE_STR_AUTH_TOP,pe.PE_STR_NAME_CANON=B.PeDefs.prototype.PE_STR_NAME_CANON,pe.PE_PARM_X0=B.PeDefs.prototype.PE_PARM_X0,pe.PE_PARM_ND=B.PeDefs.prototype.PE_PARM_ND,pe.PE_TRANSFORM_1_TO_2=B.PeDefs.prototype.PE_TRANSFORM_1_TO_2,pe.PE_TRANSFORM_2_TO_1=B.PeDefs.prototype.PE_TRANSFORM_2_TO_1,pe.PE_TRANSFORM_P_TO_G=B.PeDefs.prototype.PE_TRANSFORM_P_TO_G,pe.PE_TRANSFORM_G_TO_P=B.PeDefs.prototype.PE_TRANSFORM_G_TO_P,pe.PE_HORIZON_RECT=B.PeDefs.prototype.PE_HORIZON_RECT,pe.PE_HORIZON_POLY=B.PeDefs.prototype.PE_HORIZON_POLY,pe.PE_HORIZON_LINE=B.PeDefs.prototype.PE_HORIZON_LINE,pe.PE_HORIZON_DELTA=B.PeDefs.prototype.PE_HORIZON_DELTA},function(pe){const oe={},K={},de=xe=>{if(xe){const ke=xe.getType();switch(ke){case T.PE_TYPE_GEOGCS:xe=B.castObject(xe,B.PeGeogcs);break;case T.PE_TYPE_PROJCS:xe=B.castObject(xe,B.PeProjcs);break;case T.PE_TYPE_GEOGTRAN:xe=B.castObject(xe,B.PeGeogtran);break;default:ke&T.PE_TYPE_UNIT&&(xe=B.castObject(xe,B.PeUnit))}}return xe};function ce(xe,ke){let Ve=null,ve=oe[xe];if(ve||(ve={},oe[xe]=ve),ve.hasOwnProperty(String(ke)))Ve=ve[ke];else{const we=B.PeFactory.prototype.factoryByType(xe,ke);B.compare(we,B.NULL)||(Ve=we,ve[ke]=Ve)}return Ve=de(Ve),Ve}pe.initialize=function le(){B.PeFactory.prototype.initialize(null)},pe.coordsys=function me(xe){return ce(T.PE_TYPE_COORDSYS,xe)},pe.factoryByType=ce,pe.fromString=function ge(xe,ke){let Ve=null,ve=K[xe];if(ve||(ve={},K[xe]=ve),ve.hasOwnProperty(ke))Ve=ve[ke];else{const we=B.PeFactory.prototype.fromString(xe,ke);B.compare(we,B.NULL)||(Ve=we,ve[ke]=Ve)}return Ve=de(Ve),Ve},pe.geogcs=function J(xe){return ce(T.PE_TYPE_GEOGCS,xe)},pe.geogtran=function ie(xe){return ce(T.PE_TYPE_GEOGTRAN,xe)},pe.getCode=function De(xe){return B.PeFactory.prototype.getCode(xe)},pe.projcs=function _e(xe){return ce(T.PE_TYPE_PROJCS,xe)},pe.unit=function Ie(xe){return ce(T.PE_TYPE_UNIT,xe)}}(x||(x={}));let Z=null;var Y,$,se,ne,j,I,w,F,k;function W(pe){function oe(me,ce,ge){me[ce]=ge(me[ce])}B=pe,T.init(),Y.init(),j.init(),w.init(),F.init(),Z=class extends B.PeGCSExtent{destroy(){B.destroy(this)}};const K=[B.PeDatum,B.PeGeogcs,B.PeGeogtran,B.PeObject,B.PeParameter,B.PePrimem,B.PeProjcs,B.PeSpheroid,B.PeUnit];for(const me of K)oe(me.prototype,"getName",ce=>function(){return ce.call(this,new Array(T.PE_NAME_MAX))});for(const me of[B.PeGeogtran,B.PeProjcs])oe(me.prototype,"getParameters",ce=>function(){const ge=new Array(T.PE_PARM_MAX);let J=ce.call(this);for(let ie=0;ie<ge.length;ie++){const De=B.getValue(J,"*");ge[ie]=De?B.wrapPointer(De,B.PeParameter):null,J+=Int32Array.BYTES_PER_ELEMENT}return ge});oe(B.PeHorizon.prototype,"getCoord",me=>function(){const ce=this.getSize();if(!ce)return null;const ge=[];return he(ge,ce,me.call(this)),ge}),oe(B.PeGTlistExtendedEntry.prototype,"getEntries",me=>{const ce=B._pe_getPeGTlistExtendedGTsSize();return function(){let ge=null;const J=me.call(this);if(!B.compare(J,B.NULL)){ge=[J];const ie=this.getSteps();if(ie>1){const De=B.getPointer(J);for(let _e=1;_e<ie;_e++)ge.push(B.wrapPointer(De+ce*_e,B.PeGTlistExtendedGTs))}}return ge}});const de=B._pe_getPeHorizonSize(),le=me=>function(){let ce=this._cache;if(ce||(ce=new Map,this._cache=ce),ce.has(me))return ce.get(me);let ge=null;const J=me.call(this);if(!B.compare(J,B.NULL)){ge=[J];const ie=J.getNump();if(ie>1){const De=B.getPointer(J);for(let _e=1;_e<ie;_e++)ge.push(B.wrapPointer(De+de*_e,B.PeHorizon))}}return ce.set(me,ge),ge};oe(B.PeProjcs.prototype,"horizonGcsGenerate",le),oe(B.PeProjcs.prototype,"horizonPcsGenerate",le),B.PeObject.prototype.toString=function(me=T.PE_STR_OPTS_NONE){B.ensureCache.prepare();const ce=B.getPointer(this),ge=B.ensureInt8(new Array(T.PE_BUFFER_MAX));return B.UTF8ToString(B._pe_object_to_string_ext(ce,me,ge))}}function re(pe){if(!pe)return;const oe=B.getClass(pe);if(!oe)return;const K=B.getCache(oe);if(!K)return;const de=B.getPointer(pe);de&&delete K[de]}function Q(pe,oe){const K=[],de=new Array(oe);for(let le=0;le<pe;le++)K.push(B.ensureInt8(de));return K}function ue(pe){let oe;return Array.isArray(pe[0])?(oe=[],pe.forEach(K=>{oe.push(K[0],K[1])})):oe=pe,oe}function he(pe,oe,K,de=!1){if(de)for(let le=0;le<2*oe;le++)pe[le]=B.getValue(K+le*Float64Array.BYTES_PER_ELEMENT,"double");else{const le=0===pe.length;for(let me=0;me<oe;me++)le&&(pe[me]=new Array(2)),pe[me][0]=B.getValue(K,"double"),pe[me][1]=B.getValue(K+Float64Array.BYTES_PER_ELEMENT,"double"),K+=2*Float64Array.BYTES_PER_ELEMENT}}(function(pe){let oe;pe.init=function K(){pe.PE_GTLIST_OPTS_COMMON=B.PeGTlistExtended.prototype.PE_GTLIST_OPTS_COMMON,oe=B._pe_getPeGTlistExtendedEntrySize()},pe.getGTlist=function de(le,me,ce,ge,J,ie){let De=null;const _e=new B.PeInteger(ie);try{const Ie=B.PeGTlistExtended.prototype.getGTlist(le,me,ce,ge,J,_e);if((ie=_e.val)&&(De=[Ie],ie>1)){const xe=B.getPointer(Ie);for(let ke=1;ke<ie;ke++)De.push(B.wrapPointer(xe+oe*ke,B.PeGTlistExtendedEntry))}}finally{B.destroy(_e)}return De}})(Y||(Y={})),function(pe){pe.destroy=function oe(K){if(K&&K.length){for(const de of K)re(de),de.getEntries().forEach(le=>{re(le);const me=le.getGeogtran();re(me),me.getParameters().forEach(re),[me.getGeogcs1(),me.getGeogcs2()].forEach(ce=>{re(ce);const ge=ce.getDatum();re(ge),re(ge.getSpheroid()),re(ce.getPrimem()),re(ce.getUnit())})});B.PeGTlistExtendedEntry.prototype.Delete(K[0])}}}($||($={})),function(pe){pe.geogToGeog=function oe(K,de,le,me,ce){B.ensureCache.prepare();const ge=ue(le),J=le===ge,ie=B.ensureFloat64(ge);let De=0;me&&(De=B.ensureFloat64(me));const _e=B._pe_geog_to_geog(B.getPointer(K),de,ie,De,ce);return _e&&he(le,de,ie,J),_e}}(se||(se={})),function(pe){const oe=(ie,De,_e,Ie,xe,ke)=>{let Ve,ve;switch(B.ensureCache.prepare(),ie){case"dd":Ve=B._pe_geog_to_dd,ve=T.PE_DD_MAX;break;case"ddm":Ve=B._pe_geog_to_ddm,ve=T.PE_DDM_MAX;break;case"dms":Ve=B._pe_geog_to_dms,ve=T.PE_DMS_MAX}let we=0;De&&(we=B.getPointer(De));const We=ue(Ie),nt=B.ensureFloat64(We),Te=Q(_e,ve),Ze=Ve(we,_e,nt,xe,B.ensureInt32(Te));if(Ze)for(let He=0;He<_e;He++)ke[He]=B.UTF8ToString(Te[He]);return Ze},K=(ie,De,_e,Ie,xe)=>{let ke;switch(B.ensureCache.prepare(),ie){case"dd":ke=B._pe_dd_to_geog;break;case"ddm":ke=B._pe_ddm_to_geog;break;case"dms":ke=B._pe_dms_to_geog}let Ve=0;De&&(Ve=B.getPointer(De));const ve=Ie.map(Te=>B.ensureString(Te)),we=B.ensureInt32(ve),We=B.ensureFloat64(new Array(2*_e)),nt=ke(Ve,_e,we,We);return nt&&he(xe,_e,We),nt};pe.geogToDms=function de(ie,De,_e,Ie,xe){return oe("dms",ie,De,_e,Ie,xe)},pe.dmsToGeog=function le(ie,De,_e,Ie){return K("dms",ie,De,_e,Ie)},pe.geogToDdm=function me(ie,De,_e,Ie,xe){return oe("ddm",ie,De,_e,Ie,xe)},pe.ddmToGeog=function ce(ie,De,_e,Ie){return K("ddm",ie,De,_e,Ie)},pe.geogToDd=function ge(ie,De,_e,Ie,xe){return oe("dd",ie,De,_e,Ie,xe)},pe.ddToGeog=function J(ie,De,_e,Ie){return K("dd",ie,De,_e,Ie)}}(ne||(ne={})),function(pe){pe.init=function oe(){pe.PE_MGRS_STYLE_NEW=B.PeNotationMgrs.prototype.PE_MGRS_STYLE_NEW,pe.PE_MGRS_STYLE_OLD=B.PeNotationMgrs.prototype.PE_MGRS_STYLE_OLD,pe.PE_MGRS_STYLE_AUTO=B.PeNotationMgrs.prototype.PE_MGRS_STYLE_AUTO,pe.PE_MGRS_180_ZONE_1_PLUS=B.PeNotationMgrs.prototype.PE_MGRS_180_ZONE_1_PLUS,pe.PE_MGRS_ADD_SPACES=B.PeNotationMgrs.prototype.PE_MGRS_ADD_SPACES},pe.geogToMgrsExtended=function K(le,me,ce,ge,J,ie,De){B.ensureCache.prepare();let _e=0;le&&(_e=B.getPointer(le));const Ie=ue(ce),xe=B.ensureFloat64(Ie),ke=Q(me,T.PE_MGRS_MAX),Ve=B.ensureInt32(ke),ve=B._pe_geog_to_mgrs_extended(_e,me,xe,ge,J,ie,Ve);if(ve)for(let we=0;we<me;we++)De[we]=B.UTF8ToString(ke[we]);return ve},pe.mgrsToGeogExtended=function de(le,me,ce,ge,J){B.ensureCache.prepare();let ie=0;le&&(ie=B.getPointer(le));const De=ce.map(ke=>B.ensureString(ke)),_e=B.ensureInt32(De),Ie=B.ensureFloat64(new Array(2*me)),xe=B._pe_mgrs_to_geog_extended(ie,me,_e,ge,Ie);return xe&&he(J,me,Ie),xe}}(j||(j={})),function(pe){pe.geogToUsng=function oe(de,le,me,ce,ge,J,ie){B.ensureCache.prepare();let De=0;de&&(De=B.getPointer(de));const _e=ue(me),Ie=B.ensureFloat64(_e),xe=Q(le,T.PE_MGRS_MAX),ke=B.ensureInt32(xe),Ve=B._pe_geog_to_usng(De,le,Ie,ce,ge,J,ke);if(Ve)for(let ve=0;ve<le;ve++)ie[ve]=B.UTF8ToString(xe[ve]);return Ve},pe.usngToGeog=function K(de,le,me,ce){B.ensureCache.prepare();let ge=0;de&&(ge=B.getPointer(de));const J=me.map(Ie=>B.ensureString(Ie)),ie=B.ensureInt32(J),De=B.ensureFloat64(new Array(2*le)),_e=B._pe_usng_to_geog(ge,le,ie,De);return _e&&he(ce,le,De),_e}}(I||(I={})),function(pe){pe.init=function oe(){pe.PE_UTM_OPTS_NONE=B.PeNotationUtm.prototype.PE_UTM_OPTS_NONE,pe.PE_UTM_OPTS_ADD_SPACES=B.PeNotationUtm.prototype.PE_UTM_OPTS_ADD_SPACES,pe.PE_UTM_OPTS_NS=B.PeNotationUtm.prototype.PE_UTM_OPTS_NS},pe.geogToUtm=function K(le,me,ce,ge,J){B.ensureCache.prepare();let ie=0;le&&(ie=B.getPointer(le));const De=ue(ce),_e=B.ensureFloat64(De),Ie=Q(me,T.PE_UTM_MAX),xe=B.ensureInt32(Ie),ke=B._pe_geog_to_utm(ie,me,_e,ge,xe);if(ke)for(let Ve=0;Ve<me;Ve++)J[Ve]=B.UTF8ToString(Ie[Ve]);return ke},pe.utmToGeog=function de(le,me,ce,ge,J){B.ensureCache.prepare();let ie=0;le&&(ie=B.getPointer(le));const De=ce.map(ke=>B.ensureString(ke)),_e=B.ensureInt32(De),Ie=B.ensureFloat64(new Array(2*me)),xe=B._pe_utm_to_geog(ie,me,_e,ge,Ie);return xe&&he(J,me,Ie),xe}}(w||(w={})),function(pe){const oe=new Map;pe.init=function K(){pe.PE_PCSINFO_OPTION_NONE=B.PePCSInfo.prototype.PE_PCSINFO_OPTION_NONE,pe.PE_PCSINFO_OPTION_DOMAIN=B.PePCSInfo.prototype.PE_PCSINFO_OPTION_DOMAIN,pe.PE_POLE_OUTSIDE_BOUNDARY=B.PePCSInfo.prototype.PE_POLE_OUTSIDE_BOUNDARY,pe.PE_POLE_POINT=B.PePCSInfo.prototype.PE_POLE_POINT},pe.generate=function de(le,me=pe.PE_PCSINFO_OPTION_DOMAIN){let ce,ge;return oe.has(le)&&(ge=oe.get(le),ge[me]&&(ce=ge[me])),ce||(ce=B.PePCSInfo.prototype.generate(le,me),ge||(ge=[],oe.set(le,ge)),ge[me]=ce),ce}}(F||(F={})),function(pe){pe.versionString=function oe(){return B.PeVersion.prototype.version_string()}}(k||(k={}));const fe=Object.freeze({__proto__:null,get _pe(){return B},isLoaded:N,isSupported:function ee(){return!!(0,O.Z)("esri-wasm")},load:z,get PeCSTransformations(){return L},get PeDefs(){return T},get PeFactory(){return x},get PeGCSExtent(){return Z},get PeGTlistExtended(){return Y},get PeGTlistExtendedEntry(){return $},get PeGTTransformations(){return se},get PeNotationDms(){return ne},get PeNotationMgrs(){return j},get PeNotationUsng(){return I},get PeNotationUtm(){return w},get PePCSInfo(){return F},get PeVersion(){return k},_init:W})},29840:(Qe,Me,E)=>{"use strict";E.d(Me,{M:()=>Y,f:()=>X,i:()=>T,p:()=>$,r:()=>N,t:()=>B,w:()=>ee});var M=E(62208),O=E(21726);function X(se,ne){const j=ne&&ne.url&&ne.url.path;if(se&&j&&(se=(0,O.hF)(se,j,{preserveProtocolRelative:!0}),ne.portalItem&&ne.readResourcePaths)){const I=(0,O.PF)(se,ne.portalItem.itemUrl);L.test(I)&&ne.readResourcePaths.push(ne.portalItem.resourceFromPath(I).path)}return Z(se,ne&&ne.portal)}function B(se,ne,j=Y.YES){if(!se)return se;!(0,O.YP)(se)&&ne&&ne.blockedRelativeUrls&&ne.blockedRelativeUrls.push(se);let I=(0,O.hF)(se);if(ne){const w=ne.verifyItemRelativeUrls&&ne.verifyItemRelativeUrls.rootPath||ne.url&&ne.url.path;if(w){const F=Z(w,ne.portal);I=(0,O.PF)(Z(I,ne.portal),F,F),I!==se&&ne.verifyItemRelativeUrls&&ne.verifyItemRelativeUrls.writtenUrls.push(I)}}return I=function x(se,ne){return ne&&!ne.isPortal&&ne.urlKey&&ne.customBaseUrl?(0,O.Ie)(se,`${ne.urlKey}.${ne.customBaseUrl}`,ne.portalHostname):se}(I,ne&&ne.portal),(0,O.YP)(I)&&(I=(0,O.Fv)(I)),null!=ne&&ne.resources&&null!=ne&&ne.portalItem&&!(0,O.YP)(I)&&!(0,O.HK)(I)&&j===Y.YES&&ne.resources.toKeep.push({resource:ne.portalItem.resourceFromPath(I)}),I}function N(se,ne,j){return X(se,j)}function ee(se,ne,j,I){const w=B(se,I);void 0!==w&&(ne[j]=w)}const z=/\/items\/([^\/]+)\/resources\//,L=/^\.\/resources\//;function T(se){const ne=(0,M.pC)(se)?se.match(z):null;return(0,M.pC)(ne)?ne[1]:null}function Z(se,ne){if(!ne||ne.isPortal||!ne.urlKey||!ne.customBaseUrl)return se;const j=`${ne.urlKey}.${ne.customBaseUrl}`,I=(0,O.TI)();return(0,O.D6)(I,`${I.scheme}://${j}`)?(0,O.Ie)(se,ne.portalHostname,j):(0,O.Ie)(se,j,ne.portalHostname)}var Y,se;(se=Y||(Y={}))[se.YES=0]="YES",se[se.NO=1]="NO";const $=Object.freeze({__proto__:null,fromJSON:X,toJSON:B,read:N,write:ee,itemIdFromResourceUrl:T,get MarkKeep(){return Y}})},14259:(Qe,Me,E)=>{"use strict";E.d(Me,{q:()=>N});var M,X,B={exports:{}};M=B,void 0!==(X=function(){function z(x,Z,Y,$,se){for(;$>Y;){if($-Y>600){var ne=$-Y+1,j=Z-Y+1,I=Math.log(ne),w=.5*Math.exp(2*I/3),F=.5*Math.sqrt(I*w*(ne-w)/ne)*(j-ne/2<0?-1:1);z(x,Z,Math.max(Y,Math.floor(Z-j*w/ne+F)),Math.min($,Math.floor(Z+(ne-j)*w/ne+F)),se)}var k=x[Z],W=Y,re=$;for(L(x,Y,Z),se(x[$],k)>0&&L(x,Y,$);W<re;){for(L(x,W,re),W++,re--;se(x[W],k)<0;)W++;for(;se(x[re],k)>0;)re--}0===se(x[Y],k)?L(x,Y,re):L(x,++re,$),re<=Z&&(Y=re+1),Z<=re&&($=re-1)}}function L(x,Z,Y){var $=x[Z];x[Z]=x[Y],x[Y]=$}function T(x,Z){return x<Z?-1:x>Z?1:0}return function ee(x,Z,Y,$,se){z(x,Z,Y||0,$||x.length-1,se||T)}}())&&(M.exports=X);const N=B.exports},76279:(Qe,Me,E)=>{"use strict";E.d(Me,{r:()=>O});var M=E(14259);function O(I,w){if(!(this instanceof O))return new O(I,w);this._maxEntries=Math.max(4,I||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),w&&("function"==typeof w?this.toBBox=w:this._initFormat(w)),this.clear()}function X(I,w,F){if(!F)return w.indexOf(I);for(var k=0;k<w.length;k++)if(F(I,w[k]))return k;return-1}function B(I,w){N(I,0,I.children.length,w,I)}function N(I,w,F,k,W){W||(W=ne(null)),W.minX=1/0,W.minY=1/0,W.maxX=-1/0,W.maxY=-1/0;for(var re,Q=w;Q<F;Q++)re=I.children[Q],ee(W,I.leaf?k(re):re);return W}function ee(I,w){return I.minX=Math.min(I.minX,w.minX),I.minY=Math.min(I.minY,w.minY),I.maxX=Math.max(I.maxX,w.maxX),I.maxY=Math.max(I.maxY,w.maxY),I}function z(I,w){return I.minX-w.minX}function L(I,w){return I.minY-w.minY}function T(I){return(I.maxX-I.minX)*(I.maxY-I.minY)}function x(I){return I.maxX-I.minX+(I.maxY-I.minY)}function Z(I,w){return(Math.max(w.maxX,I.maxX)-Math.min(w.minX,I.minX))*(Math.max(w.maxY,I.maxY)-Math.min(w.minY,I.minY))}function Y(I,w){var F=Math.max(I.minX,w.minX),k=Math.max(I.minY,w.minY),W=Math.min(I.maxX,w.maxX),re=Math.min(I.maxY,w.maxY);return Math.max(0,W-F)*Math.max(0,re-k)}function $(I,w){return I.minX<=w.minX&&I.minY<=w.minY&&w.maxX<=I.maxX&&w.maxY<=I.maxY}function se(I,w){return w.minX<=I.maxX&&w.minY<=I.maxY&&w.maxX>=I.minX&&w.maxY>=I.minY}function ne(I){return{children:I,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function j(I,w,F,k,W){for(var re,Q=[w,F];Q.length;)(F=Q.pop())-(w=Q.pop())<=k||(re=w+Math.ceil((F-w)/k/2)*k,(0,M.q)(I,re,w,F,W),Q.push(w,re,re,F))}O.prototype={all:function(){return this._all(this.data,[])},search:function(I){var w=this.data,F=[],k=this.toBBox;if(!se(I,w))return F;for(var W,re,Q,ue,he=[];w;){for(W=0,re=w.children.length;W<re;W++)Q=w.children[W],se(I,ue=w.leaf?k(Q):Q)&&(w.leaf?F.push(Q):$(I,ue)?this._all(Q,F):he.push(Q));w=he.pop()}return F},collides:function(I){var w=this.data,F=this.toBBox;if(!se(I,w))return!1;for(var k,W,re,Q,ue=[];w;){for(k=0,W=w.children.length;k<W;k++)if(re=w.children[k],se(I,Q=w.leaf?F(re):re)){if(w.leaf||$(I,Q))return!0;ue.push(re)}w=ue.pop()}return!1},load:function(I){if(!I||!I.length)return this;if(I.length<this._minEntries){for(var w=0,F=I.length;w<F;w++)this.insert(I[w]);return this}var k=this._build(I.slice(),0,I.length-1,0);if(this.data.children.length)if(this.data.height===k.height)this._splitRoot(this.data,k);else{if(this.data.height<k.height){var W=this.data;this.data=k,k=W}this._insert(k,this.data.height-k.height-1,!0)}else this.data=k;return this},insert:function(I){return I&&this._insert(I,this.data.height-1),this},clear:function(){return this.data=ne([]),this},remove:function(I,w){if(!I)return this;for(var F,k,W,re,Q=this.data,ue=this.toBBox(I),he=[],fe=[];Q||he.length;){if(Q||(Q=he.pop(),k=he[he.length-1],F=fe.pop(),re=!0),Q.leaf&&-1!==(W=X(I,Q.children,w)))return Q.children.splice(W,1),he.push(Q),this._condense(he),this;re||Q.leaf||!$(Q,ue)?k?(F++,Q=k.children[F],re=!1):Q=null:(he.push(Q),fe.push(F),F=0,k=Q,Q=Q.children[0])}return this},toBBox:function(I){return I},compareMinX:z,compareMinY:L,toJSON:function(){return this.data},fromJSON:function(I){return this.data=I,this},_all:function(I,w){for(var F=[];I;)I.leaf?w.push.apply(w,I.children):F.push.apply(F,I.children),I=F.pop();return w},_build:function(I,w,F,k){var W,re=F-w+1,Q=this._maxEntries;if(re<=Q)return B(W=ne(I.slice(w,F+1)),this.toBBox),W;k||(k=Math.ceil(Math.log(re)/Math.log(Q)),Q=Math.ceil(re/Math.pow(Q,k-1))),(W=ne([])).leaf=!1,W.height=k;var ue,he,fe,pe,oe=Math.ceil(re/Q),K=oe*Math.ceil(Math.sqrt(Q));for(j(I,w,F,K,this.compareMinX),ue=w;ue<=F;ue+=K)for(j(I,ue,fe=Math.min(ue+K-1,F),oe,this.compareMinY),he=ue;he<=fe;he+=oe)pe=Math.min(he+oe-1,fe),W.children.push(this._build(I,he,pe,k-1));return B(W,this.toBBox),W},_chooseSubtree:function(I,w,F,k){for(var W,re,Q,ue,he,fe,pe,oe;k.push(w),!w.leaf&&k.length-1!==F;){for(pe=oe=1/0,W=0,re=w.children.length;W<re;W++)he=T(Q=w.children[W]),(fe=Z(I,Q)-he)<oe?(oe=fe,pe=he<pe?he:pe,ue=Q):fe===oe&&he<pe&&(pe=he,ue=Q);w=ue||w.children[0]}return w},_insert:function(I,w,F){var W=F?I:(0,this.toBBox)(I),re=[],Q=this._chooseSubtree(W,this.data,w,re);for(Q.children.push(I),ee(Q,W);w>=0&&re[w].children.length>this._maxEntries;)this._split(re,w),w--;this._adjustParentBBoxes(W,re,w)},_split:function(I,w){var F=I[w],k=F.children.length,W=this._minEntries;this._chooseSplitAxis(F,W,k);var re=this._chooseSplitIndex(F,W,k),Q=ne(F.children.splice(re,F.children.length-re));Q.height=F.height,Q.leaf=F.leaf,B(F,this.toBBox),B(Q,this.toBBox),w?I[w-1].children.push(Q):this._splitRoot(F,Q)},_splitRoot:function(I,w){this.data=ne([I,w]),this.data.height=I.height+1,this.data.leaf=!1,B(this.data,this.toBBox)},_chooseSplitIndex:function(I,w,F){var k,W,re,Q,ue,he,fe,pe;for(he=fe=1/0,k=w;k<=F-w;k++)Q=Y(W=N(I,0,k,this.toBBox),re=N(I,k,F,this.toBBox)),ue=T(W)+T(re),Q<he?(he=Q,pe=k,fe=ue<fe?ue:fe):Q===he&&ue<fe&&(fe=ue,pe=k);return pe},_chooseSplitAxis:function(I,w,F){var k=I.leaf?this.compareMinX:z,W=I.leaf?this.compareMinY:L;this._allDistMargin(I,w,F,k)<this._allDistMargin(I,w,F,W)&&I.children.sort(k)},_allDistMargin:function(I,w,F,k){I.children.sort(k);var W,re,Q=this.toBBox,ue=N(I,0,w,Q),he=N(I,F-w,F,Q),fe=x(ue)+x(he);for(W=w;W<F-w;W++)re=I.children[W],ee(ue,I.leaf?Q(re):re),fe+=x(ue);for(W=F-w-1;W>=w;W--)re=I.children[W],ee(he,I.leaf?Q(re):re),fe+=x(he);return fe},_adjustParentBBoxes:function(I,w,F){for(var k=F;k>=0;k--)ee(w[k],I)},_condense:function(I){for(var w,F=I.length-1;F>=0;F--)0===I[F].children.length?F>0?(w=I[F-1].children).splice(w.indexOf(I[F]),1):this.clear():B(I[F],this.toBBox)},_initFormat:function(I){var w=["return a"," - b",";"];this.compareMinX=new Function("a","b",w.join(I[0])),this.compareMinY=new Function("a","b",w.join(I[1])),this.toBBox=new Function("a","return {minX: a"+I[0]+", minY: a"+I[1]+", maxX: a"+I[2]+", maxY: a"+I[3]+"};")}}},17626:(Qe,Me,E)=>{"use strict";function M(O,X,B,N){var ee,z=arguments.length,L=z<3?X:null===N?N=Object.getOwnPropertyDescriptor(X,B):N;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)L=Reflect.decorate(O,X,B,N);else for(var T=O.length-1;T>=0;T--)(ee=O[T])&&(L=(z<3?ee(L):z>3?ee(X,B,L):ee(X,B))||L);return z>3&&L&&Object.defineProperty(X,B,L),L}E.d(Me,{_:()=>M})},67831:(Qe,Me,E)=>{"use strict";E.d(Me,{a:()=>j,b:()=>ne,c:()=>O,f:()=>N,g:()=>$,h:()=>De,i:()=>W,j:()=>Q,k:()=>re,l:()=>I,m:()=>B,n:()=>F,s:()=>X,t:()=>pe});var M=E(39863);function O(we,We){return we[0]=We[0],we[1]=We[1],we}function X(we,We,nt){return we[0]=We,we[1]=nt,we}function B(we,We,nt){return we[0]=We[0]+nt[0],we[1]=We[1]+nt[1],we}function N(we,We,nt){return we[0]=We[0]-nt[0],we[1]=We[1]-nt[1],we}function ee(we,We,nt){return we[0]=We[0]*nt[0],we[1]=We[1]*nt[1],we}function z(we,We,nt){return we[0]=We[0]/nt[0],we[1]=We[1]/nt[1],we}function $(we,We,nt){return we[0]=We[0]*nt,we[1]=We[1]*nt,we}function ne(we,We){const nt=We[0]-we[0],Te=We[1]-we[1];return Math.sqrt(nt*nt+Te*Te)}function j(we,We){const nt=We[0]-we[0],Te=We[1]-we[1];return nt*nt+Te*Te}function I(we){const We=we[0],nt=we[1];return Math.sqrt(We*We+nt*nt)}function w(we){const We=we[0],nt=we[1];return We*We+nt*nt}function F(we,We){return we[0]=-We[0],we[1]=-We[1],we}function W(we,We){const nt=We[0],Te=We[1];let Ze=nt*nt+Te*Te;return Ze>0&&(Ze=1/Math.sqrt(Ze),we[0]=We[0]*Ze,we[1]=We[1]*Ze),we}function re(we,We){return we[0]*We[0]+we[1]*We[1]}function Q(we,We,nt){const Te=We[0]*nt[1]-We[1]*nt[0];return we[0]=we[1]=0,we[2]=Te,we}function pe(we,We,nt){const Te=We[0],Ze=We[1];return we[0]=nt[0]*Te+nt[2]*Ze+nt[4],we[1]=nt[1]*Te+nt[3]*Ze+nt[5],we}const De=N;Object.freeze({__proto__:null,copy:O,set:X,add:B,subtract:N,multiply:ee,divide:z,ceil:function L(we,We){return we[0]=Math.ceil(We[0]),we[1]=Math.ceil(We[1]),we},floor:function T(we,We){return we[0]=Math.floor(We[0]),we[1]=Math.floor(We[1]),we},min:function x(we,We,nt){return we[0]=Math.min(We[0],nt[0]),we[1]=Math.min(We[1],nt[1]),we},max:function Z(we,We,nt){return we[0]=Math.max(We[0],nt[0]),we[1]=Math.max(We[1],nt[1]),we},round:function Y(we,We){return we[0]=Math.round(We[0]),we[1]=Math.round(We[1]),we},scale:$,scaleAndAdd:function se(we,We,nt,Te){return we[0]=We[0]+nt[0]*Te,we[1]=We[1]+nt[1]*Te,we},distance:ne,squaredDistance:j,length:I,squaredLength:w,negate:F,inverse:function k(we,We){return we[0]=1/We[0],we[1]=1/We[1],we},normalize:W,dot:re,cross:Q,lerp:function ue(we,We,nt,Te){const Ze=We[0],He=We[1];return we[0]=Ze+Te*(nt[0]-Ze),we[1]=He+Te*(nt[1]-He),we},random:function he(we,We){We=We||1;const nt=2*(0,M.R)()*Math.PI;return we[0]=Math.cos(nt)*We,we[1]=Math.sin(nt)*We,we},transformMat2:function fe(we,We,nt){const Te=We[0],Ze=We[1];return we[0]=nt[0]*Te+nt[2]*Ze,we[1]=nt[1]*Te+nt[3]*Ze,we},transformMat2d:pe,transformMat3:function oe(we,We,nt){const Te=We[0],Ze=We[1];return we[0]=nt[0]*Te+nt[3]*Ze+nt[6],we[1]=nt[1]*Te+nt[4]*Ze+nt[7],we},transformMat4:function K(we,We,nt){const Te=We[0],Ze=We[1];return we[0]=nt[0]*Te+nt[4]*Ze+nt[12],we[1]=nt[1]*Te+nt[5]*Ze+nt[13],we},rotate:function de(we,We,nt,Te){const Ze=We[0]-nt[0],He=We[1]-nt[1],te=Math.sin(Te),Ee=Math.cos(Te);return we[0]=Ze*Ee-He*te+nt[0],we[1]=Ze*te+He*Ee+nt[1],we},angle:function le(we,We){const nt=we[0],Te=we[1],Ze=We[0],He=We[1];let te=nt*nt+Te*Te;te>0&&(te=1/Math.sqrt(te));let Ee=Ze*Ze+He*He;Ee>0&&(Ee=1/Math.sqrt(Ee));const je=(nt*Ze+Te*He)*te*Ee;return je>1?0:je<-1?Math.PI:Math.acos(je)},str:function me(we){return"vec2("+we[0]+", "+we[1]+")"},exactEquals:function ce(we,We){return we[0]===We[0]&&we[1]===We[1]},equals:function ge(we,We){const nt=we[0],Te=we[1],Ze=We[0],He=We[1];return Math.abs(nt-Ze)<=M.E*Math.max(1,Math.abs(nt),Math.abs(Ze))&&Math.abs(Te-He)<=M.E*Math.max(1,Math.abs(Te),Math.abs(He))},projectAndScale:function J(we,We,nt,Te,Ze){let He=We[0]-nt[0],te=We[1]-nt[1];const Ee=(Te[0]*He+Te[1]*te)*(Ze-1);return He=Te[0]*Ee,te=Te[1]*Ee,we[0]=We[0]+He,we[1]=We[1]+te,we},len:I,sub:De,mul:ee,div:z,dist:ne,sqrDist:j,sqrLen:w})},9545:(Qe,Me,E)=>{"use strict";function M(){return new Float32Array(2)}function X(se,ne){const j=new Float32Array(2);return j[0]=se,j[1]=ne,j}function N(){return M()}function ee(){return X(1,1)}function z(){return X(1,0)}function L(){return X(0,1)}E.d(Me,{c:()=>M,f:()=>X});const T=N(),x=ee(),Z=z(),Y=L();Object.freeze({__proto__:null,create:M,clone:function O(se){const ne=new Float32Array(2);return ne[0]=se[0],ne[1]=se[1],ne},fromValues:X,createView:function B(se,ne){return new Float32Array(se,ne,2)},zeros:N,ones:ee,unitX:z,unitY:L,ZEROS:T,ONES:x,UNIT_X:Z,UNIT_Y:Y})},99770:(Qe,Me,E)=>{"use strict";function M(){return[0,0]}function X(ne,j){return[ne,j]}function N(ne,j){return new Float64Array(ne,j,2)}function z(){return X(1,1)}function L(){return X(1,0)}function T(){return X(0,1)}E.d(Me,{a:()=>M,c:()=>N,f:()=>X});const Z=z(),Y=L(),$=T();Object.freeze({__proto__:null,create:M,clone:function O(ne){return[ne[0],ne[1]]},fromValues:X,fromArray:function B(ne){const j=[0,0],I=Math.min(2,ne.length);for(let w=0;w<I;++w)j[w]=ne[w];return j},createView:N,zeros:function ee(){return[0,0]},ones:z,unitX:L,unitY:T,ZEROS:[0,0],ONES:Z,UNIT_X:Y,UNIT_Y:$})},84161:(Qe,Me,E)=>{"use strict";E.d(Me,{E:()=>T,a:()=>ne,b:()=>ee,c:()=>ue,d:()=>Q,e:()=>he,f:()=>z,g:()=>B,h:()=>w,i:()=>I,k:()=>Ie,l:()=>X,m:()=>K,n:()=>re,p:()=>F,q:()=>le,r:()=>ke,s:()=>N,t:()=>de,u:()=>Te});var M=E(28093),O=E(39863);function X(te){const Ee=te[0],je=te[1],Ye=te[2];return Math.sqrt(Ee*Ee+je*je+Ye*Ye)}function B(te,Ee){return te[0]=Ee[0],te[1]=Ee[1],te[2]=Ee[2],te}function N(te,Ee,je,Ye){return te[0]=Ee,te[1]=je,te[2]=Ye,te}function ee(te,Ee,je){return te[0]=Ee[0]+je[0],te[1]=Ee[1]+je[1],te[2]=Ee[2]+je[2],te}function z(te,Ee,je){return te[0]=Ee[0]-je[0],te[1]=Ee[1]-je[1],te[2]=Ee[2]-je[2],te}function L(te,Ee,je){return te[0]=Ee[0]*je[0],te[1]=Ee[1]*je[1],te[2]=Ee[2]*je[2],te}function T(te,Ee,je){return te[0]=Ee[0]/je[0],te[1]=Ee[1]/je[1],te[2]=Ee[2]/je[2],te}function ne(te,Ee,je){return te[0]=Ee[0]*je,te[1]=Ee[1]*je,te[2]=Ee[2]*je,te}function I(te,Ee){const je=Ee[0]-te[0],Ye=Ee[1]-te[1],ht=Ee[2]-te[2];return Math.sqrt(je*je+Ye*Ye+ht*ht)}function w(te,Ee){const je=Ee[0]-te[0],Ye=Ee[1]-te[1],ht=Ee[2]-te[2];return je*je+Ye*Ye+ht*ht}function F(te){const Ee=te[0],je=te[1],Ye=te[2];return Ee*Ee+je*je+Ye*Ye}function re(te,Ee){const je=Ee[0],Ye=Ee[1],ht=Ee[2];let ot=je*je+Ye*Ye+ht*ht;return ot>0&&(ot=1/Math.sqrt(ot),te[0]=Ee[0]*ot,te[1]=Ee[1]*ot,te[2]=Ee[2]*ot),te}function Q(te,Ee){return te[0]*Ee[0]+te[1]*Ee[1]+te[2]*Ee[2]}function ue(te,Ee,je){const Ye=Ee[0],ht=Ee[1],ot=Ee[2],at=je[0],lt=je[1],tt=je[2];return te[0]=ht*tt-ot*lt,te[1]=ot*at-Ye*tt,te[2]=Ye*lt-ht*at,te}function he(te,Ee,je,Ye){const ht=Ee[0],ot=Ee[1],at=Ee[2];return te[0]=ht+Ye*(je[0]-ht),te[1]=ot+Ye*(je[1]-ot),te[2]=at+Ye*(je[2]-at),te}function K(te,Ee,je){const Ye=Ee[0],ht=Ee[1],ot=Ee[2];return te[0]=je[0]*Ye+je[4]*ht+je[8]*ot+je[12],te[1]=je[1]*Ye+je[5]*ht+je[9]*ot+je[13],te[2]=je[2]*Ye+je[6]*ht+je[10]*ot+je[14],te}function de(te,Ee,je){const Ye=Ee[0],ht=Ee[1],ot=Ee[2];return te[0]=Ye*je[0]+ht*je[3]+ot*je[6],te[1]=Ye*je[1]+ht*je[4]+ot*je[7],te[2]=Ye*je[2]+ht*je[5]+ot*je[8],te}function le(te,Ee,je){const Ye=je[0],ht=je[1],ot=je[2],lt=Ee[0],tt=Ee[1],vt=Ee[2];let Ke=ht*vt-ot*tt,ut=ot*lt-Ye*vt,Et=Ye*tt-ht*lt,St=ht*Et-ot*ut,kt=ot*Ke-Ye*Et,zt=Ye*ut-ht*Ke;const qt=2*je[3];return Ke*=qt,ut*=qt,Et*=qt,St*=2,kt*=2,zt*=2,te[0]=lt+Ke+St,te[1]=tt+ut+kt,te[2]=vt+Et+zt,te}const ie=(0,M.c)(),De=(0,M.c)();function Ie(te,Ee){return te[0]===Ee[0]&&te[1]===Ee[1]&&te[2]===Ee[2]}function ke(te,Ee,je){const Ye=je[0]-Ee[0],ht=je[1]-Ee[1],ot=je[2]-Ee[2];let at=Ye*Ye+ht*ht+ot*ot;return at>0?(at=1/Math.sqrt(at),te[0]=Ye*at,te[1]=ht*at,te[2]=ot*at,te):(te[0]=0,te[1]=0,te[2]=0,te)}const Te=X;Object.freeze({__proto__:null,length:X,copy:B,set:N,add:ee,subtract:z,multiply:L,divide:T,ceil:function x(te,Ee){return te[0]=Math.ceil(Ee[0]),te[1]=Math.ceil(Ee[1]),te[2]=Math.ceil(Ee[2]),te},floor:function Z(te,Ee){return te[0]=Math.floor(Ee[0]),te[1]=Math.floor(Ee[1]),te[2]=Math.floor(Ee[2]),te},min:function Y(te,Ee,je){return te[0]=Math.min(Ee[0],je[0]),te[1]=Math.min(Ee[1],je[1]),te[2]=Math.min(Ee[2],je[2]),te},max:function $(te,Ee,je){return te[0]=Math.max(Ee[0],je[0]),te[1]=Math.max(Ee[1],je[1]),te[2]=Math.max(Ee[2],je[2]),te},round:function se(te,Ee){return te[0]=Math.round(Ee[0]),te[1]=Math.round(Ee[1]),te[2]=Math.round(Ee[2]),te},scale:ne,scaleAndAdd:function j(te,Ee,je,Ye){return te[0]=Ee[0]+je[0]*Ye,te[1]=Ee[1]+je[1]*Ye,te[2]=Ee[2]+je[2]*Ye,te},distance:I,squaredDistance:w,squaredLength:F,negate:function k(te,Ee){return te[0]=-Ee[0],te[1]=-Ee[1],te[2]=-Ee[2],te},inverse:function W(te,Ee){return te[0]=1/Ee[0],te[1]=1/Ee[1],te[2]=1/Ee[2],te},normalize:re,dot:Q,cross:ue,lerp:he,hermite:function fe(te,Ee,je,Ye,ht,ot){const at=ot*ot,lt=at*(2*ot-3)+1,tt=at*(ot-2)+ot,vt=at*(ot-1),Ke=at*(3-2*ot);return te[0]=Ee[0]*lt+je[0]*tt+Ye[0]*vt+ht[0]*Ke,te[1]=Ee[1]*lt+je[1]*tt+Ye[1]*vt+ht[1]*Ke,te[2]=Ee[2]*lt+je[2]*tt+Ye[2]*vt+ht[2]*Ke,te},bezier:function pe(te,Ee,je,Ye,ht,ot){const at=1-ot,lt=at*at,tt=ot*ot,vt=lt*at,Ke=3*ot*lt,ut=3*tt*at,Et=tt*ot;return te[0]=Ee[0]*vt+je[0]*Ke+Ye[0]*ut+ht[0]*Et,te[1]=Ee[1]*vt+je[1]*Ke+Ye[1]*ut+ht[1]*Et,te[2]=Ee[2]*vt+je[2]*Ke+Ye[2]*ut+ht[2]*Et,te},random:function oe(te,Ee){Ee=Ee||1;const je=2*(0,O.R)()*Math.PI,Ye=2*(0,O.R)()-1,ht=Math.sqrt(1-Ye*Ye)*Ee;return te[0]=Math.cos(je)*ht,te[1]=Math.sin(je)*ht,te[2]=Ye*Ee,te},transformMat4:K,transformMat3:de,transformQuat:le,rotateX:function me(te,Ee,je,Ye){const ht=[],ot=[];return ht[0]=Ee[0]-je[0],ht[1]=Ee[1]-je[1],ht[2]=Ee[2]-je[2],ot[0]=ht[0],ot[1]=ht[1]*Math.cos(Ye)-ht[2]*Math.sin(Ye),ot[2]=ht[1]*Math.sin(Ye)+ht[2]*Math.cos(Ye),te[0]=ot[0]+je[0],te[1]=ot[1]+je[1],te[2]=ot[2]+je[2],te},rotateY:function ce(te,Ee,je,Ye){const ht=[],ot=[];return ht[0]=Ee[0]-je[0],ht[1]=Ee[1]-je[1],ht[2]=Ee[2]-je[2],ot[0]=ht[2]*Math.sin(Ye)+ht[0]*Math.cos(Ye),ot[1]=ht[1],ot[2]=ht[2]*Math.cos(Ye)-ht[0]*Math.sin(Ye),te[0]=ot[0]+je[0],te[1]=ot[1]+je[1],te[2]=ot[2]+je[2],te},rotateZ:function ge(te,Ee,je,Ye){const ht=[],ot=[];return ht[0]=Ee[0]-je[0],ht[1]=Ee[1]-je[1],ht[2]=Ee[2]-je[2],ot[0]=ht[0]*Math.cos(Ye)-ht[1]*Math.sin(Ye),ot[1]=ht[0]*Math.sin(Ye)+ht[1]*Math.cos(Ye),ot[2]=ht[2],te[0]=ot[0]+je[0],te[1]=ot[1]+je[1],te[2]=ot[2]+je[2],te},angle:function J(te,Ee){B(ie,te),B(De,Ee),re(ie,ie),re(De,De);const je=Q(ie,De);return je>1?0:je<-1?Math.PI:Math.acos(je)},str:function _e(te){return"vec3("+te[0]+", "+te[1]+", "+te[2]+")"},exactEquals:Ie,equals:function xe(te,Ee){if(te===Ee)return!0;const je=te[0],Ye=te[1],ht=te[2],ot=Ee[0],at=Ee[1],lt=Ee[2];return Math.abs(je-ot)<=O.E*Math.max(1,Math.abs(je),Math.abs(ot))&&Math.abs(Ye-at)<=O.E*Math.max(1,Math.abs(Ye),Math.abs(at))&&Math.abs(ht-lt)<=O.E*Math.max(1,Math.abs(ht),Math.abs(lt))},direction:ke,sub:z,mul:L,div:T,dist:I,sqrDist:w,len:Te,sqrLen:F})},28093:(Qe,Me,E)=>{"use strict";function M(){return[0,0,0]}function O(I){return[I[0],I[1],I[2]]}function X(I,w,F){return[I,w,F]}function B(I){const w=[0,0,0],F=Math.min(3,I.length);for(let k=0;k<F;++k)w[k]=I[k];return w}function N(I,w){return new Float64Array(I,w,3)}function z(){return X(1,1,1)}function L(){return X(1,0,0)}function T(){return X(0,1,0)}function x(){return X(0,0,1)}E.d(Me,{O:()=>Y,Z:()=>Z,a:()=>O,b:()=>N,c:()=>M,d:()=>B,f:()=>X});const Z=[0,0,0],Y=z(),$=L(),se=T(),ne=x();Object.freeze({__proto__:null,create:M,clone:O,fromValues:X,fromArray:B,createView:N,zeros:function ee(){return[0,0,0]},ones:z,unitX:L,unitY:T,unitZ:x,ZEROS:Z,ONES:Y,UNIT_X:$,UNIT_Y:se,UNIT_Z:ne})},993:(Qe,Me,E)=>{"use strict";E.d(Me,{a:()=>B,b:()=>$,c:()=>O,d:()=>re,e:()=>I,f:()=>w,g:()=>oe,h:()=>K,l:()=>Q,n:()=>W,s:()=>X});var M=E(39863);function O(_e,Ie){return _e[0]=Ie[0],_e[1]=Ie[1],_e[2]=Ie[2],_e[3]=Ie[3],_e}function X(_e,Ie,xe,ke,Ve){return _e[0]=Ie,_e[1]=xe,_e[2]=ke,_e[3]=Ve,_e}function B(_e,Ie,xe){return _e[0]=Ie[0]+xe[0],_e[1]=Ie[1]+xe[1],_e[2]=Ie[2]+xe[2],_e[3]=Ie[3]+xe[3],_e}function N(_e,Ie,xe){return _e[0]=Ie[0]-xe[0],_e[1]=Ie[1]-xe[1],_e[2]=Ie[2]-xe[2],_e[3]=Ie[3]-xe[3],_e}function ee(_e,Ie,xe){return _e[0]=Ie[0]*xe[0],_e[1]=Ie[1]*xe[1],_e[2]=Ie[2]*xe[2],_e[3]=Ie[3]*xe[3],_e}function z(_e,Ie,xe){return _e[0]=Ie[0]/xe[0],_e[1]=Ie[1]/xe[1],_e[2]=Ie[2]/xe[2],_e[3]=Ie[3]/xe[3],_e}function $(_e,Ie,xe){return _e[0]=Ie[0]*xe,_e[1]=Ie[1]*xe,_e[2]=Ie[2]*xe,_e[3]=Ie[3]*xe,_e}function ne(_e,Ie){const xe=Ie[0]-_e[0],ke=Ie[1]-_e[1],Ve=Ie[2]-_e[2],ve=Ie[3]-_e[3];return Math.sqrt(xe*xe+ke*ke+Ve*Ve+ve*ve)}function j(_e,Ie){const xe=Ie[0]-_e[0],ke=Ie[1]-_e[1],Ve=Ie[2]-_e[2],ve=Ie[3]-_e[3];return xe*xe+ke*ke+Ve*Ve+ve*ve}function I(_e){const Ie=_e[0],xe=_e[1],ke=_e[2],Ve=_e[3];return Math.sqrt(Ie*Ie+xe*xe+ke*ke+Ve*Ve)}function w(_e){const Ie=_e[0],xe=_e[1],ke=_e[2],Ve=_e[3];return Ie*Ie+xe*xe+ke*ke+Ve*Ve}function W(_e,Ie){const xe=Ie[0],ke=Ie[1],Ve=Ie[2],ve=Ie[3];let we=xe*xe+ke*ke+Ve*Ve+ve*ve;return we>0&&(we=1/Math.sqrt(we),_e[0]=xe*we,_e[1]=ke*we,_e[2]=Ve*we,_e[3]=ve*we),_e}function re(_e,Ie){return _e[0]*Ie[0]+_e[1]*Ie[1]+_e[2]*Ie[2]+_e[3]*Ie[3]}function Q(_e,Ie,xe,ke){const Ve=Ie[0],ve=Ie[1],we=Ie[2],We=Ie[3];return _e[0]=Ve+ke*(xe[0]-Ve),_e[1]=ve+ke*(xe[1]-ve),_e[2]=we+ke*(xe[2]-we),_e[3]=We+ke*(xe[3]-We),_e}function oe(_e,Ie){return _e[0]===Ie[0]&&_e[1]===Ie[1]&&_e[2]===Ie[2]&&_e[3]===Ie[3]}function K(_e,Ie){const xe=_e[0],ke=_e[1],Ve=_e[2],ve=_e[3],we=Ie[0],We=Ie[1],nt=Ie[2],Te=Ie[3];return Math.abs(xe-we)<=M.E*Math.max(1,Math.abs(xe),Math.abs(we))&&Math.abs(ke-We)<=M.E*Math.max(1,Math.abs(ke),Math.abs(We))&&Math.abs(Ve-nt)<=M.E*Math.max(1,Math.abs(Ve),Math.abs(nt))&&Math.abs(ve-Te)<=M.E*Math.max(1,Math.abs(ve),Math.abs(Te))}Object.freeze({__proto__:null,copy:O,set:X,add:B,subtract:N,multiply:ee,divide:z,ceil:function L(_e,Ie){return _e[0]=Math.ceil(Ie[0]),_e[1]=Math.ceil(Ie[1]),_e[2]=Math.ceil(Ie[2]),_e[3]=Math.ceil(Ie[3]),_e},floor:function T(_e,Ie){return _e[0]=Math.floor(Ie[0]),_e[1]=Math.floor(Ie[1]),_e[2]=Math.floor(Ie[2]),_e[3]=Math.floor(Ie[3]),_e},min:function x(_e,Ie,xe){return _e[0]=Math.min(Ie[0],xe[0]),_e[1]=Math.min(Ie[1],xe[1]),_e[2]=Math.min(Ie[2],xe[2]),_e[3]=Math.min(Ie[3],xe[3]),_e},max:function Z(_e,Ie,xe){return _e[0]=Math.max(Ie[0],xe[0]),_e[1]=Math.max(Ie[1],xe[1]),_e[2]=Math.max(Ie[2],xe[2]),_e[3]=Math.max(Ie[3],xe[3]),_e},round:function Y(_e,Ie){return _e[0]=Math.round(Ie[0]),_e[1]=Math.round(Ie[1]),_e[2]=Math.round(Ie[2]),_e[3]=Math.round(Ie[3]),_e},scale:$,scaleAndAdd:function se(_e,Ie,xe,ke){return _e[0]=Ie[0]+xe[0]*ke,_e[1]=Ie[1]+xe[1]*ke,_e[2]=Ie[2]+xe[2]*ke,_e[3]=Ie[3]+xe[3]*ke,_e},distance:ne,squaredDistance:j,length:I,squaredLength:w,negate:function F(_e,Ie){return _e[0]=-Ie[0],_e[1]=-Ie[1],_e[2]=-Ie[2],_e[3]=-Ie[3],_e},inverse:function k(_e,Ie){return _e[0]=1/Ie[0],_e[1]=1/Ie[1],_e[2]=1/Ie[2],_e[3]=1/Ie[3],_e},normalize:W,dot:re,lerp:Q,random:function ue(_e,Ie){let xe,ke,Ve,ve,we,We;Ie=Ie||1;do{xe=2*(0,M.R)()-1,ke=2*(0,M.R)()-1,we=xe*xe+ke*ke}while(we>=1);do{Ve=2*(0,M.R)()-1,ve=2*(0,M.R)()-1,We=Ve*Ve+ve*ve}while(We>=1);const nt=Math.sqrt((1-we)/We);return _e[0]=Ie*xe,_e[1]=Ie*ke,_e[2]=Ie*Ve*nt,_e[3]=Ie*ve*nt,_e},transformMat4:function he(_e,Ie,xe){const ke=Ie[0],Ve=Ie[1],ve=Ie[2],we=Ie[3];return _e[0]=xe[0]*ke+xe[4]*Ve+xe[8]*ve+xe[12]*we,_e[1]=xe[1]*ke+xe[5]*Ve+xe[9]*ve+xe[13]*we,_e[2]=xe[2]*ke+xe[6]*Ve+xe[10]*ve+xe[14]*we,_e[3]=xe[3]*ke+xe[7]*Ve+xe[11]*ve+xe[15]*we,_e},transformQuat:function fe(_e,Ie,xe){const ke=Ie[0],Ve=Ie[1],ve=Ie[2],we=xe[0],We=xe[1],nt=xe[2],Te=xe[3],Ze=Te*ke+We*ve-nt*Ve,He=Te*Ve+nt*ke-we*ve,te=Te*ve+we*Ve-We*ke,Ee=-we*ke-We*Ve-nt*ve;return _e[0]=Ze*Te+Ee*-we+He*-nt-te*-We,_e[1]=He*Te+Ee*-We+te*-we-Ze*-nt,_e[2]=te*Te+Ee*-nt+Ze*-We-He*-we,_e[3]=Ie[3],_e},str:function pe(_e){return"vec4("+_e[0]+", "+_e[1]+", "+_e[2]+", "+_e[3]+")"},exactEquals:oe,equals:K,sub:N,mul:ee,div:z,dist:ne,sqrDist:j,len:I,sqrLen:w})},20414:(Qe,Me,E)=>{"use strict";E.d(Me,{B7:()=>ee,St:()=>O,VL:()=>B,h$:()=>X,rW:()=>z});const M={transparent:[0,0,0,0],black:[0,0,0,1],silver:[192,192,192,1],gray:[128,128,128,1],white:[255,255,255,1],maroon:[128,0,0,1],red:[255,0,0,1],purple:[128,0,128,1],fuchsia:[255,0,255,1],green:[0,128,0,1],lime:[0,255,0,1],olive:[128,128,0,1],yellow:[255,255,0,1],navy:[0,0,128,1],blue:[0,0,255,1],teal:[0,128,128,1],aqua:[0,255,255,1],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],blanchedalmond:[255,235,205,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],oldlace:[253,245,230,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],rebeccapurple:[102,51,153,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],whitesmoke:[245,245,245,1],yellowgreen:[154,205,50,1]};function O(L){return M[L]||M[L.toLowerCase()]}function X(L){var T;return null!=(T=M[L])?T:M[L.toLowerCase()]}function B(L){return[...X(L)]}function N(L,T,x){x<0&&++x,x>1&&--x;const Z=6*x;return Z<1?L+(T-L)*Z:2*x<1?T:3*x<2?L+(T-L)*(2/3-x)*6:L}function ee(L,T,x,Z=1){const Y=(L%360+360)%360/360,$=x<=.5?x*(T+1):x+T-x*T,se=2*x-$;return[Math.round(255*N(se,$,Y+1/3)),Math.round(255*N(se,$,Y)),Math.round(255*N(se,$,Y-1/3)),Z]}function z(L){const T=L.length>5,x=T?8:4,Z=(1<<x)-1,Y=T?1:17,$=T?9===L.length:5===L.length;let se=Number("0x"+L.substr(1));if(isNaN(se))return null;const ne=[0,0,0,1];let j;return $&&(j=se&Z,se>>=x,ne[3]=Y*j/255),j=se&Z,se>>=x,ne[2]=Y*j,j=se&Z,se>>=x,ne[1]=Y*j,j=se&Z,se>>=x,ne[0]=Y*j,ne}},59318:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>B}),E(8314);var X,O=E(94113);const B={apiKey:void 0,applicationUrl:null==(X=globalThis.location)?void 0:X.href,assetsPath:"",fontsUrl:"https://static.arcgis.com/fonts",geometryServiceUrl:"https://utility.arcgisonline.com/arcgis/rest/services/Geometry/GeometryServer",geoRSSServiceUrl:"https://utility.arcgis.com/sharing/rss",kmlServiceUrl:"https://utility.arcgis.com/sharing/kml",portalUrl:"https://www.arcgis.com",routeServiceUrl:"https://route-api.arcgis.com/arcgis/rest/services/World/Route/NAServer/Route_World",workers:{loaderConfig:{has:{},paths:{},map:{},packages:[]}},request:{httpsDomains:["arcgis.com","arcgisonline.com","esrikr.com","premiumservices.blackbridge.com","esripremium.accuweather.com","gbm.digitalglobe.com","firstlook.digitalglobe.com","msi.digitalglobe.com"],interceptors:[],maxUrlLength:2e3,proxyRules:[],proxyUrl:null,timeout:6e4,trustedServers:[],useIdentity:!0},log:{interceptors:[],level:null}};globalThis.esriConfig&&((0,O.RH)(B,globalThis.esriConfig,!0),delete B.has),B.assetsPath||(B.assetsPath=`https://js.arcgis.com/${"4.23.7".slice(0,-2)}/@arcgis/core/assets`),B.baseUrl&&console.warn("[esri.config]","baseUrl has been replaced by assetsPath"),Object.defineProperty(B,"baseUrl",{set(){console.warn("[esri.config]","baseUrl has been replaced by assetsPath")}}),B.request.corsEnabledServers=[],B.request.corsEnabledServers.push=function(){return console.warn("[esri.config]","request.corsEnabledServers is not supported and will be removed in a future release. See http://esriurl.com/cors8664"),0}},14517:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>pe});var M=E(55538),O=E(63290),X=E(34595),B=E(44648),N=E(34117),z=(E(8314),E(58817)),L=E(27899),T=E(31283),x=E(36082),Z=E(2345),Y=E(12196);class ${constructor(K,de,le){this.properties=K,this.propertyName=de,this.metadata=le,this._observers=null,this._accessed=null,this._handles=null,this.flags=Z.v.Dirty|(le.nonNullable?Z.v.NonNullable:0)|(le.hasOwnProperty("value")?Z.v.HasDefaultValue:0)|(void 0===le.get?Z.v.DepTrackingInitialized:0)|(void 0===le.dependsOn?Z.v.AutoTracked:0)}destroy(){this._accessed=null,this._observers=null,this._clearObservationHandles()}getComputed(){(0,x.it)(this);const K=this.properties.store,de=this.propertyName,le=this.flags,me=K.get(de);if(le&Z.v.Computing||~le&Z.v.Dirty&&K.has(de))return me;this.flags|=Z.v.Computing;const ce=this.properties.host;let ge;le&Z.v.AutoTracked?ge=(0,x.LJ)(this,this.metadata.get,ce):((0,x.GF)(ce,this),ge=this.metadata.get.call(ce)),K.set(de,ge,T.s3.COMPUTED);const J=K.get(de);return J===me?this.flags&=~Z.v.Dirty:(0,x.gb)(this.commit,this),this.flags&=~Z.v.Computing,J}onObservableAccessed(K){K!==this&&(null===this._accessed&&(this._accessed=[]),this._accessed.includes(K)||this._accessed.push(K))}onTrackingEnd(){this._clearObservationHandles(),this.flags|=Z.v.DepTrackingInitialized;const K=this._accessed;if(null===K)return;let de=this._handles;null===de&&(de=this._handles=[]);for(let le=0;le<K.length;++le)de.push(K[le].observe(this));K.length=0}observe(K){return null===this._observers&&(this._observers=[]),this._observers.includes(K)||this._observers.push(K),new Y.X(this._observers,K)}notifyChange(){this.onInvalidated(),this.onCommitted()}invalidate(){this.onInvalidated()}onInvalidated(){~this.flags&Z.v.Overriden&&(this.flags|=Z.v.Dirty);const K=this._observers;if(null!==K)for(let de=0;de<K.length;++de)K[de].onInvalidated()}commit(){this.flags&=~Z.v.Dirty,this.onCommitted()}onCommitted(){if(null===this._observers)return;const K=this._observers.slice();for(let de=0;de<K.length;++de)K[de].onCommitted()}_clearObservationHandles(){const K=this._handles;if(null!==K){for(let de=0;de<K.length;++de)K[de].remove();K.length=0}}}class se{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(K){const de=new se;return this._values.forEach((le,me)=>{K&&K.has(me)||de.set(me,(0,z.d9)(le))}),de}get(K){return this._values.get(K)}originOf(){return T.s3.USER}keys(){return[...this._values.keys()]}set(K,de){this._values.set(K,de)}delete(K){this._values.delete(K)}has(K){return this._values.has(K)}forEach(K){this._values.forEach(K)}}var ne=E(52323);function j(oe,K,de){return void 0!==oe}function I(oe,K,de,le){return!(void 0===oe||null==de&&oe.flags&Z.v.NonNullable)}O.Z.getLogger("esri.core.accessorSupport.Properties");class F{constructor(K){this.host=K,this.properties=new Map,this.ctorArgs=null,this.destroyed=!1,this.lifecycle=B.F.INITIALIZING,this.store=new se,this._origin=T.s3.USER;const de=this.host.constructor.__accessorMetadata__,le=de.properties;for(const me in le){const ce=new $(this,me,le[me]);this.properties.set(me,ce)}this.metadatas=le,this._autoDestroy=de.autoDestroy}initialize(){this.lifecycle=B.F.CONSTRUCTING}constructed(){this.lifecycle=B.F.CONSTRUCTED}destroy(){if(this.destroyed=!0,this._autoDestroy)for(const[K,de]of this.properties){const le=this.internalGet(K);le&&(oe=le)&&"function"==typeof oe.destroy&&(le.destroy(),~de.flags&Z.v.NonNullable&&this._internalSet(de,null)),de.destroy()}else for(const[K,de]of this.properties)de.destroy();var oe}get initialized(){return this.lifecycle!==B.F.INITIALIZING}get(K){const de=this.properties.get(K);if(de.metadata.get)return de.getComputed();(0,x.it)(de);const le=this.store;return le.has(K)?le.get(K):de.metadata.value}originOf(K){const de=this.store.originOf(K);if(void 0===de){const le=this.properties.get(K);if(void 0!==le&&le.flags&Z.v.HasDefaultValue)return"defaults"}return(0,T.x3)(de)}has(K){return!!this.properties.has(K)&&this.store.has(K)}keys(){return[...this.properties.keys()]}internalGet(K){const de=this.properties.get(K);if(j(de))return this.store.has(K)?this.store.get(K):de.metadata.value}internalSet(K,de){const le=this.properties.get(K);j(le)&&this._internalSet(le,de)}getDependsInfo(K,de,le){const me=this.properties.get(de);if(!j(me))return"";const ce=new Set,ge=(0,x.LJ)({onObservableAccessed:ie=>ce.add(ie),onTrackingEnd:()=>{}},()=>{var ie;return null==(ie=me.metadata.get)?void 0:ie.call(K)});let J=`${le}${K.declaredClass.split(".").pop()}.${de}: ${ge}\n`;if(0===ce.size)return J;le+="  ";for(const ie of ce){if(!(ie instanceof $))continue;const De=ie.properties.host,_e=ie.propertyName,Ie=(0,ne.vw)(De);J+=Ie?Ie.getDependsInfo(De,_e,le):`${le}${_e}: undefined\n`}return J}setAtOrigin(K,de,le){const me=this.properties.get(K);if(j(me))return this._setAtOrigin(me,de,le)}isOverridden(K){const de=this.properties.get(K);return void 0!==de&&!!(de.flags&Z.v.Overriden)}clearOverride(K){const de=this.properties.get(K);void 0!==de&&de.flags&Z.v.Overriden&&(de.flags&=~Z.v.Overriden,de.notifyChange())}override(K,de){const le=this.properties.get(K);if(!I(le,0,de))return;const me=le.metadata.cast;if(me){const ce=this._cast(me,de),{valid:ge,value:J}=ce;if(W.release(ce),!ge)return;de=J}le.flags|=Z.v.Overriden,this._internalSet(le,de)}set(K,de){const le=this.properties.get(K);if(!I(le,0,de))return;const me=le.metadata.cast;if(me){const ge=this._cast(me,de),{valid:J,value:ie}=ge;if(W.release(ge),!J)return;de=ie}const ce=le.metadata.set;ce?ce.call(this.host,de):this._internalSet(le,de)}setDefaultOrigin(K){this._origin=(0,T.M9)(K)}getDefaultOrigin(){return(0,T.x3)(this._origin)}notifyChange(K){const de=this.properties.get(K);void 0!==de&&de.notifyChange()}invalidate(K){const de=this.properties.get(K);void 0!==de&&de.invalidate()}commit(K){const de=this.properties.get(K);void 0!==de&&de.commit()}_internalSet(K,de){this._setAtOrigin(K,de,this.lifecycle!==B.F.INITIALIZING?this._origin:T.s3.DEFAULTS)}_setAtOrigin(K,de,le){const me=this.store,ce=K.propertyName;me.has(ce,le)&&(0,z.fS)(de,me.get(ce))&&~K.flags&Z.v.Overriden&&le===me.originOf(ce)||(K.invalidate(),me.set(ce,de,le),K.commit(),(0,x.mS)(this.host,K))}_cast(K,de){const le=W.acquire();return le.valid=!0,le.value=de,K&&(le.value=K.call(this.host,de,le)),le}}const W=new L.Z(class k{constructor(){this.value=null,this.valid=!0}acquire(){this.valid=!0}release(){this.value=null}});var re=E(82255),Q=E(45262),ue=E(77712),he=E(76898);function fe(oe){if(null==oe)return{value:oe};if(Array.isArray(oe))return{type:[oe[0]],value:null};switch(typeof oe){case"object":return oe.constructor&&oe.constructor.__accessorMetadata__||oe instanceof Date?{type:oe.constructor,value:oe}:oe;case"boolean":return{type:Boolean,value:oe};case"string":return{type:String,value:oe};case"number":return{type:Number,value:oe};case"function":return{type:oe,value:null};default:return}}class pe{constructor(...K){if(this.constructor===pe)throw new Error("[accessor] cannot instantiate Accessor. This can be fixed by creating a subclass of Accessor");Object.defineProperty(this,"__accessor__",{enumerable:!1,value:new F(this)}),K.length>0&&this.normalizeCtorArgs&&(this.__accessor__.ctorArgs=this.normalizeCtorArgs.apply(this,K))}static createSubclass(K={}){if(Array.isArray(K))throw new Error("Multi-inheritance unsupported since 4.16");const{properties:de,declaredClass:le,constructor:me}=K;delete K.declaredClass,delete K.properties,delete K.constructor;const ce=this;class ge extends ce{constructor(...ie){super(...ie),this.inherited=null,me&&me.apply(this,ie)}}(0,N.JT)(ge.prototype);for(const J in K){const ie=K[J];ge.prototype[J]="function"==typeof ie?function(...De){const _e=this.inherited;let Ie;this.inherited=function(...xe){if(ce.prototype[J])return ce.prototype[J].apply(this,xe)};try{Ie=ie.apply(this,De)}catch(xe){throw this.inherited=_e,xe}return this.inherited=_e,Ie}:K[J]}for(const J in de){const ie=fe(de[J]);(0,ue.Cb)(ie)(ge.prototype,J)}return(0,he.j)(le)(ge)}postscript(K){const de=this.__accessor__,le=de.ctorArgs||K;de.initialize(),le&&(this.set(le),de.ctorArgs=null),de.constructed(),this.initialize()}initialize(){}destroy(){this.destroyed||((0,Q.BT)(this),this.__accessor__.destroy())}get initialized(){return this.__accessor__&&this.__accessor__.initialized||!1}get constructed(){return this.__accessor__&&this.__accessor__.lifecycle===B.F.CONSTRUCTED||!1}get destroyed(){return this.__accessor__&&this.__accessor__.destroyed||!1}commitProperty(K){this.get(K)}get(K){return(0,X.U2)(this,K)}hasOwnProperty(K){return this.__accessor__?this.__accessor__.has(K):Object.prototype.hasOwnProperty.call(this,K)}isInstanceOf(K){return(0,M.XV)(O.Z.getLogger(this.declaredClass),"isInstanceOf",{replacement:"Use instanceof directly",version:"4.16"}),this instanceof K}keys(){return this.__accessor__?this.__accessor__.keys():[]}set(K,de){return(0,re.t)(this,K,de),this}watch(K,de,le){return(0,Q.YP)(this,K,de,le)}_clearOverride(K){return this.__accessor__.clearOverride(K)}_override(K,de){return this.__accessor__.override(K,de)}_isOverridden(K){return this.__accessor__.isOverridden(K)}notifyChange(K){this.__accessor__.notifyChange(K)}_get(K){return this.__accessor__.internalGet(K)}_set(K,de){return this.__accessor__.internalSet(K,de),this}}},35575:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>X});var M=E(27899);function O(N){N.length=0}class X{constructor(ee=50,z=50){this._pool=new M.Z(Array,void 0,O,z,ee)}acquire(){return this._pool.acquire()}release(ee){this._pool.release(ee)}prune(){this._pool.prune(0)}static acquire(){return B.acquire()}static release(ee){return B.release(ee)}static prune(){B.prune()}}const B=new X(100)},79608:(Qe,Me,E)=>{"use strict";E.d(Me,{J:()=>x});var M=E(17626),O=E(14517),B=(E(8314),E(58817)),N=E(63290),ee=E(62208),z=E(31283),L=E(52323),T=E(76898);N.Z.getLogger("esri.core.Clonable");const x=Y=>{let $=class extends Y{clone(){const se=(0,ee.s3)((0,L.vw)(this),"unable to clone instance of non-accessor class"),ne=se.metadatas,j=se.store,I={},w=new Map;for(const W in ne){const re=ne[W],Q=null==j?void 0:j.originOf(W),ue=re.clonable;if(re.readOnly||!1===ue||Q!==z.s3.USER&&Q!==z.s3.DEFAULTS&&Q!==z.s3.WEB_MAP&&Q!==z.s3.WEB_SCENE)continue;const he=this[W];let fe=null;fe="function"==typeof ue?ue(he):"reference"===ue?he:(0,B.Vo)(he),null!=he&&null==fe||(Q===z.s3.DEFAULTS?w.set(W,fe):I[W]=fe)}const F=new(Object.getPrototypeOf(this).constructor)(I);if(w.size){var k;const W=null==(k=(0,L.vw)(F))?void 0:k.store;if(W)for(const[re,Q]of w)W.set(re,Q,z.s3.DEFAULTS)}return F}};return $=(0,M._)([(0,T.j)("esri.core.Clonable")],$),$};let Z=class extends(x(O.Z)){};Z=(0,M._)([(0,T.j)("esri.core.Clonable")],Z)},48701:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>de});var z,le,M=E(17626),O=E(35575),X=E(61885),B=E(58817),N=E(62208),ee=E(27899);(le=z||(z={}))[le.ADD=1]="ADD",le[le.REMOVE=2]="REMOVE",le[le.MOVE=4]="MOVE";var j,L=E(50618),T=E(77712),x=E(90912),Z=E(61039),Y=E(76898),$=E(36082),se=E(12196);class ne{constructor(){this._observers=[]}observe(me){return this._observers.includes(me)||this._observers.push(me),new se.X(this._observers,me)}notify(){const me=this._observers.slice();for(let ce=0;ce<me.length;++ce){const ge=me[ce];ge.onInvalidated(),ge.onCommitted()}}}const w=new ee.Z(class I{constructor(){this.target=null,this.cancellable=!1,this.defaultPrevented=!1,this.item=void 0,this.type=void 0}preventDefault(){this.cancellable&&(this.defaultPrevented=!0)}reset(me){this.defaultPrevented=!1,this.item=me}},void 0,le=>{le.item=null,le.target=null,le.defaultPrevented=!1,le.cancellable=!1}),F=()=>{};function k(le){return le?le instanceof K?le.toArray():le.length?Array.prototype.slice.apply(le):[]:[]}function W(le){if(le&&le.length)return le[0]}function re(le,me,ce,ge){const J=Math.min(le.length-ce,me.length-ge);let ie=0;for(;ie<J&&le[ce+ie]===me[ge+ie];)ie++;return ie}function Q(le,me,ce,ge){me&&me.forEach((J,ie,De)=>{le.push(J),Q(le,ce.call(ge,J,ie,De),ce,ge)})}const ue=new Set,he=new Set,fe=new Set,pe=new Map;let oe=0,K=j=class extends X.Z.EventedAccessor{constructor(le){super(le),this._chgListeners=[],this._notifications=null,this._timer=null,this._observable=new ne,this.length=0,this._items=[],Object.defineProperty(this,"uid",{value:oe++})}static isCollection(le){return null!=le&&le instanceof j}normalizeCtorArgs(le){return le?Array.isArray(le)||le instanceof j?{items:le}:le:{}}destroy(){this.removeAll()}*[Symbol.iterator](){yield*this.items}get items(){return(0,$.it)(this._observable),this._items}set items(le){this._emitBeforeChanges(z.ADD)||(this._splice(0,this.length,k(le)),this._emitAfterChanges(z.ADD))}hasEventListener(le){return"change"===le?this._chgListeners.length>0:this._emitter.hasEventListener(le)}on(le,me){if("change"===le){const ce=this._chgListeners,ge={removed:!1,callback:me};return ce.push(ge),this._notifications&&this._notifications.push({listeners:ce.slice(),items:this._items.slice(),changes:[]}),{remove(){this.remove=F,ge.removed=!0,ce.splice(ce.indexOf(ge),1)}}}return this._emitter.on(le,me)}once(le,me){const ce=this.on(le,me);return{remove(){ce.remove()}}}add(le,me){if((0,$.it)(this._observable),this._emitBeforeChanges(z.ADD))return this;const ce=this.getNextIndex(null!=me?me:null);return this._splice(ce,0,[le]),this._emitAfterChanges(z.ADD),this}addMany(le,me=this._items.length){if((0,$.it)(this._observable),!le||!le.length)return this;if(this._emitBeforeChanges(z.ADD))return this;const ce=this.getNextIndex(me);return this._splice(ce,0,k(le)),this._emitAfterChanges(z.ADD),this}at(le){if((0,$.it)(this._observable),(le=Math.trunc(le)||0)<0&&(le+=this.length),!(le<0||le>=this.length))return this._items[le]}removeAll(){if((0,$.it)(this._observable),!this.length||this._emitBeforeChanges(z.REMOVE))return[];const le=this._splice(0,this.length)||[];return this._emitAfterChanges(z.REMOVE),le}clone(){return(0,$.it)(this._observable),this._createNewInstance({items:this._items.map(B.d9)})}concat(...le){(0,$.it)(this._observable);const me=le.map(k);return this._createNewInstance({items:this._items.concat(...me)})}drain(le,me){if((0,$.it)(this._observable),!this.length||this._emitBeforeChanges(z.REMOVE))return;const ce=(0,N.j0)(this._splice(0,this.length)),ge=ce.length;for(let J=0;J<ge;J++)le.call(me,ce[J],J,ce);this._emitAfterChanges(z.REMOVE)}every(le,me){return(0,$.it)(this._observable),this._items.every(le,me)}filter(le,me){let ce;return(0,$.it)(this._observable),ce=2===arguments.length?this._items.filter(le,me):this._items.filter(le),this._createNewInstance({items:ce})}find(le,me){return(0,$.it)(this._observable),this._items.find(le,me)}findIndex(le,me){return(0,$.it)(this._observable),this._items.findIndex(le,me)}flatten(le,me){(0,$.it)(this._observable);const ce=[];return Q(ce,this,le,me),new j(ce)}forEach(le,me){return(0,$.it)(this._observable),this._items.forEach(le,me)}getItemAt(le){return(0,$.it)(this._observable),this._items[le]}getNextIndex(le){(0,$.it)(this._observable);const me=this.length;return(le=null==le?me:le)<0?le=0:le>me&&(le=me),le}includes(le,me=0){return(0,$.it)(this._observable),this._items.includes(le,me)}indexOf(le,me=0){return(0,$.it)(this._observable),this._items.indexOf(le,me)}join(le=","){return(0,$.it)(this._observable),this._items.join(le)}lastIndexOf(le,me=this.length-1){return(0,$.it)(this._observable),this._items.lastIndexOf(le,me)}map(le,me){(0,$.it)(this._observable);const ce=this._items.map(le,me);return new j({items:ce})}reorder(le,me=this.length-1){(0,$.it)(this._observable);const ce=this.indexOf(le);if(-1!==ce){if(me<0?me=0:me>=this.length&&(me=this.length-1),ce!==me){if(this._emitBeforeChanges(z.MOVE))return le;this._splice(ce,1),this._splice(me,0,[le]),this._emitAfterChanges(z.MOVE)}return le}}pop(){if((0,$.it)(this._observable),!this.length||this._emitBeforeChanges(z.REMOVE))return;const le=W(this._splice(this.length-1,1));return this._emitAfterChanges(z.REMOVE),le}push(...le){return(0,$.it)(this._observable),this._emitBeforeChanges(z.ADD)||(this._splice(this.length,0,le),this._emitAfterChanges(z.ADD)),this.length}reduce(le,me){(0,$.it)(this._observable);const ce=this._items;return 2===arguments.length?ce.reduce(le,me):ce.reduce(le)}reduceRight(le,me){(0,$.it)(this._observable);const ce=this._items;return 2===arguments.length?ce.reduceRight(le,me):ce.reduceRight(le)}remove(le){return(0,$.it)(this._observable),this.removeAt(this.indexOf(le))}removeAt(le){if((0,$.it)(this._observable),le<0||le>=this.length||this._emitBeforeChanges(z.REMOVE))return;const me=W(this._splice(le,1));return this._emitAfterChanges(z.REMOVE),me}removeMany(le){if((0,$.it)(this._observable),!le||!le.length||this._emitBeforeChanges(z.REMOVE))return[];const me=le instanceof j?le.toArray():le,ce=this._items,ge=[],J=me.length;for(let ie=0;ie<J;ie++){const _e=ce.indexOf(me[ie]);if(_e>-1){const Ie=1+re(me,ce,ie+1,_e+1),xe=this._splice(_e,Ie);xe&&xe.length>0&&ge.push.apply(ge,xe),ie+=Ie-1}}return this._emitAfterChanges(z.REMOVE),ge}reverse(){if((0,$.it)(this._observable),this._emitBeforeChanges(z.MOVE))return this;const le=this._splice(0,this.length);return le&&(le.reverse(),this._splice(0,0,le)),this._emitAfterChanges(z.MOVE),this}shift(){if((0,$.it)(this._observable),!this.length||this._emitBeforeChanges(z.REMOVE))return;const le=W(this._splice(0,1));return this._emitAfterChanges(z.REMOVE),le}slice(le=0,me=this.length){return(0,$.it)(this._observable),this._createNewInstance({items:this._items.slice(le,me)})}some(le,me){return(0,$.it)(this._observable),this._items.some(le,me)}sort(le){if((0,$.it)(this._observable),!this.length||this._emitBeforeChanges(z.MOVE))return this;const me=(0,N.j0)(this._splice(0,this.length));return arguments.length?me.sort(le):me.sort(),this._splice(0,0,me),this._emitAfterChanges(z.MOVE),this}splice(le,me,...ce){(0,$.it)(this._observable);const ge=(me?z.REMOVE:0)|(ce.length?z.ADD:0);if(this._emitBeforeChanges(ge))return[];const J=this._splice(le,me,ce)||[];return this._emitAfterChanges(ge),J}toArray(){return(0,$.it)(this._observable),this._items.slice()}toJSON(){return(0,$.it)(this._observable),this.toArray()}toLocaleString(){return(0,$.it)(this._observable),this._items.toLocaleString()}toString(){return(0,$.it)(this._observable),this._items.toString()}unshift(...le){return(0,$.it)(this._observable),!le.length||this._emitBeforeChanges(z.ADD)||(this._splice(0,0,le),this._emitAfterChanges(z.ADD)),this.length}_createNewInstance(le){return new this.constructor(le)}_splice(le,me,ce){const ge=this._items,J=this.itemType;let ie,De;if(!this._notifications&&this.hasEventListener("change")&&(this._notifications=[{listeners:this._chgListeners.slice(),items:this._items.slice(),changes:[]}],this._timer&&this._timer.remove(),this._timer=(0,L.Os)(()=>this._dispatchChange())),me){if(De=ge.splice(le,me),this.hasEventListener("before-remove")){const _e=w.acquire();_e.target=this,_e.cancellable=!0;for(let Ie=0,xe=De.length;Ie<xe;Ie++)ie=De[Ie],_e.reset(ie),this.emit("before-remove",_e),_e.defaultPrevented&&(De.splice(Ie,1),ge.splice(le,0,ie),le+=1,Ie-=1,xe-=1);w.release(_e)}if(this.length=this._items.length,this.hasEventListener("after-remove")){const _e=w.acquire();_e.target=this,_e.cancellable=!1;const Ie=De.length;for(let xe=0;xe<Ie;xe++)_e.reset(De[xe]),this.emit("after-remove",_e);w.release(_e)}}if(ce&&ce.length){if(J){const ke=[];for(const Ve of ce){const ve=J.ensureType(Ve);null==ve&&null!=Ve||ke.push(ve)}ce=ke}const _e=this.hasEventListener("before-add"),Ie=this.hasEventListener("after-add"),xe=le===this.length;if(_e||Ie){const ke=w.acquire();ke.target=this,ke.cancellable=!0;const Ve=w.acquire();Ve.target=this,Ve.cancellable=!1;for(const ve of ce)_e?(ke.reset(ve),this.emit("before-add",ke),ke.defaultPrevented||(xe?ge.push(ve):ge.splice(le++,0,ve),this._set("length",ge.length),Ie&&(Ve.reset(ve),this.emit("after-add",Ve)))):(xe?ge.push(ve):ge.splice(le++,0,ve),this._set("length",ge.length),Ve.reset(ve),this.emit("after-add",Ve));w.release(Ve),w.release(ke)}else{if(xe)for(const ke of ce)ge.push(ke);else ge.splice(le,0,...ce);this._set("length",ge.length)}}return(ce&&ce.length||De&&De.length)&&this._notifyChangeEvent(ce,De),De}_emitBeforeChanges(le){let me=!1;if(this.hasEventListener("before-changes")){const ce=w.acquire();ce.target=this,ce.cancellable=!0,ce.type=le,this.emit("before-changes",ce),me=ce.defaultPrevented,w.release(ce)}return me}_emitAfterChanges(le){if(this.hasEventListener("after-changes")){const me=w.acquire();me.target=this,me.cancellable=!1,me.type=le,this.emit("after-changes",me),w.release(me)}this._observable.notify()}_notifyChangeEvent(le,me){this.hasEventListener("change")&&this._notifications&&this._notifications[this._notifications.length-1].changes.push({added:le,removed:me})}_dispatchChange(){if(this._timer&&(this._timer.remove(),this._timer=null),!this._notifications)return;const le=this._notifications;this._notifications=null;for(const me of le){const ce=me.changes;ue.clear(),he.clear(),fe.clear();for(const{added:Ie,removed:xe}of ce){if(Ie)if(0===fe.size&&0===he.size)for(const ke of Ie)ue.add(ke);else for(const ke of Ie)he.has(ke)?(fe.add(ke),he.delete(ke)):fe.has(ke)||ue.add(ke);if(xe)if(0===fe.size&&0===ue.size)for(const ke of xe)he.add(ke);else for(const ke of xe)ue.has(ke)?ue.delete(ke):(fe.delete(ke),he.add(ke))}const ge=O.Z.acquire();ue.forEach(Ie=>{ge.push(Ie)});const J=O.Z.acquire();he.forEach(Ie=>{J.push(Ie)});const ie=this._items,De=me.items,_e=O.Z.acquire();if(fe.forEach(Ie=>{De.indexOf(Ie)!==ie.indexOf(Ie)&&_e.push(Ie)}),me.listeners&&(ge.length||J.length||_e.length)){const Ie={target:this,added:ge,removed:J,moved:_e},xe=me.listeners.length;for(let ke=0;ke<xe;ke++){const Ve=me.listeners[ke];Ve.removed||Ve.callback.call(this,Ie)}}O.Z.release(ge),O.Z.release(J),O.Z.release(_e)}ue.clear(),he.clear(),fe.clear()}};K.ofType=le=>{if(!le)return j;if(pe.has(le))return pe.get(le);let me=null;if("function"==typeof le)me=le.prototype.declaredClass;else if(le.base)me=le.base.prototype.declaredClass;else for(const ge in le.typeMap){const J=le.typeMap[ge].prototype.declaredClass;me?me+=` | ${J}`:me=J}let ce=class extends j{};return(0,M._)([(0,Z.c)({Type:le,ensureType:"function"==typeof le?(0,x.se)(le):(0,x.N7)(le)})],ce.prototype,"itemType",void 0),ce=(0,M._)([(0,Y.j)(`esri.core.Collection<${me}>`)],ce),pe.set(le,ce),ce},(0,M._)([(0,T.Cb)()],K.prototype,"length",void 0),(0,M._)([(0,T.Cb)()],K.prototype,"items",null),K=j=(0,M._)([(0,Y.j)("esri.core.Collection")],K);const de=K},46882:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>ne});var M=E(17626),O=E(48701),X=E(80542),B=E(62208),L=(E(26584),E(63290),E(45262),E(21352)),T=E(77712),$=(E(85931),E(8314),E(90912),E(76898));let se=class extends((0,X.p)(O.Z)){constructor(j){super(j),this.getCollections=null}initialize(){this.handles.add((0,L.EH)(()=>this._refresh()))}destroy(){this.getCollections=null}_refresh(){const j=(0,B.pC)(this.getCollections)?this.getCollections():null;if((0,B.Wi)(j))return void this.removeAll();let I=0;for(const w of j)(0,B.pC)(w)&&(I=this._processCollection(I,w));this.splice(I,this.length)}_createNewInstance(j){return new O.Z(j)}_processCollection(j,I){if(!I)return j;const w=this.itemFilterFunction?this.itemFilterFunction:F=>!!F;for(const F of I)if(F){if(w(F)){const k=this.indexOf(F,j);k>=0?k!==j&&this.reorder(F,j):this.add(F,j),++j}if(this.getChildrenFunction){const k=this.getChildrenFunction(F);if(Array.isArray(k))for(const W of k)j=this._processCollection(j,W);else j=this._processCollection(j,k)}}return j}};(0,M._)([(0,T.Cb)()],se.prototype,"getCollections",void 0),(0,M._)([(0,T.Cb)()],se.prototype,"getChildrenFunction",void 0),(0,M._)([(0,T.Cb)()],se.prototype,"itemFilterFunction",void 0),se=(0,M._)([(0,$.j)("esri.core.CollectionFlattener")],se);const ne=se},26584:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>B});var M=E(58817),O=E(63290),X=E(90888);class B extends X.Z{constructor(ee,z,L){if(super(ee,z,L),!(this instanceof B))return new B(ee,z,L)}toJSON(){if(null!=this.details)try{return{name:this.name,message:this.message,details:JSON.parse(JSON.stringify(this.details,(ee,z)=>{if(z&&"object"==typeof z&&"function"==typeof z.toJSON)return z;try{return(0,M.d9)(z)}catch(L){return"[object]"}}))}}catch(ee){throw O.Z.getLogger("esri.core.Error").error(ee),ee}return{name:this.name,message:this.message,details:this.details}}static fromJSON(ee){return new B(ee.name,ee.message,ee.details)}}B.prototype.type="error"},61885:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>ee});var M=E(17626),O=E(14517),X=E(54024),B=E(76898);class N{constructor(){this._emitter=new N.EventEmitter(this)}emit(L,T){return this._emitter.emit(L,T)}on(L,T){return this._emitter.on(L,T)}once(L,T){return this._emitter.once(L,T)}hasEventListener(L){return this._emitter.hasEventListener(L)}}!function(z){class L{constructor(Z=null){this.target=Z,this._listenersMap=null}clear(){this._listenersMap&&this._listenersMap.clear(),this._listenersMap=null}emit(Z,Y){const $=this._listenersMap&&this._listenersMap.get(Z);if(!$)return!1;const se=this.target||this;return[...$].forEach(ne=>{ne.call(se,Y)}),$.length>0}on(Z,Y){if(Array.isArray(Z)){const se=Z.map(ne=>this.on(ne,Y));return(0,X.AL)(se)}if(Z.indexOf(",")>-1)throw new TypeError("Evented.on() with a comma delimited string of event types is not supported");this._listenersMap||(this._listenersMap=new Map);const $=this._listenersMap.get(Z)||[];return $.push(Y),this._listenersMap.set(Z,$),{remove:()=>{const se=this._listenersMap&&this._listenersMap.get(Z)||[],ne=se.indexOf(Y);ne>=0&&se.splice(ne,1)}}}once(Z,Y){const $=this.on(Z,se=>{$.remove(),Y.call(null,se)});return $}hasEventListener(Z){const Y=this._listenersMap&&this._listenersMap.get(Z);return null!=Y&&Y.length>0}}z.EventEmitter=L,z.EventedMixin=x=>{let Z=class extends x{constructor(){super(...arguments),this._emitter=new L}destroy(){this._emitter.clear()}emit(Y,$){return this._emitter.emit(Y,$)}on(Y,$){return this._emitter.on(Y,$)}once(Y,$){return this._emitter.once(Y,$)}hasEventListener(Y){return this._emitter.hasEventListener(Y)}};return Z=(0,M._)([(0,B.j)("esri.core.Evented")],Z),Z};let T=class extends O.Z{constructor(){super(...arguments),this._emitter=new N.EventEmitter(this)}destroy(){this._emitter.clear()}emit(x,Z){return this._emitter.emit(x,Z)}on(x,Z){return this._emitter.on(x,Z)}once(x,Z){return this._emitter.once(x,Z)}hasEventListener(x){return this._emitter.hasEventListener(x)}};T=(0,M._)([(0,B.j)("esri.core.Evented")],T),z.EventedAccessor=T}(N||(N={}));const ee=N},80542:(Qe,Me,E)=>{"use strict";E.d(Me,{p:()=>z,r:()=>L});var M=E(17626),O=E(14517),X=E(72392),B=E(77712),N=E(76898),ee=E(70257);const z=T=>{let x=class extends T{destroy(){var Z,Y;this.destroyed||(null==(Z=this._get("handles"))||Z.destroy(),null==(Y=this._get("updatingHandles"))||Y.destroy())}get handles(){return this._get("handles")||new X.Z}get updatingHandles(){return this._get("updatingHandles")||new ee.t}};return(0,M._)([(0,B.Cb)({readOnly:!0})],x.prototype,"handles",null),(0,M._)([(0,B.Cb)({readOnly:!0})],x.prototype,"updatingHandles",null),x=(0,M._)([(0,N.j)("esri.core.HandleOwner")],x),x};let L=class extends(z(O.Z)){};L=(0,M._)([(0,N.j)("esri.core.HandleOwner")],L)},72392:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>L});var M=E(17626),O=E(14517),X=E(48701),B=E(62208),N=E(77712),ee=E(76898);let z=class extends O.Z{constructor(T){super(T),this._groups=new Map}destroy(){this.removeAll()}get size(){let T=0;return this._groups.forEach(x=>{T+=x.length}),T}add(T,x){if(!this._isHandle(T)&&!Array.isArray(T)&&!X.Z.isCollection(T))return this;const Z=this._getOrCreateGroup(x);return Array.isArray(T)||X.Z.isCollection(T)?T.forEach(Y=>this._isHandle(Y)&&Z.push(Y)):Z.push(T),this.notifyChange("size"),this}forEach(T,x){if("function"==typeof T)this._groups.forEach(Z=>Z.forEach(T));else{const Z=this._getGroup(T);Z&&x&&Z.forEach(x)}}has(T){return this._groups.has(this._ensureGroupKey(T))}remove(T){if(Array.isArray(T)||X.Z.isCollection(T))return T.forEach(this.remove,this),this;if(!this.has(T))return this;const x=this._getGroup(T);for(let Z=0;Z<x.length;Z++)x[Z].remove();return this._deleteGroup(T),this.notifyChange("size"),this}removeAll(){return this._groups.forEach(T=>{for(let x=0;x<T.length;x++)T[x].remove()}),this._groups.clear(),this.notifyChange("size"),this}_isHandle(T){return T&&!!T.remove}_getOrCreateGroup(T){if(this.has(T))return this._getGroup(T);const x=[];return this._groups.set(this._ensureGroupKey(T),x),x}_getGroup(T){return(0,B.j0)(this._groups.get(this._ensureGroupKey(T)))}_deleteGroup(T){return this._groups.delete(this._ensureGroupKey(T))}_ensureGroupKey(T){return T||"_default_"}};(0,M._)([(0,N.Cb)({readOnly:!0})],z.prototype,"size",null),z=(0,M._)([(0,ee.j)("esri.core.Handles")],z);const L=z},61996:(Qe,Me,E)=>{"use strict";E.d(Me,{I:()=>B});var M=E(17626),O=E(76898);let X=0;const B=ee=>{let z=class extends ee{constructor(...L){super(...L),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:Date.now().toString(16)+"-object-"+X++})}};return z=(0,M._)([(0,O.j)("esri.core.Identifiable")],z),z};let N=class extends(B(class{})){};N=(0,M._)([(0,O.j)("esri.core.Identifiable")],N)},78498:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>O});var M=E(1036);class O{constructor(B,N){this._storage=new M.WJ,this._storage.maxSize=B,N&&this._storage.registerRemoveFunc("",N)}put(B,N){this._storage.put(B,N,1,1)}pop(B){return this._storage.pop(B)}get(B){return this._storage.get(B)}clear(){this._storage.clearAll()}destroy(){this._storage.destroy()}}},86810:(Qe,Me,E)=>{"use strict";E.d(Me,{wq:()=>j,eC:()=>$});var M=E(17626),O=E(14517),X=E(62208),B=E(58817),N=E(31283);class ee{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(w){const F=new ee;return this._values.forEach((k,W)=>{w&&w.has(W)||F.set(W,(0,B.d9)(k.value),k.origin)}),F}get(w,F){F=this._normalizeOrigin(F);const k=this._values.get(w);return null==F||(null==k?void 0:k.origin)===F?null==k?void 0:k.value:void 0}originOf(w){var F,k;return null!=(F=null==(k=this._values.get(w))?void 0:k.origin)?F:N.s3.USER}keys(w){w=this._normalizeOrigin(w);const F=[...this._values.keys()];return null==w?F:F.filter(k=>{var W;return(null==(W=this._values.get(k))?void 0:W.origin)===w})}set(w,F,k){if((k=this._normalizeOrigin(k))===N.s3.DEFAULTS){const W=this._values.get(w);if(W&&null!=W.origin&&W.origin>k)return}this._values.set(w,new z(F,k))}delete(w,F){var k;null!=(F=this._normalizeOrigin(F))&&(null==(k=this._values.get(w))?void 0:k.origin)!==F||this._values.delete(w)}has(w,F){var k;return null!=(F=this._normalizeOrigin(F))?(null==(k=this._values.get(w))?void 0:k.origin)===F:this._values.has(w)}forEach(w){this._values.forEach(({value:F},k)=>w(F,k))}_normalizeOrigin(w){if(null!=w)return w===N.s3.DEFAULTS?w:N.s3.USER}}class z{constructor(w,F){this.value=w,this.origin=F}}var L=E(12590),T=E(29338),x=E(52323),Z=E(36054),Y=E(76898);const $=I=>{let w=class extends I{constructor(...F){super(...F);const k=(0,X.j0)((0,x.vw)(this)),W=k.store,re=new ee;k.store=re,(0,L.M)(k,W,re)}read(F,k){(0,T.i)(this,F,k)}write(F={},k){return(0,Z.c)(this,F,k)}toJSON(F){return this.write({},F)}static fromJSON(F,k){return se.call(this,F,k)}};return w=(0,M._)([(0,Y.j)("esri.core.JSONSupport")],w),w.prototype.toJSON.isDefaultToJSON=!0,w};function se(I,w){if(!I)return null;if(I.declaredClass)throw new Error("JSON object is already hydrated");const F=new this;return F.read(I,w),F}let j=class extends($(O.Z)){};j=(0,M._)([(0,Y.j)("esri.core.JSONSupport")],j)},93961:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>O});var M=E(1036);class O{constructor(B,N){this._storage=new M.WJ,this._storage.maxSize=B,N&&this._storage.registerRemoveFunc("",N)}put(B,N,ee){this._storage.put(B,N,ee,1)}pop(B){return this._storage.pop(B)}get(B){return this._storage.get(B)}clear(){this._storage.clearAll()}destroy(){this._storage.destroy()}get maxSize(){return this._storage.maxSize}set maxSize(B){this._storage.maxSize=B}}},47996:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>se});var M=E(17626),O=E(26584),X=E(60330),B=E(10699),N=E(14889),ee=E(77712),z=E(76898);const Z="loaded",Y=ne=>{let j=class extends ne{constructor(...I){super(...I),this._loadController=null,this.loadError=null,this.loadStatus="not-loaded",this._set("loadWarnings",[]),this.addResolvingPromise(new Promise(w=>{const F=this.load.bind(this);this.load=k=>{const W=new Promise((re,Q)=>{const ue=(0,B.$F)(k,Q);this.destroyed&&Q(new O.Z("load:instance-destroyed",`Instance of '${this.declaredClass||this.constructor.name}' is already destroyed`,{instance:this})),this._promiseProps.when(re,Q).finally(()=>{ue&&ue.remove()})});if("not-loaded"===this.loadStatus){this._set("loadStatus","loading");const re=this._loadController=new AbortController;F({signal:re.signal}),(0,B.fu)(re.signal,()=>{this._promiseProps.abort()})}return w(),W}})),this.when(()=>{this._set("loadStatus",Z),this._loadController=null},w=>{this._set("loadStatus","failed"),this._set("loadError",w),this._loadController=null})}get loaded(){return this.loadStatus===Z}get loadWarnings(){return this._get("loadWarnings")}load(){return null}cancelLoad(){var I;return this.isFulfilled()||(this._set("loadError",new O.Z("load:cancelled","Cancelled")),null==(I=this._loadController)||I.abort()),this}};return(0,M._)([(0,ee.Cb)({readOnly:!0})],j.prototype,"loaded",null),(0,M._)([(0,ee.Cb)({readOnly:!0})],j.prototype,"loadError",void 0),(0,M._)([(0,ee.Cb)({clonable:!1})],j.prototype,"loadStatus",void 0),(0,M._)([(0,ee.Cb)({type:[N.Z],readOnly:!0})],j.prototype,"loadWarnings",null),j=(0,M._)([(0,z.j)("esri.core.Loadable")],j),j};let $=class extends(Y(X.D)){};var ne;$=(0,M._)([(0,z.j)("esri.core.Loadable")],$),(ne=$||($={})).LoadableMixin=Y,ne.isLoadable=function j(I){return!(!I||!I.load)};const se=$},63290:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>ee});var M=E(59318),X=(E(8314),E(62208)),B=E(77275);const N={info:0,warn:1,error:2,none:3};class ee{constructor(L){this.level=null,this._module="",this._parent=null,this.writer=null,this._loggedMessages={error:new Map,warn:new Map,info:new Map},null!=L.level&&(this.level=L.level),null!=L.writer&&(this.writer=L.writer),this._module=L.module,ee._loggers[this.module]=this;const T=this.module.lastIndexOf(".");-1!==T&&(this._parent=ee.getLogger(this.module.slice(0,T)))}get module(){return this._module}get parent(){return this._parent}error(...L){this._log("error","always",...L)}warn(...L){this._log("warn","always",...L)}info(...L){this._log("info","always",...L)}errorOnce(...L){this._log("error","once",...L)}warnOnce(...L){this._log("warn","once",...L)}infoOnce(...L){this._log("info","once",...L)}errorOncePerTick(...L){this._log("error","oncePerTick",...L)}warnOncePerTick(...L){this._log("warn","oncePerTick",...L)}infoOncePerTick(...L){this._log("info","oncePerTick",...L)}get test(){const L=this;return{loggedMessages:L._loggedMessages,clearLoggedWarnings:()=>L._loggedMessages.warn.clear()}}static get testSingleton(){return{resetLoggers(L={}){const T=ee._loggers;return ee._loggers=L,T},set throttlingDisabled(L){ee._throttlingDisabled=L}}}static getLogger(L){let T=ee._loggers[L];return T||(T=new ee({module:L})),T}_log(L,T,...x){if(this._matchLevel(L)){if("always"!==T&&!ee._throttlingDisabled){const Z=this._argsToKey(x),Y=this._loggedMessages[L].get(Z);if("once"===T&&null!=Y||"oncePerTick"===T&&Y&&Y>=ee._tickCounter)return;this._loggedMessages[L].set(Z,ee._tickCounter),ee._scheduleTickCounterIncrement()}for(const Z of M.Z.log.interceptors)if(Z(L,this.module,...x))return;this._inheritedWriter()(L,this.module,...x)}}_parentWithMember(L,T){let x=this;for(;(0,X.pC)(x);){const Z=x[L];if((0,X.pC)(Z))return Z;x=x.parent}return T}_inheritedWriter(){return this._parentWithMember("writer",this._consoleWriter)}_consoleWriter(L,T,...x){console[L](`[${T}]`,...x)}_matchLevel(L){return N[this._parentWithMember("level",M.Z.log.level?M.Z.log.level:"warn")]<=N[L]}_argsToKey(...L){return(0,B.hP)(JSON.stringify(L,(x,Z)=>"object"!=typeof Z||Array.isArray(Z)?Z:"[Object]"))}static _scheduleTickCounterIncrement(){ee._tickCounterScheduled||(ee._tickCounterScheduled=!0,Promise.resolve().then(()=>{ee._tickCounter++,ee._tickCounterScheduled=!1}))}}ee._loggers={},ee._tickCounter=0,ee._tickCounterScheduled=!1,ee._throttlingDisabled=!1},88159:(Qe,Me,E)=>{"use strict";function M(N,ee){for(const[z,L]of N)if(ee(L,z))return!0;return!1}function X(N,ee,z){const L=N.get(ee);if(void 0!==L)return L;const T=z();return N.set(ee,T),T}E.d(Me,{oE:()=>M,s1:()=>X})},1036:(Qe,Me,E)=>{"use strict";E.d(Me,{WJ:()=>ee,Xq:()=>N});var B,z,M=E(62208),O=E(77029);(z=B||(B={}))[z.ALL=0]="ALL",z[z.SOME=1]="SOME";class N{constructor(L,T,x){this._namespace=L,this._storage=T,this._removeFunc=!1,this._hit=0,this._miss=0,this._storage.register(this),this._namespace+=":",x&&(this._storage.registerRemoveFunc(this._namespace,x),this._removeFunc=!0)}destroy(){this._storage.clear(this._namespace),this._removeFunc&&this._storage.deregisterRemoveFunc(this._namespace),this._storage.deregister(this),this._storage=null}get namespace(){return this._namespace.slice(0,-1)}get hitRate(){return this._hit/(this._hit+this._miss)}get size(){return this._storage.size}get maxSize(){return this._storage.maxSize}resetHitRate(){this._hit=this._miss=0}put(L,T,x,Z=0){this._storage.put(this._namespace+L,T,x,Z)}get(L){const T=this._storage.get(this._namespace+L);return void 0===T?++this._miss:++this._hit,T}pop(L){const T=this._storage.pop(this._namespace+L);return void 0===T?++this._miss:++this._hit,T}updateSize(L,T,x){this._storage.updateSize(this._namespace+L,T,x)}clear(){this._storage.clear(this._namespace)}clearAll(){this._storage.clearAll()}getStats(){return this._storage.getStats()}resetStats(){this._storage.resetStats()}}class ee{constructor(L=10485760){this._maxSize=L,this._db=new Map,this._size=0,this._hit=0,this._miss=0,this._removeFuncs=new O.Z,this._users=new O.Z}destroy(){this.clearAll(),this._removeFuncs.clear(),this._users.clear(),this._db=null}register(L){this._users.push(L)}deregister(L){this._users.removeUnordered(L)}registerRemoveFunc(L,T){this._removeFuncs.push([L,T])}deregisterRemoveFunc(L){this._removeFuncs.filterInPlace(T=>T[0]!==L)}get size(){return this._size}get maxSize(){return this._maxSize}set maxSize(L){this._maxSize=Math.max(L,0),this._checkSizeLimit()}put(L,T,x,Z){const Y=this._db.get(L);if(Y&&(this._size-=Y.size,this._db.delete(L),Y.entry!==T&&this._notifyRemove(L,Y.entry,B.ALL)),x>this._maxSize)return void this._notifyRemove(L,T,B.ALL);if(void 0===T)return void console.warn("Refusing to cache undefined entry ");if(!x||x<0)return void console.warn("Refusing to cache entry with invalid size "+x);const $=1+Math.max(Z,-3)- -3;this._db.set(L,{entry:T,size:x,lifetime:$,lives:$}),this._size+=x,this._checkSizeLimit()}updateSize(L,T,x){const Z=this._db.get(L);if(Z&&Z.entry===T){for(this._size-=Z.size;x>this._maxSize;){const Y=this._notifyRemove(L,T,B.SOME);if(!((0,M.pC)(Y)&&Y>0))return void this._db.delete(L);x=Y}Z.size=x,this._size+=x,this._checkSizeLimit()}}pop(L){const T=this._db.get(L);if(T)return this._size-=T.size,this._db.delete(L),++this._hit,T.entry;++this._miss}get(L){const T=this._db.get(L);if(void 0!==T)return this._db.delete(L),T.lives=T.lifetime,this._db.set(L,T),++this._hit,T.entry;++this._miss}getStats(){const L={Size:Math.round(this._size/1048576)+"/"+Math.round(this._maxSize/1048576)+"MB","Hit rate":Math.round(100*this._getHitRate())+"%",Entries:this._db.size.toString()},T={},x=new Array;this._db.forEach(($,se)=>{const ne=$.lifetime;x[ne]=(x[ne]||0)+$.size,this._users.forAll(j=>{const I=j.namespace;se.startsWith(I)&&(T[I]=(T[I]||0)+$.size)})});const Z={};this._users.forAll($=>{const se=$.namespace;!isNaN($.hitRate)&&$.hitRate>0?(T[se]=T[se]||0,Z[se]=Math.round(100*$.hitRate)+"%"):Z[se]="0%"});const Y=Object.keys(T);Y.sort(($,se)=>T[se]-T[$]),Y.forEach($=>L[$]=Math.round(T[$]/2**20)+"MB / "+Z[$]);for(let $=x.length-1;$>=0;--$){const se=x[$];se&&(L["Priority "+($+-3-1)]=Math.round(se/this.size*100)+"%")}return L}resetStats(){this._hit=this._miss=0,this._users.forAll(L=>L.resetHitRate())}clear(L){this._db.forEach((T,x)=>{x.startsWith(L)&&(this._size-=T.size,this._db.delete(x),this._notifyRemove(x,T.entry,B.ALL))})}clearAll(){this._db.forEach((L,T)=>this._notifyRemove(T,L.entry,B.ALL)),this._size=0,this._db.clear()}_getHitRate(){return this._hit/(this._hit+this._miss)}_notifyRemove(L,T,x){let Z;return this._removeFuncs.some(Y=>{if(L.startsWith(Y[0])){const $=Y[1](T,x);return"number"==typeof $&&(Z=$),!0}return!1}),Z}_checkSizeLimit(){if(!(this._size<=this._maxSize))for(const[L,T]of this._db){if(this._db.delete(L),T.lives<=1){this._size-=T.size;const x=this._notifyRemove(L,T.entry,B.SOME);(0,M.pC)(x)&&x>0&&(this._size+=x,T.lives=T.lifetime,T.size=x,this._db.set(L,T))}else--T.lives,this._db.set(L,T);if(this._size<=.9*this.maxSize)return}}}},90888:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>X});var M=E(94113);class X{constructor(N,ee,z){this.name=N,this.details=z,this.message=void 0,this instanceof X&&(this.message=ee&&function O(B,N){return B.replace(/\$\{([^\s\:\}]*)(?:\:([^\s\:\}]+))?\}/g,function(ee,z){if(""===z)return"$";const L=(0,M.hS)(z,N),T=null==L?"":L;if(void 0===T)throw new Error(`could not find key "${z}" in template`);return T.toString()})}(ee,z)||"")}toString(){return"["+this.name+"]: "+this.message}}},99959:(Qe,Me,E)=>{"use strict";E.d(Me,{R:()=>I,w:()=>w});var M=E(17626),O=E(14517),X=E(62208),B=E(12590),N=E(58817),ee=E(31283);class z{constructor(){this._propertyOriginMap=new Map,this._originStores=new Array(ee.kk),this._values=new Map,this.multipleOriginsSupported=!0}clone(k){const W=new z,re=this._originStores[ee.s3.DEFAULTS];re&&re.forEach((Q,ue)=>{W.set(ue,(0,N.d9)(Q),ee.s3.DEFAULTS)});for(let Q=ee.s3.SERVICE;Q<ee.kk;Q++){const ue=this._originStores[Q];ue&&ue.forEach((he,fe)=>{k&&k.has(fe)||W.set(fe,(0,N.d9)(he),Q)})}return W}get(k,W){const re=void 0===W?this._values:this._originStores[W];return re?re.get(k):void 0}keys(k){const W=null==k?this._values:this._originStores[k];return W?[...W.keys()]:[]}set(k,W,re=ee.s3.USER){let Q=this._originStores[re];if(Q||(Q=new Map,this._originStores[re]=Q),Q.set(k,W),!this._values.has(k)||(0,X.j0)(this._propertyOriginMap.get(k))<=re){const ue=this._values.get(k);return this._values.set(k,W),this._propertyOriginMap.set(k,re),ue!==W}return!1}delete(k,W=ee.s3.USER){const re=this._originStores[W];if(!re)return;const Q=re.get(k);if(re.delete(k),this._values.has(k)&&this._propertyOriginMap.get(k)===W){this._values.delete(k);for(let ue=W-1;ue>=0;ue--){const he=this._originStores[ue];if(he&&he.has(k)){this._values.set(k,he.get(k)),this._propertyOriginMap.set(k,ue);break}}}return Q}has(k,W){const re=void 0===W?this._values:this._originStores[W];return!!re&&re.has(k)}revert(k,W){for(;W>0&&!this.has(k,W);)--W;const re=this._originStores[W],Q=re&&re.get(k),ue=this._values.get(k);return this._values.set(k,Q),this._propertyOriginMap.set(k,W),ue!==Q}originOf(k){return this._propertyOriginMap.get(k)||ee.s3.DEFAULTS}forEach(k){this._values.forEach(k)}}var L=E(29338),T=E(52323),x=E(76898);const Z=F=>{let k=class extends F{constructor(...W){super(...W);const re=(0,X.j0)((0,T.vw)(this)),Q=re.store,ue=new z;re.store=ue,(0,B.M)(re,Q,ue)}read(W,re){(0,L.i)(this,W,re)}getAtOrigin(W,re){const Q=Y(this),ue=(0,ee.M9)(re);if("string"==typeof W)return Q.get(W,ue);const he={};return W.forEach(fe=>{he[fe]=Q.get(fe,ue)}),he}originOf(W){return(0,ee.x3)(this.originIdOf(W))}originIdOf(W){return Y(this).originOf(W)}revert(W,re){const Q=Y(this),ue=(0,ee.M9)(re),he=(0,T.vw)(this);let fe;fe="string"==typeof W?"*"===W?Q.keys(ue):[W]:W,fe.forEach(pe=>{he.invalidate(pe),Q.revert(pe,ue),he.commit(pe)})}};return k=(0,M._)([(0,x.j)("esri.core.ReadOnlyMultiOriginJSONSupport")],k),k};function Y(F){return(0,T.vw)(F).store}let $=class extends(Z(O.Z)){};$=(0,M._)([(0,x.j)("esri.core.ReadOnlyMultiOriginJSONSupport")],$);var se=E(36054);const ne=F=>{let k=class extends F{constructor(...W){super(...W)}clear(W,re="user"){return j(this).delete(W,(0,ee.M9)(re))}write(W={},re){return(0,se.c)(this,W=W||{},re),W}setAtOrigin(W,re,Q){(0,T.vw)(this).setAtOrigin(W,re,(0,ee.M9)(Q))}removeOrigin(W){const re=j(this),Q=(0,ee.M9)(W),ue=re.keys(Q);for(const he of ue)re.originOf(he)===Q&&re.set(he,re.get(he,Q),ee.s3.USER)}updateOrigin(W,re){const Q=j(this),ue=(0,ee.M9)(re),he=this.get(W);for(let fe=ue+1;fe<ee.kk;++fe)Q.delete(W,fe);Q.set(W,he,ue)}toJSON(W){return this.write({},W)}};return k=(0,M._)([(0,x.j)("esri.core.WriteableMultiOriginJSONSupport")],k),k.prototype.toJSON.isDefaultToJSON=!0,k};function j(F){return(0,T.vw)(F).store}const I=F=>{let k=class extends(ne(Z(F))){constructor(...W){super(...W)}};return k=(0,M._)([(0,x.j)("esri.core.MultiOriginJSONSupport")],k),k};let w=class extends(I(O.Z)){};w=(0,M._)([(0,x.j)("esri.core.MultiOriginJSONSupport")],w)},27899:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>X});let X=(()=>{class B{constructor(ee,z,L,T=1,x=0){if(this.ctor=ee,this.acquireFunction=z,this.releaseFunction=L,this.allocationSize=T,this._pool=new Array(x),this._initialSize=x,this.ctor)for(let Z=0;Z<x;Z++)this._pool[Z]=new this.ctor;this.allocationSize=Math.max(T,1)}destroy(){this.prune(0)}acquire(...ee){let z;if(B.test.disabled)z=new this.ctor;else{if(0===this._pool.length){const L=this.allocationSize;for(let T=0;T<L;T++)this._pool[T]=new this.ctor}z=this._pool.pop()}return this.acquireFunction?this.acquireFunction(z,...ee):function O(B){return B&&B.acquire&&"function"==typeof B.acquire}(z)&&z.acquire(...ee),z}release(ee){ee&&!B.test.disabled&&(this.releaseFunction?this.releaseFunction(ee):function M(B){return B&&B.release&&"function"==typeof B.release}(ee)&&ee.release(),this._pool.push(ee))}prune(ee=this._initialSize){if(!(ee>=this._pool.length)){for(let z=ee;z<this._pool.length;++z)this._dispose(this._pool[z]);this._pool.length=ee}}_dispose(ee){ee.dispose&&"function"==typeof ee.dispose&&ee.dispose()}}return B.test={disabled:!1},B})()},73362:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>O});class O{constructor(B,N=29){this.name=B,this._counter=0,this._items=new Array(N)}record(B){this._items[++this._counter%this._items.length]=B}get median(){return this._items.slice().sort((B,N)=>B-N)[Math.floor(this._items.length/2)]}get average(){return this._items.reduce((B,N)=>B+N,0)/this._items.length}get last(){return this._items[this._counter%this._items.length]}}},77029:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>ee});var O,M=E(85931);!function(L){const T=($,se,ne,j)=>{let I=se,w=se;const F=ne>>>1,k=$[I-1];for(;w<=F;){w=I<<1,w<ne&&j($[w-1],$[w])<0&&++w;const W=$[w-1];if(j(W,k)<=0)break;$[I-1]=W,I=w}$[I-1]=k},x=($,se)=>$<se?-1:$>se?1:0;L.sort=function Z($,se,ne,j){void 0===se&&(se=0),void 0===ne&&(ne=$.length),void 0===j&&(j=x);for(let w=ne>>>1;w>se;w--)T($,w,ne,j);const I=se+1;for(let w=ne-1;w>se;w--){const F=$[se];$[se]=$[w],$[w]=F,T($,I,w,j)}},L.iterableSort=function*Y($,se,ne,j){void 0===se&&(se=0),void 0===ne&&(ne=$.length),void 0===j&&(j=x);for(let w=ne>>>1;w>se;w--)T($,w,ne,j),yield;const I=se+1;for(let w=ne-1;w>se;w--){const F=$[se];$[se]=$[w],$[w]=F,T($,I,w,j),yield}}}(O||(O={}));const X=O;class ee{constructor(T){this.data=[],this._length=0,this._allocator=void 0,this._deallocator=()=>null,this._shrink=()=>{},this._hint=new M.SO,T&&(T.initialSize&&(this.data=new Array(T.initialSize)),T.allocator&&(this._allocator=T.allocator),void 0!==T.deallocator&&(this._deallocator=T.deallocator),T.shrink&&(this._shrink=()=>z(this)))}toArray(){return this.data.slice(0,this.length)}filter(T){const x=new Array;for(let Z=0;Z<this._length;Z++){const Y=this.data[Z];T(Y)&&x.push(Y)}return x}getItemAt(T){if(!(T<0||T>=this._length))return this.data[T]}get length(){return this._length}set length(T){if(T>this._length){if(this._allocator){for(;this._length<T;)this.data[this._length++]=this._allocator(this.data[this._length]);return}this._length=T}else{if(this._deallocator)for(let x=T;x<this._length;++x)this.data[x]=this._deallocator(this.data[x]);this._length=T,this._shrink()}}clear(){this.length=0}prune(){this.clear(),this.data=[]}push(T){this.data[this._length++]=T}pushArray(T,x=T.length){for(let Z=0;Z<x;Z++)this.data[this._length++]=T[Z]}fill(T,x){for(let Z=0;Z<x;Z++)this.data[this._length++]=T}pushNew(){this._allocator&&(this.data[this.length]=this._allocator(this.data[this.length]));const T=this.data[this._length];return++this._length,T}unshift(T){this.data.unshift(T),this._length++,z(this)}pop(){if(0===this.length)return;const T=this.data[this.length-1];return this.length=this.length-1,this._shrink(),T}remove(T){const x=(0,M.cq)(this.data,T,this.length,this._hint);if(-1!==x)return this.data.splice(x,1),this.length=this.length-1,T}removeUnordered(T){const x=(0,M.e$)(this.data,T,this.length,this._hint);return void 0!==x&&(this.length=this.length-1),this._shrink(),x}removeUnorderedIndex(T){if(!(T>=this.length||T<0))return this.swapElements(T,this.length-1),this.pop()}removeUnorderedMany(T,x=T.length,Z){this.length=(0,M.FY)(this.data,T,this.length,x,this._hint,Z),this._shrink()}front(){if(0!==this.length)return this.data[0]}back(){if(0!==this.length)return this.data[this.length-1]}swapElements(T,x){T>=this.length||x>=this.length||T===x||([this.data[T],this.data[x]]=[this.data[x],this.data[T]])}sort(T){X.sort(this.data,0,this.length,T)}iterableSort(T){return X.iterableSort(this.data,0,this.length,T)}some(T,x){for(let Z=0;Z<this.length;++Z)if(T.call(x,this.data[Z],Z,this.data))return!0;return!1}filterInPlace(T,x){let Z=0;for(let Y=0;Y<this._length;++Y){const $=this.data[Y];T.call(x,$,Y,this.data)&&(this.data[Y]=this.data[Z],this.data[Z]=$,Z++)}if(this._deallocator)for(let Y=Z;Y<this._length;Y++)this.data[Y]=this._deallocator(this.data[Y]);return this._length=Z,this._shrink(),this}forAll(T,x){const Z=this.length,Y=this.data;for(let $=0;$<Z;++$)T.call(x,Y[$],$,Y)}forEach(T,x){for(let Z=0;Z<this.length;++Z)T.call(x,this.data[Z],Z,this.data)}map(T,x){const Z=new Array(this.length);for(let Y=0;Y<this.length;++Y)Z[Y]=T.call(x,this.data[Y],Y,this.data);return Z}reduce(T,x){let Z=x;for(let Y=0;Y<this.length;++Y)Z=T(Z,this.data[Y],Y,this.data);return Z}has(T){const x=this.length,Z=this.data;for(let Y=0;Y<x;++Y)if(Z[Y]===T)return!0;return!1}}function z(L){L.data.length>1.5*L.length&&(L.data.length=Math.floor(1.1*L.length))}},60330:(Qe,Me,E)=>{"use strict";E.d(Me,{D:()=>T,v:()=>L});var ee,x,M=E(17626),O=E(14517),X=E(62208),B=E(10699),N=E(76898);(x=ee||(ee={}))[x.PENDING=0]="PENDING",x[x.RESOLVED=1]="RESOLVED",x[x.REJECTED=2]="REJECTED";class z{constructor(Z){this.instance=Z,this._resolver=(0,B.dD)(),this._status=ee.PENDING,this._resolvingPromises=[],this._resolver.promise.then(()=>{this._status=ee.RESOLVED,this._cleanUp()},()=>{this._status=ee.REJECTED,this._cleanUp()})}addResolvingPromise(Z){this._resolvingPromises.push(Z),this._tryResolve()}isResolved(){return this._status===ee.RESOLVED}isRejected(){return this._status===ee.REJECTED}isFulfilled(){return this._status!==ee.PENDING}abort(){this._resolver.reject((0,B.zE)())}when(Z,Y){return this._resolver.promise.then(Z,Y)}_cleanUp(){this._allPromise=this._resolvingPromises=this._allPromise=null}_tryResolve(){if(this.isFulfilled())return;const Z=(0,B.dD)(),Y=[...this._resolvingPromises,(0,X.j0)(Z.promise)],$=this._allPromise=Promise.all(Y);$.then(()=>{this.isFulfilled()||this._allPromise!==$||this._resolver.resolve(this.instance)},se=>{this.isFulfilled()||this._allPromise!==$||(0,B.D_)(se)||this._resolver.reject(se)}),Z.resolve()}}const L=x=>{let Z=class extends x{constructor(...Y){super(...Y),this._promiseProps=new z(this),this.addResolvingPromise(Promise.resolve())}isResolved(){return this._promiseProps.isResolved()}isRejected(){return this._promiseProps.isRejected()}isFulfilled(){return this._promiseProps.isFulfilled()}when(Y,$){return new Promise((se,ne)=>{this._promiseProps.when(se,ne)}).then(Y,$)}catch(Y){return this.when(null,Y)}addResolvingPromise(Y){Y&&!this._promiseProps.isFulfilled()&&this._promiseProps.addResolvingPromise("_promiseProps"in Y?Y.when():Y)}};return Z=(0,M._)([(0,N.j)("esri.core.Promise")],Z),Z};let T=class extends(L(O.Z)){};T=(0,M._)([(0,N.j)("esri.core.Promise")],T)},35133:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>O});var M=E(62208);class O{constructor(B=(N=>N.values().next().value)){this._peeker=B,this._items=new Set}get length(){return this._items.size}clear(){this._items.clear()}last(){if(0===this._items.size)return;let B;for(B of this._items);return B}peek(){if(0!==this._items.size)return this._peeker(this._items)}push(B){this.contains(B)||this._items.add(B)}contains(B){return this._items.has(B)}pop(){if(0===this.length)return;const B=this.peek();return this._items.delete((0,M.j0)(B)),B}popLast(){if(0===this.length)return;const B=this.last();return this._items.delete((0,M.j0)(B)),B}remove(B){this._items.delete(B)}filter(B){return this._items.forEach(N=>{B(N)||this._items.delete(N)}),this}}},4619:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>M});class M{constructor(X=1){this._seed=X}set seed(X){this._seed=null==X?Math.random()*M._m:X}getInt(){return this._seed=(M._a*this._seed+M._c)%M._m,this._seed}getFloat(){return this.getInt()/(M._m-1)}getIntRange(X,B){return Math.round(this.getFloatRange(X,B))}getFloatRange(X,B){const N=B-X;return X+this.getInt()/M._m*N}}M._m=2147483647,M._a=48271,M._c=0},10349:(Qe,Me,E)=>{"use strict";E.d(Me,{G:()=>O});var M=E(26584);class O{constructor(B,N,ee=""){this.major=B,this.minor=N,this._context=ee}lessThan(B,N){return this.major<B||B===this.major&&this.minor<N}since(B,N){return!this.lessThan(B,N)}validate(B){if(this.major!==B.major)throw new M.Z((this._context&&this._context+":")+"unsupported-version",`Required major ${this._context&&this._context+" "}version is '${this.major}', but got '\${version.major}.\${version.minor}'`,{version:B})}clone(){return new O(this.major,this.minor,this._context)}static parse(B,N=""){const[ee,z]=B.split("."),L=/^\s*\d+\s*$/;if(!ee||!ee.match||!ee.match(L))throw new M.Z((N&&N+":")+"invalid-version","Expected major version to be a number, but got '${version}'",{version:B});if(!z||!z.match||!z.match(L))throw new M.Z((N&&N+":")+"invalid-version","Expected minor version to be a number, but got '${version}'",{version:B});const T=parseInt(ee,10),x=parseInt(z,10);return new O(T,x,N)}}},14889:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>O});var M=E(90888);class O extends M.Z{constructor(B,N,ee){if(super(B,N,ee),!(this instanceof O))return new O(B,N,ee)}}O.prototype.type="warning"},31283:(Qe,Me,E)=>{"use strict";E.d(Me,{M9:()=>B,Wm:()=>z,kk:()=>X,s3:()=>O,x3:()=>N});var O,x,M=E(62208);(x=O||(O={}))[x.DEFAULTS=0]="DEFAULTS",x[x.COMPUTED=1]="COMPUTED",x[x.SERVICE=2]="SERVICE",x[x.PORTAL_ITEM=3]="PORTAL_ITEM",x[x.WEB_SCENE=4]="WEB_SCENE",x[x.WEB_MAP=5]="WEB_MAP",x[x.USER=6]="USER";const X=O.USER+1;function B(x){switch(x){case"defaults":return O.DEFAULTS;case"service":return O.SERVICE;case"portal-item":return O.PORTAL_ITEM;case"web-scene":return O.WEB_SCENE;case"web-map":return O.WEB_MAP;case"user":return O.USER}}function N(x){switch(x){case O.DEFAULTS:return"defaults";case O.SERVICE:return"service";case O.PORTAL_ITEM:return"portal-item";case O.WEB_SCENE:return"web-scene";case O.WEB_MAP:return"web-map";case O.USER:return"user"}return(0,M.j0)(void 0)}function z(x){return N(x)}},83960:(Qe,Me,E)=>{"use strict";E.d(Me,{B:()=>O});var M=E(77712);function O(X,B){const N=B?Bn(Ct({},B),{source:X}):X;return(0,M.Cb)({aliasOf:N})}},66656:(Qe,Me,E)=>{"use strict";E.d(Me,{p:()=>z});var M=E(90912),O=E(34117);const X=Object.prototype.toString;function B(L){const T="__accessorMetadata__"in L?(0,M.se)(L):L;return function(...x){if(x.push(T),"number"==typeof x[2])throw new Error("Using @cast has parameter decorator is not supported since 4.16");return N.apply(this,x)}}function N(L,T,x,Z){(0,O.VZ)(L,T).cast=Z}function z(...L){if(3!==L.length||"string"!=typeof L[1])return 1===L.length&&"[object Function]"===X.call(L[0])?B(L[0]):1===L.length&&"string"==typeof L[0]?function ee(L){return function(T,x){(0,O.VZ)(T,L).cast=T[x]}}(L[0]):void 0}},55342:(Qe,Me,E)=>{"use strict";E.d(Me,{J:()=>X});var M=E(2076),O=E(77712);function X(B,N={}){var ee;const z=B instanceof M.X?B:new M.X(B,N),L={type:null==(ee=null==N?void 0:N.ignoreUnknown)||ee?z.apiValues:String,json:{type:z.jsonValues,read:(null==N||!N.readOnly)&&{reader:z.read},write:{writer:z.write}}};return void 0!==(null==N?void 0:N.readOnly)&&(L.readOnly=!!N.readOnly),void 0!==(null==N?void 0:N.default)&&(L.json.default=N.default),void 0!==(null==N?void 0:N.name)&&(L.json.name=N.name),(0,O.Cb)(L)}},77712:(Qe,Me,E)=>{"use strict";E.d(Me,{CJ:()=>z,Cb:()=>ee,Eg:()=>T});var M=E(63290),O=E(90912),X=E(34595),B=E(34117),N=E(82255);function ee(x={}){return(Z,Y)=>{if(Z===Function.prototype)throw new Error(`Inappropriate use of @property() on a static field: ${Z.name}.${Y}. Accessor does not support static properties.`);const $=Object.getOwnPropertyDescriptor(Z,Y),se=(0,B.VZ)(Z,Y);$&&($.get||$.set?(se.get=$.get||se.get,se.set=$.set||se.set):"value"in $&&("value"in x&&M.Z.getLogger("esri.core.accessorSupport.decorators.property").warn(`@property() will redefine the value of "${Y}" on "${Z.constructor.name}" already defined in the metadata`,x),se.value=x.value=$.value)),null!=x.readOnly&&(se.readOnly=x.readOnly);const ne=x.aliasOf;if(ne){const w="string"==typeof ne?ne:ne.source,F="string"==typeof ne?null:!0===ne.overridable;let k;se.dependsOn=[w],se.get=function(){let W=(0,X.U2)(this,w);if("function"==typeof W){k||(k=w.split(".").slice(0,-1).join("."));const re=(0,X.U2)(this,k);re&&(W=W.bind(re))}return W},se.readOnly||(se.set=F?function(W){void 0!==W?this._override(Y,W):this._clearOverride(Y)}:function(W){(0,N.t)(this,w,W)})}const j=x.type,I=x.types;se.cast||(j?se.cast=function L(x){let Z=0,Y=x;if((0,O.AY)(x))return(0,O.sY)(x);for(;Array.isArray(Y)&&1===Y.length&&"string"!=typeof Y[0]&&"number"!=typeof Y[0];)Y=Y[0],Z++;const $=Y;if((0,O.gB)($))return 0===Z?(0,O.i$)($):(0,O.Iu)((0,O.i$)($),Z);if(1===Z)return(0,O.rY)($);if(Z>1)return(0,O.di)($,Z);return x.from?x.from:(0,O.se)(x)}(j):I&&(se.cast=Array.isArray(I)?(0,O.Ls)((0,O.N7)(I[0])):(0,O.N7)(I))),x.range&&(se.cast=T(se.cast,x.range)),(0,B.tz)(se,x)}}function z(x,Z,Y){const $=(0,B.VZ)(x,Y);$.json||($.json={});let se=$.json;return void 0!==Z&&(se.origins||(se.origins={}),se.origins[Z]||(se.origins[Z]={}),se=se.origins[Z]),se}function T(x,Z){return Y=>{let $=+x(Y);return null!=Z.step&&($=Math.round($/Z.step)*Z.step),null!=Z.min&&($=Math.max(Z.min,$)),null!=Z.max&&($=Math.min(Z.max,$)),$}}},68653:(Qe,Me,E)=>{"use strict";E.d(Me,{r:()=>O});var M=E(77712);function O(X,B,N){let ee,z;return void 0===B||Array.isArray(B)?(z=X,N=B,ee=[void 0]):(z=B,ee=Array.isArray(X)?X:[X]),(L,T)=>{const x=L.constructor.prototype;ee.forEach(Z=>{const Y=(0,M.CJ)(L,Z,z);Y.read&&"object"==typeof Y.read||(Y.read={}),Y.read.reader=x[T],N&&(Y.read.source=(Y.read.source||[]).concat(N))})}}},61039:(Qe,Me,E)=>{"use strict";function M(O){return(X,B)=>{X[B]=O}}E.d(Me,{c:()=>M})},76898:(Qe,Me,E)=>{"use strict";E.d(Me,{j:()=>L}),E(8314);var O=E(44648),X=E(34117),B=E(36082),N=E(33794);const ee=new Set,z=new Set;function L(Z){return Y=>{Y.prototype.declaredClass=Z,function x(Z){const $=(0,X.JT)(Z.prototype).properties,se={};for(const ne of Object.getOwnPropertyNames($)){const j=$[ne];(0,N.OM)(j),se[ne]={enumerable:!0,configurable:!0,get:T(ne,j),set(I){const w=this.__accessor__;if(void 0!==w){if(!Object.isFrozen(this)){if(w.initialized&&j.readOnly)throw new TypeError(`[accessor] cannot assign to read-only property '${ne}' of ${this.declaredClass}`);if(w.lifecycle===O.F.CONSTRUCTED&&j.constructOnly)throw new TypeError(`[accessor] cannot assign to construct-only property '${ne}' of ${this.declaredClass}`);w.set(ne,I)}}else Object.defineProperty(this,ne,{enumerable:!0,configurable:!0,writable:!0,value:I})}}}Object.defineProperties(Z.prototype,se)}(Y);const $=[],se=[];let ne=Y.prototype;for(;ne;)ne.hasOwnProperty("initialize")&&!ee.has(ne.initialize)&&(ee.add(ne.initialize),$.push(ne.initialize)),ne.hasOwnProperty("destroy")&&!z.has(ne.destroy)&&(z.add(ne.destroy),se.push(ne.destroy)),ne=Object.getPrototypeOf(ne);ee.clear(),z.clear();class j extends Y{constructor(...w){if(super(...w),this.constructor===j&&"function"==typeof this.postscript){if($.length&&Object.defineProperty(this,"initialize",{enumerable:!1,configurable:!0,value(){for(let F=$.length-1;F>=0;F--)$[F].call(this)}}),se.length){let F=!1;Object.defineProperty(this,"destroy",{enumerable:!1,configurable:!0,value(){if(!F){F=!0;for(let k=0;k<se.length;k++)se[k].call(this)}}})}this.postscript(...w)}}}return j.__accessorMetadata__=(0,X.JT)(Y.prototype),j.prototype.declaredClass=Z,j}}function T(Z,Y){return null==Y.get?function(){const $=this.__accessor__.properties.get(Z);if(void 0===$)return;(0,B.it)($);const se=this.__accessor__.store;return se.has(Z)?se.get(Z):$.metadata.value}:function(){const $=this.__accessor__.properties.get(Z);if(void 0!==$)return $.getComputed()}}},99433:(Qe,Me,E)=>{"use strict";E.d(Me,{c:()=>O});var M=E(77712);function O(X,B,N){let ee,z;return void 0===B?(z=X,ee=[void 0]):"string"!=typeof B?(z=X,ee=[void 0],N=B):(z=B,ee=Array.isArray(X)?X:[X]),(L,T)=>{const x=L.constructor.prototype;for(const Z of ee){const Y=(0,M.CJ)(L,Z,z);Y.write&&"object"==typeof Y.write||(Y.write={}),N&&(Y.write.target=N),Y.write.writer=x[T]}}}},12590:(Qe,Me,E)=>{"use strict";E.d(Me,{M:()=>O});var M=E(31283);function O(X,B,N){B.keys().forEach(z=>{N.set(z,B.get(z),M.s3.DEFAULTS)}),Object.keys(X.metadatas).forEach(z=>{X.internalGet(z)&&N.set(z,X.internalGet(z),M.s3.DEFAULTS)})}},84682:(Qe,Me,E)=>{"use strict";E.d(Me,{Hg:()=>se,V7:()=>$,uD:()=>Y});var M=E(14517),O=E(48701),X=E(62208),B=E(52323);const N=["esri.Color","esri.portal.Portal","esri.symbols.support.Symbol3DAnchorPosition2D","esri.symbols.support.Symbol3DAnchorPosition3D"];function ee(j){return j instanceof M.Z}function z(j){return j instanceof O.Z?Object.keys(j.items):ee(j)?(0,B.vw)(j).keys():j?Object.keys(j):[]}function L(j,I){return j instanceof O.Z?j.items[I]:j[I]}function x(j){return j?j.declaredClass:null}function Z(j,I){const w=j.diff;if(w&&"function"==typeof w)return w(j,I);const F=z(j),k=z(I);if(0===F.length&&0===k.length)return;if(!F.length||!k.length||function T(j,I){return!(!Array.isArray(j)||!Array.isArray(I))&&j.length!==I.length}(j,I))return{type:"complete",oldValue:j,newValue:I};const W=k.filter(pe=>-1===F.indexOf(pe)),re=F.filter(pe=>-1===k.indexOf(pe)),Q=F.filter(pe=>k.indexOf(pe)>-1&&L(j,pe)!==L(I,pe)).concat(W,re).sort(),ue=x(j);if(ue&&N.indexOf(ue)>-1&&Q.length)return{type:"complete",oldValue:j,newValue:I};let he;const fe=ee(j)&&ee(I);for(const pe of Q){const oe=L(j,pe),K=L(I,pe);let de;(fe||"function"!=typeof oe&&"function"!=typeof K)&&oe!==K&&(null==oe&&null==K||(de=w&&w[pe]&&"function"==typeof w[pe]?w[pe](oe,K):"object"==typeof oe&&"object"==typeof K&&x(oe)===x(K)?Z(oe,K):{type:"complete",oldValue:oe,newValue:K},(0,X.pC)(de)&&((0,X.pC)(he)?he.diff[pe]=de:he={type:"partial",diff:{[pe]:de}})))}return he}function Y(j,I){if((0,X.Wi)(j))return!1;const w=I.split(".");let F=j;for(const k of w){if("complete"===F.type)return!0;if("partial"!==F.type)return!1;{const W=F.diff[k];if(!W)return!1;F=W}}return!0}function $(j,I){for(const w of I)if(Y(j,w))return!0;return!1}function se(j,I){if(!("function"==typeof j||"function"==typeof I||(0,X.Wi)(j)&&(0,X.Wi)(I)))return(0,X.Wi)(j)||(0,X.Wi)(I)||"object"==typeof j&&"object"==typeof I&&x(j)!==x(I)?{type:"complete",oldValue:j,newValue:I}:Z(j,I)}},90912:(Qe,Me,E)=>{"use strict";E.d(Me,{AY:()=>le,Iu:()=>ue,Ls:()=>W,N7:()=>oe,TJ:()=>j,V5:()=>de,Zs:()=>z,di:()=>he,gB:()=>fe,i$:()=>pe,q9:()=>L,rY:()=>re,sY:()=>me,se:()=>k,vU:()=>T,z8:()=>K}),E(8314);var O=E(63290),X=E(88159);const B=O.Z.getLogger("esri.core.Accessor");function N(ie){return null==ie?ie:new Date(ie)}function ee(ie){return null==ie?ie:!!ie}function z(ie){return null==ie?ie:ie.toString()}function L(ie){return null==ie?ie:(ie=parseFloat(ie),isNaN(ie)?0:ie)}function T(ie){return null==ie?ie:Math.round(parseFloat(ie))}function x(ie){return ie&&ie.constructor&&void 0!==ie.constructor.__accessorMetadata__}function Z(ie,De){return null!=De&&ie&&!(De instanceof ie)}function Y(ie){return ie&&"isCollection"in ie}function $(ie){return ie&&ie.Type?"function"==typeof ie.Type?ie.Type:ie.Type.base:null}function ne(ie,De){return!!x(De)&&(B.error("Accessor#set","Assigning an instance of '"+(De.declaredClass||"unknown")+"' which is not a subclass of '"+I(ie)+"'"),!0)}function j(ie,De){return null==De?De:Y(ie)?function se(ie,De){if(!De||!De.constructor||!Y(De.constructor))return ne(ie,De)?De:new ie(De);const _e=$(ie.prototype.itemType),Ie=$(De.constructor.prototype.itemType);return _e?Ie?_e===Ie?De:_e.prototype.isPrototypeOf(Ie.prototype)?new ie(De):(ne(ie,De),De):new ie(De):De}(ie,De):Z(ie,De)?ne(ie,De)?De:new ie(De):De}function I(ie){return ie&&ie.prototype&&ie.prototype.declaredClass||"unknown"}const w=new WeakMap;function F(ie){switch(ie){case Number:return L;case K:return T;case Boolean:return ee;case String:return z;case Date:return N;default:return(0,X.s1)(w,ie,()=>j.bind(null,ie))}}function k(ie,De){const _e=F(ie);return 1===arguments.length?_e:_e(De)}function W(ie,De,_e){return 1===arguments.length?W.bind(null,ie):De&&(Array.isArray(De)?De.map(Ie=>ie(Ie,_e)):[ie(De,_e)])}function re(ie,De){return 1===arguments.length?W(k.bind(null,ie)):W(k.bind(null,ie),De)}function Q(ie,De,_e){return 0!==De&&Array.isArray(_e)?_e.map(Ie=>Q(ie,De-1,Ie)):ie(_e)}function ue(ie,De,_e){if(2===arguments.length)return ue.bind(null,ie,De);if(!_e)return _e;let Ie=De,xe=_e=Q(ie,De,_e);for(;Ie>0&&Array.isArray(xe);)Ie--,xe=xe[0];if(void 0!==xe)for(let ke=0;ke<Ie;ke++)_e=[_e];return _e}function he(ie,De,_e){return 2===arguments.length?ue(k.bind(null,ie),De):ue(k.bind(null,ie),De,_e)}function fe(ie){return!!Array.isArray(ie)&&!ie.some(De=>{const _e=typeof De;return!("string"===_e||"number"===_e||"function"===_e&&ie.length>1)})}function pe(ie,De){if(2===arguments.length)return pe(ie).call(null,De);const _e=new Set,Ie=ie.filter(ve=>"function"!=typeof ve),xe=ie.filter(ve=>"function"==typeof ve);for(const ve of ie)"string"!=typeof ve&&"number"!=typeof ve||_e.add(ve);let ke=null,Ve=null;return(ve,we)=>{if(null==ve)return ve;const We=typeof ve,nt="string"===We||"number"===We;return nt&&(_e.has(ve)||xe.some(Te=>"string"===We&&Te===String||"number"===We&&Te===Number))||"object"===We&&xe.some(Te=>!Z(ve,Te))?ve:(nt&&Ie.length?(ke||(ke=Ie.map(Te=>"string"==typeof Te?`'${Te}'`:`${Te}`).join(", ")),B.error("Accessor#set",`'${ve}' is not a valid value for this property, only the following values are valid: ${ke}`)):"object"==typeof ve&&xe.length?(Ve||(Ve=xe.map(Te=>I(Te)).join(", ")),B.error("Accessor#set",`'${ve}' is not a valid value for this property, value must be one of ${Ve}`)):B.error("Accessor#set",`'${ve}' is not a valid value for this property`),we&&(we.valid=!1),null)}}function oe(ie,De){if(2===arguments.length)return oe(ie).call(null,De);const _e={},Ie=[],xe=[];for(const we in ie.typeMap){const We=ie.typeMap[we];_e[we]=k(We),Ie.push(I(We)),xe.push(we)}const ke=()=>`'${Ie.join("', '")}'`,Ve=()=>`'${xe.join("', '")}'`,ve="string"==typeof ie.key?we=>we[ie.key]:ie.key;return we=>{if(ie.base&&!Z(ie.base,we)||null==we)return we;const We=ve(we)||ie.defaultKeyValue,nt=_e[We];if(!nt)return B.error("Accessor#set",`Invalid property value, value needs to be one of ${ke()}, or a plain object that can autocast (having .type = ${Ve()})`),null;if(!Z(ie.typeMap[We],we))return we;if("string"==typeof ie.key&&!x(we)){const Te={};for(const Ze in we)Ze!==ie.key&&(Te[Ze]=we[Ze]);return nt(Te)}return nt(we)}}class K{}const de={native:ie=>({type:"native",value:ie}),array:ie=>({type:"array",value:ie}),oneOf:ie=>({type:"one-of",values:ie})};function le(ie){if(!ie||!("type"in ie))return!1;switch(ie.type){case"native":case"array":case"one-of":return!0}return!1}function me(ie){switch(ie.type){case"native":return k(ie.value);case"array":return W(me(ie.value));case"one-of":return function ce(ie){let De=null;return(_e,Ie)=>J(_e,ie)?_e:(null==De&&(De=ge(ie)),B.error("Accessor#set",`Invalid property value, value needs to be of type ${De}`),Ie&&(Ie.valid=!1),null)}(ie);default:return null}}function ge(ie){switch(ie.type){case"native":switch(ie.value){case Number:return"number";case String:return"string";case Boolean:return"boolean";case K:return"integer";case Date:return"date";default:return I(ie.value)}case"array":return`array of ${ge(ie.value)}`;case"one-of":{const De=ie.values.map(_e=>ge(_e));return`one of ${De.slice(0,De.length-1)} or ${De[De.length-1]}`}}return"unknown"}function J(ie,De){if(null==ie)return!0;switch(De.type){case"native":switch(De.value){case Number:case K:return"number"==typeof ie;case Boolean:return"boolean"==typeof ie;case String:return"string"==typeof ie}return ie instanceof De.value;case"array":return!!Array.isArray(ie)&&!ie.some(_e=>!J(_e,De.value));case"one-of":return De.values.some(_e=>J(ie,_e))}}},33794:(Qe,Me,E)=>{"use strict";E.d(Me,{hk:()=>Z,HS:()=>T,Ah:()=>x,OM:()=>I});var M=E(90912),X=E(383);function N(w){w.name&&(w.read&&"object"==typeof w.read?void 0===w.read.source&&(w.read.source=w.name):w.read={source:w.name},w.write&&"object"==typeof w.write?void 0===w.write.target&&(w.write.target=w.name):w.write={target:w.name})}function ee(w){"boolean"==typeof w.read?w.read={enabled:w.read}:"function"==typeof w.read?w.read={enabled:!0,reader:w.read}:w.read&&"object"==typeof w.read&&void 0===w.read.enabled&&(w.read.enabled=!0)}function z(w){"boolean"==typeof w.write?w.write={enabled:w.write}:"function"==typeof w.write?w.write={enabled:!0,writer:w.write}:w.write&&"object"==typeof w.write&&void 0===w.write.enabled&&(w.write.enabled=!0)}var L=E(23025);function T(w,F){return Z(w,"read",F)}function x(w,F){return Z(w,"write",F)}function Z(w,F,k){let W=w&&w.json;if(w&&w.json&&w.json.origins&&k){const re=w.json.origins[k.origin];re&&("any"===F||F in re)&&(W=re)}return W}function se(w){return w.type?ne(w):j(w)}function ne(w){if(!w.type)return;let F=0,k=w.type;for(;Array.isArray(k)&&!(0,M.gB)(k);)k=k[0],F++;return{type:k,ndimArray:F}}function j(w){if(!w.types)return;let F=0,k=w.types;for(;Array.isArray(k);)k=k[0],F++;return{types:k,ndimArray:F}}function I(w){(function B(w){if(w.json||(w.json={}),ee(w.json),z(w.json),N(w.json),w.json.origins)for(const F in w.json.origins)ee(w.json.origins[F]),z(w.json.origins[F]),N(w.json.origins[F]);return!0})(w)&&(function O(w){if(w.json&&w.json.origins){const F=w.json.origins,k={"web-document":["web-scene","web-map"]};for(const W in k)if(F[W]){const re=F[W];k[W].forEach(Q=>{F[Q]=re}),delete F[W]}}}(w),function Y(w){const F=function $(w){return w.json.types?j(w.json):w.type?ne(w):j(w)}(w);if(w.json.origins)for(const k in w.json.origins){const W=w.json.origins[k],re=W.types?se(W):F;(0,X.U)(re,W,!1),W.types&&!W.write&&w.json.write&&w.json.write.enabled&&(W.write=Ct({},w.json.write)),(0,L.U)(re,W)}(0,X.U)(F,w.json,!0),(0,L.U)(F,w.json)}(w))}},383:(Qe,Me,E)=>{"use strict";E.d(Me,{U:()=>z,d:()=>L});var M=E(63290),O=E(94113),X=E(14889),B=E(34117),N=E(94056);const ee=M.Z.getLogger("esri.core.accessorSupport.extensions.serializableProperty.reader");function z(k,W,re){var Q,ue;k&&(!re&&!W.read||null!=(Q=W.read)&&Q.reader||!1===(null==(ue=W.read)?void 0:ue.enabled)||function ne(k){return"types"in k?I(k.types):j(k.type)}(k)&&(0,O.RB)("read.reader",L(k),W))}function L(k){var W;const re=null!=(W=k.ndimArray)?W:0;if(re>1)return function Y(k){var W;const re=T(k),Q=Z.bind(null,re),ue=null!=(W=k.ndimArray)?W:0;return(he,fe,pe)=>{if(null==he)return he;he=Q(he,pe,ue);let oe=ue,K=he;for(;oe>0&&Array.isArray(K);)oe--,K=K[0];if(void 0!==K)for(let de=0;de<oe;de++)he=[he];return he}}(k);if(1===re)return $(k);if("type"in k&&se(k.type)){var Q,ue;const he=null==(Q=k.type.prototype)||null==(ue=Q.itemType)?void 0:ue.Type,fe=$("function"==typeof he?{type:he}:{types:he});return(pe,oe,K)=>{const de=fe(pe,oe,K);return de&&new k.type(de)}}return T(k)}function T(k){return"type"in k?function x(k){return k.prototype.read?(W,re,Q)=>{if(null==W)return W;const ue=typeof W;if("object"!==ue)return void ee.error(`Expected JSON value of type 'object' to deserialize type '${k.prototype.declaredClass}', but got '${ue}'`);const he=new k;return he.read(W,Q),he}:k.fromJSON}(k.type):function w(k){var W;let re=null;const Q=null!=(W=k.errorContext)?W:"type";return(ue,he,fe)=>{if(null==ue)return ue;const pe=typeof ue;if("object"!==pe)return void ee.error(`Expected JSON value of type 'object' to deserialize, but got '${pe}'`);re||(re=function F(k){const W={};for(const ue in k.typeMap){var re,Q;const he=k.typeMap[ue],fe=(0,B.JT)(he.prototype);if("function"==typeof k.key)continue;const pe=fe.properties[k.key];if(!pe)continue;null!=(re=pe.json)&&re.type&&Array.isArray(pe.json.type)&&1===pe.json.type.length&&"string"==typeof pe.json.type[0]&&(W[pe.json.type[0]]=he);const oe=null==(Q=pe.json)?void 0:Q.write;if(!oe||!oe.writer){W[ue]=he;continue}const K=oe.target,de="string"==typeof K?K:k.key,le={};oe.writer(ue,le,de),le[de]&&(W[le[de]]=he)}return W}(k));const oe=k.key;if("string"!=typeof oe)return;const K=ue[oe],de=K?re[K]:k.defaultKeyValue?k.typeMap[k.defaultKeyValue]:void 0;if(!de){const me=`Type '${K||"unknown"}' is not supported`;return fe&&fe.messages&&ue&&fe.messages.push(new X.Z(`${Q}:unsupported`,me,{definition:ue,context:fe})),void ee.error(me)}const le=new de;return le.read(ue,fe),le}}(k.types)}function Z(k,W,re,Q){return 0!==Q&&Array.isArray(W)?W.map(ue=>Z(k,ue,re,Q-1)):k(W,void 0,re)}function $(k){const W=T(k);return(re,Q,ue)=>{if(null==re)return re;if(Array.isArray(re)){const fe=[];for(const pe of re){const oe=W(pe,void 0,ue);void 0!==oe&&fe.push(oe)}return fe}const he=W(re,void 0,ue);return void 0!==he?[he]:void 0}}function se(k){if(!(0,N.u)(k))return!1;const W=k.prototype.itemType;return!(!W||!W.Type)&&("function"==typeof W.Type?j(W.Type):I(W.Type))}function j(k){return!Array.isArray(k)&&!!k&&k.prototype&&("read"in k.prototype||"fromJSON"in k||se(k))}function I(k){for(const W in k.typeMap)if(!j(k.typeMap[W]))return!1;return!0}},94056:(Qe,Me,E)=>{"use strict";function M(O){return!!O&&O.prototype&&O.prototype.declaredClass&&0===O.prototype.declaredClass.indexOf("esri.core.Collection")}E.d(Me,{u:()=>M})},23025:(Qe,Me,E)=>{"use strict";E.d(Me,{U:()=>ee,k:()=>Y});var M=E(26584),O=E(63290),X=E(94113),B=E(94056);const N=O.Z.getLogger("esri.core.accessorSupport.extensions.serializableProperty.writer");function ee(j,I){var w;if(!I.write||I.write.writer||!1===I.write.enabled&&!I.write.overridePolicy)return;const F=null!=(w=null==j?void 0:j.ndimArray)?w:0;I.write.writer=j&&(1===F||"type"in j&&(0,B.u)(j.type))?$:F>1?function ne(j){return function(I,w,F,k){let W;if(null===I)W=null;else{W=se(I,k,j);let re=j,Q=W;for(;re>0&&Array.isArray(Q);)re--,Q=Q[0];if(void 0!==Q)for(let ue=0;ue<re;ue++)W=[W]}(0,X.RB)(F,W,w)}}(F):I.types?Array.isArray(I.types)?function T(j){return(I,w,F,k)=>I&&Array.isArray(I)?x(I.filter(W=>L(W,j,k)),w,F,k):x(I,w,F,k)}(I.types[0]):function z(j){return(I,w,F,k)=>I?L(I,j,k)?x(I,w,F,k):void 0:x(I,w,F,k)}(I.types):x}function L(j,I,w){for(const W in I.typeMap)if(j instanceof I.typeMap[W])return!0;if(null!=w&&w.messages){var F,k;const W=null!=(F=I.errorContext)?F:"type",re=`Values of type '${null!=(k="function"!=typeof I.key?j[I.key]:j.declaredClass)?k:"Unknown"}' cannot be written`;w&&w.messages&&j&&w.messages.push(new M.Z(`${W}:unsupported`,re,{definition:j,context:w})),N.error(re)}return!1}function x(j,I,w,F){(0,X.RB)(w,Z(j,F),I)}function Z(j,I){return j&&"function"==typeof j.write?j.write({},I):j&&"function"==typeof j.toJSON?j.toJSON():"number"==typeof j?Y(j):j}function Y(j){return j===-1/0?-Number.MAX_VALUE:j===1/0?Number.MAX_VALUE:isNaN(j)?null:j}function $(j,I,w,F){let k;null===j?k=null:j&&"function"==typeof j.map?(k=j.map(W=>Z(W,F)),"function"==typeof k.toArray&&(k=k.toArray())):k=[Z(j,F)],(0,X.RB)(w,k,I)}function se(j,I,w){return 0!==w&&Array.isArray(j)?j.map(F=>se(F,I,w-1)):Z(j,I)}},34595:(Qe,Me,E)=>{"use strict";E.d(Me,{$z:()=>B,Gg:()=>ee,U2:()=>N});var M=E(52323);function O(z,L){const T="?"===z[z.length-1]?z.slice(0,-1):z;if(null!=L.getItemAt||Array.isArray(L)){const Z=parseInt(T,10);if(!isNaN(Z))return Array.isArray(L)?L[Z]:L.getItemAt(Z)}const x=(0,M.vw)(L);return(0,M.b6)(x,T)?x.get(T):L[T]}function X(z,L,T){if(null==z)return z;const x=O(L[T],z);return!x&&T<L.length-1?void 0:T===L.length-1?x:X(x,L,T+1)}function B(z,L,T=0){return"string"==typeof L&&-1===L.indexOf(".")?O(L,z):X(z,(0,M.NI)(L),T)}function N(z,L){return B(z,L)}function ee(z,L){return void 0!==B(L,z)}},44648:(Qe,Me,E)=>{"use strict";var M,O;E.d(Me,{F:()=>M}),(O=M||(M={}))[O.INITIALIZING=0]="INITIALIZING",O[O.CONSTRUCTING=1]="CONSTRUCTING",O[O.CONSTRUCTED=2]="CONSTRUCTED"},34117:(Qe,Me,E)=>{"use strict";E.d(Me,{JT:()=>N,VZ:()=>z,tz:()=>x});var M=E(58817),O=E(62208),X=E(52323);class B{constructor(j){this.autoDestroy=!1,this.properties=j}}function N(ne){let j=ne.constructor.__accessorMetadata__;const I=Object.prototype.hasOwnProperty.call(ne.constructor,"__accessorMetadata__");if(j){if(!I){const w=Object.create(j.properties),F=j.autoDestroy;for(const k in w)w[k]=(0,M.d9)(w[k]);j=new B(w),j.autoDestroy=F,Object.defineProperty(ne.constructor,"__accessorMetadata__",{value:j,enumerable:!1,configurable:!0,writable:!0})}}else j=new B({}),Object.defineProperty(ne.constructor,"__accessorMetadata__",{value:j,enumerable:!1,configurable:!0,writable:!0});return(0,O.j0)(ne.constructor.__accessorMetadata__)}function z(ne,j){const I=function ee(ne){return N(ne).properties}(ne);let w=I[j];return w||(w=I[j]={}),w}function x(ne,j){return(0,X.TS)(ne,j,Y)}const Z=/^(?:[^.]+\.)?(?:value|type|(?:json\.type|json\.origins\.[^.]\.type))$/;function Y(ne){return Z.test(ne)?"replace":"merge"}},52489:(Qe,Me,E)=>{"use strict";E.d(Me,{D:()=>O});var M=E(22558);function O(X){X&&X.writtenProperties&&X.writtenProperties.forEach(B=>{const N=B.target;B.newOrigin&&B.oldOrigin!==B.newOrigin&&(0,M.l)(N)&&N.updateOrigin(B.propName,B.newOrigin)})}},29338:(Qe,Me,E)=>{"use strict";E.d(Me,{$:()=>x,i:()=>T});var M=E(34595),O=E(52323),X=E(33794);function B(Z,Y,$){if(!Z||!Z.read||!1===Z.read.enabled||!Z.read.source)return!1;const se=Z.read.source;if("string"==typeof se){if(se===Y||se.indexOf(".")>-1&&0===se.indexOf(Y)&&(0,M.Gg)(se,$))return!0}else for(const ne of se)if(ne===Y||ne.indexOf(".")>-1&&0===ne.indexOf(Y)&&(0,M.Gg)(ne,$))return!0;return!1}function ee(Z,Y,$,se,ne){let j=(0,X.HS)(Y[$],ne);(function N(Z){return Z&&(!Z.read||!1!==Z.read.enabled&&!Z.read.source)})(j)&&(Z[$]=!0);for(const I of Object.getOwnPropertyNames(Y))j=(0,X.HS)(Y[I],ne),B(j,$,se)&&(Z[I]=!0)}function z(Z,Y,$,se){const j=(0,X.hk)($.metadatas[Y],"any",se),I=j&&j.default;if(void 0===I)return;const w="function"==typeof I?I.call(Z,Y,se):I;void 0!==w&&$.set(Y,w)}const L={origin:"service"};function T(Z,Y,$=L){if(!Y||"object"!=typeof Y)return;const se=(0,O.vw)(Z),ne=se.metadatas,j={};for(const I of Object.getOwnPropertyNames(Y))ee(j,ne,I,Y,$);se.setDefaultOrigin($.origin);for(const I of Object.getOwnPropertyNames(j)){const w=(0,X.HS)(ne[I],$).read,F=w&&w.source;let k;k=F&&"string"==typeof F?(0,M.$z)(Y,F):Y[I],w&&w.reader&&(k=w.reader.call(Z,k,Y,$)),void 0!==k&&se.set(I,k)}if(!$||!$.ignoreDefaults){se.setDefaultOrigin("defaults");for(const I of Object.getOwnPropertyNames(ne))j[I]||z(Z,I,se,$)}se.setDefaultOrigin("user")}function x(Z,Y,$,se=L){var ne;const j=Bn(Ct({},se),{messages:[]});$(j),null==(ne=j.messages)||ne.forEach(I=>{"warning"!==I.type||Z.loaded?se&&se.messages&&se.messages.push(I):Z.loadWarnings.push(I)})}},82255:(Qe,Me,E)=>{"use strict";E.d(Me,{t:()=>N});var M=E(26584),O=E(8314),X=E(63290),B=E(34595);function N(T,x,Z){if(T&&x)if("object"==typeof x)for(const Y of Object.getOwnPropertyNames(x))N(T,Y,x[Y]);else{if(-1!==x.indexOf(".")){const $=x.split("."),se=$.splice($.length-1,1)[0];return void N((0,B.U2)(T,$),se,Z)}const Y=T.__accessor__;null!=Y&&function ee(T,x){if((0,O.Z)("esri-unknown-property-errors")&&!function z(T,x){return null!=x.metadatas[T]}(T,x))throw new M.Z("set:unknown-property",function L(T,x){return"setting unknown property '"+T+"' on instance of "+x.host.declaredClass}(T,x))}(x,Y),T[x]=Z}}X.Z.getLogger("esri.core.accessorSupport.set")},36082:(Qe,Me,E)=>{"use strict";E.d(Me,{GF:()=>F,LJ:()=>Y,gb:()=>$,it:()=>T,mS:()=>I}),E(8314);var O=E(63290),X=E(52323),B=E(2345);let N,ee=[];const z=O.Z.getLogger("esri.core.Accessor");function T(W){void 0!==N&&N.onObservableAccessed(W)}let x=!1,Z=!1;function Y(W,re,Q){if(x)return se(W,re,Q);ne(W);const ue=re.call(Q);return j(),ue}function $(W,re){return Y(void 0,W,re)}function se(W,re,Q){const ue=x;x=!0,ne(W);let he=null;try{he=re.call(Q)}catch(fe){Z&&z.error(fe)}return j(),x=ue,he}function ne(W){N=W,ee.push(W)}function j(){const W=ee.pop();N=ee.length>0?ee[ee.length-1]:void 0,void 0!==W&&W.onTrackingEnd()}function I(W,re){if(re.flags&B.v.DepTrackingInitialized)return;const Q=Z;Z=!1,re.flags&B.v.AutoTracked?se(re,re.metadata.get,W):F(W,re),Z=Q}const w=[];function F(W,re){re.flags&B.v.ExplicitlyTracking||(re.flags|=B.v.ExplicitlyTracking,se(re,()=>{const Q=re.metadata.dependsOn||w;for(const ue of Q)if("string"==typeof ue&&-1===ue.indexOf("."))k(W,ue,!1);else{const he=(0,X.NI)(ue);for(let fe=0,pe=W;fe<he.length&&null!=pe&&"object"==typeof pe;++fe)pe=k(pe,he[fe],fe!==he.length-1)}}),re.flags&=~B.v.ExplicitlyTracking)}function k(W,re,Q){const ue="?"===re[re.length-1]?re.slice(0,-1):re;if(null!=W.getItemAt||Array.isArray(W)){const pe=parseInt(ue,10);if(!isNaN(pe))return Array.isArray(W)?W[pe]:W.getItemAt(pe)}const he=(0,X.vw)(W),fe=null==he?void 0:he.properties.get(ue);return fe&&(T(fe),I(W,fe)),Q?W[ue]:void 0}},21352:(Qe,Me,E)=>{"use strict";E.d(Me,{EH:()=>z,U5:()=>N,Xz:()=>ee});var M=E(36082),O=E(819);let X=!1;const B=[];function N(x,Z){let Y=new O.M(function ne(){if(!Y||se)return;if(X)return void L(ne);const I=$;Y.clear(),X=!0,se=!0,$=(0,M.LJ)(Y,x),se=!1,X=!1,Z($,I),T()}),$=null,se=!1;return se=!0,$=(0,M.LJ)(Y,x),se=!1,{remove:function j(){Y&&(Y.destroy(),Y=null,$=null)}}}function ee(x,Z){let Y=new O.M(function se(){Z($,j)}),$=null;function j(){return Y?(Y.clear(),$=(0,M.LJ)(Y,x),$):null}return j(),{remove:function ne(){Y&&(Y.destroy(),Y=null),$=null}}}function z(x){let Z=new O.M(function $(){Z&&!Y&&(X?L($):(Z.clear(),X=!0,Y=!0,(0,M.LJ)(Z,x),Y=!1,X=!1,T()))}),Y=!1;return Y=!0,(0,M.LJ)(Z,x),Y=!1,{remove:function se(){Z&&(Z.destroy(),Z=null)}}}function L(x){B.includes(x)||B.unshift(x)}function T(){for(;B.length;)B.pop()()}},2345:(Qe,Me,E)=>{"use strict";var M,O;E.d(Me,{v:()=>M}),(O=M||(M={}))[O.Dirty=1]="Dirty",O[O.Overriden=2]="Overriden",O[O.Computing=4]="Computing",O[O.NonNullable=8]="NonNullable",O[O.HasDefaultValue=16]="HasDefaultValue",O[O.DepTrackingInitialized=32]="DepTrackingInitialized",O[O.AutoTracked=64]="AutoTracked",O[O.ExplicitlyTracking=128]="ExplicitlyTracking"},12196:(Qe,Me,E)=>{"use strict";E.d(Me,{X:()=>O});var M=E(85931);class O{constructor(B,N){this._observers=B,this._observer=N}remove(){(0,M.Od)(this._observers,this._observer)}}},819:(Qe,Me,E)=>{"use strict";E.d(Me,{M:()=>M});class M{constructor(X){this._notify=X,this._accessed=[],this._handles=[],this._invalidCount=0}destroy(){this._accessed.length=0,this.clear()}onInvalidated(){this._invalidCount++}onCommitted(){const X=this._invalidCount;if(1===X)return this._invalidCount=0,void this._notify();this._invalidCount=X>0?X-1:0}onObservableAccessed(X){this._accessed.includes(X)||this._accessed.push(X)}onTrackingEnd(){const X=this._handles,B=this._accessed;for(let N=0;N<B.length;++N)X.push(B[N].observe(this));B.length=0}clear(){const X=this._handles;for(let B=0;B<X.length;++B)X[B].remove();X.length=0}}},52323:(Qe,Me,E)=>{"use strict";E.d(Me,{IH:()=>ne,NI:()=>x,Qc:()=>se,TS:()=>z,b6:()=>N,vw:()=>B});var M=E(54024),O=E(58817),X=E(62208);function B(j){return j?j.__accessor__?j.__accessor__:j.propertyInvalidated?j:null:null}function N(j,I){return null!=j&&j.metadatas&&null!=j.metadatas[I]}function z(j,I,w){return L(j,I,w?{policy:w,path:""}:null)}function L(j,I,w){return I?Object.keys(I).reduce(function(F,k){let W=null,re="merge";if(w&&(W=w.path?`${w.path}.${k}`:k,re=w.policy(W)),"replace"===re)return F[k]=I[k],F;if(void 0===F[k])return F[k]=(0,O.d9)(I[k]),F;let Q=F[k],ue=I[k];if(Q===ue)return F;if(Array.isArray(ue)||Array.isArray(F))Q=F[k]=Q?Array.isArray(Q)?Q.concat():[Q]:[],ue&&(Array.isArray(ue)||(ue=[ue]),ue.forEach(he=>{-1===Q.indexOf(he)&&Q.push(he)}));else if(ue&&"object"==typeof ue)if(w){const he=w.path;w.path=(0,X.j0)(W),F[k]=L(Q,ue,w),w.path=he}else F[k]=L(Q,ue,null);else F.hasOwnProperty(k)&&!I.hasOwnProperty(k)||(F[k]=ue);return F},j||{}):j}function x(j){return Array.isArray(j)?j:j.split(".")}function Z(j){return j.indexOf(",")>-1?j.split(",").map(I=>I.trim()):[j.trim()]}function se(j,I,w,F){const k=function Y(j){if(Array.isArray(j)){const I=[];for(const w of j)I.push(...Z(w));return I}return Z(j)}(I);if(1!==k.length){const W=k.map(re=>F(j,re,w));return(0,M.AL)(W)}return F(j,k[0],w)}function ne(j){let I=!1;return()=>{I||(I=!0,j())}}},45262:(Qe,Me,E)=>{"use strict";E.d(Me,{BT:()=>F,YP:()=>fe,aQ:()=>K});var Z,le,M=E(35575),O=E(58817),X=E(62208),B=E(27899),ee=E(50618),z=E(86236),L=E(34595),T=E(21352),x=E(52323);(le=Z||(Z={}))[le.Untracked=0]="Untracked",le[le.Tracked=1]="Tracked";class Y{constructor(){this.uid=(0,z.D)(),this.removed=!1,this.type=null,this.oldValue=null,this.callback=null,this.getValue=null,this.target=null,this.path=null,this.equals=null}static acquireUntracked(me,ce,ge,J,ie){return this.pool.acquire(Z.Untracked,me,ce,ge,J,ie,O.fS)}static acquireTracked(me,ce,ge,J){return this.pool.acquire(Z.Tracked,me,ce,ge,null,null,J)}notify(me,ce){this.type===Z.Untracked?this.callback.call(this.target,me,ce,this.path,this.target):this.callback.call(null,me,ce)}acquire(me,ce,ge,J,ie,De,_e){this.uid=(0,z.D)(),this.removed=!1,this.type=me,this.oldValue=ce,this.callback=ge,this.getValue=J,this.target=ie,this.path=De,this.equals=_e}release(){this.target=this.path=this.oldValue=this.callback=this.getValue=null,this.uid=(0,z.D)(),this.removed=!0}}Y.pool=new class N extends B.Z{constructor(){super(...arguments),this._set=new Set}destroy(){super.destroy(),this._set=(0,X.Bd)(this._set)}acquire(...me){const ce=super.acquire(...me);return this._set.delete(ce),ce}release(me){me&&!this._set.has(me)&&(super.release(me),this._set.add(me))}_dispose(me){this._set.delete(me),super._dispose(me)}}(Y);const $=new M.Z,se=new Set;let ne;function j(le){se.delete(le),se.add(le),ne||(ne=(0,ee.Os)(k))}function I(le){if(le.removed)return;const me=le.oldValue,ce=le.getValue();le.equals(me,ce)||(le.oldValue=ce,le.notify(ce,me))}function F(le){for(const me of se.values())me.target===le&&(me.removed=!0)}function k(){let le=10;for(;ne&&le--;){ne=null;const me=W(),ce=$.acquire();for(const ge of me){const J=ge.uid;I(ge),J===ge.uid&&ge.removed&&ce.push(ge)}for(const ge of se)ge.removed&&(ce.push(ge),se.delete(ge));for(const ge of ce)Y.pool.release(ge);$.release(ce),$.release(me),re.forEach(ge=>ge())}}function W(){const le=$.acquire();le.length=se.size;let me=0;for(const ce of se)le[me]=ce,++me;return se.clear(),le}const re=new Set;function fe(le,me,ce,ge=!1){return!le.__accessor__||le.__accessor__.destroyed?{remove(){}}:ge?function he(le,me,ce){const ge=(0,x.Qc)(le,me,ce,(J,ie,De)=>{let _e=!1;return(0,T.U5)(()=>(0,L.$z)(J,ie),(Ie,xe)=>{J.__accessor__.destroyed?ge.remove():_e||(_e=!0,(0,O.fS)(xe,Ie)||De.call(J,Ie,xe,ie,J),_e=!1)})});return ge}(le,me,ce):function ue(le,me,ce){let ge=(0,x.Qc)(le,me,ce,(J,ie,De)=>{let _e,Ie,xe=(0,T.Xz)(()=>(0,L.$z)(J,ie),(ke,Ve)=>{J.__accessor__.destroyed||_e&&_e.uid!==Ie?ge.remove():(_e||(_e=Y.acquireUntracked(ke,De,Ve,J,ie),Ie=_e.uid),j(_e))});return{remove:(0,x.IH)(()=>{xe.remove(),_e&&(_e.uid!==Ie||_e.removed||(_e.removed=!0,j(_e)),_e=null),ge=xe=null})}});return ge}(le,me,ce)}function K(le,me,ce=!1,ge=O.fS){return ce?function oe(le,me,ce){let ge=!1;return(0,T.U5)(le,(J,ie)=>{ge||(ge=!0,ce(ie,J)||me(J,ie),ge=!1)})}(le,me,ge):function pe(le,me,ce){let ge,J,ie=(0,T.Xz)(le,(De,_e)=>{ge&&ge.uid!==J?ie.remove():(ge||(ge=Y.acquireTracked(De,me,_e,ce),J=ge.uid),j(ge))});return{remove:(0,x.IH)(()=>{ie.remove(),ge&&(ge.uid!==J||ge.removed||(ge.removed=!0,j(ge)),ge=null),ie=null})}}(le,me,ge)}},36054:(Qe,Me,E)=>{"use strict";E.d(Me,{c:()=>Y,d:()=>Z});var M=E(85931),O=E(26584),X=E(63290),B=E(31283),N=E(52323),ee=E(33794);const z=X.Z.getLogger("esri.core.accessorSupport.write");function L($,se,ne,j,I){var w,F;const k={};return null==(w=se.write)||null==(F=w.writer)||F.call($,j,k,ne,I),k}function T($,se,ne,j,I,w){if(!j||!j.write)return!1;const F=$.get(ne);if(!I&&j.write.overridePolicy){const k=j.write.overridePolicy.call($,F,ne,w);void 0!==k&&(I=k)}if(I||(I=j.write),!I||!1===I.enabled)return!1;if((null===F&&!I.allowNull&&!I.writerEnsuresNonNull||void 0===F)&&I.isRequired){const k=new O.Z("web-document-write:property-required",`Missing value for required property '${ne}' on '${$.declaredClass}'`,{propertyName:ne,target:$});return k&&w&&w.messages?w.messages.push(k):k&&!w&&z.error(k.name,k.message),!1}return!(void 0===F||null===F&&!I.allowNull&&!I.writerEnsuresNonNull||(!se.store.multipleOriginsSupported||se.store.originOf(ne)===B.s3.DEFAULTS)&&function x($,se,ne,j,I){const w=j.default;if(void 0===w)return!1;if(null!=j.defaultEquals)return j.defaultEquals(I);if("function"==typeof w){if(Array.isArray(I)){const F=w.call($,se,ne);return(0,M.fS)(F,I)}return!1}return w===I}($,ne,w,j,F)||!I.ignoreOrigin&&w&&w.origin&&se.store.multipleOriginsSupported&&se.store.originOf(ne)<(0,B.M9)(w.origin))}function Z($,se,ne,j){const I=(0,N.vw)($),F=(0,ee.Ah)(I.metadatas[se],j);return!!F&&T($,I,se,F,ne,j)}function Y($,se,ne){if($&&"function"==typeof $.toJSON&&(!$.toJSON.isDefaultToJSON||!$.write))return(0,N.TS)(se,$.toJSON());const j=(0,N.vw)($),I=j.metadatas;for(const k in I){const W=(0,ee.Ah)(I[k],ne);if(!T($,j,k,W,void 0,ne))continue;const re=$.get(k),Q=L($,W,W.write&&"string"==typeof W.write.target?W.write.target:k,re,ne);var w,F;Object.keys(Q).length>0&&(se=(0,N.TS)(se,Q),null!=ne&&null!=(w=ne.resources)&&null!=(F=w.pendingOperations)&&F.length&&Promise.all(ne.resources.pendingOperations).then(()=>(0,N.TS)(se,Q)),ne&&ne.writtenProperties&&ne.writtenProperties.push({target:$,propName:k,oldOrigin:(0,B.Wm)(j.store.originOf(k)),newOrigin:ne.origin}))}return se}},85931:(Qe,Me,E)=>{"use strict";E.d(Me,{FY:()=>he,Od:()=>de,SO:()=>k,a9:()=>ne,cq:()=>re,e$:()=>Q,fS:()=>T,w6:()=>j,xH:()=>F,zG:()=>Y});var M=E(62208),O=E(4619);function T(le,me,ce){if((0,M.Wi)(le)&&(0,M.Wi)(me))return!0;if((0,M.Wi)(le)||(0,M.Wi)(me)||le.length!==me.length)return!1;if(ce){for(let ge=0;ge<le.length;ge++)if(!ce(le[ge],me[ge]))return!1}else for(let ge=0;ge<le.length;ge++)if(le[ge]!==me[ge])return!1;return!0}function Y(le){return le&&"number"==typeof le.length}const se=!!Array.prototype.fill;function ne(le,me){if(se)return new Array(le).fill(me);const ce=new Array(le);for(let ge=0;ge<le;ge++)ce[ge]=me;return ce}function j(le,me){void 0===me&&(me=le,le=0);const ce=new Array(me-le);for(let ge=le;ge<me;ge++)ce[ge-le]=ge;return ce}function F(le){return le.reduce((me,ce)=>me.concat(ce||[]),[])}class k{constructor(){this.last=0}}const W=new k;function re(le,me,ce,ge){ge=ge||W;const J=Math.max(0,ge.last-10);for(let De=J;De<ce;++De)if(le[De]===me)return ge.last=De,De;const ie=Math.min(J,ce);for(let De=0;De<ie;++De)if(le[De]===me)return ge.last=De,De;return-1}function Q(le,me,ce,ge){const J=null==ce?le.length:ce,ie=re(le,me,J,ge);if(-1!==ie)return le[ie]=le[J-1],null==ce&&le.pop(),me}const ue=new Set;function he(le,me,ce=le.length,ge=me.length,J,ie){if(0===ge||0===ce)return ce;ue.clear();for(let _e=0;_e<ge;++_e)ue.add(me[_e]);J=J||W;const De=Math.max(0,J.last-10);for(let _e=De;_e<ce;++_e)if(ue.has(le[_e])&&(ie&&ie.push(le[_e]),ue.delete(le[_e]),le[_e]=le[ce-1],--ce,--_e,0===ue.size||0===ce))return ue.clear(),ce;for(let _e=0;_e<De;++_e)if(ue.has(le[_e])&&(ie&&ie.push(le[_e]),ue.delete(le[_e]),le[_e]=le[ce-1],--ce,--_e,0===ue.size||0===ce))return ue.clear(),ce;return ue.clear(),ce}function de(le,me){const ce=le.indexOf(me);return-1!==ce?(le.splice(ce,1),me):null}new O.Z},59213:(Qe,Me,E)=>{"use strict";E.d(Me,{Ed:()=>X,UI:()=>B,mt:()=>ee,q6:()=>N});var M=E(62208),O=E(10699);function X(L,T,x){return(0,O.as)(L.map((Z,Y)=>T.apply(x,[Z,Y])))}function B(L,T,x){return(0,O.as)(L.map((Z,Y)=>T.apply(x,[Z,Y]))).then(Z=>Z.map(Y=>Y.value))}function N(L){return(0,M.Wi)(L)?(0,O.DB)():L.then(T=>({ok:!0,value:T})).catch(T=>({ok:!1,error:T}))}function ee(L){return L.then(T=>({ok:!0,value:T})).catch(T=>((0,O.r9)(T),{ok:!1,error:T}))}},27306:(Qe,Me,E)=>{"use strict";function M(ee){return 32+ee.length}function X(ee){if(!ee)return 0;let z=32;for(const L in ee)if(ee.hasOwnProperty(L)){const T=ee[L];switch(typeof T){case"string":z+=M(T);break;case"number":z+=16;break;case"boolean":z+=4}}return z}function B(ee,z){return 32+ee.length*z}var N,ee;E.d(Me,{Y8:()=>N,do:()=>B,f2:()=>X}),(ee=N||(N={}))[ee.KILOBYTES=1024]="KILOBYTES",ee[ee.MEGABYTES=1048576]="MEGABYTES",ee[ee.GIGABYTES=1073741824]="GIGABYTES"},84244:(Qe,Me,E)=>{"use strict";E.d(Me,{m:()=>O});const O=function M(X){return{setTimeout:(B,N)=>{const ee=X.setTimeout(B,N);return{remove:()=>X.clearTimeout(ee)}}}}(globalThis)},89726:(Qe,Me,E)=>{"use strict";E.d(Me,{R:()=>X,Z:()=>O});var M=E(48701);function O(N,ee,z=M.Z){return ee||(ee=new z),ee===N||(ee.removeAll(),function B(N){return N&&(Array.isArray(N)||"items"in N&&Array.isArray(N.items))}(N)?ee.addMany(N):N&&ee.add(N)),ee}function X(N){return N}},94573:(Qe,Me,E)=>{"use strict";function O(ee){}function B(ee){return()=>ee}E.d(Me,{Bg:()=>O,sM:()=>B}),E(8314)},55538:(Qe,Me,E)=>{"use strict";E.d(Me,{Mr:()=>ee,XV:()=>N,x9:()=>z});var M=E(8314);const O=new Set;function N(L,T,x={}){if((0,M.Z)("esri-deprecation-warnings")){const{moduleName:Z}=x;z(L,"Function: "+(Z?Z+"::":"")+T+"()",x)}}function ee(L,T,x={}){if((0,M.Z)("esri-deprecation-warnings")){const{moduleName:Z}=x;z(L,"Property: "+(Z?Z+"::":"")+T,x)}}function z(L,T,x={}){if((0,M.Z)("esri-deprecation-warnings")){const{replacement:Z,version:Y,see:$,warnOnce:se}=x;let ne=T;Z&&(ne+=`\n\t\u{1f6e0}\ufe0f Replacement: ${Z}`),Y&&(ne+=`\n\t\u2699\ufe0f Version: ${Y}`),$&&(ne+=`\n\t\u{1f517} See ${$} for more details.`),function X(L,T,x=!1){x&&O.has(T)||(x&&O.add(T),L.warn(`\u{1f6d1} DEPRECATED - ${T}`))}(L,ne,se)}}},40764:(Qe,Me,E)=>{"use strict";function M(L){return"string"==typeof L?document.getElementById(L):L}function O(L){for(;L.hasChildNodes();)L.removeChild(L.firstChild)}function B(L,T){const x=T.parentNode;x&&x.insertBefore(L,T)}function N(L,T){for(;;){const x=L.firstChild;if(!x)break;T.appendChild(x)}}E.d(Me,{L7:()=>M,Vt:()=>B,YD:()=>N,cS:()=>O}),(()=>{if("function"==typeof Element.prototype.closest)return(T,x)=>T.closest(x);Element.prototype.matches||Element})()},17770:(Qe,Me,E)=>{"use strict";function M(z){return z&&("function"==typeof z.on||"function"==typeof z.addEventListener)}function O(z,L,T){if(!M(z))throw new TypeError("target is not a Evented or EventTarget object");if("on"in z)return z.on(L,T);if(Array.isArray(L)){const x=L.slice();for(const Z of x)z.addEventListener(Z,T);return{remove(){for(const Z of x)z.removeEventListener(Z,T)}}}return z.addEventListener(L,T),{remove(){z.removeEventListener(L,T)}}}function X(z,L,T){if(!M(z))throw new TypeError("target is not a Evented or EventTarget object");if("once"in z)return z.once(L,T);const x=O(z,L,Z=>{x.remove(),T.call(z,Z)});return{remove(){x.remove()}}}E.d(Me,{IH:()=>X,kK:()=>ee,on:()=>O,vT:()=>M});const N={Win:"Meta",Scroll:"ScrollLock",Spacebar:" ",Down:"ArrowDown",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Del:"Delete",Apps:"ContextMenu",Esc:"Escape",Multiply:"*",Add:"+",Subtract:"-",Decimal:".",Divide:"/"};function ee({key:z}){return N[z]||z}},54024:(Qe,Me,E)=>{"use strict";E.d(Me,{AL:()=>O,kB:()=>X});var M=E(62208);function O(L){return X(()=>L.forEach(T=>(0,M.pC)(T)&&T.remove()))}function X(L){return{remove:()=>{L&&(L(),L=void 0)}}}},8314:(Qe,Me,E)=>{"use strict";var M,O;let X;var B,N;function ee(z){return"function"==typeof X[z]?X[z]=X[z](globalThis):X[z]}E.d(Me,{Z:()=>ee}),X=null!=(M=globalThis.dojoConfig)&&M.has||null!=(O=globalThis.esriConfig)&&O.has?Ct(Ct({},null==(B=globalThis.dojoConfig)?void 0:B.has),null==(N=globalThis.esriConfig)?void 0:N.has):{},ee.add=(z,L,T,x)=>((x||void 0===X[z])&&(X[z]=L),T&&ee(z)),ee.cache=X,ee.add("esri-deprecation-warnings",!0),(()=>{var z;ee.add("host-webworker",void 0!==globalThis.WorkerGlobalScope&&self instanceof globalThis.WorkerGlobalScope);const L="undefined"!=typeof window&&"undefined"!=typeof location&&"undefined"!=typeof document&&window.location===location&&window.document===document;if(ee.add("host-browser",L),ee.add("host-node","object"==typeof globalThis.process&&(null==(z=globalThis.process.versions)?void 0:z.node)&&globalThis.process.versions.v8),ee.add("dom",L),ee("host-browser")){const T=navigator,x=T.userAgent,Z=T.appVersion,Y=parseFloat(Z);if(ee.add("wp",parseFloat(x.split("Windows Phone")[1])||void 0),ee.add("msapp",parseFloat(x.split("MSAppHost/")[1])||void 0),ee.add("khtml",Z.includes("Konqueror")?Y:void 0),ee.add("edge",parseFloat(x.split("Edge/")[1])||void 0),ee.add("opr",parseFloat(x.split("OPR/")[1])||void 0),ee.add("webkit",!ee("wp")&&!ee("edge")&&parseFloat(x.split("WebKit/")[1])||void 0),ee.add("chrome",!ee("edge")&&!ee("opr")&&parseFloat(x.split("Chrome/")[1])||void 0),ee.add("android",!ee("wp")&&parseFloat(x.split("Android ")[1])||void 0),ee.add("safari",!Z.includes("Safari")||ee("wp")||ee("chrome")||ee("android")||ee("edge")||ee("opr")?void 0:parseFloat(Z.split("Version/")[1])),ee.add("mac",Z.includes("Macintosh")),!ee("wp")&&x.match(/(iPhone|iPod|iPad)/)){const $=RegExp.$1.replace(/P/,"p"),se=x.match(/OS ([\d_]+)/)?RegExp.$1:"1",ne=parseFloat(se.replace(/_/,".").replace(/_/g,""));ee.add($,ne),ee.add("ios",ne)}ee.add("trident",parseFloat(Z.split("Trident/")[1])||void 0),ee("webkit")||(!x.includes("Gecko")||ee("wp")||ee("khtml")||ee("trident")||ee("edge")||ee.add("mozilla",Y),ee("mozilla")&&ee.add("ff",parseFloat(x.split("Firefox/")[1]||x.split("Minefield/")[1])||void 0))}})(),(()=>{if(globalThis.navigator){const z=navigator.userAgent,L=/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i.test(z),T=/iPhone/i.test(z);L&&ee.add("esri-mobile",L),T&&ee.add("esri-iPhone",T),ee.add("esri-geolocation",!!navigator.geolocation)}ee.add("esri-canvas-svg-support",!ee("trident")),ee.add("esri-wasm","WebAssembly"in globalThis),ee.add("esri-shared-array-buffer",()=>{const z="SharedArrayBuffer"in globalThis,L=!1===globalThis.crossOriginIsolated;return z&&!L}),ee.add("esri-atomics","Atomics"in globalThis),ee.add("esri-workers","Worker"in globalThis),ee.add("web-feat:cache","caches"in globalThis),ee.add("esri-workers-arraybuffer-transfer",!ee("safari")||Number(ee("safari"))>=12),ee.add("featurelayer-simplify-thresholds",[.5,.5,.5,.5]),ee.add("featurelayer-simplify-payload-size-factors",[1,1,4]),ee.add("featurelayer-snapshot-enabled",!0),ee.add("featurelayer-snapshot-point-min-threshold",8e4),ee.add("featurelayer-snapshot-point-max-threshold",4e5),ee.add("featurelayer-snapshot-point-coverage",.1),ee.add("featurelayer-advanced-symbols",!1),ee.add("featurelayer-pbf",!0),ee.add("featurelayer-pbf-statistics",!1),ee.add("feature-layers-workers",!0),ee.add("feature-polyline-generalization-factor",1),ee.add("mapview-transitions-duration",200),ee.add("mapview-srswitch-adjust-rotation-scale-threshold",24e6),ee.add("mapserver-pbf-enabled",!1),ee("host-webworker")||ee("host-browser")&&(ee.add("esri-csp-restrictions",()=>{try{new Function}catch(z){return!0}return!1}),ee.add("esri-image-decode",()=>{if("decode"in new Image){const z=new Image;return z.src='data:image/svg+xml;charset=UTF-8,<svg version="1.1" xmlns="http://www.w3.org/2000/svg"></svg>',void z.decode().then(()=>{ee.add("esri-image-decode",!0,!0,!0)}).catch(()=>{ee.add("esri-image-decode",!1,!0,!0)})}return!1}),ee.add("esri-url-encodes-apostrophe",()=>{const z=window.document.createElement("a");return z.href="?'",z.href.includes("?%27")}))})()},56354:(Qe,Me,E)=>{"use strict";function M(B){const N=[];return function*(){yield*N;for(const ee of B)N.push(ee),yield ee}}function O(B,N){for(const ee of B)if(null!=ee&&N(ee))return ee}function X(B){return null!=B&&"function"==typeof B[Symbol.iterator]}E.d(Me,{Fs:()=>M,TW:()=>X,sE:()=>O})},2076:(Qe,Me,E)=>{"use strict";E.d(Me,{X:()=>O,w:()=>X});var M=E(94113);class O{constructor(N,ee={ignoreUnknown:!1,useNumericKeys:!1}){this.jsonToAPI=N,this.options=ee,this.apiValues=[],this.jsonValues=[],this.apiToJSON=this._invertMap(N),this.apiValues=this._getKeysSorted(this.apiToJSON),this.jsonValues=this._getKeysSorted(this.jsonToAPI),this.read=z=>this.fromJSON(z),this.write=(z,L,T)=>{const x=this.toJSON(z);void 0!==x&&(0,M.RB)(T,x,L)},this.write.isJSONMapWriter=!0}toJSON(N){if(this.apiToJSON.hasOwnProperty(N)){const ee=this.apiToJSON[N];return this.options.useNumericKeys?+ee:ee}return this.options.ignoreUnknown?void 0:N}fromJSON(N){return this.jsonToAPI.hasOwnProperty(N)?this.jsonToAPI[N]:this.options.ignoreUnknown?void 0:N}_invertMap(N){const ee={};for(const z in N)ee[N[z]]=z;return ee}_getKeysSorted(N){const ee=[];for(const z in N)ee.push(z);return ee.sort(),ee}}function X(){return function(B,N){return new O(B,Ct({ignoreUnknown:!0},N))}}},58817:(Qe,Me,E)=>{"use strict";E.d(Me,{Vo:()=>z,d9:()=>ee,fS:()=>Y,yd:()=>N}),E(85931),E(8314);var X=E(62208),B=E(55713);function N(w,F){let k;if(F)for(k in w)w.hasOwnProperty(k)&&(void 0===w[k]?delete w[k]:w[k]instanceof Object&&N(w[k],!0));else for(k in w)w.hasOwnProperty(k)&&void 0===w[k]&&delete w[k];return w}function ee(w){if(!w||"object"!=typeof w||"function"==typeof w)return w;const F=Z(w);if((0,X.pC)(F))return F;if(L(w))return w.clone();if(T(w))return w.map(ee);if(x(w))return w.clone();const k={};for(const W of Object.getOwnPropertyNames(w))k[W]=ee(w[W]);return k}function z(w){if(!w||"object"!=typeof w||"function"==typeof w)return w;const F=Z(w);if((0,X.pC)(F))return F;if(T(w)){let k=!0;const W=w.map(re=>{const Q=z(re);return null!=re&&null==Q&&(k=!1),Q});return k?W:null}if(L(w))return w.clone();if(!x(w)){const k=new(Object.getPrototypeOf(w).constructor);for(const W of Object.getOwnPropertyNames(w)){const re=w[W],Q=z(re);if(null!=re&&null==Q)return null;k[W]=Q}return k}return null}function L(w){return"function"==typeof w.clone}function T(w){return"function"==typeof w.map&&"function"==typeof w.forEach}function x(w){return"function"==typeof w.notifyChange&&"function"==typeof w.watch}function Z(w){if((0,B.W0)(w)||(0,B.lq)(w)||(0,B.KZ)(w)||(0,B.z3)(w)||(0,B.Uc)(w)||(0,B.Hx)(w)||(0,B.ZY)(w)||(0,B.xZ)(w)||(0,B.fS)(w))return(0,B.tP)(w);if(w instanceof Date)return new Date(w.getTime());if(w instanceof ArrayBuffer)return w.slice(0,w.byteLength);if(w instanceof Map){const F=new Map;return w.forEach((k,W)=>{F.set(W,ee(k))}),F}if(w instanceof Set){const F=new Set;return w.forEach(k=>{F.add(ee(k))}),F}return null}function Y(w,F){return w===F||"number"==typeof w&&isNaN(w)&&"number"==typeof F&&isNaN(F)||"function"==typeof(w||{}).getTime&&"function"==typeof(F||{}).getTime&&w.getTime()===F.getTime()||!1}},47877:(Qe,Me,E)=>{"use strict";E.d(Me,{G:()=>ee,w:()=>L});var M=E(15861),O=E(59213),X=E(48701),B=E(47996),N=E(62208);function ee(Z,Y){return z.apply(this,arguments)}function z(){return(z=(0,M.Z)(function*(Z,Y){return yield Z.load(),L(Z,Y)})).apply(this,arguments)}function L(Z,Y){return T.apply(this,arguments)}function T(){return T=(0,M.Z)(function*(Z,Y){const $=[],se=(...j)=>{for(const I of j)(0,N.Wi)(I)||(Array.isArray(I)?se(...I):X.Z.isCollection(I)?I.forEach(w=>se(w)):B.Z.isLoadable(I)&&$.push(I))};Y(se);let ne=null;if(yield(0,O.UI)($,function(){var j=(0,M.Z)(function*(I){!1!==(yield(0,O.q6)(x(I)?I.loadAll():I.load())).ok||ne||(ne=I)});return function(I){return j.apply(this,arguments)}}()),ne)throw ne.loadError;return Z}),T.apply(this,arguments)}function x(Z){return"loadAll"in Z&&"function"==typeof Z.loadAll}},21286:(Qe,Me,E)=>{"use strict";E.d(Me,{BV:()=>$,Kt:()=>j,Sf:()=>B,Vl:()=>Y,ZF:()=>ne,fp:()=>L,jE:()=>Q,oK:()=>F,t7:()=>x,uZ:()=>N,wt:()=>z});var M=E(84161);E(993);const X=new Float32Array(1);function B(pe){--pe;for(let oe=1;oe<32;oe<<=1)pe|=pe>>oe;return pe+1}function N(pe,oe,K){return Math.min(Math.max(pe,oe),K)}function z(pe){return 0==(pe&pe-1)}function L(pe){return pe--,pe|=pe>>1,pe|=pe>>2,pe|=pe>>4,pe|=pe>>8,pe|=pe>>16,++pe}function x(pe,oe,K){return pe+(oe-pe)*K}function Y(pe){return pe*Math.PI/180}function $(pe){return 180*pe/Math.PI}function ne(pe){return Math.acos(N(pe,-1,1))}function j(pe){return Math.asin(N(pe,-1,1))}function F(pe){return k(Math.max(-fe,Math.min(pe,fe)))}function k(pe){return X[0]=pe,X[0]}function Q(pe,oe){const K=(0,M.l)(pe),de=j(pe[2]/K),le=Math.atan2(pe[1]/K,pe[0]/K);return(0,M.s)(oe,K,de,le),oe}const fe=k(34028234663852886e22)},62208:(Qe,Me,E)=>{"use strict";function O(he){return null!=he}function X(he){return null==he}function B(he){return void 0===he}function N(he,fe){return O(he)?fe(he):null}function ee(he){return he}function z(he,fe){if(X(he))throw new Error(fe);return he}function L(he,fe){return O(he)?he:"function"==typeof fe?fe():fe}function T(he,fe){return O(he)?he:fe}function x(he){return O(he)&&he.destroy(),null}function Z(he){return O(he)&&he.dispose(),null}function Y(he){return O(he)&&he.remove(),null}function $(he){return O(he)&&he.abort(),null}function se(he){return O(he)&&he.release(),null}function j(he){return null}function w(he,fe){const pe=new Array;for(const oe of he)pe.push(k(oe,null,fe));return pe}function F(he,fe){for(const pe of he)N(pe,fe)}function k(he,fe,pe){return O(he)?pe(he):fe}function re(he){return he.filter(fe=>O(fe))}function Q(he,...fe){let pe=he;for(let oe=0;oe<fe.length&&pe;++oe)pe=pe[fe[oe]];return pe}function ue(he){return he}E.d(Me,{Bd:()=>j,Fd:()=>w,IM:()=>$,JR:()=>F,O3:()=>Z,Pt:()=>L,R2:()=>k,RY:()=>se,SC:()=>x,U2:()=>Q,Wg:()=>ee,Wi:()=>X,hw:()=>Y,j0:()=>ue,lV:()=>re,o8:()=>B,pC:()=>O,s3:()=>z,yl:()=>T,yw:()=>N})},22558:(Qe,Me,E)=>{"use strict";function M(O){return O&&"getAtOrigin"in O&&"originOf"in O}E.d(Me,{l:()=>M})},79682:(Qe,Me,E)=>{"use strict";E.d(Me,{Y:()=>O});const M=[];function O(X){M.push(X),1===M.length&&queueMicrotask(()=>{const B=M.slice();M.length=0;for(const N of B)N()})}},75327:(Qe,Me,E)=>{"use strict";E.d(Me,{Qc:()=>Z,WU:()=>N,lt:()=>x});var M=E(77275),O=E(56683);const X={ar:[".",","],bg:[",","\xa0"],bs:[",","."],ca:[",","."],cs:[",","\xa0"],da:[",","."],de:[",","."],"de-ch":[".","\u2019"],el:[",","."],en:[".",","],"en-au":[".",","],es:[",","."],"es-mx":[".",","],et:[",","\xa0"],fi:[",","\xa0"],fr:[",","\u202f"],"fr-ch":[",","\u202f"],he:[".",","],hi:[".",",","#,##,##0.###"],hr:[",","."],hu:[",","\xa0"],id:[",","."],it:[",","."],"it-ch":[".","\u2019"],ja:[".",","],ko:[".",","],lt:[",","\xa0"],lv:[",","\xa0"],mk:[",","."],nb:[",","\xa0"],nl:[",","."],pl:[",","\xa0"],pt:[",","."],"pt-pt":[",","\xa0"],ro:[",","."],ru:[",","\xa0"],sk:[",","\xa0"],sl:[",","."],sr:[",","."],sv:[",","\xa0"],th:[".",","],tr:[",","."],uk:[",","\xa0"],vi:[",","."],zh:[".",","]};function B(j){j||(j=(0,O.Kd)());let I=j in X;if(!I){const W=j.split("-");W.length>1&&W[0]in X&&(j=W[0],I=!0),I||(j="en")}const[w,F,k="#,##0.###"]=X[j];return{decimal:w,group:F,pattern:k}}function N(j,I){const w=B((I=Ct({},I)).locale);I.customs=w;const F=I.pattern||w.pattern;return isNaN(j)||Math.abs(j)===1/0?null:function z(j,I,w){const F=(w=w||{}).customs.group,k=w.customs.decimal,W=I.split(";"),re=W[0];if(-1!==(I=W[j<0?1:0]||"-"+re).indexOf("%"))j*=100;else if(-1!==I.indexOf("\u2030"))j*=1e3;else{if(-1!==I.indexOf("\xa4"))throw new Error("currency notation not supported");if(-1!==I.indexOf("E"))throw new Error("exponential notation not supported")}const Q=ee,ue=re.match(Q);if(!ue)throw new Error("unable to find a number expression in pattern: "+I);return!1===w.fractional&&(w.places=0),I.replace(Q,function L(j,I,w){!0===(w=w||{}).places&&(w.places=0),w.places===1/0&&(w.places=6);const F=I.split("."),k="string"==typeof w.places&&w.places.indexOf(",");let W=w.places;k?W=w.places.substring(k+1):W>=0||(W=(F[1]||[]).length),w.round<0||(j=Number(j.toFixed(Number(W))));const re=String(Math.abs(j)).split("."),Q=re[1]||"";if(F[1]||w.places){k&&(w.places=w.places.substring(0,k));const de=void 0!==w.places?w.places:F[1]&&F[1].lastIndexOf("0")+1;de>Q.length&&(re[1]=Q.padEnd(Number(de),"0")),W<Q.length&&(re[1]=Q.substr(0,Number(W)))}else re[1]&&re.pop();const ue=F[0].replace(",","");let he=ue.indexOf("0");-1!==he&&(he=ue.length-he,he>re[0].length&&(re[0]=re[0].padStart(he,"0")),-1===ue.indexOf("#")&&(re[0]=re[0].substr(re[0].length-he)));let fe,pe,oe=F[0].lastIndexOf(",");if(-1!==oe){fe=F[0].length-oe-1;const de=F[0].substr(0,oe);oe=de.lastIndexOf(","),-1!==oe&&(pe=de.length-oe-1)}const K=[];for(let de=re[0];de;){const le=de.length-fe;K.push(le>0?de.substr(le):de),de=le>0?de.slice(0,le):"",pe&&(fe=pe,pe=void 0)}return re[0]=K.reverse().join(w.group||","),re.join(w.decimal||".")}(j,ue[0],{decimal:k,group:F,places:w.places,round:w.round}))}(j,F,I)}const ee=/[#0,]*[#0](?:\.0*#*)?/;function x(j){const I=B((j=j||{}).locale),w=j.pattern||I.pattern,F=I.group,k=I.decimal;let W=1;if(-1!==w.indexOf("%"))W/=100;else if(-1!==w.indexOf("\u2030"))W/=1e3;else if(-1!==w.indexOf("\xa4"))throw new Error("currency notation not supported");const re=w.split(";");return 1===re.length&&re.push("-"+re[0]),{regexp:se(re,function(ue){return(ue="(?:"+(0,M.Qs)(ue,".")+")").replace(ee,function(he){const fe={signed:!1,separator:j.strict?F:[F,""],fractional:j.fractional,decimal:k,exponent:!1},pe=he.split(".");let oe=j.places;1===pe.length&&1!==W&&(pe[1]="###"),1===pe.length||0===oe?fe.fractional=!1:(void 0===oe&&(oe=j.pattern?pe[1].lastIndexOf("0")+1:1/0),oe&&null==j.fractional&&(fe.fractional=!0),!j.places&&oe<pe[1].length&&(oe+=","+pe[1].length),fe.places=oe);const K=pe[0].split(",");return K.length>1&&(fe.groupSize=K.pop().length,K.length>1&&(fe.groupSize2=K.pop().length)),"("+function Y(j){"places"in(j=j||{})||(j.places=1/0),"string"!=typeof j.decimal&&(j.decimal="."),"fractional"in j&&!/^0/.test(String(j.places))||(j.fractional=[!0,!1]),"exponent"in j||(j.exponent=[!0,!1]),"eSigned"in j||(j.eSigned=[!0,!1]);const I=$(j),w=se(j.fractional,function(k){let W="";return k&&0!==j.places&&(W="\\"+j.decimal,j.places===1/0?W="(?:"+W+"\\d+)?":W+="\\d{"+j.places+"}"),W},!0);let F=I+w;return w&&(F="(?:(?:"+F+")|(?:"+w+"))"),F+se(j.exponent,function(k){return k?"([eE]"+$({signed:j.eSigned})+")":""})}(fe)+")"})},!0).replace(/[\xa0 ]/g,"[\\s\\xa0]"),group:F,decimal:k,factor:W}}function Z(j,I){const w=x(I),F=new RegExp("^"+w.regexp+"$").exec(j);if(!F)return NaN;let k=F[1];if(!F[1]){if(!F[2])return NaN;k=F[2],w.factor*=-1}return k=k.replace(new RegExp("["+w.group+"\\s\\xa0]","g"),"").replace(w.decimal,"."),Number(k)*w.factor}function $(j){return"signed"in(j=j||{})||(j.signed=[!0,!1]),"separator"in j?"groupSize"in j||(j.groupSize=3):j.separator="",se(j.signed,function(I){return I?"[-+]":""},!0)+se(j.separator,function(I){if(!I)return"(?:\\d+)";" "===(I=(0,M.Qs)(I))?I="\\s":"\xa0"===I&&(I="\\s\\xa0");const w=j.groupSize,F=j.groupSize2;if(F){const k="(?:0|[1-9]\\d{0,"+(F-1)+"}(?:["+I+"]\\d{"+F+"})*["+I+"]\\d{"+w+"})";return w-F>0?"(?:"+k+"|(?:0|[1-9]\\d{0,"+(w-1)+"}))":k}return"(?:0|[1-9]\\d{0,"+(w-1)+"}(?:["+I+"]\\d{"+w+"})*)"},!0)}const se=function(j,I,w){if(!(j instanceof Array))return I(j);const F=[];for(let k=0;k<j.length;k++)F.push(I(j[k]));return ne(F.join("|"),w)},ne=function(j,I){return"("+(I?"?:":"")+j+")"}},94113:(Qe,Me,E)=>{"use strict";E.d(Me,{RB:()=>B,RH:()=>O,hS:()=>X});var M=E(58817);function O(z,L,T=!1){return ee(z,L,T)}function X(z,L){if(null!=L)return L[z]||N(z.split("."),!1,L)}function B(z,L,T){const x=z.split("."),Z=x.pop(),Y=N(x,!0,T);Y&&Z&&(Y[Z]=L)}function N(z,L,T){let x=T;for(const Z of z){if(null==x)return;if(!(Z in x)){if(!L)return;x[Z]={}}x=x[Z]}return x}function ee(z,L,T){return L?Object.keys(L).reduce(function(x,Z){let Y=x[Z],$=L[Z];return Y===$?x:void 0===Y?(x[Z]=(0,M.d9)($),x):(Array.isArray($)||Array.isArray(x)?(Y=x[Z]=Y?Array.isArray(Y)?Y.concat():[Y]:[],$&&(Array.isArray($)||($=[$]),T?$.forEach(se=>{-1===Y.indexOf(se)&&Y.push(se)}):x[Z]=$.concat())):$&&"object"==typeof $?x[Z]=ee(Y,$,T):x.hasOwnProperty(Z)&&!L.hasOwnProperty(Z)||(x[Z]=$),x)},z||{}):z}},24192:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>z});var X,L,M=E(8314),O=E(27899);(L=X||(X={}))[L.varint=0]="varint",L[L.fixed64=1]="fixed64",L[L.delimited=2]="delimited",L[L.fixed32=5]="fixed32",L[L.unknown=99]="unknown";const B=4294967296,N=new TextDecoder("utf-8"),ee=(0,M.Z)("safari")||(0,M.Z)("ios")?6:(0,M.Z)("ff")?12:32;class z{constructor(T,x,Z=0,Y=(T?T.byteLength:0)){this._tag=0,this._dataType=X.unknown,this._init(T,x,Z,Y)}_init(T,x,Z,Y){this._data=T,this._dataView=x,this._pos=Z,this._end=Y}clone(){return new z(this._data,this._dataView,this._pos,this._end)}pos(){return this._pos}move(T){this._pos=T}nextTag(T){for(;;){if(this._pos===this._end)return!1;const x=this._decodeVarint();if(this._tag=x>>3,this._dataType=7&x,!T||T===this._tag)break;this.skip()}return!0}next(){if(this._pos===this._end)return!1;const T=this._decodeVarint();return this._tag=T>>3,this._dataType=7&T,!0}empty(){return this._pos>=this._end}tag(){return this._tag}getInt32(){return this._decodeVarint()}getInt64(){return this._decodeVarint()}getUInt32(){let T=4294967295;return T=(127&this._data[this._pos])>>>0,this._data[this._pos++]<128?T:(T=(T|(127&this._data[this._pos])<<7)>>>0,this._data[this._pos++]<128?T:(T=(T|(127&this._data[this._pos])<<14)>>>0,this._data[this._pos++]<128?T:(T=(T|(127&this._data[this._pos])<<21)>>>0,this._data[this._pos++]<128?T:(T=(T|(15&this._data[this._pos])<<28)>>>0,this._data[this._pos++]<128?T:void 0))))}getUInt64(){return this._decodeVarint()}getSInt32(){const T=this.getUInt32();return T>>>1^-(1&T)|0}getSInt64(){return this._decodeSVarint()}getBool(){const T=0!==this._data[this._pos];return this._skip(1),T}getEnum(){return this._decodeVarint()}getFixed64(){const T=this._dataView,x=this._pos,Z=T.getUint32(x,!0)+T.getUint32(x+4,!0)*B;return this._skip(8),Z}getSFixed64(){const T=this._dataView,x=this._pos,Z=T.getUint32(x,!0)+T.getInt32(x+4,!0)*B;return this._skip(8),Z}getDouble(){const T=this._dataView.getFloat64(this._pos,!0);return this._skip(8),T}getFixed32(){const T=this._dataView.getUint32(this._pos,!0);return this._skip(4),T}getSFixed32(){const T=this._dataView.getInt32(this._pos,!0);return this._skip(4),T}getFloat(){const T=this._dataView.getFloat32(this._pos,!0);return this._skip(4),T}getString(){const T=this._getLength(),x=this._pos,Z=this._toString(this._data,x,x+T);return this._skip(T),Z}getBytes(){const T=this._getLength(),x=this._pos,Z=this._toBytes(this._data,x,x+T);return this._skip(T),Z}getLength(){return this._getLengthUnsafe()}processMessageWithArgs(T,x,Z,Y){const $=this.getMessage(),se=T($,x,Z,Y);return $.release(),se}processMessage(T){const x=this.getMessage(),Z=T(x);return x.release(),Z}getMessage(){const T=this._getLength(),x=z.pool.acquire();return x._init(this._data,this._dataView,this._pos,this._pos+T),this._skip(T),x}release(){z.pool.release(this)}dataType(){return this._dataType}skip(){switch(this._dataType){case X.varint:this._decodeVarint();break;case X.fixed64:this._skip(8);break;case X.delimited:this._skip(this._getLength());break;case X.fixed32:this._skip(4);break;default:throw new Error("Invalid data type!")}}skipLen(T){this._skip(T)}_skip(T){if(this._pos+T>this._end)throw new Error("Attempt to skip past the end of buffer!");this._pos+=T}_decodeVarint(){const T=this._data;let x,Z=this._pos,Y=0;if(this._end-Z>=10)do{if(x=T[Z++],Y|=127&x,0==(128&x)||(x=T[Z++],Y|=(127&x)<<7,0==(128&x))||(x=T[Z++],Y|=(127&x)<<14,0==(128&x))||(x=T[Z++],Y|=(127&x)<<21,0==(128&x))||(x=T[Z++],Y+=268435456*(127&x),0==(128&x))||(x=T[Z++],Y+=34359738368*(127&x),0==(128&x))||(x=T[Z++],Y+=4398046511104*(127&x),0==(128&x))||(x=T[Z++],Y+=562949953421312*(127&x),0==(128&x))||(x=T[Z++],Y+=72057594037927940*(127&x),0==(128&x))||(x=T[Z++],Y+=0x8000000000000000*(127&x),0==(128&x)))break;throw new Error("Varint too long!")}while(0);else{let $=1;for(;Z!==this._end&&(x=T[Z],0!=(128&x));)++Z,Y+=(127&x)*$,$*=128;if(Z===this._end)throw new Error("Varint overrun!");++Z,Y+=x*$}return this._pos=Z,Y}_decodeSVarint(){const T=this._decodeVarint();return T%2?-(T+1)/2:T/2}_getLength(){if(this._dataType!==X.delimited)throw new Error("Not a delimited data type!");return this._decodeVarint()}_getLengthUnsafe(){return this.getUInt32()}_toString(T,x,Z){if((Z=Math.min(this._end,Z))-x>ee){const se=T.subarray(x,Z);return N.decode(se)}let Y="",$="";for(let se=x;se<Z;++se){const ne=T[se];128&ne?$+="%"+ne.toString(16):(Y+=decodeURIComponent($)+String.fromCharCode(ne),$="")}return $.length&&(Y+=decodeURIComponent($)),Y}_toBytes(T,x,Z){return Z=Math.min(this._end,Z),new Uint8Array(T.buffer,x,Z-x)}}z.pool=new O.Z(z,null,L=>{L._data=null,L._dataView=null})},10699:(Qe,Me,E)=>{"use strict";E.d(Me,{$6:()=>ee,$F:()=>j,DB:()=>fe,D_:()=>F,Ds:()=>le,H9:()=>se,Hc:()=>Y,Hl:()=>I,R8:()=>k,Ue:()=>L,WW:()=>ue,Yn:()=>J,as:()=>Q,d1:()=>he,dD:()=>re,e4:()=>pe,fu:()=>ne,gx:()=>de,hh:()=>me,k_:()=>x,r9:()=>$,vr:()=>ge,y8:()=>K,zE:()=>T});var M=E(84244),O=E(26584),X=E(17770),N=(E(63290),E(62208));function ee(ie){return Promise.all(ie)}function L(ie){return new Promise((De,_e)=>{try{ie(De,_e)}catch(Ie){Promise.resolve().then(()=>_e(Ie))}})}function T(ie="Aborted"){return new O.Z("AbortError",ie)}function x(ie,De="Aborted"){if(Y(ie))throw T(De)}function Z(ie){return(0,N.pC)(ie)?"aborted"in ie?ie:ie.signal:ie}function Y(ie){const De=Z(ie);return(0,N.pC)(De)&&De.aborted}function $(ie){if(F(ie))throw ie}function se(ie){if(!F(ie))throw ie}function ne(ie,De){const _e=Z(ie);if(!(0,N.Wi)(_e)){if(!_e.aborted)return(0,X.IH)(_e,"abort",()=>De());De()}}function j(ie,De){const _e=Z(ie);if(!(0,N.Wi)(_e))return x(_e),(0,X.IH)(_e,"abort",()=>De(T()))}function I(ie,De){const _e=Z(De);return(0,N.Wi)(_e)?ie:new Promise((Ie,xe)=>{let ke=ne(De,()=>xe(T()));const Ve=()=>ke=(0,N.hw)(ke);ie.then(Ve,Ve),ie.then(Ie,xe)})}function F(ie){return ie&&"AbortError"===ie.name}function k(ie){return ie.catch(De=>{if(!F(De))throw De})}function re(){let ie=null;const De=new Promise((_e,Ie)=>{ie={promise:void 0,resolve:_e,reject:Ie}});return ie.promise=De,ie}function Q(ie){if(!ie)return;if("function"!=typeof ie.forEach){const _e=Object.keys(ie);return Q(_e.map(Ie=>ie[Ie])).then(Ie=>{const xe={};return _e.forEach((ke,Ve)=>xe[ke]=Ie[Ve]),xe})}const De=ie;return L(_e=>{const Ie=[];let xe=De.length;0===xe&&_e(Ie),De.forEach(ke=>{const Ve={promise:ke||Promise.resolve(ke)};Ie.push(Ve),Ve.promise.then(ve=>{Ve.value=ve}).catch(ve=>{Ve.error=ve}).then(()=>{--xe,0===xe&&_e(Ie)})})})}function ue(ie){return Q(ie).then(De=>De.filter(_e=>!!_e.value).map(_e=>_e.value))}function he(ie){return Promise.reject(ie)}function fe(ie){return Promise.resolve(ie)}function pe(ie,De,_e){const Ie=new AbortController;return ne(_e,()=>Ie.abort()),new Promise((xe,ke)=>{let Ve=setTimeout(()=>{Ve=0,xe(De)},ie);ne(Ie,()=>{Ve&&(clearTimeout(Ve),ke(T()))})})}function K(ie){return ie&&"function"==typeof ie.then}function de(ie){return K(ie)?ie:Promise.resolve(ie)}function le(ie,De=-1){let _e,Ie,xe,ke,Ve=null;const ve=(...we)=>{if(_e){Ie=we,ke&&ke.reject(T()),ke=re();const Ze=(0,N.j0)(ke.promise);if(Ve){const He=Ve;Ve=null,He.abort()}return Ze}if(xe=ke||re(),ke=null,De>0){const Ze=new AbortController;_e=de(ie(...we,Ze.signal));const He=_e;pe(De).then(()=>{_e===He&&(ke?Ze.abort():Ve=Ze)})}else _e=1,_e=de(ie(...we));const We=()=>{const Ze=Ie;Ie=xe=_e=Ve=null,null!=Ze&&ve(...Ze)},nt=_e,Te=xe;return nt.then(We,We),nt.then(Te.resolve,Te.reject),(0,N.j0)(Te.promise)};return ve}function me(){let ie,De;const _e=new Promise((xe,ke)=>{ie=xe,De=ke}),Ie=xe=>{ie(xe)};return Ie.resolve=xe=>ie(xe),Ie.reject=xe=>De(xe),Ie.timeout=(xe,ke)=>M.m.setTimeout(()=>Ie.reject(ke),xe),Ie.promise=_e,Ie}function ge(ie,De){let _e,Ie=new AbortController;const xe=ie(Ie.signal);let ke={promise:xe,finished:!1,abort:()=>{Ie&&(Ie.abort(),Ie=null)}};const Ve=()=>{ke&&(ke.finished=!0,ke=null),(0,N.pC)(_e)&&(_e.remove(),_e=null),Ie=null};return xe.then(Ve,Ve),_e=ne(De,()=>{(0,N.pC)(ke)&&ke.abort()}),ke}function J(ie){return Promise.resolve().then(()=>{x(ie)})}},32917:(Qe,Me,E)=>{"use strict";E.d(Me,{N1:()=>Y,YP:()=>z,Z_:()=>j,gx:()=>L,nn:()=>I,on:()=>x,tX:()=>w});var M=E(17770),O=E(54024),X=E(62208),B=E(10699),N=E(45262);function z(F,k,W={}){return T(F,k,W,se)}function L(F,k,W={}){return T(F,k,W,ne)}function T(F,k,W={},re){let Q=null;const ue=W.once?(he,fe)=>{re(he)&&((0,X.hw)(Q),k(he,fe))}:(he,fe)=>{re(he)&&k(he,fe)};if(Q=(0,N.aQ)(F,ue,W.sync,W.equals),W.initial){const he=F();ue(he,he)}return Q}function x(F,k,W,re={}){let Q=null,ue=null,he=null;function fe(){Q&&ue&&(ue.remove(),null==re.onListenerRemove||re.onListenerRemove(Q),Q=null,ue=null)}function pe(K){re.once&&re.once&&(0,X.hw)(he),W(K)}const oe=z(F,(K,de)=>{fe(),(0,M.vT)(K)&&(Q=K,ue=(0,M.on)(K,k,pe),null==re.onListenerAdd||re.onListenerAdd(K))},{sync:re.sync,initial:!0});return he=(0,O.kB)(()=>{oe.remove(),fe()}),he}function Y(F,k){return function $(F,k,W){if((0,B.Hc)(W))return Promise.reject((0,B.zE)());const re=F();if(null!=k&&k(re))return Promise.resolve(re);let Q=null;function ue(){Q=(0,X.hw)(Q)}return new Promise((he,fe)=>{Q=(0,O.AL)([(0,B.fu)(W,()=>{ue(),fe((0,B.zE)())}),T(F,pe=>{ue(),he(pe)},{sync:!1,once:!0},null!=k?k:se)])})}(F,ne,k)}function se(F){return!0}function ne(F){return!!F}E(21352);const j={sync:!0},I={initial:!0},w={sync:!0,initial:!0}},50618:(Qe,Me,E)=>{"use strict";E.d(Me,{A:()=>w,MU:()=>pe,Os:()=>I});var M=E(62208),O=E(79682),X=E(73362),B=E(77029),N=E(10699),ee=E(27422);class z{constructor(le){this.phases=le,this.paused=!1,this.ticks=-1,this.removed=!1}}class L{constructor(le){this.callback=le,this.isActive=!0}remove(){this.isActive=!1}}let T=0;const Z={time:(0,ee.HA)(0),deltaTime:(0,ee.HA)(0),elapsedFrameTime:(0,ee.HA)(0),frameDuration:(0,ee.HA)(0)},Y=["prepare","preRender","render","postRender","update","finish"],$=[],se=new B.Z;class ne{constructor(le){this._task=le}remove(){this._task.removed=!0}pause(){this._task.paused=!0}resume(){this._task.paused=!1}}const j={frameTasks:se,willDispatch:!1,clearFrameTasks:function k(de=!1){se.forAll(le=>{le.removed=!0}),de&&he()},dispatch:fe,executeFrameTasks:function Q(de){const le=(0,ee.HA)(de-T);T=de;const me=1e3/60,ce=Math.max(0,le-me);for(let ge=0;ge<Y.length;ge++){const J=performance.now(),ie=Y[ge];se.forAll(De=>{var _e;De.paused||De.removed||(0===ge&&De.ticks++,De.phases[ie]&&(Z.time=de,Z.deltaTime=0===De.ticks?(0,ee.HA)(0):le,Z.elapsedFrameTime=(0,ee.HA)(performance.now()-de),Z.frameDuration=(0,ee.HA)(me-ce),null==(_e=De.phases[ie])||_e.call(De,Z)))}),oe[ge].record(performance.now()-J)}he(),K.record(performance.now()-de)}};function I(de){const le=new L(de);return $.push(le),j.willDispatch||(j.willDispatch=!0,(0,O.Y)(fe)),le}function w(de){const le=new z(de);return se.push(le),null==F&&(T=performance.now(),F=requestAnimationFrame(re)),new ne(le)}let F=null;function re(){const de=performance.now();F=null,F=se.length>0?requestAnimationFrame(re):null,j.executeFrameTasks(de)}const ue=new B.Z;function he(){se.forAll(de=>{de.removed&&ue.push(de)}),se.removeUnorderedMany(ue.data,ue.length),ue.clear()}function fe(){for(;$.length;){const de=(0,M.j0)($.shift());de.isActive&&de.callback()}j.willDispatch=!1}function pe(de=1,le){const me=(0,N.hh)(),ce=()=>{(0,N.Hc)(le)?me.reject((0,N.zE)()):0===de?me():(--de,(0,O.Y)(()=>ce()))};return ce(),me.promise}const oe=Y.map(de=>new X.Z(de)),K=new X.Z("total")},23841:(Qe,Me,E)=>{"use strict";E.d(Me,{F2:()=>B,Wz:()=>N,s1:()=>L,t_:()=>ee,vW:()=>z});const M=/^-?(\d+(\.\d+)?)\s*((px)|(pt))?$/i;function B(I){return I?I/72*96:0}function N(I){return I?72*I/96:0}function ee(I){if("string"==typeof I){const w=I.match(M);if(w){const F=Number(w[1]),k=w[3]&&w[3].toLowerCase(),W="-"===I.charAt(0),re="px"===k?N(F):F;return W?-re:re}return console.warn("screenUtils.toPt: input not recognized!"),null}return I}function z(I=0,w=0){return{x:I,y:w}}function L(I=0,w=0){return[I,w]}},77275:(Qe,Me,E)=>{"use strict";E.d(Me,{Cb:()=>z,Qs:()=>N,gx:()=>B,hP:()=>ee});var M=E(94113);const O=/\{([^\}]+)\}/g;function X(L){return null==L?"":L}function B(L,T){return L.replace(O,"object"==typeof T?(x,Z)=>X((0,M.hS)(Z,T)):(x,Z)=>X(T(Z)))}function N(L,T){return L.replace(/([\.$?*|{}\(\)\[\]\\\/\+\-^])/g,x=>T&&-1!==T.indexOf(x)?x:`\\${x}`)}function ee(L){let T=0;for(let x=0;x<L.length;x++)T=(T<<5)-T+L.charCodeAt(x),T|=0;return T}function z(L){return(new DOMParser).parseFromString(L||"","text/html").body.innerText||""}},28705:(Qe,Me,E)=>{"use strict";E.d(Me,{a:()=>Y,z:()=>$});var M=E(17626),O=E(48701),X=E(89726),B=E(80542),ee=(E(8314),E(63290)),z=E(62208),L=E(77712),Z=(E(85931),E(90912),E(76898));ee.Z.getLogger("esri.core.support.OwningCollection");let Y=class extends((0,B.p)(O.Z)){constructor(se){super(se),this.handles.add([this.on("before-add",ne=>{(0,z.Wi)(ne.item)&&ne.preventDefault()}),this.on("after-add",ne=>this._own(ne.item)),this.on("after-remove",ne=>this._release(ne.item))])}get owner(){return this._get("owner")}set owner(se){se!==this._get("owner")&&(this._releaseAll(),this._set("owner",se),this._ownAll())}_ownAll(){for(const se of this.items)this._own(se)}_releaseAll(){for(const se of this.items)this._release(se)}_createNewInstance(se){return this.itemType?new(O.Z.ofType(this.itemType.Type))(se):new O.Z(se)}};function $(se,ne){return{type:se,cast:X.R,set(j){const I=(0,X.Z)(j,this._get(ne),se);I.owner=this,this._set(ne,I)}}}(0,M._)([(0,L.Cb)()],Y.prototype,"owner",null),Y=(0,M._)([(0,Z.j)("esri.core.support.OwningCollection")],Y)},7074:(Qe,Me,E)=>{"use strict";function M(O,X,B,N){let ee=null,z=1e3;"number"==typeof X?(z=X,N=B):(ee=null!=X?X:null,z=B);let L,T=0;const x=()=>{T=0,O.apply(N,L)},Z=(...Y)=>{ee&&ee.apply(N,Y),L=Y,z?T||(T=setTimeout(x,z)):x()};return Z.remove=()=>{T&&(clearTimeout(T),T=0)},Z.forceUpdate=()=>{T&&(clearTimeout(T),x())},Z.hasPendingUpdates=()=>!!T,Z}E.d(Me,{P:()=>M})},27422:(Qe,Me,E)=>{"use strict";function M(N){return N}E.d(Me,{HA:()=>M})},28170:(Qe,Me,E)=>{"use strict";E.d(Me,{JE:()=>z,Nm:()=>N,rJ:()=>Y}),E(8314);const O={milliseconds:1,seconds:1e3,minutes:6e4,hours:36e5,days:864e5,weeks:6048e5,months:26784e5,years:31536e6,decades:31536e7,centuries:31536e8},X={milliseconds:{getter:"getMilliseconds",setter:"setMilliseconds",multiplier:1},seconds:{getter:"getSeconds",setter:"setSeconds",multiplier:1},minutes:{getter:"getMinutes",setter:"setMinutes",multiplier:1},hours:{getter:"getHours",setter:"setHours",multiplier:1},days:{getter:"getDate",setter:"setDate",multiplier:1},weeks:{getter:"getDate",setter:"setDate",multiplier:7},months:{getter:"getMonth",setter:"setMonth",multiplier:1},years:{getter:"getFullYear",setter:"setFullYear",multiplier:1},decades:{getter:"getFullYear",setter:"setFullYear",multiplier:10},centuries:{getter:"getFullYear",setter:"setFullYear",multiplier:100}};function N($,se,ne){const j=new Date($.getTime());if(se&&ne){const I=X[ne],{getter:w,setter:F,multiplier:k}=I;if("months"===ne){const W=function B($,se){const ne=new Date($,se+1,1);return ne.setDate(0),ne.getDate()}(j.getFullYear(),j.getMonth()+se);j.getDate()>W&&j.setDate(W)}j[F](j[w]()+se*k)}return j}function z($,se){switch(se){case"milliseconds":return new Date($.getTime());case"seconds":return new Date($.getFullYear(),$.getMonth(),$.getDate(),$.getHours(),$.getMinutes(),$.getSeconds());case"minutes":return new Date($.getFullYear(),$.getMonth(),$.getDate(),$.getHours(),$.getMinutes());case"hours":return new Date($.getFullYear(),$.getMonth(),$.getDate(),$.getHours());case"days":return new Date($.getFullYear(),$.getMonth(),$.getDate());case"weeks":return new Date($.getFullYear(),$.getMonth(),$.getDate()-$.getDay());case"months":return new Date($.getFullYear(),$.getMonth(),1);case"years":return new Date($.getFullYear(),0,1);case"decades":return new Date($.getFullYear()-$.getFullYear()%10,0,1);case"centuries":return new Date($.getFullYear()-$.getFullYear()%100,0,1);default:return new Date}}function Y($,se,ne){return 0===$?0:$*O[se]/O[ne]}},55713:(Qe,Me,E)=>{"use strict";function M(ne,j){if(ne.forEach)ne.forEach(j);else for(let I=0;I<ne.length;I++)j(ne[I],I,ne)}function O(ne,j,I){if(ne.slice)return ne.slice(j,I);void 0===j?j=0:(j<0&&(j+=ne.length),j=Math.min(ne.length,Math.max(0,j))),void 0===I?I=ne.length:(I<0&&(I+=ne.length),I=Math.min(ne.length,Math.max(0,I)));const w=Math.max(0,I-j),F=new ne.constructor(w);for(let k=0;k<w;k++)F[k]=ne[j+k];return F}function X(ne){return ne instanceof ArrayBuffer||ne&&ne.constructor&&"ArrayBuffer"===ne.constructor.name}function B(ne){return ne instanceof Int8Array||ne&&ne.constructor&&"Int8Array"===ne.constructor.name}function N(ne){return ne instanceof Uint8Array||ne&&ne.constructor&&"Uint8Array"===ne.constructor.name}function ee(ne){return ne instanceof Uint8ClampedArray||ne&&ne.constructor&&"Uint8ClampedArray"===ne.constructor.name}function z(ne){return ne instanceof Int16Array||ne&&ne.constructor&&"Int16Array"===ne.constructor.name}function L(ne){return ne instanceof Uint16Array||ne&&ne.constructor&&"Uint16Array"===ne.constructor.name}function T(ne){return ne instanceof Int32Array||ne&&ne.constructor&&"Int32Array"===ne.constructor.name}function x(ne){return ne instanceof Uint32Array||ne&&ne.constructor&&"Uint32Array"===ne.constructor.name}function Z(ne){return ne instanceof Float32Array||ne&&ne.constructor&&"Float32Array"===ne.constructor.name}function Y(ne){return ne instanceof Float64Array||ne&&ne.constructor&&"Float64Array"===ne.constructor.name}E.d(Me,{Ed:()=>M,Hx:()=>T,KZ:()=>ee,Uc:()=>L,W0:()=>B,ZY:()=>x,eP:()=>X,fS:()=>Y,lq:()=>N,tP:()=>O,xZ:()=>Z,z3:()=>z})},86236:(Qe,Me,E)=>{"use strict";E.d(Me,{D:()=>X});let M=0;function X(){return++M}},16730:(Qe,Me,E)=>{"use strict";E.d(Me,{$C:()=>Ie,En:()=>K,Jo:()=>at,Z7:()=>we,_R:()=>ke,c9:()=>ve,cM:()=>Ve,gV:()=>ot,hd:()=>T,qE:()=>Te,ty:()=>_e}),E(8314);var O=E(2076),X=E(62208),B=E(12080),N=E(65234),ee=E(94425),z=E(37053),L=E(84029);const T=39.37,x=ee.sv.radius*Math.PI/200,Z=/UNIT\[([^\]]+)\]\]$/i,Y=L.Z,$=/UNIT\[([^\]]+)\]/i,se=new Set([4261,4305,4807,4810,4811,4812,4816,4819,4821,4901,4902,37225,104139,104140]),ne=(0,O.w)()({meter:"meters",foot:"feet",foot_us:"us-feet",foot_clarke:"clarke-feet",yard_clarke:"clarke-yards",link_clarke:"clarke-links",yard_sears:"sears-yards",foot_sears:"sears-feet",chain_sears:"sears-chains",chain_benoit_1895_b:"benoit-1895-b-chains",yard_indian:"indian-yards",yard_indian_1937:"indian-1937-yards",foot_gold_coast:"gold-coast-feet",chain_sears_1922_truncated:"sears-1922-truncated-chains","50_kilometers":"50-kilometers","150_kilometers":"150-kilometers"}),j=tt=>tt*tt,I=tt=>tt*tt*tt,w={length:{baseUnit:"meters",units:{millimeters:{inBaseUnits:.001},centimeters:{inBaseUnits:.01},decimeters:{inBaseUnits:.1},meters:{inBaseUnits:1},kilometers:{inBaseUnits:1e3},inches:{inBaseUnits:.0254},feet:{inBaseUnits:.3048},yards:{inBaseUnits:.9144},miles:{inBaseUnits:1609.344},"nautical-miles":{inBaseUnits:1852},"us-feet":{inBaseUnits:1200/3937}}},area:{baseUnit:"square-meters",units:{"square-millimeters":{inBaseUnits:j(.001)},"square-centimeters":{inBaseUnits:j(.01)},"square-decimeters":{inBaseUnits:j(.1)},"square-meters":{inBaseUnits:1},"square-kilometers":{inBaseUnits:j(1e3)},"square-inches":{inBaseUnits:j(.0254)},"square-feet":{inBaseUnits:j(.3048)},"square-yards":{inBaseUnits:j(.9144)},"square-miles":{inBaseUnits:j(1609.344)},"square-us-feet":{inBaseUnits:j(1200/3937)},acres:{inBaseUnits:.0015625*j(1609.344)},ares:{inBaseUnits:100},hectares:{inBaseUnits:1e4}}},volume:{baseUnit:"liters",units:{liters:{inBaseUnits:1},"cubic-millimeters":{inBaseUnits:1e3*I(.001)},"cubic-centimeters":{inBaseUnits:1e3*I(.01)},"cubic-decimeters":{inBaseUnits:1e3*I(.1)},"cubic-meters":{inBaseUnits:1e3},"cubic-kilometers":{inBaseUnits:1e3*I(1e3)},"cubic-inches":{inBaseUnits:1e3*I(.0254)},"cubic-feet":{inBaseUnits:1e3*I(.3048)},"cubic-yards":{inBaseUnits:1e3*I(.9144)},"cubic-miles":{inBaseUnits:1e3*I(1609.344)}}},angle:{baseUnit:"radians",units:{radians:{inBaseUnits:1},degrees:{inBaseUnits:Math.PI/180}}}},F=function(){const tt={};for(const vt in w)for(const Ke in w[vt].units)tt[Ke]=vt;return tt}();function he(tt){const vt=F[tt];if(vt)return vt;throw new Error("unknown type")}function oe(tt,vt=null){return vt=vt||he(tt),w[vt].baseUnit===tt}function K(tt,vt,Ke){if(vt===Ke)return tt;const ut=he(vt);if(ut!==he(Ke))throw new Error("incompatible units");const Et=oe(vt,ut)?tt:function k(tt,vt,Ke){return tt*w[Ke].units[vt].inBaseUnits}(tt,vt,ut);return oe(Ke,ut)?Et:function W(tt,vt,Ke){return tt/w[Ke].units[vt].inBaseUnits}(Et,Ke,ut)}function _e(tt,vt,Ke){return K(tt,vt,"meters")/(Ke*Math.PI/180)}function Ie(tt){return ne.fromJSON(tt.toLowerCase())||null}function ke(tt){if(tt&&"object"==typeof tt&&!(0,z.N$)(tt))return 1;const vt=ve(tt);return vt>1e5?1:vt}function Ve(tt){return ve(tt)>=(tt instanceof N.Z?(0,B.Iu)(tt).metersPerDegree:1e5)?"meters":Te(tt)}function ve(tt,vt=ee.sv.metersPerDegree){return we(tt,!0)||vt}function we(tt,vt=!1){let Ke,ut,Et=null;if(null!=tt&&("object"==typeof tt?(Ke=tt.wkid,ut=tt.wkt):"number"==typeof tt?Ke=tt:"string"==typeof tt&&(ut=tt)),Ke){if((0,z.o$)(Ke))return ee.yr.metersPerDegree;if((0,z.ME)(Ke))return ee.Z1.metersPerDegree;Et=Y.values[Y[Ke]],!Et&&vt&&se.has(Ke)&&(Et=x)}else ut&&(He(ut)?Et=We(Z.exec(ut),Et):Ze(ut)&&(Et=We($.exec(ut),Et)));return Et}function We(tt,vt){return tt&&tt[1]?nt(tt[1]):vt}function nt(tt){return parseFloat(tt.split(",")[1])}function Te(tt){let vt,Ke,ut=null;if(null!=tt&&("object"==typeof tt?(vt=tt.wkid,Ke=tt.wkt):"number"==typeof tt?vt=tt:"string"==typeof tt&&(Ke=tt)),vt)ut=Y.units[Y[vt]];else if(Ke){const Et=He(Ke)?Z:Ze(Ke)?$:null;if(Et){const St=Et.exec(Ke);St&&St[1]&&(ut=function Ee(tt){const vt=/[\\"\\']{1}([^\\"\\']+)/.exec(tt);let Ke=vt&&vt[1];if(!Ke||-1===Y.units.indexOf(Ke)){const ut=nt(tt);Ke=null;const Et=Y.values;for(let St=0;St<Et.length;++St)if(Math.abs(ut-Et[St])<1e-7){Ke=Y.units[St];break}}return Ke}(St[1]))}}return(0,X.pC)(ut)?Ie(ut):null}function Ze(tt){return/^GEOCCS/i.test(tt)}function He(tt){return/^PROJCS/i.test(tt)}const Ye={esriAcres:"acres",esriAres:"ares",esriHectares:"hectares",esriSquareCentimeters:"square-centimeters",esriSquareDecimeters:"square-decimeters",esriSquareFeet:"square-feet",esriSquareInches:"square-inches",esriSquareKilometers:"square-kilometers",esriSquareMeters:"square-meters",esriSquareMiles:"square-miles",esriSquareMillimeters:"square-millimeters",esriSquareUsFeet:"square-us-feet",esriSquareYards:"square-yards"},ht={esriCentimeters:"centimeters",esriDecimeters:"decimeters",esriFeet:"feet",esriInches:"inches",esriKilometers:"kilometers",esriMeters:"meters",esriMiles:"miles",esriMillimeters:"millimeters",esriNauticalMiles:"nautical-miles",esriYards:"yards"},ot=(0,O.w)()(Ye),at=(0,O.w)()(ht);(0,O.w)()(Ct(Ct({},Ye),ht))},21726:(Qe,Me,E)=>{"use strict";E.d(Me,{$U:()=>zt,AH:()=>Ee,B7:()=>K,D6:()=>xe,Fv:()=>We,HK:()=>te,Hu:()=>ze,Ie:()=>an,L:()=>Q,Ml:()=>Tt,P$:()=>Te,PF:()=>we,Qj:()=>Ht,R9:()=>j,TI:()=>re,YP:()=>Ze,Yd:()=>Dt,ZN:()=>mt,_l:()=>ot,b7:()=>de,ed:()=>ie,fl:()=>Ae,hF:()=>ve,hO:()=>yn,io:()=>tt,jc:()=>He,kl:()=>ke,mN:()=>fe,oC:()=>St,oh:()=>Ie,qg:()=>le,rS:()=>je,sJ:()=>ht,tD:()=>J,tm:()=>De,u0:()=>pe,v_:()=>nt,vt:()=>jt,zd:()=>yt});var M=E(59318),O=E(26584),X=E(63290),B=E(62208);const N=X.Z.getLogger("esri.core.urlUtils"),ee=M.Z.request,z="esri/config: esriConfig.request.proxyUrl is not set.",L=/^\s*[a-z][a-z0-9-+.]*:(?![0-9])/i,T=/^\s*http:/i,x=/^\s*https:/i,Z=/^\s*file:/i,Y=/:\d+$/,$=/^https?:\/\/[^/]+\.arcgis.com\/sharing(\/|$)/i,se=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$"),ne=new RegExp("^((([^\\[:]+):)?([^@]+)@)?(\\[([^\\]]+)\\]|([^\\[:]*))(:([0-9]+))?$");class j{constructor(Vt=""){this.uri=Vt,this.scheme=null,this.authority=null,this.path=null,this.query=null,this.fragment=null,this.user=null,this.password=null,this.host=null,this.port=null;let $t=(0,B.j0)(this.uri.match(se));this.scheme=$t[2]||($t[1]?"":null),this.authority=$t[4]||($t[3]?"":null),this.path=$t[5],this.query=$t[7]||($t[6]?"":null),this.fragment=$t[9]||($t[8]?"":null),null!=this.authority&&($t=(0,B.j0)(this.authority.match(ne)),this.user=$t[3]||null,this.password=$t[4]||null,this.host=$t[6]||$t[7],this.port=$t[9]||null)}toString(){return this.uri}}const I={};let F=new j(M.Z.applicationUrl);let W=function ue(){const it=(0,B.j0)(F.path),Vt=it.substring(0,it.lastIndexOf(it.split("/")[it.split("/").length-1]));return`${F.scheme}://${F.host}${null!=F.port?`:${F.port}`:""}${Vt}`}();const re=()=>F,Q=()=>W;function fe(it){const Vt={path:null,query:null},$t=new j(it),rn=it.indexOf("?");return null===$t.query?Vt.path=it:(Vt.path=it.substring(0,rn),Vt.query=pe($t.query)),$t.fragment&&(Vt.hash=$t.fragment,null===$t.query&&(Vt.path=Vt.path.substring(0,Vt.path.length-($t.fragment.length+1)))),Vt}function pe(it){const Vt=it.split("&"),$t={};for(const rn of Vt){if(!rn)continue;const gn=rn.indexOf("=");let Zn,mr;gn<0?(Zn=decodeURIComponent(rn),mr=""):(Zn=decodeURIComponent(rn.slice(0,gn)),mr=decodeURIComponent(rn.slice(gn+1)));let fr=$t[Zn];"string"==typeof fr&&(fr=$t[Zn]=[fr]),Array.isArray(fr)?fr.push(mr):$t[Zn]=mr}return $t}function oe(it){return it&&"object"==typeof it&&"toJSON"in it&&"function"==typeof it.toJSON}function K(it,Vt){return it?Vt&&"function"==typeof Vt?Object.keys(it).map($t=>encodeURIComponent($t)+"="+encodeURIComponent(Vt($t,it[$t]))).join("&"):Object.keys(it).map($t=>{const rn=it[$t];if(null==rn)return"";const gn=encodeURIComponent($t)+"=",Zn=Vt&&Vt[$t];return Zn?gn+encodeURIComponent(Zn(rn)):Array.isArray(rn)?rn.map(mr=>oe(mr)?gn+encodeURIComponent(JSON.stringify(mr)):gn+encodeURIComponent(mr)).join("&"):oe(rn)?gn+encodeURIComponent(JSON.stringify(rn)):gn+encodeURIComponent(rn)}).filter($t=>$t).join("&"):""}function de(it=!1){let Vt,$t=ee.proxyUrl;if("string"==typeof it){Vt=zt(it);const rn=ie(it);rn&&($t=rn.proxyUrl)}else Vt=!!it;if(!$t)throw N.warn(z),new O.Z("urlutils:proxy-not-set",z);return Vt&&In()&&($t=yn($t)),fe($t)}function le(it){const Vt=ie(it);let $t,rn;if(Vt){const gn=ce(Vt.proxyUrl);$t=gn.path,rn=gn.query?pe(gn.query):null}if($t){const gn=fe(it);it=$t+"?"+gn.path;const Zn=K(Ct(Ct({},rn),gn.query));Zn&&(it=`${it}?${Zn}`)}return it}const me={path:"",query:""};function ce(it){const Vt=it.indexOf("?");return-1!==Vt?(me.path=it.slice(0,Vt),me.query=it.slice(Vt+1)):(me.path=it,me.query=null),me}function ge(it){return(it=Dn(it=function Wt(it){return it&&"/"===it[it.length-1]?it:`${it}/`}(it=ce(it).path),!0)).toLowerCase()}function J(it){const Vt={proxyUrl:it.proxyUrl,urlPrefix:ge(it.urlPrefix)},$t=ee.proxyRules,rn=Vt.urlPrefix;let gn=$t.length;for(let Zn=0;Zn<$t.length;Zn++){const mr=$t[Zn].urlPrefix;if(0===rn.indexOf(mr)){if(rn.length===mr.length)return-1;gn=Zn;break}0===mr.indexOf(rn)&&(gn=Zn+1)}return $t.splice(gn,0,Vt),gn}function ie(it){const Vt=ee.proxyRules,$t=ge(it);for(let rn=0;rn<Vt.length;rn++)if(0===$t.indexOf(Vt[rn].urlPrefix))return Vt[rn]}function De(it,Vt){return it=_e(it),Vt=_e(Vt),Dn(it)===Dn(Vt)}function _e(it){const Vt=(it=We(it)).indexOf("/sharing");return Vt>0?it.substring(0,Vt):it.replace(/\/+$/,"")}function Ie(it){const Vt=rn=>null==rn||rn instanceof RegExp&&rn.test(it)||"string"==typeof rn&&it.startsWith(rn),$t=ee.interceptors;if($t)for(const rn of $t)if(Array.isArray(rn.urls)){if(rn.urls.some(Vt))return rn}else if(Vt(rn.urls))return rn;return null}function xe(it,Vt,$t=!1){const rn=Ot(it),gn=Ot(Vt);return!(!$t&&rn.scheme!==gn.scheme)&&null!=rn.host&&null!=gn.host&&rn.host.toLowerCase()===gn.host.toLowerCase()&&rn.port===gn.port}function ke(it){if("string"==typeof it){if(!Ze(it))return!0;it=Ot(it)}if(xe(it,F))return!0;const Vt=ee.trustedServers||[];for(let $t=0;$t<Vt.length;$t++){const rn=Ve(Vt[$t]);for(let gn=0;gn<rn.length;gn++)if(xe(it,rn[gn]))return!0}return!1}function Ve(it){return I[it]||(I[it]=kt(it)||St(it)?[new j(ve(it))]:[new j(`http://${it}`),new j(`https://${it}`)]),I[it]}function ve(it,Vt=W,$t){return St(it)?$t&&$t.preserveProtocolRelative?it:"http"===F.scheme&&F.authority===Te(it).slice(2)?`http:${it}`:`https:${it}`:kt(it)?it:(0,B.j0)(nt("/"===it[0]?function st(it){const Vt=it.indexOf("//"),$t=it.indexOf("/",Vt+2);return-1===$t?it:it.slice(0,$t)}(Vt):Vt,it))}function we(it,Vt=W,$t){if(!Ze(it))return it;const rn=We(it),gn=rn.toLowerCase(),Zn=We(Vt).toLowerCase().replace(/\/+$/,""),mr=$t?We($t).toLowerCase().replace(/\/+$/,""):null;if(mr&&0!==Zn.indexOf(mr))return it;const fr=(Wr,zr,ti)=>-1===(ti=Wr.indexOf(zr,ti))?Wr.length:ti;let Mr=fr(gn,"/",gn.indexOf("//")+2),Lr=-1;for(;gn.slice(0,Mr+1)===Zn.slice(0,Mr)+"/"&&(Lr=Mr+1,Mr!==gn.length);)Mr=fr(gn,"/",Mr+1);if(-1===Lr||mr&&Lr<mr.length)return it;it=rn.slice(Lr);const zs=Zn.slice(Lr-1).replace(/[^/]+/g,"").length;if(zs>0)for(let Wr=0;Wr<zs;Wr++)it=`../${it}`;else it=`./${it}`;return it}function We(it){return function Jt(it){const Vt=ee.httpsDomains;if(!function qt(it){return T.test(it)||"http"===F.scheme&&St(it)}(it))return it;const $t=it.indexOf("/",7);let rn;if(rn=-1===$t?it:it.slice(0,$t),rn=rn.toLowerCase().slice(7),Y.test(rn)){if(!rn.endsWith(":80"))return it;rn=rn.slice(0,-3),it=it.replace(":80","")}return function An(){return"http"===F.scheme}()&&rn===F.authority&&!$.test(it)||(In()&&rn===F.authority||Vt&&Vt.some(gn=>rn===gn||rn.endsWith(`.${gn}`))||In()&&!ie(it))&&(it=yn(it)),it}(it=function Yt(it){return it.replace(/^(https?:\/\/)(arcgis\.com)/i,"$1www.$2")}(it=function Nt(it){if(/^https?:\/\//i.test(it)){const Vt=ce(it);it=(it=Vt.path.replace(/\/{2,}/g,"/")).replace("/","//"),Vt.query&&(it+=`?${Vt.query}`)}return it}(it=ve(it=it.trim()))))}function nt(...it){const Vt=it.filter(B.pC);if(!Vt||!Vt.length)return;const $t=[];if(Ze(Vt[0])){const gn=Vt[0],Zn=gn.indexOf("//");-1!==Zn&&($t.push(gn.slice(0,Zn+1)),function dn(it){return Z.test(it)}(Vt[0])&&($t[0]+="/"),Vt[0]=gn.slice(Zn+2))}else"/"===Vt[0][0]&&$t.push("");const rn=Vt.reduce((gn,Zn)=>Zn?gn.concat(Zn.split("/")):gn,[]);for(let gn=0;gn<rn.length;gn++){const Zn=rn[gn];".."===Zn&&$t.length>0&&".."!==$t[$t.length-1]?$t.pop():(!Zn&&gn===rn.length-1||Zn&&("."!==Zn||0===$t.length))&&$t.push(Zn)}return $t.join("/")}function Te(it,Vt=!1){if(He(it)||te(it))return null;let $t=it.indexOf("://");if(-1===$t&&St(it))$t=2;else{if(-1===$t)return null;$t+=3}const rn=it.indexOf("/",$t);return-1!==rn&&(it=it.slice(0,rn)),Vt&&(it=Dn(it,!0)),it}function Ze(it){return St(it)||kt(it)}function He(it){return null!=it&&"blob:"===it.slice(0,5)}function te(it){return"data:"===it.slice(0,5)}function Ee(it){const Vt=ht(it);if(!Vt||!Vt.isBase64)return null;const $t=atob(Vt.data),rn=new Uint8Array($t.length);for(let gn=0;gn<$t.length;gn++)rn[gn]=$t.charCodeAt(gn);return rn.buffer}function je(it){return btoa(String.fromCharCode.apply(null,it)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}const Ye=/^data:(.*?)(;base64)?,(.*)$/;function ht(it){const Vt=it.match(Ye);if(!Vt)return null;const[,$t,rn,gn]=Vt;return{mediaType:$t,isBase64:!!rn,data:gn}}function ot(it){return it.isBase64?`data:${it.mediaType};base64,${it.data}`:`data:${it.mediaType},${it.data}`}function tt(it,Vt){(function Ke(it,Vt){if(!it)return!1;const $t=document.createElement("a");if(!("download"in $t))return!1;const rn=URL.createObjectURL(it);return $t.download=Vt,$t.href=rn,$t.style.display="none",document.body.appendChild($t),$t.click(),document.body.removeChild($t),URL.revokeObjectURL(rn),!0})(it,Vt)||function Et(it,Vt){return!!window.navigator.msSaveOrOpenBlob&&window.navigator.msSaveOrOpenBlob(it,Vt)}(it,Vt)}function St(it){return null!=it&&void 0!==it&&"/"===it[0]&&"/"===it[1]}function kt(it){return L.test(it)}function zt(it){return x.test(it)||"https"===F.scheme&&St(it)}function yn(it){return St(it)?`https:${it}`:it.replace(T,"https:")}function In(){return"https"===F.scheme}function Dn(it,Vt=!1){return St(it)?it.slice(2):(it=it.replace(L,""),Vt&&it.length>1&&"/"===it[0]&&"/"===it[1]&&(it=it.slice(2)),it)}function Dt(it){let Vt=0;if(Ze(it)){const rn=it.indexOf("//");-1!==rn&&(Vt=rn+2)}const $t=it.lastIndexOf("/");return $t<Vt?it:it.slice(0,$t+1)}function jt(it,Vt){if(!it)return"";const $t=fe(it).path.replace(/\/+$/,""),rn=$t.substring($t.lastIndexOf("/")+1);if(null==Vt||!Vt.length)return rn;const gn=new RegExp(`.(${Vt.join("|")})$`,"ig");return rn.replace(gn,"")}function Ht(it){return it.replace(/\/+$/,"")}function an(it,Vt,$t){if(!(Vt&&$t&&it&&Ze(it)))return it;const rn=it.indexOf("//"),gn=it.indexOf("/",rn+2),Zn=it.indexOf(":",rn+2),mr=Math.min(gn<0?it.length:gn,Zn<0?it.length:Zn);return it.slice(rn+2,mr).toLowerCase()!==Vt.toLowerCase()?it:`${it.slice(0,rn+2)}${$t}${it.slice(mr)}`}function Ot(it){return"string"==typeof it?new j(ve(it)):(it.scheme||(it.scheme=F.scheme),it)}function yt(it){return on.test(it)}function ze(it,Vt){const $t=fe(it),rn=Object.keys($t.query||{});return rn.length>0&&Vt&&Vt.warn("removeQueryParameters()",`Url query parameters are not supported, the following parameters have been removed: ${rn.join(", ")}.`),$t.path}function mt(it,Vt,$t){const rn=fe(it),gn=rn.query||{};return gn[Vt]=String($t),`${rn.path}?${K(gn)}`}function Ae(it,Vt){const $t=fe(it),rn=$t.query||{};for(const Zn in Vt)rn[Zn]=Vt[Zn];const gn=K(rn);return gn?`${$t.path}?${gn}`:$t.path}function Tt(it){if((0,B.Wi)(it))return null;const Vt=it.match(Qt);return Vt?Vt[1]:null}const Qt=/.*?\.([^\/]*)$/,on=/(^data:image\/svg|\.svg$)/i},35948:(Qe,Me,E)=>{"use strict";function M(){const O=crypto.getRandomValues(new Uint16Array(8));O[3]=4095&O[3]|16384,O[4]=16383&O[4]|32768;const X=B=>O[B].toString(16);return X(0)+X(1)+"-"+X(2)+"-"+X(3)+"-"+X(4)+"-"+X(5)+X(6)+X(7)}E.d(Me,{D:()=>M})},27e3:(Qe,Me,E)=>{"use strict";E.d(Me,{Nj:()=>se,PA:()=>x,S1:()=>N,Wy:()=>re,YP:()=>ee,Z4:()=>Y,cm:()=>Z,gx:()=>L,on:()=>Q});var M=E(17770),X=(E(58817),E(10699));const B=/\?(\.|$)/g;function N(me,ce,ge,J){const ie=Array.isArray(ce)?ce:ce.indexOf(",")>-1?ce.split(","):[ce],De=ee(me,ce,ge,J);for(const _e of ie){const Ie=_e.trim().replace(B,"$1"),xe=me.get(Ie);ge.call(me,xe,xe,Ie,me)}return De}function ee(me,ce,ge,J){return me.watch(ce,ge,J)}function L(me,ce,ge,J){return ue(me,ce,fe,ge,J)}function x(me,ce,ge,J){return ue(me,ce,pe,ge,J)}function Z(me,ce,ge,J){return function he(me,ce,ge,J,ie){const De="function"==typeof J?J:null,_e="object"==typeof J?J:null;"boolean"==typeof J&&(ie=J);let Ie,xe=!1;function ke(){Ie&&(Ie.remove(),Ie=null)}const Ve=(0,X.dD)();(0,X.fu)(_e,()=>{ke(),Ve.reject((0,X.zE)())});const ve={then:Ve.promise.then.bind(Ve.promise),catch:Ve.promise.catch.bind(Ve.promise),remove:ke};return Object.freeze(ve),Ie=ue(me,ce,ge,(we,We,nt,Te)=>{xe=!0,ke(),De&&De.call(me,we,We,nt,Te),Ve.resolve({value:we,oldValue:We,propertyName:nt,target:Te})},ie),xe&&ke(),ve}(me,ce,pe,ge,J)}function Y(me,ce,ge,J){return ue(me,ce,oe,ge,J)}function se(me,ce,ge,J){return ue(me,ce,K,ge,J)}function re(me,ce,ge,J){let ie=!1;const De=me.watch(ce,(_e,Ie,xe,ke)=>{ie||ge.call(me,_e,Ie,xe,ke)},J);return{remove(){De.remove()},pause(){ie=!0},resume(){ie=!1}}}function Q(me,ce,ge,J,ie,De,_e){const Ie={};function xe(Ve){const ve=Ie[Ve];ve&&(De&&De(ve.target,Ve,me,ge),ve.handle.remove(),delete Ie[Ve])}const ke=N(me,ce,(Ve,ve,we)=>{xe(we),(0,M.vT)(Ve)&&(Ie[we]={handle:(0,M.on)(Ve,ge,J),target:Ve},ie&&ie(Ve,we,me,ge))},_e);return{remove(){ke.remove();for(const Ve in Ie)xe(Ve)}}}function ue(me,ce,ge,J,ie){const De=me.watch(ce,(_e,Ie,xe,ke)=>{ge&&!ge(_e)||null==J||J.call(me,_e,Ie,xe,ke)},ie);if(Array.isArray(ce))for(const _e of ce){const Ie=me.get(_e);ge&&ge(Ie)&&(null==J||J.call(me,Ie,Ie,ce,me))}else{const _e=me.get(ce);ge&&ge(_e)&&(null==J||J.call(me,_e,_e,ce,me))}return De}function fe(me){return!!me}function pe(me){return!me}function oe(me){return!0===me}function K(me){return!1===me}},93662:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>ee});var M=E(54024),O=E(63290),X=E(10699),B=E(89951);const N=O.Z.getLogger("esri.core.workers.Connection");class ee{constructor(){this._clients=new Array,this._clientPromises=new Array,this._clientIdx=0}destroy(){this.close()}get closed(){return!this._clients||!this._clients.length}open(L,T){return new Promise((x,Z)=>{let Y=!0;const $=se=>{(0,X.k_)(T.signal),Y&&(Y=!1,se())};this._clients.length=L.length,this._clientPromises.length=L.length;for(let se=0;se<L.length;++se){const ne=L[se];(0,X.y8)(ne)?this._clientPromises[se]=ne.then(j=>(this._clients[se]=new B.Z(j,T),$(x),this._clients[se]),()=>($(Z),null)):(this._clients[se]=new B.Z(ne,T),this._clientPromises[se]=Promise.resolve(this._clients[se]),$(x))}})}broadcast(L,T,x){const Z=new Array(this._clientPromises.length);for(let Y=0;Y<this._clientPromises.length;++Y)Z[Y]=this._clientPromises[Y].then(se=>se.invoke(L,T,x));return Z}close(){for(const L of this._clientPromises)L.then(T=>T.close());this._clients.length=0,this._clientPromises.length=0}getAvailableClient(){let L;for(let T=0;T<this._clients.length;++T){const x=this._clients[T];if(x){if(!x.isBusy())return Promise.resolve(x)}else L=L||[],L.push(this._clientPromises[T])}return L?Promise.race(L):(this._clientIdx=(this._clientIdx+1)%this._clients.length,Promise.resolve(this._clients[this._clientIdx]))}invoke(L,T,x){let Z=null;return Array.isArray(x)?(N.warn("invoke()","The transferList parameter is deprecated, use the options object instead"),Z={transferList:x}):Z=x,this.closed?Promise.reject(new Error("Connection closed")):this.getAvailableClient().then(Y=>Y.invoke(L,T,Z))}on(L,T){return Promise.all(this._clientPromises).then(()=>(0,M.AL)(this._clients.map(x=>x.on(L,T))))}openPorts(){return new Promise(L=>{const T=new Array(this._clientPromises.length);let x=T.length;for(let Z=0;Z<this._clientPromises.length;++Z)this._clientPromises[Z].then(Y=>{T[Z]=Y.openPort(),0==--x&&L(T)})})}get test(){return{numClients:this._clients.length}}}},89951:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>j});var M=E(24263),O=E(26584),X=E(17770),B=E(62208),N=E(10699),ee=E(13126),z=E(38365);const L={statsWorker:()=>Promise.all([E.e(3930),E.e(4135)]).then(E.bind(E,44135)),geometryEngineWorker:()=>Promise.all([E.e(4918),E.e(8592),E.e(1843)]).then(E.bind(E,28632)),CSVSourceWorker:()=>Promise.all([E.e(410),E.e(3930),E.e(8330),E.e(7373),E.e(9155)]).then(E.bind(E,39155)),EdgeProcessingWorker:()=>Promise.all([E.e(479),E.e(8592),E.e(8947)]).then(E.bind(E,36239)),ElevationSamplerWorker:()=>Promise.all([E.e(479),E.e(853),E.e(8149)]).then(E.bind(E,28149)),FeatureServiceSnappingSourceWorker:()=>Promise.all([E.e(410),E.e(3930),E.e(8330),E.e(7373),E.e(6354)]).then(E.bind(E,86354)),GeoJSONSourceWorker:()=>Promise.all([E.e(410),E.e(3930),E.e(8330),E.e(7373),E.e(8592),E.e(4079)]).then(E.bind(E,84079)),LercWorker:()=>E.e(7300).then(E.bind(E,57300)),MemorySourceWorker:()=>Promise.all([E.e(410),E.e(3930),E.e(8330),E.e(7373),E.e(8592),E.e(7728)]).then(E.bind(E,7728)),PBFDecoderWorker:()=>E.e(6089).then(E.bind(E,46089)),Pipeline:()=>Promise.all([E.e(5086),E.e(3755),E.e(410),E.e(9091),E.e(3930),E.e(8330),E.e(9628),E.e(8592),E.e(6595)]).then(E.bind(E,87249)),PointCloudWorker:()=>Promise.all([E.e(8592),E.e(1107)]).then(E.bind(E,61107)),RasterWorker:()=>Promise.all([E.e(7692),E.e(6926),E.e(8594),E.e(581),E.e(8592),E.e(5976)]).then(E.bind(E,15976)),SceneLayerWorker:()=>E.e(3320).then(E.bind(E,83320)),WFSSourceWorker:()=>Promise.all([E.e(410),E.e(3930),E.e(8330),E.e(7373),E.e(3774),E.e(8592),E.e(2305)]).then(E.bind(E,62305)),WorkerTileHandler:()=>Promise.all([E.e(4821),E.e(3751),E.e(4522),E.e(8364),E.e(9057)]).then(E.bind(E,90195))},{CLOSE:T,ABORT:x,INVOKE:Z,RESPONSE:Y,OPEN_PORT:$,ON:se}=ee.Cs;class ne{constructor(w){this._timer=null,this._cancelledJobIds=new Set,this._invokeMessages=[],this._invoke=w,this._timer=null,this._process=this._process.bind(this)}push(w){w.type===ee.Cs.ABORT?this._cancelledJobIds.add(w.jobId):(this._invokeMessages.push(w),null===this._timer&&(this._timer=setTimeout(this._process,0)))}clear(){this._invokeMessages.length=0,this._cancelledJobIds.clear(),this._timer=null}_process(){this._timer=null;for(const w of this._invokeMessages)this._cancelledJobIds.has(w.jobId)||this._invoke(w);this._cancelledJobIds.clear(),this._invokeMessages.length=0}}class j{constructor(w,F){this._port=w,this._outJobs=new Map,this._inJobs=new Map,this._invokeQueue=new ne(k=>this._onInvokeMessage(k)),this._client=F.client,this._onMessage=this._onMessage.bind(this),this._channel=F.channel,this._schedule=F.schedule,this._port.addEventListener("message",this._onMessage),this._port.start()}static connect(w){const F=new MessageChannel;let k;k="function"==typeof w?new w:"default"in w&&"function"==typeof w.default?new w.default:w;const W=new j(F.port1,{channel:F,client:k});return"object"==typeof k&&"remoteClient"in k&&(k.remoteClient=W),j.clients.set(W,k),F.port2}static loadWorker(w){const F=L[w];return F?F():Promise.resolve(null)}close(){this._post({type:T}),this._close()}isBusy(){return this._outJobs.size>0}invoke(w,F,k){const W=k&&k.signal,re=k&&k.transferList;if(!this._port)return Promise.reject(new O.Z("worker:port-closed",`Cannot call invoke('${w}'), port is closed`,{methodName:w,data:F}));const Q=(0,ee.jt)();return new Promise((ue,he)=>{const fe=(0,N.$F)(W,()=>{var oe;const K=this._outJobs.get(Q);K&&(this._outJobs.delete(Q),null==(oe=K.abortHandle)||oe.remove(),this._post({type:x,jobId:Q}),he((0,N.zE)()))});this._outJobs.set(Q,{resolve:ue,reject:he,abortHandle:fe,debugInfo:w}),this._post({type:Z,jobId:Q,methodName:w,abortable:null!=W},F,re)})}on(w,F){const k=new MessageChannel;function W(re){F(re.data)}return this._port.postMessage({type:ee.Cs.ON,eventType:w,port:k.port2},[k.port2]),k.port1.addEventListener("message",W),k.port1.start(),{remove(){k.port1.postMessage({type:ee.Cs.CLOSE}),k.port1.close(),k.port1.removeEventListener("message",W)}}}openPort(){const w=new MessageChannel;return this._post({type:$,port:w.port2}),w.port1}_close(){this._channel&&(this._channel=null),this._port.removeEventListener("message",this._onMessage),this._port.close(),this._outJobs.forEach(w=>{var F;null==(F=w.abortHandle)||F.remove(),w.reject((0,N.zE)(`Worker closing, aborting job calling '${w.debugInfo}'`))}),this._inJobs.clear(),this._outJobs.clear(),this._invokeQueue.clear(),this._port=this._client=this._schedule=null}_onMessage(w){(0,B.pC)(this._schedule)?this._schedule(()=>this._processMessage(w)):this._processMessage(w)}_processMessage(w){const F=(0,ee.QM)(w);if(F)switch(F.type){case Y:this._onResponseMessage(F);break;case Z:this._invokeQueue.push(F);break;case x:this._onAbortMessage(F);break;case T:this._onCloseMessage();break;case $:this._onOpenPortMessage(F);break;case se:this._onOnMessage(F)}}_onAbortMessage(w){const F=this._inJobs,k=w.jobId,W=F.get(k);this._invokeQueue.push(w),W&&(W.controller&&W.controller.abort(),F.delete(k))}_onCloseMessage(){const w=this._client;this._close(),w&&"destroy"in w&&j.clients.get(this)===w&&w.destroy(),j.clients.delete(this),w&&w.remoteClient&&(w.remoteClient=null)}_onInvokeMessage(w){const{methodName:F,jobId:k,data:W,abortable:re}=w,Q=re?new AbortController:null,ue=this._inJobs;let he,fe=this._client,pe=fe[F];try{if(!pe&&F&&-1!==F.indexOf(".")){const oe=F.split(".");for(let K=0;K<oe.length-1;K++)fe=fe[oe[K]],pe=fe[oe[K+1]]}if("function"!=typeof pe)throw new TypeError(`${F} is not a function`);he=pe.call(fe,W,{client:this,signal:Q?Q.signal:null})}catch(oe){return void this._post({type:Y,jobId:k,error:(0,ee.AB)(oe)})}(0,N.y8)(he)?(ue.set(k,{controller:Q,promise:he}),he.then(oe=>{ue.has(k)&&(ue.delete(k),this._post({type:Y,jobId:k},oe))},oe=>{ue.has(k)&&(ue.delete(k),(0,N.D_)(oe)||this._post({type:Y,jobId:k,error:(0,ee.AB)(oe||{message:`Error encountered at method ${F}`})}))})):this._post({type:Y,jobId:k},he)}_onOpenPortMessage(w){new j(w.port,{client:this._client})}_onOnMessage(w){const{port:F}=w,k=this._client.on(w.eventType,re=>{F.postMessage(re)}),W=(0,X.on)(w.port,"message",re=>{(0,ee.QM)(re).type===ee.Cs.CLOSE&&(W.remove(),k.remove(),F.close())})}_onResponseMessage(w){var F;const{jobId:k,error:W,data:re}=w,Q=this._outJobs;if(!Q.has(k))return;const ue=Q.get(k);Q.delete(k),null==(F=ue.abortHandle)||F.remove(),W?ue.reject(O.Z.fromJSON(JSON.parse(W))):ue.resolve(re)}_post(w,F,k){return(0,ee.oi)(this._port,w,F,k)}}j.kernelInfo={revision:z.$,version:M.i8,buildDate:z.r},j.clients=new Map},13126:(Qe,Me,E)=>{"use strict";E.d(Me,{AB:()=>ee,Cs:()=>O,QM:()=>L,jt:()=>B,oi:()=>z});var O,Z,M=E(8314);(Z=O||(O={}))[Z.HANDSHAKE=0]="HANDSHAKE",Z[Z.OPEN=1]="OPEN",Z[Z.OPENED=2]="OPENED",Z[Z.RESPONSE=3]="RESPONSE",Z[Z.INVOKE=4]="INVOKE",Z[Z.ABORT=5]="ABORT",Z[Z.CLOSE=6]="CLOSE",Z[Z.OPEN_PORT=7]="OPEN_PORT",Z[Z.ON=8]="ON";let X=0;function B(){return X++}function ee(Z){return Z?"string"==typeof Z?JSON.stringify({name:"message",message:Z}):Z.toJSON?JSON.stringify(Z):JSON.stringify({name:Z.name,message:Z.message,details:Z.details||{stack:Z.stack}}):null}function z(Z,Y,$,se){if(Y.type===O.OPEN_PORT)return void Z.postMessage(Y,[Y.port]);if(Y.type!==O.INVOKE&&Y.type!==O.RESPONSE)return void Z.postMessage(Y);let ne;!function N(Z){return Z&&"object"==typeof Z&&("result"in Z||"transferList"in Z)}($)?(ne=T(se),Y.data=$):(ne=T($.transferList),Y.data=$.result),ne?Z.postMessage(Y,ne):Z.postMessage(Y)}function L(Z){if(!Z)return null;const Y=Z.data;return Y?"string"==typeof Y?JSON.parse(Y):Y:null}function T(Z){if(!Z||!Z.length)return null;if((0,M.Z)("esri-workers-arraybuffer-transfer"))return Z;const Y=Z.filter($=>!function x(Z){return Z instanceof ArrayBuffer||Z&&Z.constructor&&"ArrayBuffer"===Z.constructor.name}($));return Y.length?Y:null}},59289:(Qe,Me,E)=>{"use strict";E.d(Me,{j2:()=>We,bA:()=>He});var M=E(15861),O=E(26584),X=E(8314),B=E(10699),N=E(93662),ee=E(89951),z=E(24263),L=E(63290),T=E(13126),x=E(54346),Z=E(59318),$=(E(52515),E(21726));const ne={};var w=E(79682);class F{constructor(){const lt=document.createDocumentFragment();["addEventListener","dispatchEvent","removeEventListener"].forEach(tt=>{this[tt]=(...vt)=>lt[tt](...vt)})}}class k{constructor(){this._dispatcher=new F,this._workerPostMessage({type:T.Cs.HANDSHAKE})}terminate(){}get onmessage(){return this._onmessageHandler}set onmessage(lt){this._onmessageHandler&&this.removeEventListener("message",this._onmessageHandler),this._onmessageHandler=lt,lt&&this.addEventListener("message",lt)}get onmessageerror(){return this._onmessageerrorHandler}set onmessageerror(lt){this._onmessageerrorHandler&&this.removeEventListener("messageerror",this._onmessageerrorHandler),this._onmessageerrorHandler=lt,lt&&this.addEventListener("messageerror",lt)}get onerror(){return this._onerrorHandler}set onerror(lt){this._onerrorHandler&&this.removeEventListener("error",this._onerrorHandler),this._onerrorHandler=lt,lt&&this.addEventListener("error",lt)}postMessage(lt){(0,w.Y)(()=>{this._workerMessageHandler(new MessageEvent("message",{data:lt}))})}dispatchEvent(lt){return this._dispatcher.dispatchEvent(lt)}addEventListener(lt,tt,vt){this._dispatcher.addEventListener(lt,tt,vt)}removeEventListener(lt,tt,vt){this._dispatcher.removeEventListener(lt,tt,vt)}_workerPostMessage(lt){(0,w.Y)(()=>{this.dispatchEvent(new MessageEvent("message",{data:lt}))})}_workerMessageHandler(lt){var tt=this;return(0,M.Z)(function*(){const vt=(0,T.QM)(lt);if(vt&&vt.type===T.Cs.OPEN){const{modulePath:Ke,jobId:ut}=vt;let Et=yield ee.Z.loadWorker(Ke);Et||(Et=yield import(Ke));const St=ee.Z.connect(Et);tt._workerPostMessage({type:T.Cs.OPENED,jobId:ut,data:St})}})()}}var W=E(56683),re=E(38365);const Q=L.Z.getLogger("esri.core.workers"),{HANDSHAKE:ue}=T.Cs,he='let globalId=0;const outgoing=new Map,configuration=JSON.parse("{CONFIGURATION}");self.esriConfig=configuration.esriConfig;const workerPath=self.esriConfig.workers.workerPath,HANDSHAKE=0,OPEN=1,OPENED=2,RESPONSE=3,INVOKE=4,ABORT=5;function createAbortError(){const e=new Error("Aborted");return e.name="AbortError",e}function receiveMessage(e){return e&&e.data?"string"==typeof e.data?JSON.parse(e.data):e.data:null}function invokeStaticMessage(e,o,r){const t=r&&r.signal,n=globalId++;return new Promise(((r,i)=>{if(t){if(t.aborted)return i(createAbortError());t.addEventListener("abort",(()=>{outgoing.get(n)&&(outgoing.delete(n),self.postMessage({type:5,jobId:n}),i(createAbortError()))}))}outgoing.set(n,{resolve:r,reject:i}),self.postMessage({type:4,jobId:n,methodName:e,abortable:null!=t,data:o})}))}let workerRevisionChecked=!1;function checkWorkerRevision(e){if(!workerRevisionChecked&&e.kernelInfo){workerRevisionChecked=!0;const{revision:o,buildDate:r,version:t}=configuration.kernelInfo,{revision:n,buildDate:i,version:s}=e.kernelInfo;o!==n&&console.warn(`[esri.core.workers] Version mismatch detected between ArcGIS API for JavaScript and assets:\\nAPI version: ${t} [Date: ${r}, Revision: ${o.slice(0,8)}]\nAssets version: ${s} [Date: ${i}, Revision: ${n.slice(0,8)}]`)}}function messageHandler(e){const o=receiveMessage(e);if(!o)return;const r=o.jobId;switch(o.type){case 1:let e;function t(o){const t=e.connect(o);self.postMessage({type:2,jobId:r,data:t},[t])}"function"==typeof define&&define.amd?require([workerPath],(r=>{e=r.default||r,checkWorkerRevision(e),e.loadWorker(o.modulePath).then((e=>e||new Promise((e=>{require([o.modulePath],e)})))).then(t)})):"System"in self&&"function"==typeof System.import?System.import(workerPath).then((r=>(e=r.default,checkWorkerRevision(e),e.loadWorker(o.modulePath)))).then((e=>e||System.import(o.modulePath))).then(t):esriConfig.workers.useDynamicImport?import(workerPath).then((r=>{e=r.default||r,checkWorkerRevision(e),e.loadWorker(o.modulePath).then((e=>e||import(o.modulePath))).then(t)})):(self.RemoteClient||importScripts(workerPath),e=self.RemoteClient.default||self.RemoteClient,checkWorkerRevision(e),e.loadWorker(o.modulePath).then(t));break;case 3:if(outgoing.has(r)){const e=outgoing.get(r);outgoing.delete(r),o.error?e.reject(JSON.parse(o.error)):e.resolve(o.data)}}}self.dojoConfig=configuration.loaderConfig,esriConfig.workers.loaderUrl&&(self.importScripts(esriConfig.workers.loaderUrl),"function"==typeof require&&"function"==typeof require.config&&require.config(configuration.loaderConfig)),self.addEventListener("message",messageHandler),self.postMessage({type:0});';let fe,pe;const oe="Failed to create Worker. Fallback to execute module in main thread";function de(){return(de=(0,M.Z)(function*(){if(!(0,X.Z)("esri-workers")||((0,X.Z)("mozilla"),0))return le(new k);if(!fe&&!pe)try{const lt=he.replace('"{CONFIGURATION}"',`'${ce()}'`);fe=URL.createObjectURL(new Blob([lt],{type:"text/javascript"}))}catch(lt){pe=lt||{}}let at;if(fe)try{at=new Worker(fe,{name:"esri-worker-"+ge++})}catch(lt){Q.warn(oe,pe),at=new k}else Q.warn(oe,pe),at=new k;return le(at)})).apply(this,arguments)}function le(at){return me.apply(this,arguments)}function me(){return(me=(0,M.Z)(function*(at){return new Promise(lt=>{function tt(Ke){const ut=(0,T.QM)(Ke);ut&&ut.type===ue&&(at.removeEventListener("message",tt),at.removeEventListener("error",vt),lt(at))}function vt(Ke){Ke.preventDefault(),at.removeEventListener("message",tt),at.removeEventListener("error",vt),Q.warn("Failed to create Worker. Fallback to execute module in main thread",Ke),(at=new k).addEventListener("message",tt),at.addEventListener("error",vt)}at.addEventListener("message",tt),at.addEventListener("error",vt)})})).apply(this,arguments)}function ce(){let at;if(null!=Z.Z.default){const Ke=Ct({},Z.Z);delete Ke.default,at=JSON.parse(JSON.stringify(Ke))}else at=JSON.parse(JSON.stringify(Z.Z));at.assetsPath=(0,$.hF)(at.assetsPath),at.request.interceptors=[],at.log.interceptors=[],at.locale=(0,W.Kd)(),at.has={"esri-csp-restrictions":(0,X.Z)("esri-csp-restrictions"),"esri-2d-debug":!1,"esri-2d-update-debug":(0,X.Z)("esri-2d-update-debug"),"esri-2d-query-centroid-enabled":(0,X.Z)("esri-2d-query-centroid-enabled"),"featurelayer-pbf":(0,X.Z)("featurelayer-pbf"),"featurelayer-simplify-thresholds":(0,X.Z)("featurelayer-simplify-thresholds"),"featurelayer-simplify-payload-size-factors":(0,X.Z)("featurelayer-simplify-payload-size-factors"),"featurelayer-simplify-mobile-factor":(0,X.Z)("featurelayer-simplify-mobile-factor"),"esri-atomics":(0,X.Z)("esri-atomics"),"esri-shared-array-buffer":(0,X.Z)("esri-shared-array-buffer"),"esri-tiles-debug":(0,X.Z)("esri-tiles-debug"),"esri-workers-arraybuffer-transfer":(0,X.Z)("esri-workers-arraybuffer-transfer"),"feature-polyline-generalization-factor":(0,X.Z)("feature-polyline-generalization-factor"),"host-webworker":1},at.workers.loaderUrl&&(at.workers.loaderUrl=(0,$.hF)(at.workers.loaderUrl)),at.workers.workerPath=(0,$.hF)(at.workers.workerPath?at.workers.workerPath:(0,x.V)("esri/core/workers/RemoteClient.js")),at.workers.useDynamicImport=!1;const lt=Z.Z.workers.loaderConfig,tt=function I(at){var lt;const tt={async:at.async,isDebug:at.isDebug,locale:at.locale,baseUrl:at.baseUrl,has:Ct({},at.has),map:Ct({},at.map),packages:at.packages&&at.packages.concat()||[],paths:Ct({},at.paths)};return at.hasOwnProperty("async")||(tt.async=!0),at.hasOwnProperty("isDebug")||(tt.isDebug=!1),at.baseUrl||(tt.baseUrl=ne.baseUrl),null==(lt=ne.packages)||lt.forEach(vt=>{!function j(at,lt){for(const tt of at)if(tt.name===lt.name)return;at.push(lt)}(tt.packages,vt)}),tt}({baseUrl:null==lt?void 0:lt.baseUrl,locale:(0,W.Kd)(),has:Ct({"csp-restrictions":1,"dojo-test-sniff":0,"host-webworker":1},null==lt?void 0:lt.has),map:Ct({},null==lt?void 0:lt.map),paths:Ct({},null==lt?void 0:lt.paths),packages:(null==lt?void 0:lt.packages)||[]});return JSON.stringify({esriConfig:at,loaderConfig:tt,kernelInfo:{version:z.i8,buildDate:re.r,revision:re.$}})}let ge=0;const J=L.Z.getLogger("esri.core.workers"),{ABORT:ie,INVOKE:De,OPEN:_e,OPENED:Ie,RESPONSE:xe}=T.Cs;class ke{constructor(lt,tt){this._outJobs=new Map,this._inJobs=new Map,this.worker=lt,this.id=tt,lt.addEventListener("message",this._onMessage.bind(this)),lt.addEventListener("error",vt=>{vt.preventDefault(),J.error(vt)})}static create(lt){return(0,M.Z)(function*(){const tt=yield function K(){return de.apply(this,arguments)}();return new ke(tt,lt)})()}terminate(){this.worker.terminate()}open(lt,tt={}){var vt=this;return(0,M.Z)(function*(){const{signal:Ke}=tt,ut=(0,T.jt)();return new Promise((Et,St)=>{const kt={resolve:Et,reject:St,abortHandle:(0,B.$F)(Ke,()=>{vt._outJobs.delete(ut),vt._post({type:ie,jobId:ut})})};vt._outJobs.set(ut,kt),vt._post({type:_e,jobId:ut,modulePath:lt})})})()}_onMessage(lt){const tt=(0,T.QM)(lt);if(tt)switch(tt.type){case Ie:this._onOpenedMessage(tt);break;case xe:this._onResponseMessage(tt);break;case ie:this._onAbortMessage(tt);break;case De:this._onInvokeMessage(tt)}}_onAbortMessage(lt){const tt=this._inJobs,vt=lt.jobId,Ke=tt.get(vt);Ke&&(Ke.controller&&Ke.controller.abort(),tt.delete(vt))}_onInvokeMessage(lt){const{methodName:tt,jobId:vt,data:Ke,abortable:ut}=lt,Et=ut?new AbortController:null,St=this._inJobs,kt=z.Nv[tt];let zt;try{if("function"!=typeof kt)throw new TypeError(`${tt} is not a function`);zt=kt.call(null,Ke,{signal:Et?Et.signal:null})}catch(qt){return void this._post({type:xe,jobId:vt,error:(0,T.AB)(qt)})}(0,B.y8)(zt)?(St.set(vt,{controller:Et,promise:zt}),zt.then(qt=>{St.has(vt)&&(St.delete(vt),this._post({type:xe,jobId:vt},qt))},qt=>{St.has(vt)&&(St.delete(vt),qt||(qt={message:"Error encountered at method"+tt}),(0,B.D_)(qt)||this._post({type:xe,jobId:vt,error:(0,T.AB)(qt||{message:`Error encountered at method ${tt}`})}))})):this._post({type:xe,jobId:vt},zt)}_onOpenedMessage(lt){var tt;const{jobId:vt,data:Ke}=lt,ut=this._outJobs.get(vt);ut&&(this._outJobs.delete(vt),null==(tt=ut.abortHandle)||tt.remove(),ut.resolve(Ke))}_onResponseMessage(lt){var tt;const{jobId:vt,error:Ke,data:ut}=lt,Et=this._outJobs.get(vt);Et&&(this._outJobs.delete(vt),null==(tt=Et.abortHandle)||tt.remove(),Ke?Et.reject(O.Z.fromJSON(JSON.parse(Ke))):Et.resolve(ut))}_post(lt,tt,vt){return(0,T.oi)(this.worker,lt,tt,vt)}}let Ve=(0,X.Z)("esri-workers-debug")?1:(0,X.Z)("host-browser")?navigator.hardwareConcurrency-1:0;Ve||(Ve=(0,X.Z)("safari")&&(0,X.Z)("mac")||(0,X.Z)("trident")?7:2);let ve=0;const we=[];function We(){ht()}function Te(at,lt){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,M.Z)(function*(at,lt){const tt=new N.Z;return yield tt.open(at,lt),tt})).apply(this,arguments)}function He(at){return te.apply(this,arguments)}function te(){return(te=(0,M.Z)(function*(at,lt={}){if("string"!=typeof at)throw new O.Z("workers:undefined-module","modulePath is missing");let tt=lt.strategy||"distributed";if((0,X.Z)("host-webworker")&&!(0,X.Z)("esri-workers")&&(tt="local"),"local"===tt){let vt=yield ee.Z.loadWorker(at);vt||(vt=yield import(at)),(0,B.k_)(lt.signal);const Ke=lt.client||vt;return Te([ee.Z.connect(vt)],Bn(Ct({},lt),{client:Ke}))}if(yield ht(),(0,B.k_)(lt.signal),"dedicated"===tt){const vt=ve++%Ve;return Te([yield we[vt].open(at,lt)],lt)}if(lt.maxNumWorkers&&lt.maxNumWorkers>0){const vt=Math.min(lt.maxNumWorkers,Ve);if(vt<Ve){const Ke=new Array(vt);for(let ut=0;ut<vt;++ut){const Et=ve++%Ve;Ke[ut]=we[Et].open(at,lt)}return Te(Ke,lt)}}return Te(we.map(vt=>vt.open(at,lt)),lt)})).apply(this,arguments)}let je,Ye=null;function ht(){return ot.apply(this,arguments)}function ot(){return(ot=(0,M.Z)(function*(){if(Ye)return Ye;je=new AbortController;const at=[];for(let lt=0;lt<Ve;lt++){const tt=ke.create(lt).then(vt=>(we[lt]=vt,vt));at.push(tt)}return Ye=Promise.all(at),Ye})).apply(this,arguments)}},29132:(Qe,Me,E)=>{"use strict";E.d(Me,{qM:()=>Y});var M=E(90912),O=E(2004),X=E(21674),B=E(72854),N=E(49672),ee=E(37118),z=E(55214);E(65234),E(71774),E(91179);const Y={base:X.Z,key:"type",typeMap:{extent:O.Z,multipoint:B.Z,point:N.Z,polyline:z.Z,polygon:ee.Z}};(0,M.N7)(Y)},2004:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>k});var j,M=E(17626),O=E(62208),X=E(77275),B=E(77712),L=(E(85931),E(8314),E(90912),E(76898)),T=E(21674),x=E(49672),Z=E(65234),Y=E(33190),$=E(11519),se=E(37053),ne=E(46367);function w(W,re,Q){return null==re?Q:null==Q?re:W(re,Q)}let F=j=class extends T.Z{constructor(...W){super(...W),this.type="extent",this.xmin=0,this.ymin=0,this.mmin=void 0,this.zmin=void 0,this.xmax=0,this.ymax=0,this.mmax=void 0,this.zmax=void 0}normalizeCtorArgs(W,re,Q,ue,he){return function I(W){return W&&("esri.geometry.SpatialReference"===W.declaredClass||null!=W.wkid)}(W)?{spatialReference:W,xmin:0,ymin:0,xmax:0,ymax:0}:"object"==typeof W?(W.spatialReference=null==W.spatialReference?Z.Z.WGS84:W.spatialReference,W):{xmin:W,ymin:re,xmax:Q,ymax:ue,spatialReference:null==he?Z.Z.WGS84:he}}static fromBounds(W,re){return new j({xmin:W[0],ymin:W[1],xmax:W[2],ymax:W[3],spatialReference:re})}static fromPoint(W){return new j({xmin:W.x,ymin:W.y,zmin:W.z,xmax:W.x,ymax:W.y,zmax:W.z,spatialReference:W.spatialReference})}get cache(){return this.commitProperty("xmin"),this.commitProperty("ymin"),this.commitProperty("zmin"),this.commitProperty("mmin"),this.commitProperty("xmax"),this.commitProperty("ymax"),this.commitProperty("zmax"),this.commitProperty("mmax"),this.commitProperty("spatialReference"),{}}get center(){const W=new x.Z({x:.5*(this.xmin+this.xmax),y:.5*(this.ymin+this.ymax),spatialReference:this.spatialReference});return this.hasZ&&(W.z=.5*(this.zmin+this.zmax)),this.hasM&&(W.m=.5*(this.mmin+this.mmax)),W}get extent(){return this.clone()}get hasM(){return null!=this.mmin&&null!=this.mmax}get hasZ(){return null!=this.zmin&&null!=this.zmax}get height(){return Math.abs(this.ymax-this.ymin)}get width(){return Math.abs(this.xmax-this.xmin)}centerAt(W){const re=this.center;return null!=W.z&&this.hasZ?this.offset(W.x-re.x,W.y-re.y,W.z-re.z):this.offset(W.x-re.x,W.y-re.y)}clone(){const W=new j;return W.xmin=this.xmin,W.ymin=this.ymin,W.xmax=this.xmax,W.ymax=this.ymax,W.spatialReference=this.spatialReference,null!=this.zmin&&(W.zmin=this.zmin,W.zmax=this.zmax),null!=this.mmin&&(W.mmin=this.mmin,W.mmax=this.mmax),W}contains(W){if(!W)return!1;const re=this.spatialReference,Q=W.spatialReference;return re&&Q&&!re.equals(Q)&&(0,ne.Q8)(re,Q)&&(W=re.isWebMercator?(0,ne.$)(W):(0,ne.Sx)(W,!0)),"point"===W.type?(0,Y.aV)(this,W):"extent"===W.type&&(0,Y.uP)(this,W)}equals(W){if(this===W)return!0;if((0,O.Wi)(W))return!1;const re=this.spatialReference,Q=W.spatialReference;return re&&Q&&!re.equals(Q)&&(0,ne.Q8)(re,Q)&&(W=re.isWebMercator?(0,ne.$)(W):(0,ne.Sx)(W,!0)),this.xmin===W.xmin&&this.ymin===W.ymin&&this.zmin===W.zmin&&this.mmin===W.mmin&&this.xmax===W.xmax&&this.ymax===W.ymax&&this.zmax===W.zmax&&this.mmax===W.mmax}expand(W){const re=.5*(1-W),Q=this.width*re,ue=this.height*re;if(this.xmin+=Q,this.ymin+=ue,this.xmax-=Q,this.ymax-=ue,this.hasZ){const he=(this.zmax-this.zmin)*re;this.zmin+=he,this.zmax-=he}if(this.hasM){const he=(this.mmax-this.mmin)*re;this.mmin+=he,this.mmax-=he}return this}intersects(W){if((0,O.Wi)(W))return!1;"mesh"===W.type&&(W=W.extent);const re=this.spatialReference,Q=W.spatialReference;return re&&Q&&!re.equals(Q)&&(0,ne.Q8)(re,Q)&&(W=re.isWebMercator?(0,ne.$)(W):(0,ne.Sx)(W,!0)),(0,$.IY)(W.type)(this,W)}normalize(){const W=this._normalize(!1,!0);return Array.isArray(W)?W:[W]}offset(W,re,Q){return this.xmin+=W,this.ymin+=re,this.xmax+=W,this.ymax+=re,null!=Q&&(this.zmin+=Q,this.zmax+=Q),this}shiftCentralMeridian(){return this._normalize(!0)}union(W){return this===W||(this.xmin=Math.min(this.xmin,W.xmin),this.ymin=Math.min(this.ymin,W.ymin),this.xmax=Math.max(this.xmax,W.xmax),this.ymax=Math.max(this.ymax,W.ymax),(this.hasZ||W.hasZ)&&(this.zmin=w(Math.min,this.zmin,W.zmin),this.zmax=w(Math.max,this.zmax,W.zmax)),(this.hasM||W.hasM)&&(this.mmin=w(Math.min,this.mmin,W.mmin),this.mmax=w(Math.max,this.mmax,W.mmax))),this}intersection(W){return this===W?this:(0,O.Wi)(W)||!this.intersects(W)?null:(this.xmin=Math.max(this.xmin,W.xmin),this.ymin=Math.max(this.ymin,W.ymin),this.xmax=Math.min(this.xmax,W.xmax),this.ymax=Math.min(this.ymax,W.ymax),(this.hasZ||W.hasZ)&&(this.zmin=w(Math.max,this.zmin,W.zmin),this.zmax=w(Math.min,this.zmax,W.zmax)),(this.hasM||W.hasM)&&(this.mmin=w(Math.max,this.mmin,W.mmin),this.mmax=w(Math.min,this.mmax,W.mmax)),this)}toJSON(W){return this.write({},W)}_shiftCM(W=(0,se.C5)(this.spatialReference)){if(!W||!this.spatialReference)return this;const re=this.spatialReference,Q=this._getCM(W);if(Q){const ue=re.isWebMercator?(0,ne.Sx)(Q):Q;this.xmin-=Q.x,this.xmax-=Q.x,re.isWebMercator||(ue.x=this._normalizeX(ue.x,W).x),this.spatialReference=new Z.Z((0,X.gx)(re.isWGS84?W.altTemplate:W.wkTemplate,{Central_Meridian:ue.x}))}return this}_getCM(W){let re=null;const[Q,ue]=W.valid,he=this.xmin,fe=this.xmax;return he>=Q&&he<=ue&&fe>=Q&&fe<=ue||(re=this.center),re}_normalize(W,re,Q){const ue=this.spatialReference;if(!ue)return this;if(!(Q=Q||(0,se.C5)(ue)))return this;const he=this._getParts(Q).map(oe=>oe.extent);if(he.length<2)return he[0]||this;if(he.length>2)return W?this._shiftCM(Q):this.set({xmin:Q.valid[0],xmax:Q.valid[1]});if(W)return this._shiftCM(Q);if(re)return he;let fe=!0,pe=!0;return he.forEach(oe=>{oe.hasZ||(fe=!1),oe.hasM||(pe=!1)}),{rings:he.map(oe=>{const K=[[oe.xmin,oe.ymin],[oe.xmin,oe.ymax],[oe.xmax,oe.ymax],[oe.xmax,oe.ymin],[oe.xmin,oe.ymin]];if(fe){const de=(oe.zmax-oe.zmin)/2;for(let le=0;le<K.length;le++)K[le].push(de)}if(pe){const de=(oe.mmax-oe.mmin)/2;for(let le=0;le<K.length;le++)K[le].push(de)}return K}),hasZ:fe,hasM:pe,spatialReference:ue}}_getParts(W){let re=this.cache._parts;if(!re){re=[];const{ymin:he,ymax:fe,spatialReference:pe}=this,oe=this.width,K=this.xmin,de=this.xmax;let le;W=W||(0,se.C5)(pe);const[me,ce]=W.valid;le=this._normalizeX(this.xmin,W);const ge=le.x,J=le.frameId;le=this._normalizeX(this.xmax,W);const ie=le.x,De=le.frameId,_e=ge===ie&&oe>0;if(oe>2*ce){const Ie=new j(K<de?ge:ie,he,ce,fe,pe),xe=new j(me,he,K<de?ie:ge,fe,pe),ke=new j(0,he,ce,fe,pe),Ve=new j(me,he,0,fe,pe),ve=[],we=[];Ie.contains(ke)&&ve.push(J),Ie.contains(Ve)&&we.push(J),xe.contains(ke)&&ve.push(De),xe.contains(Ve)&&we.push(De);for(let We=J+1;We<De;We++)ve.push(We),we.push(We);re.push({extent:Ie,frameIds:[J]},{extent:xe,frameIds:[De]},{extent:ke,frameIds:ve},{extent:Ve,frameIds:we})}else ge>ie||_e?re.push({extent:new j(ge,he,ce,fe,pe),frameIds:[J]},{extent:new j(me,he,ie,fe,pe),frameIds:[De]}):re.push({extent:new j(ge,he,ie,fe,pe),frameIds:[J]});this.cache._parts=re}const Q=this.hasZ,ue=this.hasM;if(Q||ue){const he={};Q&&(he.zmin=this.zmin,he.zmax=this.zmax),ue&&(he.mmin=this.mmin,he.mmax=this.mmax);for(let fe=0;fe<re.length;fe++)re[fe].extent.set(he)}return re}_normalizeX(W,re){const[Q,ue]=re.valid,he=2*ue;let fe,pe=0;return W>ue?(fe=Math.ceil(Math.abs(W-ue)/he),W-=fe*he,pe=fe):W<Q&&(fe=Math.ceil(Math.abs(W-Q)/he),W+=fe*he,pe=-fe),{x:W,frameId:pe}}};(0,M._)([(0,B.Cb)({readOnly:!0})],F.prototype,"cache",null),(0,M._)([(0,B.Cb)({readOnly:!0})],F.prototype,"center",null),(0,M._)([(0,B.Cb)({readOnly:!0})],F.prototype,"extent",null),(0,M._)([(0,B.Cb)({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],F.prototype,"hasM",null),(0,M._)([(0,B.Cb)({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],F.prototype,"hasZ",null),(0,M._)([(0,B.Cb)({readOnly:!0})],F.prototype,"height",null),(0,M._)([(0,B.Cb)({readOnly:!0})],F.prototype,"width",null),(0,M._)([(0,B.Cb)({type:Number,json:{type:[Number,String],write:{enabled:!0,allowNull:!0}}})],F.prototype,"xmin",void 0),(0,M._)([(0,B.Cb)({type:Number,json:{write:!0}})],F.prototype,"ymin",void 0),(0,M._)([(0,B.Cb)({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],F.prototype,"mmin",void 0),(0,M._)([(0,B.Cb)({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],F.prototype,"zmin",void 0),(0,M._)([(0,B.Cb)({type:Number,json:{write:!0}})],F.prototype,"xmax",void 0),(0,M._)([(0,B.Cb)({type:Number,json:{write:!0}})],F.prototype,"ymax",void 0),(0,M._)([(0,B.Cb)({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],F.prototype,"mmax",void 0),(0,M._)([(0,B.Cb)({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],F.prototype,"zmax",void 0),F=j=(0,M._)([(0,L.j)("esri.geometry.Extent")],F),F.prototype.toJSON.isDefaultToJSON=!0;const k=F},21674:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>Z});var M=E(17626),O=E(86810),X=E(77712),z=(E(85931),E(8314),E(90912),E(68653)),L=E(76898),T=E(65234);let x=class extends O.wq{constructor(...Y){super(...Y),this.type=null,this.hasM=!1,this.hasZ=!1,this.spatialReference=T.Z.WGS84}get cache(){return this.commitProperty("spatialReference"),{}}get extent(){return null}readSpatialReference(Y,$){if(Y instanceof T.Z)return Y;if(null!=Y){const se=new T.Z;return se.read(Y,$),se}return Y}clone(){return console.warn(".clone() is not implemented for "+this.declaredClass),null}clearCache(){this.notifyChange("cache")}getCacheValue(Y){return this.cache[Y]}setCacheValue(Y,$){this.cache[Y]=$}};(0,M._)([(0,X.Cb)()],x.prototype,"type",void 0),(0,M._)([(0,X.Cb)({readOnly:!0})],x.prototype,"cache",null),(0,M._)([(0,X.Cb)({readOnly:!0})],x.prototype,"extent",null),(0,M._)([(0,X.Cb)({type:Boolean,json:{write:{overridePolicy:Y=>({enabled:Y})}}})],x.prototype,"hasM",void 0),(0,M._)([(0,X.Cb)({type:Boolean,json:{write:{overridePolicy:Y=>({enabled:Y})}}})],x.prototype,"hasZ",void 0),(0,M._)([(0,X.Cb)({type:T.Z,json:{write:!0}})],x.prototype,"spatialReference",void 0),(0,M._)([(0,z.r)("spatialReference")],x.prototype,"readSpatialReference",null),x=(0,M._)([(0,L.j)("esri.geometry.Geometry")],x);const Z=x},79334:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>k});var $,M=E(17626),O=E(85931),X=E(2076),B=E(86810),N=E(16730),ee=E(14889),z=E(77712),x=(E(8314),E(90912),E(68653)),Z=E(76898),Y=E(99433);const se=(0,X.w)()({orthometric:"gravity-related-height",gravity_related_height:"gravity-related-height",ellipsoidal:"ellipsoidal"}),ne=se.jsonValues.slice();(0,O.e$)(ne,"orthometric");const j=(0,X.w)()({meter:"meters",foot:"feet","us-foot":"us-feet","clarke-foot":"clarke-feet","clarke-yard":"clarke-yards","clarke-link":"clarke-links","sears-yard":"sears-yards","sears-foot":"sears-feet","sears-chain":"sears-chains","benoit-1895-b-chain":"benoit-1895-b-chains","indian-yard":"indian-yards","indian-1937-yard":"indian-1937-yards","gold-coast-foot":"gold-coast-feet","sears-1922-truncated-chain":"sears-1922-truncated-chains","50-kilometers":"50-kilometers","150-kilometers":"150-kilometers"});let I=$=class extends B.wq{constructor(W){super(W),this.heightModel="gravity-related-height",this.heightUnit="meters",this.vertCRS=null}writeHeightModel(W,re,Q){return se.write(W,re,Q)}readHeightModel(W,re,Q){return se.read(W)||(Q&&Q.messages&&Q.messages.push(function F(W,re){return new ee.Z("height-model:unsupported",`Height model of value '${W}' is not supported`,re)}(W,{context:Q})),null)}readHeightUnit(W,re,Q){return j.read(W)||(Q&&Q.messages&&Q.messages.push(w(W,{context:Q})),null)}readHeightUnitService(W,re,Q){return(0,N.$C)(W)||j.read(W)||(Q&&Q.messages&&Q.messages.push(w(W,{context:Q})),null)}readVertCRS(W,re){return re.vertCRS||re.ellipsoid||re.geoid}clone(){return new $({heightModel:this.heightModel,heightUnit:this.heightUnit,vertCRS:this.vertCRS})}equals(W){return!!W&&(this===W||this.heightModel===W.heightModel&&this.heightUnit===W.heightUnit&&this.vertCRS===W.vertCRS)}static deriveUnitFromSR(W,re){const Q=(0,N.cM)(re);return new $({heightModel:W.heightModel,heightUnit:Q,vertCRS:W.vertCRS})}write(W,re){return re=Ct({origin:"web-scene"},re),super.write(W,re)}static fromJSON(W){if(!W)return null;const re=new $;return re.read(W,{origin:"web-scene"}),re}};function w(W,re){return new ee.Z("height-unit:unsupported",`Height unit of value '${W}' is not supported`,re)}(0,M._)([(0,z.Cb)({type:se.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:ne,default:"ellipsoidal"}}}})],I.prototype,"heightModel",void 0),(0,M._)([(0,Y.c)("web-scene","heightModel")],I.prototype,"writeHeightModel",null),(0,M._)([(0,x.r)(["web-scene","service"],"heightModel")],I.prototype,"readHeightModel",null),(0,M._)([(0,z.Cb)({type:j.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:j.jsonValues,write:j.write}}}})],I.prototype,"heightUnit",void 0),(0,M._)([(0,x.r)("web-scene","heightUnit")],I.prototype,"readHeightUnit",null),(0,M._)([(0,x.r)("service","heightUnit")],I.prototype,"readHeightUnitService",null),(0,M._)([(0,z.Cb)({type:String,constructOnly:!0,json:{origins:{"web-scene":{write:!0}}}})],I.prototype,"vertCRS",void 0),(0,M._)([(0,x.r)("service","vertCRS",["vertCRS","ellipsoid","geoid"])],I.prototype,"readVertCRS",null),I=$=(0,M._)([(0,Z.j)("esri.geometry.HeightModelInfo")],I);const k=I},72854:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>ne});var Z,M=E(17626),O=E(58817),X=E(77712),N=(E(90912),E(76898)),ee=E(99433),z=E(2004),L=E(21674),T=E(49672),x=E(18945);function Y(j){return(I,w)=>null==I?w:null==w?I:j(I,w)}let se=Z=class extends L.Z{constructor(...j){super(...j),this.points=[],this.type="multipoint"}normalizeCtorArgs(j,I){if(!j&&!I)return null;const w={};Array.isArray(j)?(w.points=j,w.spatialReference=I):function $(j){return j&&("esri.geometry.SpatialReference"===j.declaredClass||null!=j.wkid)}(j)?w.spatialReference=j:(j.points&&(w.points=j.points),j.spatialReference&&(w.spatialReference=j.spatialReference),j.hasZ&&(w.hasZ=j.hasZ),j.hasM&&(w.hasM=j.hasM));const F=w.points&&w.points[0];return F&&(void 0===w.hasZ&&void 0===w.hasM?(w.hasZ=F.length>2,w.hasM=!1):void 0===w.hasZ?w.hasZ=F.length>3:void 0===w.hasM&&(w.hasM=F.length>3)),w}get cache(){return this.commitProperty("points"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get extent(){const j=this.points;if(!j.length)return null;const I=new z.Z,w=this.hasZ,F=this.hasM,k=w?3:2,W=j[0],re=Y(Math.min),Q=Y(Math.max);let ue,he,fe,pe,[oe,K]=W,[de,le]=W;for(let me=0,ce=j.length;me<ce;me++){const ge=j[me],[J,ie]=ge;if(oe=re(oe,J),K=re(K,ie),de=Q(de,J),le=Q(le,ie),w&&ge.length>2){const De=ge[2];ue=re(ue,De),fe=Q(fe,De)}if(F&&ge.length>k){const De=ge[k];he=re(he,De),pe=Q(pe,De)}}return I.xmin=oe,I.ymin=K,I.xmax=de,I.ymax=le,I.spatialReference=this.spatialReference,w?(I.zmin=ue,I.zmax=fe):(I.zmin=null,I.zmax=null),F?(I.mmin=he,I.mmax=pe):(I.mmin=null,I.mmax=null),I}writePoints(j,I){I.points=(0,O.d9)(this.points)}addPoint(j){return(0,x.l)(this,j),Array.isArray(j)?this.points.push(j):this.points.push(j.toArray()),this.notifyChange("points"),this}clone(){const j={points:(0,O.d9)(this.points),spatialReference:this.spatialReference};return this.hasZ&&(j.hasZ=!0),this.hasM&&(j.hasM=!0),new Z(j)}getPoint(j){if(!this._validateInputs(j))return null;const I=this.points[j],w={x:I[0],y:I[1],spatialReference:this.spatialReference};let F=2;return this.hasZ&&(w.z=I[2],F=3),this.hasM&&(w.m=I[F]),new T.Z(w)}removePoint(j){if(!this._validateInputs(j))return null;const I=new T.Z(this.points.splice(j,1)[0],this.spatialReference);return this.notifyChange("points"),I}setPoint(j,I){return this._validateInputs(j)?((0,x.l)(this,I),Array.isArray(I)||(I=I.toArray()),this.points[j]=I,this.notifyChange("points"),this):this}toJSON(j){return this.write({},j)}_validateInputs(j){return null!=j&&j>=0&&j<this.points.length}};(0,M._)([(0,X.Cb)({readOnly:!0})],se.prototype,"cache",null),(0,M._)([(0,X.Cb)()],se.prototype,"extent",null),(0,M._)([(0,X.Cb)({type:[[Number]],json:{write:{isRequired:!0}}})],se.prototype,"points",void 0),(0,M._)([(0,ee.c)("points")],se.prototype,"writePoints",null),se=Z=(0,M._)([(0,N.j)("esri.geometry.Multipoint")],se),se.prototype.toJSON.isDefaultToJSON=!0;const ne=se},49672:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>he});var k,M=E(17626),O=E(63290),X=E(62208),B=E(77712),z=(E(85931),E(8314),E(66656)),L=E(68653),T=E(76898),x=E(99433),Z=E(90912),Y=E(21674),$=E(65234),w=E(37053),F=E(46367);const W=[0,0];function re(fe){return fe&&("esri.geometry.SpatialReference"===fe.declaredClass||null!=fe.wkid)}const Q=O.Z.getLogger("esri.geometry.Point");let ue=k=class extends Y.Z{constructor(...fe){super(...fe),this.x=0,this.y=0,this.z=void 0,this.m=void 0,this.type="point"}static copy(fe,pe){pe._set("x",fe._get("x")),pe._set("y",fe._get("y")),pe._set("z",fe._get("z")),pe._set("m",fe._get("m"));const oe=fe._get("spatialReference");pe._set("spatialReference",Object.isFrozen(oe)?oe:oe.clone())}normalizeCtorArgs(fe,pe,oe,K,de){let le;if(Array.isArray(fe))le=fe,de=pe,fe=le[0],pe=le[1],oe=le[2],K=le[3];else if(fe&&"object"==typeof fe){if(le=fe,fe=null!=le.x?le.x:le.longitude,pe=null!=le.y?le.y:le.latitude,oe=le.z,K=le.m,(de=le.spatialReference)&&"esri.geometry.SpatialReference"!==de.declaredClass&&(de=new $.Z(de)),null!=le.longitude||null!=le.latitude)if(null==le.longitude)Q.warn(".longitude=","Latitude was defined without longitude");else if(null==le.latitude)Q.warn(".latitude=","Longitude was defined without latitude");else if(!le.declaredClass&&de&&de.isWebMercator){const ce=(0,F.hG)(le.longitude,le.latitude,W);fe=ce[0],pe=ce[1]}}else re(oe)?(de=oe,oe=null):re(K)&&(de=K,K=null);const me={x:fe,y:pe};return null==me.x&&null!=me.y?Q.warn(".y=","Y coordinate was defined without an X coordinate"):null==me.y&&null!=me.x&&Q.warn(".x=","X coordinate was defined without a Y coordinate"),null!=de&&(me.spatialReference=de),null!=oe&&(me.z=oe),null!=K&&(me.m=K),me}get cache(){return this.commitProperty("x"),this.commitProperty("y"),this.commitProperty("z"),this.commitProperty("m"),this.commitProperty("spatialReference"),{}}get hasM(){return void 0!==this.m}set hasM(fe){fe!==(void 0!==this._get("m"))&&(this._set("m",fe?0:void 0),this._set("hasM",fe))}get hasZ(){return void 0!==this.z}set hasZ(fe){fe!==(void 0!==this._get("z"))&&(this._set("z",fe?0:void 0),this._set("hasZ",fe))}get latitude(){const{spatialReference:fe,x:pe,y:oe}=this;if(fe){if(fe.isWebMercator)return(0,F.R6)(pe,oe,W)[1];if(fe.isGeographic)return oe}return null}set latitude(fe){const{spatialReference:pe,x:oe}=this;pe&&(pe.isWebMercator?this._set("y",(0,F.hG)(oe,fe,W)[1]):pe.isGeographic&&this._set("y",fe),this._set("latitude",fe))}get longitude(){const{x:fe,y:pe,spatialReference:oe}=this;if(oe){if(oe.isWebMercator)return(0,F.R6)(fe,pe,W)[0];if(oe.isGeographic)return fe}return null}set longitude(fe){const{y:pe,spatialReference:oe}=this;oe&&(oe.isWebMercator?this._set("x",(0,F.hG)(fe,pe,W)[0]):oe.isGeographic&&this._set("x",fe),this._set("longitude",fe))}writeX(fe,pe,oe){pe[oe]=isNaN(fe)?"NaN":fe}readX(fe){return"string"==typeof fe?NaN:fe}clone(){const fe=new k;return fe.x=this.x,fe.y=this.y,fe.z=this.z,fe.m=this.m,fe.spatialReference=this.spatialReference,fe}copy(fe){return k.copy(fe,this),this}equals(fe){if((0,X.Wi)(fe))return!1;const{x:pe,y:oe,z:K,m:de,spatialReference:le}=this,{z:me,m:ce}=fe;let{x:ge,y:J,spatialReference:ie}=fe;if(!le.equals(ie))if(le.isWebMercator&&ie.isWGS84)[ge,J]=(0,F.hG)(ge,J),ie=le;else{if(!le.isWGS84||!ie.isWebMercator)return!1;[ge,J]=(0,F.R6)(ge,J),ie=le}return pe===ge&&oe===J&&K===me&&de===ce&&le.wkid===ie.wkid}offset(fe,pe,oe){return function se(fe,pe,oe,K){var de;return fe.x=fe.x+pe,fe.y=fe.y+oe,null!=K&&(fe.z=(null!=(de=fe.z)?de:0)+K),fe}(this,fe,pe,oe)}normalize(){if(!this.spatialReference)return this;const fe=(0,w.C5)(this.spatialReference);if(!fe)return this;let pe=this.x;const[oe,K]=fe.valid,de=2*K;let le;return pe>K?(le=Math.ceil(Math.abs(pe-K)/de),pe-=le*de):pe<oe&&(le=Math.ceil(Math.abs(pe-oe)/de),pe+=le*de),this._set("x",pe),this}distance(fe){return function j(fe,pe){const oe=fe.x-pe.x,K=fe.y-pe.y,de=fe.hasZ&&pe.hasZ?fe.z-pe.z:0;return Math.sqrt(oe*oe+K*K+de*de)}(this,fe)}toArray(){const fe=this.hasZ,pe=this.hasM;return fe&&pe?[this.x,this.y,this.z,this.m]:fe?[this.x,this.y,this.z]:pe?[this.x,this.y,this.m]:[this.x,this.y]}toJSON(fe){return this.write({},fe)}};(0,M._)([(0,B.Cb)({readOnly:!0})],ue.prototype,"cache",null),(0,M._)([(0,B.Cb)({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],ue.prototype,"hasM",null),(0,M._)([(0,B.Cb)({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],ue.prototype,"hasZ",null),(0,M._)([(0,B.Cb)({type:Number})],ue.prototype,"latitude",null),(0,M._)([(0,B.Cb)({type:Number})],ue.prototype,"longitude",null),(0,M._)([(0,B.Cb)({type:Number,json:{type:[Number,String],write:{isRequired:!0,allowNull:!0}}}),(0,z.p)(fe=>isNaN(fe)?fe:(0,Z.q9)(fe))],ue.prototype,"x",void 0),(0,M._)([(0,x.c)("x")],ue.prototype,"writeX",null),(0,M._)([(0,L.r)("x")],ue.prototype,"readX",null),(0,M._)([(0,B.Cb)({type:Number,json:{write:!0}})],ue.prototype,"y",void 0),(0,M._)([(0,B.Cb)({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasZ}}}}})],ue.prototype,"z",void 0),(0,M._)([(0,B.Cb)({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasM}}}}})],ue.prototype,"m",void 0),ue=k=(0,M._)([(0,T.j)("esri.geometry.Point")],ue),ue.prototype.toJSON.isDefaultToJSON=!0;const he=ue},37118:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>Q});var k,M=E(17626),O=E(85931),X=E(58817),B=E(62208),N=E(77712),z=(E(90912),E(76898)),L=E(99433),T=E(2004),x=E(21674),Z=E(49672),Y=E(65234),$=E(27105),se=E(33190),ne=E(25748),j=E(15176),I=E(11519),w=E(46367),F=E(18945);function W(ue){return!Array.isArray(ue[0])}let re=k=class extends x.Z{constructor(...ue){super(...ue),this.rings=[],this.type="polygon"}static fromExtent(ue){const he=ue.clone().normalize(),fe=ue.spatialReference;let pe=!1,oe=!1;for(const de of he)de.hasZ&&(pe=!0),de.hasM&&(oe=!0);const K={rings:he.map(function(de){const le=[[de.xmin,de.ymin],[de.xmin,de.ymax],[de.xmax,de.ymax],[de.xmax,de.ymin],[de.xmin,de.ymin]];if(pe&&de.hasZ){const me=de.zmin+.5*(de.zmax-de.zmin);for(let ce=0;ce<le.length;ce++)le[ce].push(me)}if(oe&&de.hasM){const me=de.mmin+.5*(de.mmax-de.mmin);for(let ce=0;ce<le.length;ce++)le[ce].push(me)}return le}),spatialReference:fe};return pe&&(K.hasZ=!0),oe&&(K.hasM=!0),new k(K)}normalizeCtorArgs(ue,he){let fe,pe,oe=null,K=null;return ue&&!Array.isArray(ue)?(oe=ue.rings?ue.rings:null,he||(ue.spatialReference?he=ue.spatialReference:ue.rings||(he=ue)),fe=ue.hasZ,pe=ue.hasM):oe=ue,oe=oe||[],oe.length&&oe[0]&&null!=oe[0][0]&&"number"==typeof oe[0][0]&&(oe=[oe]),K=oe[0]&&oe[0][0],K&&(void 0===fe&&void 0===pe?(fe=K.length>2,pe=K.length>3):void 0===fe?fe=pe?K.length>3:K.length>2:void 0===pe&&(pe=fe?K.length>3:K.length>2)),{rings:oe,spatialReference:he=he||Y.Z.WGS84,hasZ:fe,hasM:pe}}get cache(){return this.commitProperty("rings"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get centroid(){const ue=(0,$.tO)(this);if(!ue||isNaN(ue[0])||isNaN(ue[1])||this.hasZ&&isNaN(ue[2]))return null;const he=new Z.Z;return he.x=ue[0],he.y=ue[1],he.spatialReference=this.spatialReference,this.hasZ&&(he.z=ue[2]),he}get extent(){const{spatialReference:ue}=this,he=(0,j._w)(this);if(!he)return null;const fe=new T.Z(he);return fe.spatialReference=ue,fe}get isSelfIntersecting(){return(0,I.Ff)(this.rings)}writeRings(ue,he){he.rings=(0,X.d9)(this.rings)}addRing(ue){if(!ue)return;const he=this.rings,fe=he.length;if(W(ue)){const pe=[];for(let oe=0,K=ue.length;oe<K;oe++)pe[oe]=ue[oe].toArray();he[fe]=pe}else he[fe]=ue.concat();return this.notifyChange("rings"),this}clone(){const ue=new k;return ue.spatialReference=this.spatialReference,ue.rings=(0,X.d9)(this.rings),ue.hasZ=this.hasZ,ue.hasM=this.hasM,ue}equals(ue){if(this===ue)return!0;if((0,B.Wi)(ue))return!1;const he=this.spatialReference,fe=ue.spatialReference;if((0,B.pC)(he)!==(0,B.pC)(fe)||(0,B.pC)(he)&&(0,B.pC)(fe)&&!he.equals(fe)||this.rings.length!==ue.rings.length)return!1;const pe=([oe,K,de,le],[me,ce,ge,J])=>oe===me&&K===ce&&(null==de&&null==ge||de===ge)&&(null==le&&null==J||le===J);for(let oe=0;oe<this.rings.length;oe++)if(!(0,O.fS)(this.rings[oe],ue.rings[oe],pe))return!1;return!0}contains(ue){if(!ue)return!1;const he=(0,w.iV)(ue,this.spatialReference);return(0,se.CI)(this,(0,B.pC)(he)?he:ue)}isClockwise(ue){let he;return he=W(ue)?ue.map(fe=>this.hasZ?this.hasM?[fe.x,fe.y,fe.z,fe.m]:[fe.x,fe.y,fe.z]:[fe.x,fe.y]):ue,(0,ne.bu)(he,this.hasM,this.hasZ)}getPoint(ue,he){if(!this._validateInputs(ue,he))return null;const fe=this.rings[ue][he],pe=this.hasZ,oe=this.hasM;return pe&&!oe?new Z.Z(fe[0],fe[1],fe[2],void 0,this.spatialReference):oe&&!pe?new Z.Z(fe[0],fe[1],void 0,fe[2],this.spatialReference):pe&&oe?new Z.Z(fe[0],fe[1],fe[2],fe[3],this.spatialReference):new Z.Z(fe[0],fe[1],this.spatialReference)}insertPoint(ue,he,fe){return this._validateInputs(ue,he,!0)?((0,F.l)(this,fe),Array.isArray(fe)||(fe=fe.toArray()),this.rings[ue].splice(he,0,fe),this.notifyChange("rings"),this):this}removePoint(ue,he){if(!this._validateInputs(ue,he))return null;const fe=new Z.Z(this.rings[ue].splice(he,1)[0],this.spatialReference);return this.notifyChange("rings"),fe}removeRing(ue){if(!this._validateInputs(ue,null))return null;const he=this.rings.splice(ue,1)[0],fe=this.spatialReference,pe=he.map(oe=>new Z.Z(oe,fe));return this.notifyChange("rings"),pe}setPoint(ue,he,fe){return this._validateInputs(ue,he)?((0,F.l)(this,fe),Array.isArray(fe)||(fe=fe.toArray()),this.rings[ue][he]=fe,this.notifyChange("rings"),this):this}_validateInputs(ue,he,fe=!1){if(null==ue||ue<0||ue>=this.rings.length)return!1;if(null!=he){const pe=this.rings[ue];if(fe&&(he<0||he>pe.length)||!fe&&(he<0||he>=pe.length))return!1}return!0}toJSON(ue){return this.write({},ue)}};(0,M._)([(0,N.Cb)({readOnly:!0})],re.prototype,"cache",null),(0,M._)([(0,N.Cb)({readOnly:!0})],re.prototype,"centroid",null),(0,M._)([(0,N.Cb)({readOnly:!0})],re.prototype,"extent",null),(0,M._)([(0,N.Cb)({readOnly:!0})],re.prototype,"isSelfIntersecting",null),(0,M._)([(0,N.Cb)({type:[[[Number]]],json:{write:{isRequired:!0}}})],re.prototype,"rings",void 0),(0,M._)([(0,L.c)("rings")],re.prototype,"writeRings",null),re=k=(0,M._)([(0,z.j)("esri.geometry.Polygon")],re),re.prototype.toJSON.isDefaultToJSON=!0;const Q=re},55214:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>j});var $,M=E(17626),O=E(58817),X=E(77712),N=(E(90912),E(76898)),ee=E(99433),z=E(2004),L=E(21674),T=E(49672),x=E(65234),Z=E(15176),Y=E(18945);let ne=$=class extends L.Z{constructor(...I){super(...I),this.paths=[],this.type="polyline"}normalizeCtorArgs(I,w){let F,k,W=null,re=null;return I&&!Array.isArray(I)?(W=I.paths?I.paths:null,w||(I.spatialReference?w=I.spatialReference:I.paths||(w=I)),F=I.hasZ,k=I.hasM):W=I,W=W||[],W.length&&W[0]&&null!=W[0][0]&&"number"==typeof W[0][0]&&(W=[W]),re=W[0]&&W[0][0],re&&(void 0===F&&void 0===k?(F=re.length>2,k=!1):void 0===F?F=!k&&re.length>3:void 0===k&&(k=!F&&re.length>3)),{paths:W,spatialReference:w=w||x.Z.WGS84,hasZ:F,hasM:k}}get cache(){return this.commitProperty("paths"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get extent(){const{spatialReference:I}=this,w=(0,Z.Wn)(this);if(!w)return null;const F=new z.Z(w);return F.spatialReference=I,F}writePaths(I,w){w.paths=(0,O.d9)(this.paths)}addPath(I){if(!I)return;const w=this.paths,F=w.length;if(function se(I){return!Array.isArray(I[0])}(I)){const k=[];for(let W=0,re=I.length;W<re;W++)k[W]=I[W].toArray();w[F]=k}else w[F]=I.concat();return this.notifyChange("paths"),this}clone(){const I=new $;return I.spatialReference=this.spatialReference,I.paths=(0,O.d9)(this.paths),I.hasZ=this.hasZ,I.hasM=this.hasM,I}getPoint(I,w){if(!this._validateInputs(I,w))return null;const F=this.paths[I][w],k=this.hasZ,W=this.hasM;return k&&!W?new T.Z(F[0],F[1],F[2],void 0,this.spatialReference):W&&!k?new T.Z(F[0],F[1],void 0,F[2],this.spatialReference):k&&W?new T.Z(F[0],F[1],F[2],F[3],this.spatialReference):new T.Z(F[0],F[1],this.spatialReference)}insertPoint(I,w,F){return this._validateInputs(I,w,!0)?((0,Y.l)(this,F),Array.isArray(F)||(F=F.toArray()),this.paths[I].splice(w,0,F),this.notifyChange("paths"),this):this}removePath(I){if(!this._validateInputs(I,null))return null;const w=this.paths.splice(I,1)[0],F=this.spatialReference,k=w.map(W=>new T.Z(W,F));return this.notifyChange("paths"),k}removePoint(I,w){if(!this._validateInputs(I,w))return null;const F=new T.Z(this.paths[I].splice(w,1)[0],this.spatialReference);return this.notifyChange("paths"),F}setPoint(I,w,F){return this._validateInputs(I,w)?((0,Y.l)(this,F),Array.isArray(F)||(F=F.toArray()),this.paths[I][w]=F,this.notifyChange("paths"),this):this}_validateInputs(I,w,F=!1){if(null==I||I<0||I>=this.paths.length)return!1;if(null!=w){const k=this.paths[I];if(F&&(w<0||w>k.length)||!F&&(w<0||w>=k.length))return!1}return!0}toJSON(I){return this.write({},I)}};(0,M._)([(0,X.Cb)({readOnly:!0})],ne.prototype,"cache",null),(0,M._)([(0,X.Cb)({readOnly:!0})],ne.prototype,"extent",null),(0,M._)([(0,X.Cb)({type:[[[Number]]],json:{write:{isRequired:!0}}})],ne.prototype,"paths",void 0),(0,M._)([(0,ee.c)("paths")],ne.prototype,"writePaths",null),ne=$=(0,M._)([(0,N.j)("esri.geometry.Polyline")],ne),ne.prototype.toJSON.isDefaultToJSON=!0;const j=ne},65234:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>Z});var T,M=E(17626),O=E(86810),X=E(58817),B=E(90912),N=E(77712),ee=E(76898),z=E(99433),L=E(37053);let x=T=class extends O.wq{constructor(Y){super(Y),this.latestWkid=null,this.wkid=null,this.wkt=null,this.vcsWkid=null,this.latestVcsWkid=null,this.imageCoordinateSystem=null}static fromJSON(Y){if(!Y)return null;if(Y.wkid){if(102100===Y.wkid)return T.WebMercator;if(4326===Y.wkid)return T.WGS84}const $=new T;return $.read(Y),$}normalizeCtorArgs(Y){return Y&&"object"==typeof Y?Y:{["string"==typeof Y?"wkt":"wkid"]:Y}}get isWGS84(){return(0,L.oR)(this)}get isWebMercator(){return(0,L.sS)(this)}get isGeographic(){return(0,L.sT)(this)}get isWrappable(){return(0,L.MP)(this)}writeWkt(Y,$){this.wkid||($.wkt=Y)}clone(){if(this===T.WGS84)return T.WGS84;if(this===T.WebMercator)return T.WebMercator;const Y=new T;return null!=this.wkid?(Y.wkid=this.wkid,null!=this.latestWkid&&(Y.latestWkid=this.latestWkid),null!=this.vcsWkid&&(Y.vcsWkid=this.vcsWkid),null!=this.latestVcsWkid&&(Y.latestVcsWkid=this.latestVcsWkid)):null!=this.wkt&&(Y.wkt=this.wkt),this.imageCoordinateSystem&&(Y.imageCoordinateSystem=(0,X.d9)(this.imageCoordinateSystem)),Y}equals(Y){if(null==Y)return!1;if(this.imageCoordinateSystem||Y.imageCoordinateSystem){if(null==this.imageCoordinateSystem||null==Y.imageCoordinateSystem)return!1;const{id:$,referenceServiceName:se}=Y.imageCoordinateSystem,{geodataXform:ne}=Y.imageCoordinateSystem,j=this.imageCoordinateSystem;return null==$||ne?JSON.stringify(j)===JSON.stringify(Y.imageCoordinateSystem):se?j.id===$&&j.referenceServiceName===se:j.id===$}return(0,L.fS)(this,Y)}toJSON(Y){return this.write(void 0,Y)}};x.GCS_NAD_1927=null,x.WGS84=null,x.WebMercator=null,x.PlateCarree=null,(0,M._)([(0,N.Cb)({readOnly:!0})],x.prototype,"isWGS84",null),(0,M._)([(0,N.Cb)({readOnly:!0})],x.prototype,"isWebMercator",null),(0,M._)([(0,N.Cb)({readOnly:!0})],x.prototype,"isGeographic",null),(0,M._)([(0,N.Cb)({readOnly:!0})],x.prototype,"isWrappable",null),(0,M._)([(0,N.Cb)({type:B.z8,json:{write:!0}})],x.prototype,"latestWkid",void 0),(0,M._)([(0,N.Cb)({type:B.z8,json:{write:!0,origins:{"web-scene":{write:{overridePolicy(){return{isRequired:null===this.wkt}}}}}}})],x.prototype,"wkid",void 0),(0,M._)([(0,N.Cb)({type:String,json:{origins:{"web-scene":{write:{overridePolicy(){return{isRequired:null===this.wkid}}}}}}})],x.prototype,"wkt",void 0),(0,M._)([(0,z.c)("wkt"),(0,z.c)("web-scene","wkt")],x.prototype,"writeWkt",null),(0,M._)([(0,N.Cb)({type:B.z8,json:{write:!0}})],x.prototype,"vcsWkid",void 0),(0,M._)([(0,N.Cb)({type:B.z8,json:{write:!0}})],x.prototype,"latestVcsWkid",void 0),(0,M._)([(0,N.Cb)()],x.prototype,"imageCoordinateSystem",void 0),x=T=(0,M._)([(0,ee.j)("esri.geometry.SpatialReference")],x),x.prototype.toJSON.isDefaultToJSON=!0,x.GCS_NAD_1927=new x({wkid:4267,wkt:'GEOGCS["GCS_North_American_1927",DATUM["D_North_American_1927",SPHEROID["Clarke_1866",6378206.4,294.9786982]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]]'}),x.WGS84=new x(L.Zn),x.WebMercator=new x(L.R_),x.PlateCarree=new x(L.WR),Object.freeze&&(Object.freeze(x.GCS_NAD_1927),Object.freeze(x.WGS84),Object.freeze(x.WebMercator));const Z=x},55915:(Qe,Me,E)=>{"use strict";E.d(Me,{Bm:()=>xn,CM:()=>ut,KC:()=>ot,Up:()=>_e,Wt:()=>He,iQ:()=>Ie,iV:()=>de,kR:()=>oe,oj:()=>le,rS:()=>me,zD:()=>K});var M=E(15861),O=E(26584),X=E(21286),B=E(62208),N=E(10699),ee=E(16730),z=E(28347),T=(E(84161),E(28093)),x=E(2004),Z=E(72854),Y=E(44956),$=E(49672),se=E(37118),ne=E(55214),j=E(12080),w=(E(65401),E(94425)),F=E(37299),k=E(98346),W=E(37053),re=E(6178);E(33696);let ue=null,he=null,fe=null,pe={};function oe(){return!!ue&&(0,Y.i)()}function K(dt){return(0,B.Wi)(fe)&&(fe=Promise.all([(0,Y.l)(),E.e(4918).then(E.bind(E,4918)).then(bt=>bt.g),E.e(8592).then(E.bind(E,77777))])),fe.then(([,bt,{hydratedAdapter:pt}])=>{(0,N.k_)(dt),he=pt,ue=bt.default,ue._enableProjection(Y.p)})}function de(dt,bt,pt=null){return Array.isArray(dt)?0===dt.length?[]:le(he,dt,dt[0].spatialReference,bt,pt):le(he,[dt],dt.spatialReference,bt,pt)[0]}function le(dt,bt,pt,Lt,_t=null){if((0,B.Wi)(pt)||(0,B.Wi)(Lt))return bt;if(_e(pt,Lt,_t))return bt.map(un=>(0,B.Wg)(function Ve(dt,bt,pt){return dt?"x"in dt?function we(dt,bt,pt,Lt,_t){Mn[0]=dt.x,Mn[1]=dt.y;const un=dt.z;return Mn[2]=void 0!==un?un:_t,ut(Mn,bt,0,Mn,Lt,0,1)?(pt.x=Mn[0],pt.y=Mn[1],pt.spatialReference=Lt,void 0===un?(pt.z=void 0,pt.hasZ=!1):(pt.z=Mn[2],pt.hasZ=!0),void 0===dt.m?(pt.m=void 0,pt.hasM=!1):(pt.m=dt.m,pt.hasM=!0),pt):null}(dt,bt,new $.Z,pt,0):"xmin"in dt?function je(dt,bt,pt,Lt,_t){const{xmin:un,ymin:hn,xmax:pn,ymax:Fn,hasZ:mn,hasM:sr}=dt;return at(un,hn,mn?dt.zmin:_t,bt,Mn,Lt)?(pt.xmin=Mn[0],pt.ymin=Mn[1],mn&&(pt.zmin=Mn[2]),at(pn,Fn,mn?dt.zmax:_t,bt,Mn,Lt)?(pt.xmax=Mn[0],pt.ymax=Mn[1],mn&&(pt.zmax=Mn[2]),sr&&(pt.mmin=dt.mmin,pt.mmax=dt.mmax),pt.spatialReference=Lt,pt):null):null}(dt,bt,new x.Z,pt,0):"rings"in dt?te(dt,bt,new se.Z,pt,0):"paths"in dt?function Ze(dt,bt,pt,Lt,_t){const{paths:un,hasZ:hn,hasM:pn}=dt,Fn=[];return St(un,hn,pn,bt,Fn,Lt,_t)?(pt.paths=Fn,pt.spatialReference=Lt,pt.hasZ=hn,pt.hasM=pn,pt):null}(dt,bt,new ne.Z,pt,0):"points"in dt?function nt(dt,bt,pt,Lt,_t){const{points:un,hasZ:hn,hasM:pn}=dt,Fn=[],mn=un.length,sr=[];for(const er of un)sr.push(er[0],er[1],hn?er[2]:_t);if(!ut(sr,bt,0,sr,Lt,0,mn))return null;for(let er=0;er<mn;++er){const Cr=3*er,Rs=sr[Cr],$r=sr[Cr+1];Fn.push(hn&&pn?[Rs,$r,sr[Cr+2],un[er][3]]:hn?[Rs,$r,sr[Cr+2]]:pn?[Rs,$r,un[er][2]]:[Rs,$r])}return pt.points=Fn,pt.spatialReference=Lt,pt.hasZ=hn,pt.hasM=pn,pt}(dt,bt,new Z.Z,pt,0):null:null}(un,pt,Lt)));if((0,B.Wi)(_t)){const un=k.Z.cacheKey(pt,Lt);void 0!==pe[un]?_t=pe[un]:(_t=me(pt,Lt,null),(0,B.Wi)(_t)&&(_t=new k.Z),pe[un]=_t)}if((0,B.Wi)(ue))throw new ge;return ue._project(dt,bt,pt,Lt,_t)}function me(dt,bt,pt=null){if((0,B.Wi)(ue))throw new ge;if((0,B.Wi)(dt)||(0,B.Wi)(bt))return null;const Lt=ue._getTransformation(he,dt,bt,pt,null==pt?void 0:pt.spatialReference);return null!==Lt?k.Z.fromGE(Lt):null}class ge extends O.Z{constructor(){super("projection:not-loaded","projection engine not fully loaded yet, please call load()")}}var J,dt;function _e(dt,bt,pt){return!pt&&(!!(0,W.fS)(dt,bt)||(0,W.JY)(dt)&&(0,W.JY)(bt)&&!!li(dt,bt,ks))}function Ie(dt,bt,pt,Lt){return xe.apply(this,arguments)}function xe(){return(xe=(0,M.Z)(function*(dt,bt,pt,Lt){if(!oe())if(Array.isArray(dt)){for(const{source:_t,dest:un,geographicTransformation:hn}of dt)if(!_e(_t,un,hn))return K(Lt)}else if(!_e(dt,bt,pt))return K(Lt)})).apply(this,arguments)}function He(dt,bt,pt=bt.spatialReference,Lt=0){return(0,B.pC)(pt)&&(0,B.pC)(te(dt,dt.spatialReference,bt,pt,Lt))}function te(dt,bt,pt,Lt,_t){const{rings:un,hasZ:hn,hasM:pn}=dt,Fn=[];return St(un,hn,pn,bt,Fn,Lt,_t)?(pt.rings=Fn,pt.spatialReference=Lt,pt.hasZ=hn,pt.hasM=pn,pt):null}function ot(dt,bt,pt,Lt=0){Mn[0]=dt.x,Mn[1]=dt.y;const _t=dt.z;return Mn[2]=void 0!==_t?_t:Lt,ut(Mn,dt.spatialReference,0,bt,pt,0,1)}function at(dt,bt,pt,Lt,_t,un){return wt[0]=dt,wt[1]=bt,wt[2]=pt,ut(wt,Lt,0,_t,un,0,1)}function ut(dt,bt,pt,Lt,_t,un,hn=1){const pn=li(bt,_t,ks);if((0,B.Wi)(pn))return!1;if(pn===st){if(dt===Lt&&pt===un)return!0;const mn=pt+3*hn;for(let sr=pt,er=un;sr<mn;sr++,er++)Lt[er]=dt[sr];return!0}const Fn=pt+3*hn;for(let mn=pt,sr=un;mn<Fn;mn+=3,sr+=3)pn(dt,mn,Lt,sr);return!0}function St(dt,bt,pt,Lt,_t,un,hn=0){const pn=new Array;for(const mn of dt)for(const sr of mn)pn.push(sr[0],sr[1],bt?sr[2]:hn);if(!ut(pn,Lt,0,pn,un,0,pn.length/3))return!1;let Fn=0;_t.length=0;for(const mn of dt){const sr=new Array;for(const er of mn)bt&&pt?sr.push([pn[Fn++],pn[Fn++],pn[Fn++],er[3]]):bt?sr.push([pn[Fn++],pn[Fn++],pn[Fn++]]):pt?(sr.push([pn[Fn++],pn[Fn++],er[2]]),Fn++):(sr.push([pn[Fn++],pn[Fn++]]),Fn++);_t.push(sr)}return!0}function xn(dt,bt,pt,Lt){if((0,B.Wi)(dt)||(0,B.Wi)(Lt))return!1;const _t=Dn(dt,Gs),un=Dn(Lt,Jr);if(_t===un&&!yn(un)&&(_t!==J.UNKNOWN||(0,W.fS)(dt,Lt)))return(0,z.f)(pt,bt),!0;if(yn(un)){const hn=ls[_t][J.LON_LAT],pn=ls[J.LON_LAT][un];return!(0,B.Wi)(hn)&&!(0,B.Wi)(pn)&&(hn(bt,0,fn,0),pn(fn,0,cn,0),An(Le*fn[0],Le*fn[1],pt),pt[12]=cn[0],pt[13]=cn[1],pt[14]=cn[2],!0)}if((un===J.WEB_MERCATOR||un===J.PLATE_CARREE)&&(_t===J.WGS84||_t===J.CGCS2000&&un===J.PLATE_CARREE||_t===J.SPHERICAL_ECEF||_t===J.WEB_MERCATOR)){const hn=ls[_t][J.LON_LAT],pn=ls[J.LON_LAT][un];return!(0,B.Wi)(hn)&&!(0,B.Wi)(pn)&&(hn(bt,0,fn,0),pn(fn,0,cn,0),_t===J.SPHERICAL_ECEF?function In(dt,bt,pt){An(dt,bt,pt),(0,z.t)(pt,pt)}(Le*fn[0],Le*fn[1],pt):(0,z.i)(pt),pt[12]=cn[0],pt[13]=cn[1],pt[14]=cn[2],!0)}return!1}function yn(dt){return dt===J.SPHERICAL_ECEF||dt===J.SPHERICAL_MARS_PCPF||dt===J.SPHERICAL_MOON_PCPF}function An(dt,bt,pt){const Lt=Math.sin(dt),_t=Math.cos(dt),un=Math.sin(bt),hn=Math.cos(bt),pn=pt;return pn[0]=-Lt,pn[4]=-un*_t,pn[8]=hn*_t,pn[12]=0,pn[1]=_t,pn[5]=-un*Lt,pn[9]=hn*Lt,pn[13]=0,pn[2]=0,pn[6]=hn,pn[10]=un,pn[14]=0,pn[3]=0,pn[7]=0,pn[11]=0,pn[15]=1,pn}function Dn(dt,bt){return bt.spatialReference===dt?bt.spatialReferenceId:(bt.spatialReference=dt,"metersPerUnit"in bt&&(bt.metersPerUnit=(0,ee.c9)(dt,1)),bt.spatialReferenceId=dt.wkt===j.GG.wkt?J.SPHERICAL_ECEF:(0,W.oR)(dt)?J.WGS84:(0,W.sS)(dt)?J.WEB_MERCATOR:(0,W.QM)(dt)?J.PLATE_CARREE:dt.wkt===j.wY.wkt?J.WGS84_ECEF:dt.wkid===re.W.CGCS2000?J.CGCS2000:dt.wkt===j.HQ.wkt?J.SPHERICAL_MARS_PCPF:dt.wkt===j.VY.wkt?J.SPHERICAL_MOON_PCPF:(0,W.BZ)(dt)?J.GCSMARS2000:(0,W.V2)(dt)?J.GCSMOON2000:J.UNKNOWN)}function st(dt,bt,pt,Lt){dt!==pt&&(pt[Lt++]=dt[bt++],pt[Lt++]=dt[bt++],pt[Lt]=dt[bt])}function Dt(dt,bt,pt,Lt){pt[Lt++]=Kt*(dt[bt++]/w.sv.radius),pt[Lt++]=Kt*(Math.PI/2-2*Math.atan(Math.exp(-dt[bt++]/w.sv.radius))),pt[Lt]=dt[bt]}function Nt(dt,bt,pt,Lt){!function Ht(dt,bt,pt,Lt,_t){const un=.4999999*Math.PI,hn=(0,X.uZ)(Le*dt[bt+1],-un,un),pn=Math.sin(hn);pt[Lt++]=Le*dt[bt]*_t.radius,pt[Lt++]=_t.halfSemiMajorAxis*Math.log((1+pn)/(1-pn)),pt[Lt]=dt[bt+2]}(dt,bt,pt,Lt,w.sv)}(dt=J||(J={}))[dt.UNKNOWN=0]="UNKNOWN",dt[dt.SPHERICAL_ECEF=1]="SPHERICAL_ECEF",dt[dt.WGS84=2]="WGS84",dt[dt.WEB_MERCATOR=3]="WEB_MERCATOR",dt[dt.WGS84_ECEF=4]="WGS84_ECEF",dt[dt.CGCS2000=5]="CGCS2000",dt[dt.WGS84_COMPARABLE_LON_LAT=6]="WGS84_COMPARABLE_LON_LAT",dt[dt.SPHERICAL_MARS_PCPF=7]="SPHERICAL_MARS_PCPF",dt[dt.GCSMARS2000=8]="GCSMARS2000",dt[dt.SPHERICAL_MOON_PCPF=9]="SPHERICAL_MOON_PCPF",dt[dt.GCSMOON2000=10]="GCSMOON2000",dt[dt.LON_LAT=11]="LON_LAT",dt[dt.PLATE_CARREE=12]="PLATE_CARREE";const Yt=w.sv.radius*Math.PI/180,Jt=180/(w.sv.radius*Math.PI);function an(dt,bt,pt,Lt){pt[Lt]=dt[bt]*Yt,pt[Lt+1]=dt[bt+1]*Yt,pt[Lt+2]=dt[bt+2]}function Ot(dt,bt,pt,Lt){pt[Lt]=dt[bt]*Jt,pt[Lt+1]=dt[bt+1]*Jt,pt[Lt+2]=dt[bt+2]}function it(dt,bt,pt,Lt,_t){const un=_t+dt[bt+2],hn=Le*dt[bt+1],pn=Le*dt[bt],Fn=Math.cos(hn);pt[Lt++]=Math.cos(pn)*Fn*un,pt[Lt++]=Math.sin(pn)*Fn*un,pt[Lt]=Math.sin(hn)*un}function Vt(dt,bt,pt,Lt){it(dt,bt,pt,Lt,w.Z1.radius)}function $t(dt,bt,pt,Lt){it(dt,bt,pt,Lt,w.yr.radius)}function rn(dt,bt,pt,Lt){it(dt,bt,pt,Lt,w.sv.radius)}function gn(dt,bt,pt,Lt,_t){const un=dt[bt],hn=dt[bt+1],pn=dt[bt+2],Fn=Math.sqrt(un*un+hn*hn+pn*pn),mn=(0,X.Kt)(pn/(0===Fn?1:Fn)),sr=Math.atan2(hn,un);pt[Lt++]=Kt*sr,pt[Lt++]=Kt*mn,pt[Lt]=Fn-_t}function Zn(dt,bt,pt,Lt){gn(dt,bt,pt,Lt,w.Z1.radius)}function mr(dt,bt,pt,Lt){gn(dt,bt,pt,Lt,w.yr.radius)}function fr(dt,bt,pt,Lt){gn(dt,bt,pt,Lt,w.sv.radius)}function Wr(dt,bt,pt,Lt){!function zs(dt,bt,pt,Lt,_t){const un=Le*dt[bt],hn=Le*dt[bt+1],pn=dt[bt+2],Fn=Math.sin(hn),mn=Math.cos(hn),sr=_t.radius/Math.sqrt(1-_t.eccentricitySquared*Fn*Fn);pt[Lt++]=(sr+pn)*mn*Math.cos(un),pt[Lt++]=(sr+pn)*mn*Math.sin(un),pt[Lt++]=(sr*(1-_t.eccentricitySquared)+pn)*Fn}(dt,bt,pt,Lt,w.sv)}function zr(dt,bt,pt,Lt){const _t=F.cD,un=dt[bt],hn=dt[bt+1],pn=dt[bt+2];let Fn,mn,sr,er,Cr,Rs,$r,ms,Gr,Yn,Cs,xr,ui,Fr,us,qr,Ds,pr,nr,eo,Io;Fn=Math.abs(pn),mn=un*un+hn*hn,sr=Math.sqrt(mn),er=mn+pn*pn,Cr=Math.sqrt(er),eo=Math.atan2(hn,un),Rs=pn*pn/er,$r=mn/er,Fr=_t.a2/Cr,us=_t.a3-_t.a4/Cr,$r>.3?(ms=Fn/Cr*(1+$r*(_t.a1+Fr+Rs*us)/Cr),nr=Math.asin(ms),Yn=ms*ms,Gr=Math.sqrt(1-Yn)):(Gr=sr/Cr*(1-Rs*(_t.a5-Fr-$r*us)/Cr),nr=Math.acos(Gr),Yn=1-Gr*Gr,ms=Math.sqrt(Yn)),Cs=1-w.sv.eccentricitySquared*Yn,xr=w.sv.radius/Math.sqrt(Cs),ui=_t.a6*xr,Fr=sr-xr*Gr,us=Fn-ui*ms,Ds=Gr*Fr+ms*us,qr=Gr*us-ms*Fr,pr=qr/(ui/Cs+Ds),nr+=pr,Io=Ds+qr*pr/2,pn<0&&(nr=-nr),pt[Lt++]=Kt*eo,pt[Lt++]=Kt*nr,pt[Lt]=Io}const ls={[J.WGS84]:{[J.CGCS2000]:null,[J.GCSMARS2000]:null,[J.GCSMOON2000]:null,[J.LON_LAT]:st,[J.WGS84_COMPARABLE_LON_LAT]:st,[J.SPHERICAL_ECEF]:rn,[J.SPHERICAL_MARS_PCPF]:null,[J.SPHERICAL_MOON_PCPF]:null,[J.UNKNOWN]:null,[J.WEB_MERCATOR]:Nt,[J.PLATE_CARREE]:an,[J.WGS84]:st,[J.WGS84_ECEF]:Wr},[J.CGCS2000]:{[J.CGCS2000]:st,[J.GCSMARS2000]:null,[J.GCSMOON2000]:null,[J.LON_LAT]:st,[J.WGS84_COMPARABLE_LON_LAT]:st,[J.SPHERICAL_ECEF]:rn,[J.SPHERICAL_MARS_PCPF]:null,[J.SPHERICAL_MOON_PCPF]:null,[J.UNKNOWN]:null,[J.WEB_MERCATOR]:null,[J.PLATE_CARREE]:an,[J.WGS84]:null,[J.WGS84_ECEF]:Wr},[J.GCSMARS2000]:{[J.CGCS2000]:null,[J.GCSMARS2000]:st,[J.GCSMOON2000]:null,[J.LON_LAT]:st,[J.WGS84_COMPARABLE_LON_LAT]:null,[J.SPHERICAL_ECEF]:null,[J.SPHERICAL_MARS_PCPF]:$t,[J.SPHERICAL_MOON_PCPF]:null,[J.UNKNOWN]:null,[J.WEB_MERCATOR]:null,[J.PLATE_CARREE]:null,[J.WGS84]:null,[J.WGS84_ECEF]:null},[J.GCSMOON2000]:{[J.CGCS2000]:null,[J.GCSMARS2000]:null,[J.GCSMOON2000]:st,[J.LON_LAT]:st,[J.WGS84_COMPARABLE_LON_LAT]:null,[J.SPHERICAL_ECEF]:null,[J.SPHERICAL_MARS_PCPF]:null,[J.SPHERICAL_MOON_PCPF]:Vt,[J.UNKNOWN]:null,[J.WEB_MERCATOR]:null,[J.PLATE_CARREE]:null,[J.WGS84]:null,[J.WGS84_ECEF]:null},[J.WEB_MERCATOR]:{[J.CGCS2000]:null,[J.GCSMARS2000]:null,[J.GCSMOON2000]:null,[J.LON_LAT]:Dt,[J.WGS84_COMPARABLE_LON_LAT]:Dt,[J.SPHERICAL_ECEF]:function jt(dt,bt,pt,Lt){Dt(dt,bt,pt,Lt),rn(pt,Lt,pt,Lt)},[J.SPHERICAL_MARS_PCPF]:null,[J.SPHERICAL_MOON_PCPF]:null,[J.UNKNOWN]:null,[J.WEB_MERCATOR]:st,[J.PLATE_CARREE]:function yt(dt,bt,pt,Lt){Dt(dt,bt,pt,Lt),an(pt,Lt,pt,Lt)},[J.WGS84]:Dt,[J.WGS84_ECEF]:function Wt(dt,bt,pt,Lt){Dt(dt,bt,pt,Lt),Wr(pt,Lt,pt,Lt)}},[J.WGS84_ECEF]:{[J.CGCS2000]:zr,[J.GCSMARS2000]:null,[J.GCSMOON2000]:null,[J.LON_LAT]:zr,[J.WGS84_COMPARABLE_LON_LAT]:zr,[J.SPHERICAL_ECEF]:function ti(dt,bt,pt,Lt){zr(dt,bt,pt,Lt),rn(pt,Lt,pt,Lt)},[J.SPHERICAL_MARS_PCPF]:null,[J.SPHERICAL_MOON_PCPF]:null,[J.UNKNOWN]:null,[J.WEB_MERCATOR]:function Vi(dt,bt,pt,Lt){zr(dt,bt,pt,Lt),Nt(pt,Lt,pt,Lt)},[J.PLATE_CARREE]:function ze(dt,bt,pt,Lt){zr(dt,bt,pt,Lt),an(pt,Lt,pt,Lt)},[J.WGS84]:zr,[J.WGS84_ECEF]:st},[J.SPHERICAL_ECEF]:{[J.CGCS2000]:fr,[J.GCSMARS2000]:null,[J.GCSMOON2000]:null,[J.LON_LAT]:fr,[J.WGS84_COMPARABLE_LON_LAT]:fr,[J.SPHERICAL_ECEF]:st,[J.SPHERICAL_MARS_PCPF]:null,[J.SPHERICAL_MOON_PCPF]:null,[J.UNKNOWN]:null,[J.WEB_MERCATOR]:function Mr(dt,bt,pt,Lt){fr(dt,bt,pt,Lt),Nt(pt,Lt,pt,Lt)},[J.PLATE_CARREE]:function mt(dt,bt,pt,Lt){fr(dt,bt,pt,Lt),an(pt,Lt,pt,Lt)},[J.WGS84]:fr,[J.WGS84_ECEF]:function Lr(dt,bt,pt,Lt){fr(dt,bt,pt,Lt),Wr(pt,Lt,pt,Lt)}},[J.SPHERICAL_MARS_PCPF]:{[J.CGCS2000]:null,[J.GCSMARS2000]:mr,[J.GCSMOON2000]:null,[J.LON_LAT]:mr,[J.WGS84_COMPARABLE_LON_LAT]:null,[J.SPHERICAL_ECEF]:null,[J.SPHERICAL_MARS_PCPF]:st,[J.SPHERICAL_MOON_PCPF]:null,[J.UNKNOWN]:null,[J.WEB_MERCATOR]:null,[J.PLATE_CARREE]:null,[J.WGS84]:null,[J.WGS84_ECEF]:null},[J.SPHERICAL_MOON_PCPF]:{[J.CGCS2000]:null,[J.GCSMARS2000]:null,[J.GCSMOON2000]:Zn,[J.LON_LAT]:Zn,[J.WGS84_COMPARABLE_LON_LAT]:null,[J.SPHERICAL_ECEF]:null,[J.SPHERICAL_MARS_PCPF]:null,[J.SPHERICAL_MOON_PCPF]:st,[J.UNKNOWN]:null,[J.WEB_MERCATOR]:null,[J.PLATE_CARREE]:null,[J.WGS84]:null,[J.WGS84_ECEF]:null},[J.UNKNOWN]:{[J.CGCS2000]:null,[J.GCSMARS2000]:null,[J.GCSMOON2000]:null,[J.LON_LAT]:null,[J.WGS84_COMPARABLE_LON_LAT]:null,[J.SPHERICAL_ECEF]:null,[J.SPHERICAL_MARS_PCPF]:null,[J.SPHERICAL_MOON_PCPF]:null,[J.UNKNOWN]:st,[J.WEB_MERCATOR]:null,[J.PLATE_CARREE]:null,[J.WGS84]:null,[J.WGS84_ECEF]:null},[J.LON_LAT]:{[J.CGCS2000]:st,[J.GCSMARS2000]:st,[J.GCSMOON2000]:st,[J.LON_LAT]:st,[J.WGS84_COMPARABLE_LON_LAT]:st,[J.SPHERICAL_ECEF]:rn,[J.SPHERICAL_MARS_PCPF]:$t,[J.SPHERICAL_MOON_PCPF]:Vt,[J.UNKNOWN]:null,[J.WEB_MERCATOR]:Nt,[J.PLATE_CARREE]:an,[J.WGS84]:st,[J.WGS84_ECEF]:Wr},[J.WGS84_COMPARABLE_LON_LAT]:{[J.CGCS2000]:null,[J.GCSMARS2000]:null,[J.GCSMOON2000]:null,[J.LON_LAT]:st,[J.WGS84_COMPARABLE_LON_LAT]:st,[J.SPHERICAL_ECEF]:rn,[J.SPHERICAL_MARS_PCPF]:null,[J.SPHERICAL_MOON_PCPF]:null,[J.UNKNOWN]:null,[J.WEB_MERCATOR]:null,[J.PLATE_CARREE]:an,[J.WGS84]:st,[J.WGS84_ECEF]:Wr},[J.PLATE_CARREE]:{[J.CGCS2000]:Ot,[J.GCSMARS2000]:null,[J.GCSMOON2000]:null,[J.LON_LAT]:Ot,[J.WGS84_COMPARABLE_LON_LAT]:Ot,[J.SPHERICAL_ECEF]:function Ae(dt,bt,pt,Lt){Ot(dt,bt,pt,Lt),rn(pt,Lt,pt,Lt)},[J.SPHERICAL_MARS_PCPF]:null,[J.SPHERICAL_MOON_PCPF]:null,[J.UNKNOWN]:null,[J.WEB_MERCATOR]:function et(dt,bt,pt,Lt){Ot(dt,bt,pt,Lt),Nt(pt,Lt,pt,Lt)},[J.PLATE_CARREE]:st,[J.WGS84]:Ot,[J.WGS84_ECEF]:function Tt(dt,bt,pt,Lt){Ot(dt,bt,pt,Lt),Wr(pt,Lt,pt,Lt)}}};function li(dt,bt,pt=As()){return(0,B.Wi)(dt)||(0,B.Wi)(bt)?null:function ni(dt,bt,pt){if((0,B.Wi)(dt)||(0,B.Wi)(bt)||pt.source.spatialReference===dt&&pt.dest.spatialReference===bt)return pt;const Lt=Dn(dt,pt.source),_t=Dn(bt,pt.dest);return pt.projector=Lt===J.UNKNOWN&&_t===J.UNKNOWN?(0,W.fS)(dt,bt)?st:null:ls[Lt][_t],pt}(dt,bt,pt).projector}function As(){return{source:{spatialReference:null,spatialReferenceId:J.UNKNOWN,metersPerUnit:1},dest:{spatialReference:null,spatialReferenceId:J.UNKNOWN,metersPerUnit:1},projector:st}}const Gs={spatialReference:null,spatialReferenceId:J.UNKNOWN},Jr={spatialReference:null,spatialReferenceId:J.UNKNOWN},ks=As(),Le=(As(),(0,X.Vl)(1)),Kt=(0,X.BV)(1),wt=(0,T.c)(),fn=(0,T.c)(),cn=(0,T.c)(),Mn=(0,T.c)();(0,T.c)()},12080:(Qe,Me,E)=>{"use strict";E.d(Me,{GG:()=>N,HQ:()=>ee,Iu:()=>Z,VY:()=>z,e8:()=>Y,rS:()=>x,wY:()=>L});var M=E(65234),O=E(94425),X=E(37053);function B($){return new M.Z({wkt:`GEOCCS["Spherical geocentric",\n    DATUM["Not specified",\n      SPHEROID["Sphere",${$.radius},0]],\n    PRIMEM["Greenwich",0.0,\n      AUTHORITY["EPSG","8901"]],\n    UNIT["m",1.0],\n    AXIS["Geocentric X",OTHER],\n    AXIS["Geocentric Y",EAST],\n    AXIS["Geocentric Z",NORTH]\n  ]`})}const N=B(O.sv),ee=B(O.yr),z=B(O.Z1),L=new M.Z({wkt:`GEOCCS["WGS 84",\n  DATUM["WGS_1984",\n    SPHEROID["WGS 84",${O.sv.radius},298.257223563,\n      AUTHORITY["EPSG","7030"]],\n    AUTHORITY["EPSG","6326"]],\n  PRIMEM["Greenwich",0,\n    AUTHORITY["EPSG","8901"]],\n  UNIT["m",1.0,\n    AUTHORITY["EPSG","9001"]],\n  AXIS["Geocentric X",OTHER],\n  AXIS["Geocentric Y",OTHER],\n  AXIS["Geocentric Z",NORTH],\n  AUTHORITY["EPSG","4978"]\n]`});function x($){return $&&((0,X.BZ)($)||$===ee)?ee:$&&((0,X.V2)($)||$===z)?z:N}function Z($){return $&&((0,X.BZ)($)||$===ee)?O.yr:$&&((0,X.V2)($)||$===z)?O.Z1:O.sv}function Y($){return(0,X.o$)($)?O.yr:(0,X.ME)($)?O.Z1:O.sv}},94425:(Qe,Me,E)=>{"use strict";E.d(Me,{Z1:()=>B,sv:()=>O,yr:()=>X});class M{constructor(ee,z,L,T){this.semiMajorAxis=ee,this.flattening=z,this.outerAtmosphereRimWidth=L,this.semiMinorAxis=this.semiMajorAxis*(1-this.flattening),this.halfSemiMajorAxis=this.semiMajorAxis/2,this.halfCircumference=Math.PI*this.semiMajorAxis,this.metersPerDegree=this.halfCircumference/180,this.inverseFlattening=1/(1-this.flattening)-1,this.eccentricitySquared=T||2*this.flattening-this.flattening*this.flattening,this.meanRadiusSemiAxes=(2*this.semiMajorAxis+this.semiMinorAxis)/3}get radius(){return this.semiMajorAxis}}const O=new M(6378137,1/298.257223563,3e5,.006694379990137799),X=new M(3396190,1/169.8944472236118,23e4),B=new M(1737400,0,0)},98346:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>X});let M=0;class O{constructor(N=null){this.uid=M++,N?(this._wkt=void 0!==N.wkt?N.wkt:null,this._wkid=void 0!==N.wkid?N.wkid:-1,this._isInverse=void 0!==N.isInverse&&!0===N.isInverse):(this._wkt=null,this._wkid=-1,this._isInverse=!1)}static fromGE(N){const ee=new O;return ee._wkt=N.wkt,ee._wkid=N.wkid,ee._isInverse=N.isInverse,ee}get wkt(){return this._wkt}set wkt(N){this._wkt=N,this.uid=M++}get wkid(){return this._wkid}set wkid(N){this._wkid=N,this.uid=M++}get isInverse(){return this._isInverse}set isInverse(N){this._isInverse=N,this.uid=M++}getInverse(){const N=new O;return N._wkt=this.wkt,N._wkid=this._wkid,N._isInverse=!this.isInverse,N}}class X{constructor(N){if(this.steps=[],this._cached_projection={},this._chain="",this._gtlistentry=null,N&&N.steps)for(const ee of N.steps)this.steps.push(ee instanceof O?ee:new O({wkid:ee.wkid,wkt:ee.wkt,isInverse:ee.isInverse}))}static cacheKey(N,ee){return[null!=N.wkid?N.wkid.toString():"-1",null!=N.wkt?N.wkt.toString():"",null!=ee.wkid?ee.wkid.toString():"-1",null!=ee.wkt?ee.wkt.toString():""].join(",")}static fromGE(N){const ee=new X;let z="";for(const L of N.steps){const T=O.fromGE(L);ee.steps.push(T),z+=T.uid.toString()+","}return ee._cached_projection={},ee._gtlistentry=null,ee._chain=z,ee}getInverse(){const N=new X;N.steps=[];for(let ee=this.steps.length-1;ee>=0;ee--)N.steps.push(this.steps[ee].getInverse());return N}getGTListEntry(){let N="";for(const ee of this.steps)N+=ee.uid.toString()+",";return N!==this._chain&&(this._gtlistentry=null,this._cached_projection={},this._chain=N),this._gtlistentry}assignCachedGe(N,ee,z){this._cached_projection[X.cacheKey(N,ee)]=z}getCachedGeTransformation(N,ee){let z="";for(const T of this.steps)z+=T.uid.toString()+",";z!==this._chain&&(this._gtlistentry=null,this._cached_projection={},this._chain=z);const L=this._cached_projection[X.cacheKey(N,ee)];return void 0===L?null:L}}},6178:(Qe,Me,E)=>{"use strict";var M,O;E.d(Me,{W:()=>M}),(O=M||(M={}))[O.CGCS2000=4490]="CGCS2000",O[O.GCSMARS2000=104971]="GCSMARS2000",O[O.GCSMARS2000_SPHERE=104905]="GCSMARS2000_SPHERE",O[O.GCSMOON2000=104903]="GCSMOON2000"},84029:(Qe,Me,E)=>{"use strict";let M;E.d(Me,{Z:()=>O});const O={values:[1,.3048,.3048006096012192,.3047972654,.9143917962,.201166195164,.9143984146160287,.3047994715386762,20.11676512155263,20.11678249437587,.9143985307444408,.91439523,.3047997101815088,20.1168,20.116756,5e4,15e4],units:["Meter","Foot","Foot_US","Foot_Clarke","Yard_Clarke","Link_Clarke","Yard_Sears","Foot_Sears","Chain_Sears","Chain_Benoit_1895_B","Yard_Indian","Yard_Indian_1937","Foot_Gold_Coast","Chain","Chain_Sears_1922_Truncated","50_Kilometers","150_Kilometers"],2066:5,2136:12,2155:2,2157:0,2158:0,2159:12,2160:12,2204:2,2219:0,2220:0,2254:2,2255:2,2256:1,2265:1,2266:1,2267:2,2268:2,2269:1,2270:1,2271:2,2272:2,2273:1,2294:0,2295:0,2314:3,2899:2,2900:2,2901:1,2909:1,2910:1,2911:2,2912:2,2913:1,2914:1,2992:1,2993:0,2994:1,3080:1,3089:2,3090:0,3091:2,3102:2,3141:0,3142:0,3167:14,3359:2,3360:0,3361:1,3362:0,3363:2,3364:0,3365:2,3366:3,3404:2,3405:0,3406:0,3407:3,3439:0,3440:0,3479:1,3480:0,3481:1,3482:0,3483:1,3484:0,3485:2,3486:0,3487:2,3488:0,3489:0,3490:2,3491:0,3492:2,3493:0,3494:2,3495:0,3496:2,3497:0,3498:2,3499:0,3500:2,3501:0,3502:2,3503:0,3504:2,3505:0,3506:2,3507:0,3508:2,3509:0,3510:2,3511:0,3512:2,3513:0,3514:0,3515:2,3516:0,3517:2,3518:0,3519:2,3520:0,3521:2,3522:0,3523:2,3524:0,3525:2,3526:0,3527:2,3528:0,3529:2,3530:0,3531:2,3532:0,3533:2,3534:0,3535:2,3536:0,3537:2,3538:0,3539:2,3540:0,3541:2,3542:0,3543:2,3544:0,3545:2,3546:0,3547:2,3548:0,3549:2,3550:0,3551:2,3552:0,3553:2,3582:2,3583:0,3584:2,3585:0,3586:2,3587:0,3588:1,3589:0,3590:1,3591:0,3592:0,3593:1,3598:2,3599:0,3600:2,3605:1,3606:0,3607:0,3608:2,3609:0,3610:2,3611:0,3612:2,3613:0,3614:2,3615:0,3616:2,3617:0,3618:2,3619:0,3620:2,3621:0,3622:2,3623:0,3624:2,3625:0,3626:2,3627:0,3628:2,3629:0,3630:2,3631:0,3632:2,3633:0,3634:1,3635:0,3636:1,3640:2,3641:0,3642:2,3643:0,3644:1,3645:0,3646:1,3647:0,3648:1,3649:0,3650:2,3651:0,3652:2,3653:0,3654:2,3655:0,3656:1,3657:0,3658:2,3659:0,3660:2,3661:0,3662:2,3663:0,3664:2,3668:2,3669:0,3670:2,3671:0,3672:2,3673:0,3674:2,3675:0,3676:1,3677:2,3678:0,3679:1,3680:2,3681:0,3682:1,3683:2,3684:0,3685:0,3686:2,3687:0,3688:2,3689:0,3690:2,3691:0,3692:2,3696:2,3697:0,3698:2,3699:0,3700:2,3793:0,3794:0,3812:0,3854:0,3857:0,3920:0,3978:0,3979:0,3991:2,3992:2,4026:0,4037:0,4038:0,4071:0,4082:0,4083:0,4087:0,4088:0,4217:2,4414:0,4415:0,4417:0,4434:0,4437:0,4438:2,4439:2,4462:0,4467:0,4471:0,4474:0,4559:0,4647:0,4822:0,4826:0,4839:0,5018:0,5048:0,5167:0,5168:0,5221:0,5223:0,5234:0,5235:0,5243:0,5247:0,5266:0,5316:0,5320:0,5321:0,5325:0,5337:0,5361:0,5362:0,5367:0,5382:0,5383:0,5396:0,5456:0,5457:0,5469:0,5472:4,5490:0,5513:0,5514:0,5523:0,5559:0,5588:1,5589:3,5596:0,5627:0,5629:0,5641:0,5643:0,5644:0,5646:2,5654:2,5655:2,5659:0,5700:0,5825:0,5836:0,5837:0,5839:0,5842:0,5844:0,5858:0,5879:0,5880:0,5887:0,5890:0,6128:1,6129:1,6141:1,6204:0,6210:0,6211:0,6307:0,6312:0,6316:0,6362:0,6391:1,6405:1,6406:0,6407:1,6408:0,6409:1,6410:0,6411:2,6412:0,6413:2,6414:0,6415:0,6416:2,6417:0,6418:2,6419:0,6420:2,6421:0,6422:2,6423:0,6424:2,6425:0,6426:2,6427:0,6428:2,6429:0,6430:2,6431:0,6432:2,6433:0,6434:2,6435:0,6436:2,6437:0,6438:2,6439:0,6440:0,6441:2,6442:0,6443:2,6444:0,6445:2,6446:0,6447:2,6448:0,6449:2,6450:0,6451:2,6452:0,6453:2,6454:0,6455:2,6456:0,6457:2,6458:0,6459:2,6460:0,6461:2,6462:0,6463:2,6464:0,6465:2,6466:0,6467:2,6468:0,6469:2,6470:0,6471:2,6472:0,6473:2,6474:0,6475:2,6476:0,6477:2,6478:0,6479:2,6484:2,6485:0,6486:2,6487:0,6488:2,6489:0,6490:2,6491:0,6492:2,6493:0,6494:1,6495:0,6496:1,6497:0,6498:0,6499:1,6500:0,6501:2,6502:0,6503:2,6504:0,6505:2,6506:0,6507:2,6508:0,6509:0,6510:2,6515:1,6516:0,6518:0,6519:2,6520:0,6521:2,6522:0,6523:2,6524:0,6525:2,6526:0,6527:2,6528:0,6529:2,6530:0,6531:2,6532:0,6533:2,6534:0,6535:2,6536:0,6537:2,6538:0,6539:2,6540:0,6541:2,6542:0,6543:2,6544:0,6545:1,6546:0,6547:1,6548:0,6549:2,6550:0,6551:2,6552:0,6553:2,6554:0,6555:2,6556:0,6557:1,6558:0,6559:1,6560:0,6561:1,6562:0,6563:2,6564:0,6565:2,6566:0,6567:0,6568:2,6569:0,6570:1,6571:0,6572:2,6573:0,6574:2,6575:0,6576:2,6577:0,6578:2,6582:2,6583:0,6584:2,6585:0,6586:2,6587:0,6588:2,6589:0,6590:2,6591:0,6592:0,6593:2,6594:0,6595:2,6596:0,6597:2,6598:0,6599:2,6600:0,6601:2,6602:0,6603:2,6605:2,6606:0,6607:2,6608:0,6609:2,6610:0,6611:0,6612:2,6613:0,6614:2,6615:0,6616:2,6617:0,6618:2,6633:2,6646:0,6703:0,6784:0,6785:1,6786:0,6787:1,6788:0,6789:1,6790:0,6791:1,6792:0,6793:1,6794:0,6795:1,6796:0,6797:1,6798:0,6799:1,6800:0,6801:1,6802:0,6803:1,6804:0,6805:1,6806:0,6807:1,6808:0,6809:1,6810:0,6811:1,6812:0,6813:1,6814:0,6815:1,6816:0,6817:1,6818:0,6819:1,6820:0,6821:1,6822:0,6823:1,6824:0,6825:1,6826:0,6827:1,6828:0,6829:1,6830:0,6831:1,6832:0,6833:1,6834:0,6835:1,6836:0,6837:1,6838:0,6839:1,6840:0,6841:1,6842:0,6843:1,6844:0,6845:1,6846:0,6847:1,6848:0,6849:1,6850:0,6851:1,6852:0,6853:1,6854:0,6855:1,6856:0,6857:1,6858:0,6859:1,6860:0,6861:1,6862:0,6863:1,6867:0,6868:1,6870:0,6875:0,6876:0,6879:0,6880:2,6884:0,6885:1,6886:0,6887:1,6915:0,6922:0,6923:2,6924:0,6925:2,6962:0,6984:0,6991:0,7128:2,7131:0,7132:2,7142:0,7257:0,7258:2,7259:0,7260:2,7261:0,7262:2,7263:0,7264:2,7265:0,7266:2,7267:0,7268:2,7269:0,7270:2,7271:0,7272:2,7273:0,7274:2,7275:0,7276:2,7277:0,7278:2,7279:0,7280:2,7281:0,7282:2,7283:0,7284:2,7285:0,7286:2,7287:0,7288:2,7289:0,7290:2,7291:0,7292:2,7293:0,7294:2,7295:0,7296:2,7297:0,7298:2,7299:0,7300:2,7301:0,7302:2,7303:0,7304:2,7305:0,7306:2,7307:0,7308:2,7309:0,7310:2,7311:0,7312:2,7313:0,7314:2,7315:0,7316:2,7317:0,7318:2,7319:0,7320:2,7321:0,7322:2,7323:0,7324:2,7325:0,7326:2,7327:0,7328:2,7329:0,7330:2,7331:0,7332:2,7333:0,7334:2,7335:0,7336:2,7337:0,7338:2,7339:0,7340:2,7341:0,7342:2,7343:0,7344:2,7345:0,7346:2,7347:0,7348:2,7349:0,7350:2,7351:0,7352:2,7353:0,7354:2,7355:0,7356:2,7357:0,7358:2,7359:0,7360:2,7361:0,7362:2,7363:0,7364:2,7365:0,7366:2,7367:0,7368:2,7369:0,7370:2,7877:0,7878:0,7882:0,7883:0,7887:0,7899:0,7991:0,7992:0,8035:2,8036:2,8058:0,8059:0,8082:0,8083:0,8088:0,8090:0,8091:2,8092:0,8093:2,8095:0,8096:2,8097:0,8098:2,8099:0,8100:2,8101:0,8102:2,8103:0,8104:2,8105:0,8106:2,8107:0,8108:2,8109:0,8110:2,8111:0,8112:2,8113:0,8114:2,8115:0,8116:2,8117:0,8118:2,8119:0,8120:2,8121:0,8122:2,8123:0,8124:2,8125:0,8126:2,8127:0,8128:2,8129:0,8130:2,8131:0,8132:2,8133:0,8134:2,8135:0,8136:2,8137:0,8138:2,8139:0,8140:2,8141:0,8142:2,8143:0,8144:2,8145:0,8146:2,8147:0,8148:2,8149:0,8150:2,8151:0,8152:2,8153:0,8154:2,8155:0,8156:2,8157:0,8158:2,8159:0,8160:2,8161:0,8162:2,8163:0,8164:2,8165:0,8166:2,8167:0,8168:2,8169:0,8170:2,8171:0,8172:2,8173:0,8177:2,8179:0,8180:2,8181:0,8182:2,8184:0,8185:2,8187:0,8189:2,8191:0,8193:2,8196:0,8197:2,8198:0,8200:2,8201:0,8202:2,8203:0,8204:2,8205:0,8206:2,8207:0,8208:2,8209:0,8210:2,8212:0,8213:2,8214:0,8216:2,8218:0,8220:2,8222:0,8224:2,8225:0,8226:2,8311:0,8312:1,8313:0,8314:1,8315:0,8316:1,8317:0,8318:1,8319:0,8320:1,8321:0,8322:1,8323:0,8324:1,8325:0,8326:1,8327:0,8328:1,8329:0,8330:1,8331:0,8332:1,8333:0,8334:1,8335:0,8336:1,8337:0,8338:1,8339:0,8340:1,8341:0,8342:1,8343:0,8344:1,8345:0,8346:1,8347:0,8348:1,8352:0,8353:0,8379:0,8380:2,8381:0,8382:2,8383:0,8384:2,8385:0,8387:2,8391:0,8395:0,8433:0,8441:0,8455:0,8456:0,8531:2,8682:0,8686:0,8687:0,8692:0,8693:0,8826:0,8903:0,8950:0,8951:0,9039:0,9040:0,9141:0,9149:0,9150:0,9191:0,9221:0,9222:0,9249:0,9250:0,9252:0,9254:0,9265:0,9284:0,9285:0,9300:0,9354:0,9367:0,9373:0,9377:0,9387:0,9391:0,9456:0,9473:0,9498:0,9674:0,9678:0,9680:0,9709:0,9712:0,9713:0,9716:0,9741:0,9748:2,9749:2,9761:0,9766:0,20499:0,20538:0,20539:0,20790:0,20791:0,21291:0,21292:0,21500:0,21817:0,21818:0,22032:0,22033:0,22091:0,22092:0,22332:0,22391:0,22392:0,22700:0,22770:0,22780:0,22832:0,23090:0,23095:0,23239:0,23240:0,23433:0,23700:0,24047:0,24048:0,24100:3,24200:0,24305:0,24306:0,24382:10,24383:0,24500:0,24547:0,24548:0,24571:9,24600:0,25e3:0,25231:0,25884:0,25932:0,26237:0,26331:0,26332:0,26432:0,26591:0,26592:0,26632:0,26692:0,27120:0,27200:0,27291:6,27292:6,27429:0,27492:0,27493:0,27500:0,27700:0,28232:0,28600:0,28991:0,28992:0,29100:0,29101:0,29220:0,29221:0,29333:0,29635:0,29636:0,29701:0,29738:0,29739:0,29849:0,29850:0,29871:8,29872:7,29873:0,29874:0,30200:5,30339:0,30340:0,30591:0,30592:0,30791:0,30792:0,30800:0,31028:0,31121:0,31154:0,31170:0,31171:0,31370:0,31528:0,31529:0,31600:0,31700:0,31838:0,31839:0,31900:0,31901:0,32061:0,32062:0,32098:0,32099:2,32100:0,32104:0,32161:0,32766:0,53048:0,53049:0,54090:0,54091:0,65061:2,65062:2,65161:0,65163:0,102041:2,102064:11,102068:15,102069:16,102118:2,102119:1,102120:2,102121:2,102217:2,102218:0,102219:2,102220:2,102378:1,102379:1,102380:0,102381:1,102589:2,102599:2,102600:2,102604:2,102647:0,102704:2,102705:2,102706:0,102759:1,102760:1,102761:2,102762:0,102763:2,102764:0,102765:0,102766:2,102962:0,102963:0,102970:1,102974:2,102993:0,102994:0,102995:2,102996:2,103015:0,103016:2,103017:0,103018:2,103025:0,103026:0,103027:2,103028:2,103035:0,103036:0,103037:2,103038:2,103039:0,103040:0,103041:2,103042:2,103043:0,103044:0,103045:2,103046:2,103047:0,103048:0,103049:2,103050:2,103051:0,103052:2,103053:0,103054:2,103055:0,103056:2,103057:0,103058:0,103059:2,103060:2,103061:0,103062:0,103063:2,103064:2,103069:2,103070:0,103071:0,103072:2,103073:2,103086:0,103087:0,103088:2,103089:2,103094:1,103095:0,103096:2,103103:0,103104:2,103105:0,103106:2,103121:0,103122:2,103123:0,103124:0,103125:1,103126:1,103127:0,103128:0,103129:2,103130:2,103131:0,103132:0,103133:2,103134:2,103135:0,103136:0,103137:1,103138:1,103139:0,103140:2,103141:0,103142:2,103143:0,103144:2,103145:0,103146:1,103147:0,103148:0,103149:2,103150:2,103151:0,103152:2,103172:0,103173:2,103174:0,103175:0,103176:2,103177:2,103178:0,103179:0,103180:2,103181:2,103182:0,103183:0,103184:2,103185:2,103228:0,103229:0,103230:2,103231:2,103250:0,103251:2,103252:0,103253:2,103260:0,103261:0,103262:2,103263:2,103270:0,103271:0,103272:2,103273:2,103274:0,103275:0,103276:2,103277:2,103278:0,103279:0,103280:2,103281:2,103282:0,103283:0,103284:2,103285:2,103286:0,103287:2,103288:0,103289:2,103290:0,103291:2,103292:0,103293:0,103294:2,103295:2,103296:0,103297:0,103298:2,103299:2,103376:2,103377:0,103378:0,103379:2,103380:2,103393:0,103394:0,103395:2,103396:2,103472:0,103473:1,103474:0,103475:2,103482:0,103483:2,103484:0,103485:2,103500:0,103501:2,103502:0,103503:0,103504:1,103505:1,103506:0,103507:0,103508:2,103509:2,103510:0,103511:0,103512:2,103513:2,103514:0,103515:2,103516:0,103517:2,103518:0,103519:2,103520:0,103521:1,103522:0,103523:0,103524:2,103525:2,103526:0,103527:2,103561:2,103562:2,103563:0,103564:0,103565:2,103566:2,103567:0,103568:0,103569:2,103570:2,103584:0,103585:2,103586:0,103587:2,103588:1,103589:0,103590:2,103591:1,103592:0,103593:2,103594:1,103695:2};for(M=2e3;M<=2045;M++)O[M]=0;for(M=2056;M<=2065;M++)O[M]=0;for(M=2067;M<=2135;M++)O[M]=0;for(M=2137;M<=2154;M++)O[M]=0;for(M=2161;M<=2170;M++)O[M]=0;for(M=2172;M<=2193;M++)O[M]=0;for(M=2195;M<=2198;M++)O[M]=0;for(M=2200;M<=2203;M++)O[M]=0;for(M=2205;M<=2217;M++)O[M]=0;for(M=2222;M<=2224;M++)O[M]=1;for(M=2225;M<=2250;M++)O[M]=2;for(M=2251;M<=2253;M++)O[M]=1;for(M=2257;M<=2264;M++)O[M]=2;for(M=2274;M<=2279;M++)O[M]=2;for(M=2280;M<=2282;M++)O[M]=1;for(M=2283;M<=2289;M++)O[M]=2;for(M=2290;M<=2292;M++)O[M]=0;for(M=2308;M<=2313;M++)O[M]=0;for(M=2315;M<=2491;M++)O[M]=0;for(M=2494;M<=2866;M++)O[M]=0;for(M=2867;M<=2869;M++)O[M]=1;for(M=2870;M<=2888;M++)O[M]=2;for(M=2891;M<=2895;M++)O[M]=2;for(M=2896;M<=2898;M++)O[M]=1;for(M=2902;M<=2908;M++)O[M]=2;for(M=2915;M<=2920;M++)O[M]=2;for(M=2921;M<=2923;M++)O[M]=1;for(M=2924;M<=2930;M++)O[M]=2;for(M=2931;M<=2962;M++)O[M]=0;for(M=2964;M<=2968;M++)O[M]=2;for(M=2969;M<=2973;M++)O[M]=0;for(M=2975;M<=2991;M++)O[M]=0;for(M=2995;M<=3051;M++)O[M]=0;for(M=3054;M<=3079;M++)O[M]=0;for(M=3081;M<=3088;M++)O[M]=0;for(M=3092;M<=3101;M++)O[M]=0;for(M=3106;M<=3138;M++)O[M]=0;for(M=3146;M<=3151;M++)O[M]=0;for(M=3153;M<=3166;M++)O[M]=0;for(M=3168;M<=3172;M++)O[M]=0;for(M=3174;M<=3203;M++)O[M]=0;for(M=3294;M<=3358;M++)O[M]=0;for(M=3367;M<=3403;M++)O[M]=0;for(M=3408;M<=3416;M++)O[M]=0;for(M=3417;M<=3438;M++)O[M]=2;for(M=3441;M<=3446;M++)O[M]=2;for(M=3447;M<=3450;M++)O[M]=0;for(M=3451;M<=3459;M++)O[M]=2;for(M=3460;M<=3478;M++)O[M]=0;for(M=3554;M<=3559;M++)O[M]=0;for(M=3560;M<=3570;M++)O[M]=2;for(M=3571;M<=3581;M++)O[M]=0;for(M=3594;M<=3597;M++)O[M]=0;for(M=3601;M<=3604;M++)O[M]=0;for(M=3637;M<=3639;M++)O[M]=0;for(M=3665;M<=3667;M++)O[M]=0;for(M=3693;M<=3695;M++)O[M]=0;for(M=3701;M<=3727;M++)O[M]=0;for(M=3728;M<=3739;M++)O[M]=2;for(M=3740;M<=3751;M++)O[M]=0;for(M=3753;M<=3760;M++)O[M]=2;for(M=3761;M<=3773;M++)O[M]=0;for(M=3775;M<=3777;M++)O[M]=0;for(M=3779;M<=3781;M++)O[M]=0;for(M=3783;M<=3785;M++)O[M]=0;for(M=3788;M<=3791;M++)O[M]=0;for(M=3797;M<=3802;M++)O[M]=0;for(M=3814;M<=3816;M++)O[M]=0;for(M=3825;M<=3829;M++)O[M]=0;for(M=3832;M<=3841;M++)O[M]=0;for(M=3844;M<=3852;M++)O[M]=0;for(M=3873;M<=3885;M++)O[M]=0;for(M=3890;M<=3893;M++)O[M]=0;for(M=3907;M<=3912;M++)O[M]=0;for(M=3942;M<=3950;M++)O[M]=0;for(M=3968;M<=3970;M++)O[M]=0;for(M=3973;M<=3976;M++)O[M]=0;for(M=3986;M<=3989;M++)O[M]=0;for(M=3994;M<=3997;M++)O[M]=0;for(M=4048;M<=4051;M++)O[M]=0;for(M=4056;M<=4063;M++)O[M]=0;for(M=4093;M<=4096;M++)O[M]=0;for(M=4390;M<=4398;M++)O[M]=0;for(M=4399;M<=4413;M++)O[M]=2;for(M=4418;M<=4433;M++)O[M]=2;for(M=4455;M<=4457;M++)O[M]=2;for(M=4484;M<=4489;M++)O[M]=0;for(M=4491;M<=4554;M++)O[M]=0;for(M=4568;M<=4589;M++)O[M]=0;for(M=4652;M<=4656;M++)O[M]=0;for(M=4766;M<=4800;M++)O[M]=0;for(M=5014;M<=5016;M++)O[M]=0;for(M=5069;M<=5072;M++)O[M]=0;for(M=5105;M<=5130;M++)O[M]=0;for(M=5173;M<=5188;M++)O[M]=0;for(M=5253;M<=5259;M++)O[M]=0;for(M=5269;M<=5275;M++)O[M]=0;for(M=5292;M<=5311;M++)O[M]=0;for(M=5329;M<=5331;M++)O[M]=0;for(M=5343;M<=5349;M++)O[M]=0;for(M=5355;M<=5357;M++)O[M]=0;for(M=5387;M<=5389;M++)O[M]=0;for(M=5459;M<=5463;M++)O[M]=0;for(M=5479;M<=5482;M++)O[M]=0;for(M=5518;M<=5520;M++)O[M]=0;for(M=5530;M<=5539;M++)O[M]=0;for(M=5550;M<=5552;M++)O[M]=0;for(M=5562;M<=5583;M++)O[M]=0;for(M=5623;M<=5625;M++)O[M]=2;for(M=5631;M<=5639;M++)O[M]=0;for(M=5649;M<=5653;M++)O[M]=0;for(M=5663;M<=5680;M++)O[M]=0;for(M=5682;M<=5685;M++)O[M]=0;for(M=5875;M<=5877;M++)O[M]=0;for(M=5896;M<=5899;M++)O[M]=0;for(M=5921;M<=5940;M++)O[M]=0;for(M=6050;M<=6125;M++)O[M]=0;for(M=6244;M<=6275;M++)O[M]=0;for(M=6328;M<=6348;M++)O[M]=0;for(M=6350;M<=6356;M++)O[M]=0;for(M=6366;M<=6372;M++)O[M]=0;for(M=6381;M<=6387;M++)O[M]=0;for(M=6393;M<=6404;M++)O[M]=0;for(M=6480;M<=6483;M++)O[M]=0;for(M=6511;M<=6514;M++)O[M]=0;for(M=6579;M<=6581;M++)O[M]=0;for(M=6619;M<=6624;M++)O[M]=0;for(M=6625;M<=6627;M++)O[M]=2;for(M=6628;M<=6632;M++)O[M]=0;for(M=6634;M<=6637;M++)O[M]=0;for(M=6669;M<=6692;M++)O[M]=0;for(M=6707;M<=6709;M++)O[M]=0;for(M=6720;M<=6723;M++)O[M]=0;for(M=6732;M<=6738;M++)O[M]=0;for(M=6931;M<=6933;M++)O[M]=0;for(M=6956;M<=6959;M++)O[M]=0;for(M=7005;M<=7007;M++)O[M]=0;for(M=7057;M<=7070;M++)O[M]=2;for(M=7074;M<=7082;M++)O[M]=0;for(M=7109;M<=7118;M++)O[M]=0;for(M=7119;M<=7127;M++)O[M]=1;for(M=7374;M<=7376;M++)O[M]=0;for(M=7528;M<=7586;M++)O[M]=0;for(M=7587;M<=7645;M++)O[M]=2;for(M=7692;M<=7696;M++)O[M]=0;for(M=7755;M<=7787;M++)O[M]=0;for(M=7791;M<=7795;M++)O[M]=0;for(M=7799;M<=7801;M++)O[M]=0;for(M=7803;M<=7805;M++)O[M]=0;for(M=7825;M<=7831;M++)O[M]=0;for(M=7845;M<=7859;M++)O[M]=0;for(M=8013;M<=8032;M++)O[M]=0;for(M=8065;M<=8068;M++)O[M]=1;for(M=8518;M<=8529;M++)O[M]=2;for(M=8533;M<=8536;M++)O[M]=2;for(M=8538;M<=8540;M++)O[M]=2;for(M=8677;M<=8679;M++)O[M]=0;for(M=8836;M<=8840;M++)O[M]=0;for(M=8857;M<=8859;M++)O[M]=0;for(M=8908;M<=8910;M++)O[M]=0;for(M=9154;M<=9159;M++)O[M]=0;for(M=9205;M<=9218;M++)O[M]=0;for(M=9271;M<=9273;M++)O[M]=0;for(M=9295;M<=9297;M++)O[M]=0;for(M=9356;M<=9360;M++)O[M]=0;for(M=9404;M<=9407;M++)O[M]=0;for(M=9476;M<=9482;M++)O[M]=0;for(M=9487;M<=9494;M++)O[M]=0;for(M=9697;M<=9699;M++)O[M]=0;for(M=20002;M<=20032;M++)O[M]=0;for(M=20062;M<=20092;M++)O[M]=0;for(M=20135;M<=20138;M++)O[M]=0;for(M=20248;M<=20258;M++)O[M]=0;for(M=20348;M<=20358;M++)O[M]=0;for(M=20436;M<=20440;M++)O[M]=0;for(M=20822;M<=20824;M++)O[M]=0;for(M=20904;M<=20932;M++)O[M]=0;for(M=20934;M<=20936;M++)O[M]=0;for(M=21004;M<=21032;M++)O[M]=0;for(M=21035;M<=21037;M++)O[M]=0;for(M=21095;M<=21097;M++)O[M]=0;for(M=21148;M<=21150;M++)O[M]=0;for(M=21207;M<=21264;M++)O[M]=0;for(M=21307;M<=21364;M++)O[M]=0;for(M=21413;M<=21423;M++)O[M]=0;for(M=21453;M<=21463;M++)O[M]=0;for(M=21473;M<=21483;M++)O[M]=0;for(M=21780;M<=21782;M++)O[M]=0;for(M=21891;M<=21894;M++)O[M]=0;for(M=21896;M<=21899;M++)O[M]=0;for(M=22171;M<=22177;M++)O[M]=0;for(M=22181;M<=22187;M++)O[M]=0;for(M=22191;M<=22197;M++)O[M]=0;for(M=22234;M<=22236;M++)O[M]=0;for(M=22521;M<=22525;M++)O[M]=0;for(M=22991;M<=22994;M++)O[M]=0;for(M=23028;M<=23038;M++)O[M]=0;for(M=23830;M<=23853;M++)O[M]=0;for(M=23866;M<=23872;M++)O[M]=0;for(M=23877;M<=23884;M++)O[M]=0;for(M=23886;M<=23894;M++)O[M]=0;for(M=23946;M<=23948;M++)O[M]=0;for(M=24311;M<=24313;M++)O[M]=0;for(M=24342;M<=24347;M++)O[M]=0;for(M=24370;M<=24374;M++)O[M]=10;for(M=24375;M<=24381;M++)O[M]=0;for(M=24718;M<=24721;M++)O[M]=0;for(M=24817;M<=24821;M++)O[M]=0;for(M=24877;M<=24882;M++)O[M]=0;for(M=24891;M<=24893;M++)O[M]=0;for(M=25391;M<=25395;M++)O[M]=0;for(M=25828;M<=25838;M++)O[M]=0;for(M=26191;M<=26195;M++)O[M]=0;for(M=26391;M<=26393;M++)O[M]=0;for(M=26701;M<=26722;M++)O[M]=0;for(M=26729;M<=26799;M++)O[M]=2;for(M=26801;M<=26803;M++)O[M]=2;for(M=26811;M<=26813;M++)O[M]=2;for(M=26847;M<=26870;M++)O[M]=2;for(M=26891;M<=26899;M++)O[M]=0;for(M=26901;M<=26923;M++)O[M]=0;for(M=26929;M<=26946;M++)O[M]=0;for(M=26948;M<=26998;M++)O[M]=0;for(M=27037;M<=27040;M++)O[M]=0;for(M=27205;M<=27232;M++)O[M]=0;for(M=27258;M<=27260;M++)O[M]=0;for(M=27391;M<=27398;M++)O[M]=0;for(M=27561;M<=27564;M++)O[M]=0;for(M=27571;M<=27574;M++)O[M]=0;for(M=27581;M<=27584;M++)O[M]=0;for(M=27591;M<=27594;M++)O[M]=0;for(M=28191;M<=28193;M++)O[M]=0;for(M=28348;M<=28358;M++)O[M]=0;for(M=28402;M<=28432;M++)O[M]=0;for(M=28462;M<=28492;M++)O[M]=0;for(M=29118;M<=29122;M++)O[M]=0;for(M=29168;M<=29172;M++)O[M]=0;for(M=29177;M<=29185;M++)O[M]=0;for(M=29187;M<=29195;M++)O[M]=0;for(M=29900;M<=29903;M++)O[M]=0;for(M=30161;M<=30179;M++)O[M]=0;for(M=30491;M<=30494;M++)O[M]=0;for(M=30729;M<=30732;M++)O[M]=0;for(M=31251;M<=31259;M++)O[M]=0;for(M=31265;M<=31268;M++)O[M]=0;for(M=31275;M<=31279;M++)O[M]=0;for(M=31281;M<=31297;M++)O[M]=0;for(M=31461;M<=31469;M++)O[M]=0;for(M=31491;M<=31495;M++)O[M]=0;for(M=31917;M<=31922;M++)O[M]=0;for(M=31965;M<=32e3;M++)O[M]=0;for(M=32001;M<=32003;M++)O[M]=2;for(M=32005;M<=32031;M++)O[M]=2;for(M=32033;M<=32060;M++)O[M]=2;for(M=32064;M<=32067;M++)O[M]=2;for(M=32074;M<=32077;M++)O[M]=2;for(M=32081;M<=32086;M++)O[M]=0;for(M=32107;M<=32130;M++)O[M]=0;for(M=32133;M<=32158;M++)O[M]=0;for(M=32164;M<=32167;M++)O[M]=2;for(M=32180;M<=32199;M++)O[M]=0;for(M=32201;M<=32260;M++)O[M]=0;for(M=32301;M<=32360;M++)O[M]=0;for(M=32601;M<=32662;M++)O[M]=0;for(M=32664;M<=32667;M++)O[M]=2;for(M=32701;M<=32761;M++)O[M]=0;for(M=53001;M<=53004;M++)O[M]=0;for(M=53008;M<=53019;M++)O[M]=0;for(M=53021;M<=53032;M++)O[M]=0;for(M=53034;M<=53037;M++)O[M]=0;for(M=53042;M<=53046;M++)O[M]=0;for(M=53074;M<=53080;M++)O[M]=0;for(M=54001;M<=54004;M++)O[M]=0;for(M=54008;M<=54019;M++)O[M]=0;for(M=54021;M<=54032;M++)O[M]=0;for(M=54034;M<=54037;M++)O[M]=0;for(M=54042;M<=54046;M++)O[M]=0;for(M=54048;M<=54053;M++)O[M]=0;for(M=54074;M<=54080;M++)O[M]=0;for(M=54098;M<=54101;M++)O[M]=0;for(M=102001;M<=102040;M++)O[M]=0;for(M=102042;M<=102063;M++)O[M]=0;for(M=102065;M<=102067;M++)O[M]=0;for(M=102070;M<=102117;M++)O[M]=0;for(M=102122;M<=102216;M++)O[M]=0;for(M=102221;M<=102377;M++)O[M]=0;for(M=102382;M<=102388;M++)O[M]=0;for(M=102389;M<=102398;M++)O[M]=2;for(M=102399;M<=102444;M++)O[M]=0;for(M=102445;M<=102447;M++)O[M]=2;for(M=102448;M<=102458;M++)O[M]=0;for(M=102459;M<=102468;M++)O[M]=2;for(M=102469;M<=102499;M++)O[M]=0;for(M=102500;M<=102519;M++)O[M]=1;for(M=102520;M<=102524;M++)O[M]=0;for(M=102525;M<=102529;M++)O[M]=2;for(M=102530;M<=102588;M++)O[M]=0;for(M=102590;M<=102598;M++)O[M]=0;for(M=102601;M<=102603;M++)O[M]=0;for(M=102605;M<=102628;M++)O[M]=0;for(M=102629;M<=102646;M++)O[M]=2;for(M=102648;M<=102700;M++)O[M]=2;for(M=102701;M<=102703;M++)O[M]=0;for(M=102707;M<=102730;M++)O[M]=2;for(M=102733;M<=102758;M++)O[M]=2;for(M=102767;M<=102900;M++)O[M]=0;for(M=102901;M<=102933;M++)O[M]=2;for(M=102934;M<=102950;M++)O[M]=13;for(M=102951;M<=102960;M++)O[M]=0;for(M=102965;M<=102969;M++)O[M]=0;for(M=102971;M<=102973;M++)O[M]=0;for(M=102975;M<=102989;M++)O[M]=0;for(M=102990;M<=102992;M++)O[M]=1;for(M=102997;M<=103002;M++)O[M]=0;for(M=103003;M<=103008;M++)O[M]=2;for(M=103009;M<=103011;M++)O[M]=0;for(M=103012;M<=103014;M++)O[M]=2;for(M=103019;M<=103021;M++)O[M]=0;for(M=103022;M<=103024;M++)O[M]=2;for(M=103029;M<=103031;M++)O[M]=0;for(M=103032;M<=103034;M++)O[M]=2;for(M=103065;M<=103068;M++)O[M]=0;for(M=103074;M<=103076;M++)O[M]=0;for(M=103077;M<=103079;M++)O[M]=1;for(M=103080;M<=103082;M++)O[M]=0;for(M=103083;M<=103085;M++)O[M]=2;for(M=103090;M<=103093;M++)O[M]=0;for(M=103097;M<=103099;M++)O[M]=0;for(M=103100;M<=103102;M++)O[M]=2;for(M=103107;M<=103109;M++)O[M]=0;for(M=103110;M<=103112;M++)O[M]=2;for(M=103113;M<=103116;M++)O[M]=0;for(M=103117;M<=103120;M++)O[M]=2;for(M=103153;M<=103157;M++)O[M]=0;for(M=103158;M<=103162;M++)O[M]=2;for(M=103163;M<=103165;M++)O[M]=0;for(M=103166;M<=103168;M++)O[M]=1;for(M=103169;M<=103171;M++)O[M]=2;for(M=103186;M<=103188;M++)O[M]=0;for(M=103189;M<=103191;M++)O[M]=2;for(M=103192;M<=103195;M++)O[M]=0;for(M=103196;M<=103199;M++)O[M]=2;for(M=103200;M<=103224;M++)O[M]=0;for(M=103225;M<=103227;M++)O[M]=1;for(M=103232;M<=103237;M++)O[M]=0;for(M=103238;M<=103243;M++)O[M]=2;for(M=103244;M<=103246;M++)O[M]=0;for(M=103247;M<=103249;M++)O[M]=2;for(M=103254;M<=103256;M++)O[M]=0;for(M=103257;M<=103259;M++)O[M]=2;for(M=103264;M<=103266;M++)O[M]=0;for(M=103267;M<=103269;M++)O[M]=2;for(M=103300;M<=103375;M++)O[M]=0;for(M=103381;M<=103383;M++)O[M]=0;for(M=103384;M<=103386;M++)O[M]=1;for(M=103387;M<=103389;M++)O[M]=0;for(M=103390;M<=103392;M++)O[M]=2;for(M=103397;M<=103399;M++)O[M]=0;for(M=103400;M<=103471;M++)O[M]=2;for(M=103476;M<=103478;M++)O[M]=0;for(M=103479;M<=103481;M++)O[M]=2;for(M=103486;M<=103488;M++)O[M]=0;for(M=103489;M<=103491;M++)O[M]=2;for(M=103492;M<=103495;M++)O[M]=0;for(M=103496;M<=103499;M++)O[M]=2;for(M=103528;M<=103543;M++)O[M]=0;for(M=103544;M<=103548;M++)O[M]=2;for(M=103549;M<=103551;M++)O[M]=0;for(M=103552;M<=103554;M++)O[M]=1;for(M=103555;M<=103557;M++)O[M]=2;for(M=103558;M<=103560;M++)O[M]=0;for(M=103571;M<=103573;M++)O[M]=0;for(M=103574;M<=103576;M++)O[M]=2;for(M=103577;M<=103580;M++)O[M]=0;for(M=103581;M<=103583;M++)O[M]=2;for(M=103595;M<=103694;M++)O[M]=0;for(M=103696;M<=103699;M++)O[M]=0;for(M=103700;M<=103793;M++)O[M]=2;for(M=103794;M<=103872;M++)O[M]=0;for(M=103900;M<=103971;M++)O[M]=2},5548:(Qe,Me,E)=>{"use strict";E.d(Me,{Gv:()=>we,JR:()=>_e,TC:()=>x,Tn:()=>ge,Ue:()=>N,al:()=>ee,cS:()=>ie,dp:()=>re,fS:()=>ke,op:()=>ce,pp:()=>Y,t8:()=>J});var M=E(62208);function N(Te=We){return[Te[0],Te[1],Te[2],Te[3],Te[4],Te[5]]}function ee(Te,Ze,He,te,Ee,je,Ye=N()){return Ye[0]=Te,Ye[1]=Ze,Ye[2]=He,Ye[3]=te,Ye[4]=Ee,Ye[5]=je,Ye}function x(Te,Ze){Te[0]=Math.min(Te[0],Ze[0]),Te[1]=Math.min(Te[1],Ze[1]),Te[2]=Math.min(Te[2],Ze[2]),Te[3]=Math.max(Te[3],Ze[3]),Te[4]=Math.max(Te[4],Ze[4]),Te[5]=Math.max(Te[5],Ze[5])}function Y(Te,Ze){Te[0]=Math.min(Te[0],Ze[0]),Te[1]=Math.min(Te[1],Ze[1]),Te[2]=Math.min(Te[2],Ze[2]),Te[3]=Math.max(Te[3],Ze[0]),Te[4]=Math.max(Te[4],Ze[1]),Te[5]=Math.max(Te[5],Ze[2])}function re(Te,Ze=[0,0,0]){return Ze[0]=function I(Te){return Te[0]>=Te[3]?0:Te[3]-Te[0]}(Te),Ze[1]=function w(Te){return Te[1]>=Te[4]?0:Te[4]-Te[1]}(Te),Ze[2]=function F(Te){return Te[2]>=Te[5]?0:Te[5]-Te[2]}(Te),Ze}function ce(Te,Ze,He=Te){return He[0]=Ze[0],He[1]=Ze[1],He[2]=Ze[2],He!==Te&&(He[3]=Te[3],He[4]=Te[4],He[5]=Te[5]),He}function ge(Te,Ze,He=Te){return He[3]=Ze[0],He[4]=Ze[1],He[5]=Ze[2],He!==Te&&(He[0]=Te[0],He[1]=Te[1],He[2]=Te[2]),Te}function J(Te,Ze){return Te[0]=Ze[0],Te[1]=Ze[1],Te[2]=Ze[2],Te[3]=Ze[3],Te[4]=Ze[4],Te[5]=Ze[5],Te}function ie(Te){return Te?J(Te,we):N(we)}function _e(Te,Ze){return Te[0]=Ze[0],Te[1]=Ze[1],Te[2]=Number.NEGATIVE_INFINITY,Te[3]=Ze[2],Te[4]=Ze[3],Te[5]=Number.POSITIVE_INFINITY,Te}function Ie(Te){return 6===Te.length}function ke(Te,Ze,He){if((0,M.Wi)(Te)||(0,M.Wi)(Ze))return Te===Ze;if(!Ie(Te)||!Ie(Ze))return!1;if(He){for(let te=0;te<Te.length;te++)if(!He(Te[te],Ze[te]))return!1}else for(let te=0;te<Te.length;te++)if(Te[te]!==Ze[te])return!1;return!0}E(2004),E(65401);const we=[1/0,1/0,1/0,-1/0,-1/0,-1/0],We=[0,0,0,0,0,0];N()},65401:(Qe,Me,E)=>{"use strict";E.d(Me,{Cb:()=>I,Gv:()=>xe,HH:()=>Z,Ho:()=>Y,SO:()=>w,Ue:()=>ee,Zm:()=>he,al:()=>T,bf:()=>j,d9:()=>z,kK:()=>fe,oJ:()=>x,r3:()=>pe}),E(8314),E(21286);var X=E(62208),B=E(2004);function ee(ve=ke){return[ve[0],ve[1],ve[2],ve[3]]}function z(ve){return[ve[0],ve[1],ve[2],ve[3]]}function T(ve,we,We,nt,Te=ee()){return Te[0]=ve,Te[1]=we,Te[2]=We,Te[3]=nt,Te}function x(ve,we=ee()){return we[0]=ve.xmin,we[1]=ve.ymin,we[2]=ve.xmax,we[3]=ve.ymax,we}function Z(ve,we){return new B.Z({xmin:ve[0],ymin:ve[1],xmax:ve[2],ymax:ve[3],spatialReference:we})}function Y(ve,we){we[0]<ve[0]&&(ve[0]=we[0]),we[0]>ve[2]&&(ve[2]=we[0]),we[1]<ve[1]&&(ve[1]=we[1]),we[1]>ve[3]&&(ve[3]=we[1])}function j(ve){return(0,X.Wi)(ve)||ve[0]>=ve[2]?0:ve[2]-ve[0]}function I(ve){return ve[1]>=ve[3]?0:ve[3]-ve[1]}function w(ve){return j(ve)*I(ve)}function he(ve,we,We){return we[0]>=ve[0]-We&&we[1]>=ve[1]-We&&we[0]<=ve[2]+We&&we[1]<=ve[3]+We}function fe(ve,we){return Math.max(we[0],ve[0])<=Math.min(we[2],ve[2])&&Math.max(we[1],ve[1])<=Math.min(we[3],ve[3])}function pe(ve,we){return we[0]>=ve[0]&&we[2]<=ve[2]&&we[1]>=ve[1]&&we[3]<=ve[3]}const xe=[1/0,1/0,-1/0,-1/0],ke=[0,0,0,0]},32442:(Qe,Me,E)=>{"use strict";function M(j){return void 0!==j.xmin&&void 0!==j.ymin&&void 0!==j.xmax&&void 0!==j.ymax}function O(j){return void 0!==j.points}function X(j){return void 0!==j.x&&void 0!==j.y}function B(j){return void 0!==j.paths}function N(j){return void 0!==j.rings}function ee(j){return(I,w)=>null==I?w:null==w?I:j(I,w)}E.d(Me,{$P:()=>T,C6:()=>Z,Yg:()=>x,lC:()=>$});const z=ee(Math.min),L=ee(Math.max);function T(j,I){return B(I)?Z(j,I.paths,!1,!1):N(I)?Z(j,I.rings,!1,!1):O(I)?$(j,I.points,!1,!1,!1,!1):M(I)?Y(j,I):(X(I)&&(j[0]=I.x,j[1]=I.y,j[2]=I.x,j[3]=I.y),j)}function x(j,I){return B(I)?Z(j,I.paths,!0,!1):N(I)?Z(j,I.rings,!0,!1):O(I)?$(j,I.points,!0,!1,!0,!1):M(I)?Y(j,I,0,0,!0,!1):(X(I)&&(j[0]=I.x,j[1]=I.y,j[2]=I.z,j[3]=I.x,j[4]=I.y,j[5]=I.z),j)}function Z(j,I,w,F){const k=w?3:2;if(!I.length||!I[0].length)return null;let W,re,Q,ue,[he,fe]=I[0][0],[pe,oe]=I[0][0];for(let K=0;K<I.length;K++){const de=I[K];for(let le=0;le<de.length;le++){const me=de[le],[ce,ge]=me;if(he=z(he,ce),fe=z(fe,ge),pe=L(pe,ce),oe=L(oe,ge),w&&me.length>2){const J=me[2];W=z(W,J),re=L(re,J)}if(F&&me.length>k){const J=me[k];Q=z(W,J),ue=L(re,J)}}}return w?F?(j[0]=he,j[1]=fe,j[2]=W,j[3]=Q,j[4]=pe,j[5]=oe,j[6]=re,j[7]=ue,j.length=8,j):(j[0]=he,j[1]=fe,j[2]=W,j[3]=pe,j[4]=oe,j[5]=re,j.length=6,j):F?(j[0]=he,j[1]=fe,j[2]=Q,j[3]=pe,j[4]=oe,j[5]=ue,j.length=6,j):(j[0]=he,j[1]=fe,j[2]=pe,j[3]=oe,j.length=4,j)}function Y(j,I,w,F,k,W){const re=I.xmin,Q=I.xmax,ue=I.ymin,he=I.ymax;let fe=I.zmin,pe=I.zmax,oe=I.mmin,K=I.mmax;return k?(fe=fe||0,pe=pe||0,W?(oe=oe||0,K=K||0,j[0]=re,j[1]=ue,j[2]=fe,j[3]=oe,j[4]=Q,j[5]=he,j[6]=pe,j[7]=K,j):(j[0]=re,j[1]=ue,j[2]=fe,j[3]=Q,j[4]=he,j[5]=pe,j)):W?(oe=oe||0,K=K||0,j[0]=re,j[1]=ue,j[2]=oe,j[3]=Q,j[4]=he,j[5]=K,j):(j[0]=re,j[1]=ue,j[2]=Q,j[3]=he,j)}function $(j,I,w,F,k,W){const re=w?3:2,Q=F&&W,ue=w&&k;if(!I.length||!I[0].length)return null;let he,fe,pe,oe,[K,de]=I[0],[le,me]=I[0];for(let ce=0;ce<I.length;ce++){const ge=I[ce],[J,ie]=ge;if(K=z(K,J),de=z(de,ie),le=L(le,J),me=L(me,ie),ue&&ge.length>2){const De=ge[2];he=z(he,De),fe=L(fe,De)}if(Q&&ge.length>re){const De=ge[re];pe=z(he,De),oe=L(fe,De)}}return k?(he=he||0,fe=fe||0,W?(pe=pe||0,oe=oe||0,j[0]=K,j[1]=de,j[2]=he,j[3]=pe,j[4]=le,j[5]=me,j[6]=fe,j[7]=oe,j):(j[0]=K,j[1]=de,j[2]=he,j[3]=le,j[4]=me,j[5]=fe,j)):W?(pe=pe||0,oe=oe||0,j[0]=K,j[1]=de,j[2]=pe,j[3]=le,j[4]=me,j[5]=oe,j):(j[0]=K,j[1]=de,j[2]=le,j[3]=me,j)}},27105:(Qe,Me,E)=>{"use strict";E.d(Me,{$G:()=>O,tO:()=>X});var M=E(25748);function O(z){return z?z.hasZ?[z.xmax-z.xmin/2,z.ymax-z.ymin/2,z.zmax-z.zmin/2]:[z.xmax-z.xmin/2,z.ymax-z.ymin/2]:null}function X(z){return z?function B(z,L){if(!z||!z.length)return null;const T=[],x=[],Z=L?[1/0,-1/0,1/0,-1/0,1/0,-1/0]:[1/0,-1/0,1/0,-1/0];for(let Y=0,$=z.length;Y<$;Y++){const se=N(z[Y],L,Z);se&&x.push(se)}if(x.sort((Y,$)=>{let se=Y[2]-$[2];return 0===se&&L&&(se=Y[4]-$[4]),se}),x.length&&(T[0]=x[0][0],T[1]=x[0][1],L&&(T[2]=x[0][3]),(T[0]<Z[0]||T[0]>Z[1]||T[1]<Z[2]||T[1]>Z[3]||L&&(T[2]<Z[4]||T[2]>Z[5]))&&(T.length=0)),!T.length){const Y=z[0]&&z[0].length?function ee(z,L){const T=L?[0,0,0]:[0,0],x=L?[0,0,0]:[0,0];let Z=0,Y=0,$=0,se=0;for(let ne=0,j=z.length;ne<j-1;ne++){const I=z[ne],w=z[ne+1];if(I&&w){T[0]=I[0],T[1]=I[1],x[0]=w[0],x[1]=w[1],L&&I.length>2&&w.length>2&&(T[2]=I[2],x[2]=w[2]);const F=(0,M.xA)(T,x);if(F){Z+=F;const k=(0,M.Gi)(I,w);Y+=F*k[0],$+=F*k[1],L&&k.length>2&&(se+=F*k[2])}}}return Z>0?L?[Y/Z,$/Z,se/Z]:[Y/Z,$/Z]:z.length?z[0]:null}(z[0],L):null;if(!Y)return null;T[0]=Y[0],T[1]=Y[1],L&&Y.length>2&&(T[2]=Y[2])}return T}(z.rings,z.hasZ):null}function N(z,L,T){let x=0,Z=0,Y=0,$=0,se=0;const ne=z.length?z[0][0]:0,j=z.length?z[0][1]:0,I=z.length&&L?z[0][2]:0;for(let F=0;F<z.length;F++){const k=z[F],W=z[(F+1)%z.length],[re,Q,ue]=k,he=re-ne,fe=Q-j,pe=L?ue-I:void 0,[oe,K,de]=W,le=oe-ne,me=K-j,ce=L?de-I:void 0,ge=he*me-le*fe;if($+=ge,x+=(he+le)*ge,Z+=(fe+me)*ge,L&&k.length>2&&W.length>2){const J=he*ce-le*pe;Y+=(pe+ce)*J,se+=J}re<T[0]&&(T[0]=re),re>T[1]&&(T[1]=re),Q<T[2]&&(T[2]=Q),Q>T[3]&&(T[3]=Q),L&&(ue<T[4]&&(T[4]=ue),ue>T[5]&&(T[5]=ue))}if($>0&&($*=-1),se>0&&(se*=-1),!$)return null;$*=.5,se*=.5;const w=[x/(6*$)+ne,Z/(6*$)+j,$];return L&&(T[4]===T[5]||0===se?(w[3]=(T[4]+T[5])/2,w[4]=0):(w[3]=Y/(6*se)+I,w[4]=se)),w}},33190:(Qe,Me,E)=>{"use strict";E.d(Me,{CI:()=>T,OQ:()=>ee,Qg:()=>z,aV:()=>X,lQ:()=>B,rM:()=>x,uP:()=>N});var M=E(62208);const O=[0,0];function X(se,ne){return!!(0,M.pC)(ne)&&L(se,ne.x,ne.y,ne.z)}function B(se,ne){if(!ne.points||ne.points.length)return!1;for(const j of ne.points)if(!ee(se,j))return!1;return!0}function N(se,ne){const{xmin:j,ymin:I,zmin:w,xmax:F,ymax:k,zmax:W}=ne;return se.hasZ&&ne.hasZ?L(se,j,I,w)&&L(se,j,k,w)&&L(se,F,k,w)&&L(se,F,I,w)&&L(se,j,I,W)&&L(se,j,k,W)&&L(se,F,k,W)&&L(se,F,I,W):L(se,j,I)&&L(se,j,k)&&L(se,F,k)&&L(se,F,I)}function ee(se,ne){return L(se,ne[0],ne[1])}function z(se,ne){return L(se,ne[0],ne[1],ne[2])}function L(se,ne,j,I){return ne>=se.xmin&&ne<=se.xmax&&j>=se.ymin&&j<=se.ymax&&(null==I||!se.hasZ||I>=se.zmin&&I<=se.zmax)}function T(se,ne){return O[1]=ne.y,O[0]=ne.x,x(se,O)}function x(se,ne){return function Z(se,ne){if(!se)return!1;if(function Y(se){return!Array.isArray(se[0][0])}(se))return $(!1,se,ne);let j=!1;for(let I=0,w=se.length;I<w;I++)j=$(j,se[I],ne);return j}(se.rings,ne)}function $(se,ne,j){const[I,w]=j;let F=se,k=0;for(let W=0,re=ne.length;W<re;W++){k++,k===re&&(k=0);const[Q,ue]=ne[W],[he,fe]=ne[k];(ue<w&&fe>=w||fe<w&&ue>=w)&&Q+(w-ue)/(fe-ue)*(he-Q)<I&&(F=!F)}return F}},25748:(Qe,Me,E)=>{"use strict";function X(j,I){const w=I[0]-j[0],F=I[1]-j[1];if(j.length>2&&I.length>2){const k=j[2]-I[2];return Math.sqrt(w*w+F*F+k*k)}return Math.sqrt(w*w+F*F)}function N(j,I,w,F){const[k,W]=I,[re,Q]=w[F],[ue,he]=w[F+1],fe=ue-re,pe=he-Q,de=Math.min(1,Math.max(0,((k-re)*fe+(W-Q)*pe)/(fe*fe+pe*pe)));return j[0]=re+fe*de,j[1]=Q+pe*de,j}function ee(j,I){return function B(j,I,w){const F=j[0]+w*(I[0]-j[0]),k=j[1]+w*(I[1]-j[1]);return j.length>2&&I.length>2?[F,k,j[2]+w*(I[2]-j[2])]:[F,k]}(j,I,.5)}function T(j,I,w){const F=j.length;let k=0,W=0,re=0;for(let Q=0;Q<F;Q++){const ue=j[Q],he=j[(Q+1)%F];let fe=2;k+=ue[0]*he[1]-he[0]*ue[1],ue.length>2&&he.length>2&&w&&(W+=ue[0]*he[2]-he[0]*ue[2],fe=3),ue.length>fe&&he.length>fe&&I&&(re+=ue[0]*he[fe]-he[0]*ue[fe])}return k<=0&&W<=0&&re<=0}function x(j){if("rings"in j){for(const I of j.rings)I.length<3||I[0][0]===I[I.length-1][0]&&I[0][1]===I[I.length-1][1]||I.push([I[0][0],I[0][1]]);if(j.rings.length>0&&!T(j.rings[0],j.hasM,j.hasZ))for(let I=0;I<j.rings.length;++I)j.rings[I]=j.rings[I].reverse()}}E.d(Me,{Gi:()=>ee,Tx:()=>N,bu:()=>T,pW:()=>x,xA:()=>X}),E(37053)},15176:(Qe,Me,E)=>{"use strict";E.d(Me,{Wn:()=>I,_w:()=>j,aO:()=>$});var M=E(32442);const z=[];function L(w,F,k,W){return{xmin:w,ymin:F,xmax:k,ymax:W}}function T(w,F,k,W,re,Q){return{xmin:w,ymin:F,zmin:k,xmax:W,ymax:re,zmax:Q}}function x(w,F,k,W,re,Q){return{xmin:w,ymin:F,mmin:k,xmax:W,ymax:re,mmax:Q}}function Z(w,F,k,W,re,Q,ue,he){return{xmin:w,ymin:F,zmin:k,mmin:W,xmax:re,ymax:Q,zmax:ue,mmax:he}}function Y(w,F=!1,k=!1){return F?k?Z(w[0],w[1],w[2],w[3],w[4],w[5],w[6],w[7]):T(w[0],w[1],w[2],w[3],w[4],w[5]):k?x(w[0],w[1],w[2],w[3],w[4],w[5]):L(w[0],w[1],w[2],w[3])}function $(w){return w?function O(w){return void 0!==w.xmin&&void 0!==w.ymin&&void 0!==w.xmax&&void 0!==w.ymax}(w)?w:function B(w){return void 0!==w.x&&void 0!==w.y}(w)?function ne(w){const{x:F,y:k,z:W,m:re}=w,Q=null!=re;return null!=W?Q?Z(F,k,W,re,F,k,W,re):T(F,k,W,F,k,W):Q?x(F,k,re,F,k,re):L(F,k,F,k)}(w):function ee(w){return void 0!==w.rings}(w)?j(w):function N(w){return void 0!==w.paths}(w)?I(w):function X(w){return void 0!==w.points}(w)?function se(w){const{hasZ:F,hasM:k,points:W}=w;return Y((0,M.lC)(z,W,F,k),F,k)}(w):null:null}function j(w){const{hasZ:F,hasM:k,rings:W}=w,re=(0,M.C6)(z,W,F,k);return re?Y(re,F,k):null}function I(w){const{hasZ:F,hasM:k,paths:W}=w,re=(0,M.C6)(z,W,F,k);return re?Y(re,F,k):null}},37299:(Qe,Me,E)=>{"use strict";E.d(Me,{Dg:()=>z,Yr:()=>O,cD:()=>ee,yB:()=>X});var M=E(94425);const O=Math.PI/180,X=/SPHEROID\[([^\]]+)]/i,B=M.sv.radius,N=M.sv.eccentricitySquared,ee={a1:B*N,a2:B*N*B*N,a3:B*N*N/2,a4:B*N*B*N*2.5,a5:B*N+B*N*N/2,a6:1-N},z={4267:{a:6378206.4,f:1/294.9786982},4269:{a:6378137,f:1/298.257222101},4326:{a:M.sv.radius,f:M.sv.flattening},104900:{a:2439700,f:0},104901:{a:6051e3,f:0},104902:{a:6051800,f:0},104903:{a:M.Z1.radius,f:M.Z1.flattening},104904:{a:3393400,f:1/192.0430107526882},104905:{a:M.yr.radius,f:M.yr.flattening},104906:{a:6200,f:0},104907:{a:11100,f:0},104908:{a:71492e3,f:.06487439154031222},104909:{a:8200,f:0},104910:{a:83500,f:0},104911:{a:1e4,f:0},104912:{a:2409300,f:0},104913:{a:15e3,f:0},104914:{a:4e4,f:0},104915:{a:1562090,f:0},104916:{a:2632345,f:0},104917:{a:85e3,f:0},104918:{a:1821460,f:0},104919:{a:5e3,f:0},104920:{a:12e3,f:0},104921:{a:3e4,f:3},104922:{a:18e3,f:0},104923:{a:14e3,f:0},104924:{a:49300,f:0},104925:{a:60268e3,f:1/10.2079945799458},104926:{a:16e3,f:0},104927:{a:9500,f:0},104928:{a:56e4,f:0},104929:{a:249400,f:0},104930:{a:59500,f:0},104931:{a:16e3,f:0},104932:{a:133e3,f:0},104933:{a:718e3,f:0},104934:{a:888e3,f:0},104935:{a:1986300,f:0},104936:{a:1e4,f:0},104937:{a:41900,f:0},104938:{a:11e4,f:0},104939:{a:50100,f:0},104940:{a:764e3,f:0},104941:{a:11e3,f:0},104942:{a:529800,f:0},104943:{a:2575e3,f:0},104944:{a:25559e3,f:1/43.61604095563141},104945:{a:578900,f:0},104946:{a:33e3,f:0},104947:{a:21e3,f:0},104948:{a:13e3,f:0},104949:{a:31e3,f:0},104950:{a:27e3,f:0},104951:{a:42e3,f:0},104952:{a:235800,f:0},104953:{a:761400,f:0},104954:{a:15e3,f:0},104955:{a:54e3,f:0},104956:{a:77e3,f:0},104957:{a:27e3,f:0},104958:{a:788900,f:0},104959:{a:584700,f:0},104960:{a:24764e3,f:.01708124697141011},104961:{a:74e3,f:0},104962:{a:79e3,f:0},104963:{a:104e3,f:.14423076923076922},104964:{a:29e3,f:0},104965:{a:17e4,f:0},104966:{a:208e3,f:0},104967:{a:4e4,f:0},104968:{a:1352600,f:0},104969:{a:1195e3,f:0},104970:{a:593e3,f:0},104971:{a:M.yr.radius,f:0},104972:{a:47e4,f:0},104973:{a:255e3,f:0},104974:{a:2439400,f:0}}},11519:(Qe,Me,E)=>{"use strict";E.d(Me,{Ff:()=>se,IY:()=>I,UT:()=>j,h_:()=>X,jQ:()=>Y});var M=E(33190);function O(w,F){return(0,M.aV)(w,F)}function X(w,F){let W,re,Q;if(w.xmin<=F.xmin){if(W=F.xmin,w.xmax<W)return!1}else if(W=w.xmin,F.xmax<W)return!1;if(w.ymin<=F.ymin){if(re=F.ymin,w.ymax<re)return!1}else if(re=w.ymin,F.ymax<re)return!1;if(w.hasZ&&F.hasZ&&F.hasZ)if(w.zmin<=F.zmin){if(Q=F.zmin,w.zmax<Q)return!1}else if(Q=w.zmin,F.zmax<Q)return!1;return!0}function B(w,F){const{points:k,hasZ:W}=F,re=W?M.Qg:M.OQ;for(const Q of k)if(re(w,Q))return!0;return!1}const N=[0,0],ee=[0,0],z=[0,0],L=[0,0],T=[N,ee,z,L],x=[[z,N],[N,ee],[ee,L],[L,z]];function Z(w,F){N[0]=w.xmin,N[1]=w.ymax,ee[0]=w.xmax,ee[1]=w.ymax,z[0]=w.xmin,z[1]=w.ymin,L[0]=w.xmax,L[1]=w.ymin;for(const k of T)if((0,M.rM)(F,k))return!0;for(const k of F.rings){if(!k.length)continue;let W=k[0];if((0,M.OQ)(w,W))return!0;for(let re=1;re<k.length;re++){const Q=k[re];if((0,M.OQ)(w,Q)||ne(W,Q,x))return!0;W=Q}}return!1}function Y(w,F){N[0]=w.xmin,N[1]=w.ymax,ee[0]=w.xmax,ee[1]=w.ymax,z[0]=w.xmin,z[1]=w.ymin,L[0]=w.xmax,L[1]=w.ymin;const k=F.paths;for(const W of k){if(!k.length)continue;let re=W[0];if((0,M.OQ)(w,re))return!0;for(let Q=1;Q<W.length;Q++){const ue=W[Q];if((0,M.OQ)(w,ue)||ne(re,ue,x))return!0;re=ue}}return!1}const $=[0,0];function se(w){for(let F=0;F<w.length;F++){const k=w[F];for(let re=0;re<k.length-1;re++){const Q=k[re],ue=k[re+1];for(let he=F+1;he<w.length;he++)for(let fe=0;fe<w[he].length-1;fe++){const pe=w[he][fe],oe=w[he][fe+1];if(j(Q,ue,pe,oe,$)&&!($[0]===Q[0]&&$[1]===Q[1]||$[0]===pe[0]&&$[1]===pe[1]||$[0]===ue[0]&&$[1]===ue[1]||$[0]===oe[0]&&$[1]===oe[1]))return!0}}const W=k.length;if(!(W<=4))for(let re=0;re<W-3;re++){let Q=W-1;0===re&&(Q=W-2);const ue=k[re],he=k[re+1];for(let fe=re+2;fe<Q;fe++){const pe=k[fe],oe=k[fe+1];if(j(ue,he,pe,oe,$)&&!($[0]===ue[0]&&$[1]===ue[1]||$[0]===pe[0]&&$[1]===pe[1]||$[0]===he[0]&&$[1]===he[1]||$[0]===oe[0]&&$[1]===oe[1]))return!0}}}return!1}function ne(w,F,k){for(let W=0;W<k.length;W++)if(j(w,F,k[W][0],k[W][1]))return!0;return!1}function j(w,F,k,W,re){const[Q,ue]=w,[he,fe]=F,[pe,oe]=k,[K,de]=W,le=K-pe,me=Q-pe,ce=he-Q,ge=de-oe,J=ue-oe,ie=fe-ue,De=ge*ce-le*ie;if(0===De)return!1;const _e=(le*J-ge*me)/De,Ie=(ce*J-ie*me)/De;return _e>=0&&_e<=1&&Ie>=0&&Ie<=1&&(re&&(re[0]=Q+_e*(he-Q),re[1]=ue+_e*(fe-ue)),!0)}function I(w){switch(w){case"esriGeometryEnvelope":case"extent":return X;case"esriGeometryMultipoint":case"multipoint":return B;case"esriGeometryPoint":case"point":return O;case"esriGeometryPolygon":case"polygon":return Z;case"esriGeometryPolyline":case"polyline":return Y}}},91179:(Qe,Me,E)=>{"use strict";E.d(Me,{Ji:()=>j,YX:()=>T,aW:()=>x,im:()=>ne,l9:()=>Y,oU:()=>$,q9:()=>w,wp:()=>Z});var M=E(62208),O=E(2004),X=E(21674),B=E(72854),N=E(49672),ee=E(37118),z=E(55214);function T(F){return void 0!==F.xmin&&void 0!==F.ymin&&void 0!==F.xmax&&void 0!==F.ymax}function x(F){return void 0!==F.points}function Z(F){return void 0!==F.x&&void 0!==F.y}function Y(F){return void 0!==F.paths}function $(F){return void 0!==F.rings}function ne(F){return(0,M.Wi)(F)?null:F instanceof X.Z?F:Z(F)?N.Z.fromJSON(F):Y(F)?z.Z.fromJSON(F):$(F)?ee.Z.fromJSON(F):x(F)?B.Z.fromJSON(F):T(F)?O.Z.fromJSON(F):null}function j(F){return F?Z(F)?"esriGeometryPoint":Y(F)?"esriGeometryPolyline":$(F)?"esriGeometryPolygon":T(F)?"esriGeometryEnvelope":x(F)?"esriGeometryMultipoint":null:null}const I={esriGeometryPoint:N.Z,esriGeometryPolyline:z.Z,esriGeometryPolygon:ee.Z,esriGeometryEnvelope:O.Z,esriGeometryMultipoint:B.Z};function w(F){return F&&I[F]||null}},13924:(Qe,Me,E)=>{"use strict";E.d(Me,{aX:()=>de,or:()=>ce,hR:()=>fe});var M=E(15861),O=E(59318),X=E(26584),B=E(63290),N=E(62208),ee=E(37118),z=E(55214),L=E(74618),T=E(37053),x=E(46367),Y=(E(29132),E(84792)),$=E(21726),se=E(91179);function ne(ge,J,ie,De){return j.apply(this,arguments)}function j(){return(j=(0,M.Z)(function*(ge,J,ie,De){const _e="string"==typeof ge?(0,$.mN)(ge):ge,Ie=J[0].spatialReference,xe=Bn(Ct({},De),{query:Bn(Ct({},_e.query),{f:"json",sr:JSON.stringify(Ie),target:JSON.stringify({geometryType:(0,se.Ji)(J[0]),geometries:J}),cutter:JSON.stringify(ie)})}),ke=yield(0,Y.default)(_e.path+"/cut",xe),{cutIndexes:Ve,geometries:ve=[]}=ke.data;return{cutIndexes:Ve,geometries:ve.map(we=>{const We=(0,se.im)(we);return We.spatialReference=Ie,We})}})).apply(this,arguments)}function I(ge,J,ie){return w.apply(this,arguments)}function w(){return(w=(0,M.Z)(function*(ge,J,ie){const De="string"==typeof ge?(0,$.mN)(ge):ge,_e=J[0].spatialReference,Ie=(0,se.Ji)(J[0]),xe=Bn(Ct({},ie),{query:Bn(Ct({},De.query),{f:"json",sr:_e.wkid?_e.wkid:JSON.stringify(_e),geometries:JSON.stringify(F(J))})});return k((yield(0,Y.default)(De.path+"/simplify",xe)).data,Ie,_e)})).apply(this,arguments)}function F(ge){return{geometryType:(0,se.Ji)(ge[0]),geometries:ge.map(J=>J.toJSON())}}function k(ge,J,ie){const De=(0,se.q9)(J);return ge.map(_e=>{const Ie=De.fromJSON(_e);return Ie.spatialReference=ie,Ie})}const W=B.Z.getLogger("esri.geometry.support.normalizeUtils");function Q(ge){return"polygon"===ge[0].type}function ue(ge){return"polyline"===ge[0].type}function fe(ge,J){if(!(ge instanceof z.Z||ge instanceof ee.Z)){const _e="straightLineDensify: the input geometry is neither polyline nor polygon";throw W.error(_e),new X.Z(_e)}const ie=(0,L.x3)(ge),De=[];for(const _e of ie){const Ie=[];De.push(Ie),Ie.push([_e[0][0],_e[0][1]]);for(let xe=0;xe<_e.length-1;xe++){const ke=_e[xe][0],Ve=_e[xe][1],ve=_e[xe+1][0],we=_e[xe+1][1],We=Math.sqrt((ve-ke)*(ve-ke)+(we-Ve)*(we-Ve)),nt=(we-Ve)/We,Te=(ve-ke)/We,Ze=We/J;if(Ze>1){for(let je=1;je<=Ze-1;je++){const Ye=je*J;Ie.push([Te*Ye+ke,nt*Ye+Ve])}const He=(We+Math.floor(Ze-1)*J)/2;Ie.push([Te*He+ke,nt*He+Ve])}Ie.push([ve,we])}}return function re(ge){return"polygon"===ge.type}(ge)?new ee.Z({rings:De,spatialReference:ge.spatialReference}):new z.Z({paths:De,spatialReference:ge.spatialReference})}function pe(ge,J,ie){if(J){const De=fe(ge,1e6);ge=(0,x.Sx)(De,!0)}return ie&&(ge=(0,L.Sy)(ge,ie)),ge}function oe(ge,J,ie){if(Array.isArray(ge)){const De=ge[0];if(De>J){const _e=(0,L.XZ)(De,J);ge[0]=De+_e*(-2*J)}else if(De<ie){const _e=(0,L.XZ)(De,ie);ge[0]=De+_e*(-2*ie)}}else{const De=ge.x;if(De>J){const _e=(0,L.XZ)(De,J);ge=ge.clone().offset(_e*(-2*J),0)}else if(De<ie){const _e=(0,L.XZ)(De,ie);ge=ge.clone().offset(_e*(-2*ie),0)}}return ge}function K(ge,J){let ie=-1;for(let De=0;De<J.cutIndexes.length;De++){const _e=J.cutIndexes[De],Ie=J.geometries[De],xe=(0,L.x3)(Ie);for(let ke=0;ke<xe.length;ke++){const Ve=xe[ke];Ve.some(ve=>{if(ve[0]<180)return!0;{let we=0;for(let nt=0;nt<Ve.length;nt++){const Te=Ve[nt][0];we=Te>we?Te:we}we=Number(we.toFixed(9));const We=-360*(0,L.XZ)(we,180);for(let nt=0;nt<Ve.length;nt++){const Te=Ie.getPoint(ke,nt);Ie.setPoint(ke,nt,Te.clone().offset(We,0))}return!0}})}if(_e===ie){if(Q(ge))for(const ke of(0,L.x3)(Ie))ge[_e]=ge[_e].addRing(ke);else if(ue(ge))for(const ke of(0,L.x3)(Ie))ge[_e]=ge[_e].addPath(ke)}else ie=_e,ge[_e]=Ie}return ge}function de(ge,J,ie){return le.apply(this,arguments)}function le(){return(le=(0,M.Z)(function*(ge,J,ie){var De;if(!Array.isArray(ge))return de([ge],J);const _e=null!=(De=null==J?void 0:J.url)?De:O.Z.geometryServiceUrl;let Ie,xe,ke,Ve,ve,we,We,nt,Te=0;const Ze=[],He=[];for(const ot of ge)if((0,N.Wi)(ot))He.push(ot);else if(Ie||(Ie=ot.spatialReference,xe=(0,T.C5)(Ie),ke=Ie.isWebMercator,we=ke?102100:4326,Ve=L.UZ[we].maxX,ve=L.UZ[we].minX,We=L.UZ[we].plus180Line,nt=L.UZ[we].minus180Line),xe)if("mesh"===ot.type)He.push(ot);else if("point"===ot.type)He.push(oe(ot.clone(),Ve,ve));else if("multipoint"===ot.type){const at=ot.clone();at.points=at.points.map(lt=>oe(lt,Ve,ve)),He.push(at)}else if("extent"===ot.type){const at=ot.clone()._normalize(!1,!1,xe);He.push(at.rings?new ee.Z(at):at)}else if(ot.extent){const at=ot.extent,lt=(0,L.XZ)(at.xmin,ve)*(2*Ve);let tt=0===lt?ot.clone():(0,L.Sy)(ot.clone(),lt);at.offset(lt,0),at.intersects(We)&&at.xmax!==Ve?(Te=at.xmax>Te?at.xmax:Te,tt=pe(tt,ke),Ze.push(tt),He.push("cut")):at.intersects(nt)&&at.xmin!==ve?(Te=at.xmax*(2*Ve)>Te?at.xmax*(2*Ve):Te,tt=pe(tt,ke,360),Ze.push(tt),He.push("cut")):He.push(tt)}else He.push(ot.clone());else He.push(ot);let te=(0,L.XZ)(Te,Ve),Ee=-90;const je=te,Ye=new z.Z;for(;te>0;){const ot=360*te-180;Ye.addPath([[ot,Ee],[ot,-1*Ee]]),Ee*=-1,te--}if(Ze.length>0&&je>0){const ot=K(Ze,yield ne(_e,Ze,Ye,ie)),at=[],lt=[];for(let Ke=0;Ke<He.length;Ke++){const ut=He[Ke];if("cut"!==ut)lt.push(ut);else{const Et=ot.shift(),St=ge[Ke];(0,N.pC)(St)&&"polygon"===St.type&&St.rings&&St.rings.length>1&&Et.rings.length>=St.rings.length?(at.push(Et),lt.push("simplify")):lt.push(ke?(0,x.$)(Et):Et)}}if(!at.length)return lt;const tt=yield I(_e,at,ie),vt=[];for(let Ke=0;Ke<lt.length;Ke++){const ut=lt[Ke];vt.push("simplify"!==ut?ut:ke?(0,x.$)(tt.shift()):tt.shift())}return vt}const ht=[];for(let ot=0;ot<He.length;ot++){const at=He[ot];if("cut"!==at)ht.push(at);else{const lt=Ze.shift();ht.push(!0===ke?(0,x.$)(lt):lt)}}return Promise.resolve(ht)})).apply(this,arguments)}function ce(ge,J){const ie=(0,T.C5)(J);if(ie){const[De,_e]=ie.valid,Ie=_e-De;if(ge<De)for(;ge<De;)ge+=Ie;if(ge>_e)for(;ge>_e;)ge-=Ie}return ge}},74618:(Qe,Me,E)=>{"use strict";E.d(Me,{Sy:()=>ee,UZ:()=>B,XZ:()=>N,uS:()=>L,x3:()=>z});var M=E(55214),O=E(65234),X=E(91179);const B={102100:{maxX:20037508.342788905,minX:-20037508.342788905,plus180Line:new M.Z({paths:[[[20037508.342788905,-20037508.342788905],[20037508.342788905,20037508.342788905]]],spatialReference:O.Z.WebMercator}),minus180Line:new M.Z({paths:[[[-20037508.342788905,-20037508.342788905],[-20037508.342788905,20037508.342788905]]],spatialReference:O.Z.WebMercator})},4326:{maxX:180,minX:-180,plus180Line:new M.Z({paths:[[[180,-180],[180,180]]],spatialReference:O.Z.WGS84}),minus180Line:new M.Z({paths:[[[-180,-180],[-180,180]]],spatialReference:O.Z.WGS84})}};function N(T,x){return Math.ceil((T-x)/(2*x))}function ee(T,x){const Z=z(T);for(const Y of Z)for(const $ of Y)$[0]+=x;return T}function z(T){return(0,X.oU)(T)?T.rings:T.paths}function L(T){const x=(null==T?void 0:T.isWebMercator)?102100:4326;return[B[x].minX,B[x].maxX]}},83137:(Qe,Me,E)=>{"use strict";E.d(Me,{D9:()=>ee,yZ:()=>X});var M=E(16730);function X(z,L){const T=L||z.extent,x=z.width,Z=(0,M.c9)(T&&T.spatialReference);return T&&x?T.width/x*Z*M.hd*96:0}function ee(z,L){const T=z.extent,x=z.width,Z=function B(z,L){return z/((0,M.c9)(L)*M.hd*96)}(L,T.spatialReference);return T.clone().expand(Z*x/T.width)}},37053:(Qe,Me,E)=>{"use strict";E.d(Me,{BZ:()=>k,C5:()=>Y,JY:()=>ue,ME:()=>W,MP:()=>Q,N$:()=>se,QM:()=>w,R_:()=>fe,V2:()=>re,WR:()=>pe,Zn:()=>he,fS:()=>Z,o$:()=>F,oR:()=>ne,sS:()=>I,sT:()=>$,yW:()=>j});var M=E(62208),O=E(77275),X=E(6178),B=E(84029);const N={102113:!0,102100:!0,3857:!0,3785:!0},ee={102113:!0,102100:!0,3857:!0,3785:!0,4326:!0},z='PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',L=[-20037508.342788905,20037508.342788905],T=[-20037508.342787,20037508.342787],x={102113:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:L,origin:T,dx:1e-5},102100:{wkTemplate:z,valid:L,origin:T,dx:1e-5},3785:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:L,origin:T,dx:1e-5},3857:{wkTemplate:z,valid:L,origin:T,dx:1e-5},4326:{wkTemplate:'GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",{Central_Meridian}],UNIT["Degree",0.0174532925199433]]',altTemplate:'PROJCS["WGS_1984_Plate_Carree",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Plate_Carree"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],UNIT["Degrees",111319.491]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104971:{wkTemplate:'GEOGCS["Mars_2000_(Sphere)",DATUM["Mars_2000_(Sphere)",SPHEROID["Mars_2000_(Sphere)",3396190.0,0.0]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104905:{wkTemplate:'GEOGCS["GCS_Mars_2000",DATUM["D_Mars_2000",SPHEROID["Mars_2000_IAU_IAG",3396190.0,169.8944472236118]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5}};function Z(oe,K){return!(0,M.Wi)(oe)&&!(0,M.Wi)(K)&&(oe===K||(null!=oe.wkid||null!=K.wkid?oe.wkid===K.wkid||I(oe)&&I(K)||null!=K.latestWkid&&oe.wkid===K.latestWkid||null!=oe.latestWkid&&K.wkid===oe.latestWkid:!(!oe.wkt||!K.wkt)&&oe.wkt.toUpperCase()===K.wkt.toUpperCase()))}function Y(oe){return ue(oe)&&oe.wkid?x[oe.wkid]:null}function $(oe){return!!ue(oe)&&(oe.wkid?null==B.Z[oe.wkid]:!!oe.wkt&&!!/^\s*GEOGCS/i.test(oe.wkt))}function se(oe){return!(k(oe)||re(oe))}function ne(oe){return ue(oe)&&4326===oe.wkid}function j(oe){return ue(oe)&&oe.wkid===X.W.CGCS2000}function I(oe){return ue(oe)&&null!=oe.wkid&&!0===N[oe.wkid]}function w(oe){return ue(oe)&&32662===oe.wkid}function F(oe){return oe===X.W.GCSMARS2000||oe===X.W.GCSMARS2000_SPHERE}function k(oe){return ue(oe)&&null!=oe.wkid&&F(oe.wkid)}function W(oe){return oe===X.W.GCSMOON2000}function re(oe){return ue(oe)&&null!=oe.wkid&&W(oe.wkid)}function Q(oe){return ue(oe)&&null!=oe.wkid&&!0===ee[oe.wkid]}function ue(oe){return(0,M.pC)(oe)&&(null!=oe.wkid&&oe.wkid>=2e3||null!=oe.wkt)}const he={wkid:4326,wkt:(0,O.gx)(x[4326].wkTemplate,{Central_Meridian:"0.0"})},fe={wkid:102100,latestWkid:3857},pe={wkid:32662}},71774:(Qe,Me,E)=>{"use strict";E.d(Me,{Mk:()=>X,P$:()=>B});var M=E(2076);const X=(0,M.w)()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon"}),B=(0,M.w)()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh"})},46367:(Qe,Me,E)=>{"use strict";E.d(Me,{$:()=>F,Q8:()=>ne,R6:()=>w,Sx:()=>k,hG:()=>I,iV:()=>j,mZ:()=>Z});var M=E(58817),O=E(62208),X=E(65234),B=E(94425),N=E(37053);function L(W){return 57.29577951308232*W}function T(W){return.017453292519943*W}function Z(W){return Math.PI/2-2*Math.atan(Math.exp(-W/B.sv.radius))}function Y(W){return null!=W.wkid||null!=W.wkt}const $=[0,0];function se(W,re,Q,ue,he){const fe=W,pe=he;if(pe.spatialReference=Q,"x"in fe&&"x"in pe)[pe.x,pe.y]=re(fe.x,fe.y,$,ue);else if("xmin"in fe&&"xmin"in pe)[pe.xmin,pe.ymin]=re(fe.xmin,fe.ymin,$,ue),[pe.xmax,pe.ymax]=re(fe.xmax,fe.ymax,$,ue);else if("paths"in fe&&"paths"in pe||"rings"in fe&&"rings"in pe){const oe="paths"in fe?fe.paths:fe.rings,K=[];let de;for(let le=0;le<oe.length;le++){const me=oe[le];de=[],K.push(de);for(let ce=0;ce<me.length;ce++)de.push(re(me[ce][0],me[ce][1],[0,0],ue)),me[ce].length>2&&de[ce].push(me[ce][2]),me[ce].length>3&&de[ce].push(me[ce][3])}"paths"in pe?pe.paths=K:pe.rings=K}else if("points"in fe&&"points"in pe){const oe=fe.points,K=[];for(let de=0;de<oe.length;de++)K[de]=re(oe[de][0],oe[de][1],[0,0],ue),oe[de].length>2&&K[de].push(oe[de][2]),oe[de].length>3&&K[de].push(oe[de][3]);pe.points=K}return he}function ne(W,re){const Q=W&&(Y(W)?W:W.spatialReference),ue=re&&(Y(re)?re:re.spatialReference);return!(W&&"type"in W&&"mesh"===W.type||re&&"type"in re&&"mesh"===re.type||!Q||!ue)&&(!!(0,N.fS)(ue,Q)||(0,N.sS)(ue)&&(0,N.oR)(Q)||(0,N.sS)(Q)&&(0,N.oR)(ue))}function j(W,re){if((0,O.Wi)(W))return null;const Q=W.spatialReference,ue=re&&(Y(re)?re:re.spatialReference);return ne(Q,ue)?(0,N.fS)(Q,ue)?(0,M.d9)(W):(0,N.sS)(ue)?se(W,I,X.Z.WebMercator,!1,(0,M.d9)(W)):(0,N.oR)(ue)?se(W,w,X.Z.WGS84,!1,(0,M.d9)(W)):null:null}function I(W,re,Q=[0,0]){re>89.99999?re=89.99999:re<-89.99999&&(re=-89.99999);const ue=T(re);return Q[0]=T(W)*B.sv.radius,Q[1]=B.sv.halfSemiMajorAxis*Math.log((1+Math.sin(ue))/(1-Math.sin(ue))),Q}function w(W,re,Q=[0,0],ue=!1){const he=L(W/B.sv.radius);return Q[0]=ue?he:he-360*Math.floor((he+180)/360),Q[1]=L(Math.PI/2-2*Math.atan(Math.exp(-re/B.sv.radius))),Q}function F(W,re=!1,Q=(0,M.d9)(W)){return se(W,I,X.Z.WebMercator,re,Q)}function k(W,re=!1,Q=(0,M.d9)(W)){return se(W,w,X.Z.WGS84,re,Q)}},18945:(Qe,Me,E)=>{"use strict";function M(O,X,B=!1){let{hasM:N,hasZ:ee}=O;Array.isArray(X)?4!==X.length||N||ee?3===X.length&&B&&!N?(ee=!0,N=!1):3===X.length&&N&&ee&&(N=!1,ee=!1):(N=!0,ee=!0):(ee=!ee&&X.hasZ&&(!N||X.hasM),N=!N&&X.hasM&&(!ee||X.hasZ)),O.hasZ=ee,O.hasM=N}E.d(Me,{l:()=>M})},33696:(Qe,Me,E)=>{"use strict";E.d(Me,{k:()=>B});var M=E(62208),O=E(16730),X=E(37053);function B(x,Z,Y){if((0,M.Wi)(Z)||(0,M.Wi)(Y)||Y.vcsWkid||(0,X.fS)(Z,Y))return null;const $=(0,O._R)(Z)/(0,O._R)(Y);if(1===$)return null;switch(x){case"point":case"esriGeometryPoint":return se=>function N(x,Z){x&&null!=x.z&&(x.z*=Z)}(se,$);case"polyline":case"esriGeometryPolyline":return se=>function z(x,Z){if(x)for(const Y of x.paths)for(const $ of Y)$.length>2&&($[2]*=Z)}(se,$);case"polygon":case"esriGeometryPolygon":return se=>function ee(x,Z){if(x)for(const Y of x.rings)for(const $ of Y)$.length>2&&($[2]*=Z)}(se,$);case"multipoint":case"esriGeometryMultipoint":return se=>function L(x,Z){if(x)for(const Y of x.points)Y.length>2&&(Y[2]*=Z)}(se,$);case"extent":case"esriGeometryExtent":return se=>function T(x,Z){x&&null!=x.zmin&&null!=x.zmax&&(x.zmin*=Z,x.zmax*=Z)}(se,$);default:return null}}},52515:(Qe,Me,E)=>{"use strict";E(88411),E(15348),E(97059),E(56683);var N=E(41840),ee=E(15861),z=E(84792),L=E(26584),T=E(62208);function Z(){return(Z=(0,ee.Z)(function*(w,F,k,W){const re=F.exec(k);if(!re)throw new L.Z("esri-intl:invalid-bundle",`Bundle id "${k}" is not compatible with the pattern "${F}"`);const Q=re[1]?`${re[1]}/`:"",ue=re[2],he=(0,N.Su)(W),fe=`${Q}${ue}.json`,pe=he?`${Q}${ue}_${he}.json`:fe;let oe;try{oe=yield Y(w(pe))}catch(K){if(pe===fe)throw new L.Z("intl:unknown-bundle",`Bundle "${k}" cannot be loaded`,{error:K});try{oe=yield Y(w(fe))}catch(de){throw new L.Z("intl:unknown-bundle",`Bundle "${k}" cannot be loaded`,{error:de})}}return oe})).apply(this,arguments)}function Y(w){return $.apply(this,arguments)}function $(){return($=(0,ee.Z)(function*(w){if((0,T.pC)(j.fetchBundleAsset))return j.fetchBundleAsset(w);const F=yield(0,z.default)(w,{responseType:"text"});return JSON.parse(F.data)})).apply(this,arguments)}class se{constructor({base:F="",pattern:k,location:W=new URL(window.location.href)}){let re;re="string"==typeof W?Q=>new URL(Q,new URL(W,window.location.href)).href:W instanceof URL?Q=>new URL(Q,W).href:W,this.pattern="string"==typeof k?new RegExp(`^${k}`):k,this.getAssetUrl=re,F=F?F.endsWith("/")?F:F+"/":"",this.matcher=new RegExp(`^${F}(?:(.*)/)?(.*)$`)}fetchMessageBundle(F,k){return function x(w,F,k,W){return Z.apply(this,arguments)}(this.getAssetUrl,this.matcher,F,k)}}const j={};var I=E(54346);(0,N.tz)(function ne(w){return new se(w)}({pattern:"esri/",location:I.V}))},88411:(Qe,Me,E)=>{"use strict";E.d(Me,{Ze:()=>w,p6:()=>F});var M=E(2076),O=E(56683);const X={year:"numeric",month:"numeric",day:"numeric"},B={year:"numeric",month:"long",day:"numeric"},N={year:"numeric",month:"short",day:"numeric"},ee={year:"numeric",month:"long",weekday:"long",day:"numeric"},z={hour:"numeric",minute:"numeric"},L=Bn(Ct({},z),{second:"numeric"}),T={"short-date":X,"short-date-short-time":Ct(Ct({},X),z),"short-date-short-time-24":Bn(Ct(Ct({},X),z),{hour12:!1}),"short-date-long-time":Ct(Ct({},X),L),"short-date-long-time-24":Bn(Ct(Ct({},X),L),{hour12:!1}),"short-date-le":X,"short-date-le-short-time":Ct(Ct({},X),z),"short-date-le-short-time-24":Bn(Ct(Ct({},X),z),{hour12:!1}),"short-date-le-long-time":Ct(Ct({},X),L),"short-date-le-long-time-24":Bn(Ct(Ct({},X),L),{hour12:!1}),"long-month-day-year":B,"long-month-day-year-short-time":Ct(Ct({},B),z),"long-month-day-year-short-time-24":Bn(Ct(Ct({},B),z),{hour12:!1}),"long-month-day-year-long-time":Ct(Ct({},B),L),"long-month-day-year-long-time-24":Bn(Ct(Ct({},B),L),{hour12:!1}),"day-short-month-year":N,"day-short-month-year-short-time":Ct(Ct({},N),z),"day-short-month-year-short-time-24":Bn(Ct(Ct({},N),z),{hour12:!1}),"day-short-month-year-long-time":Ct(Ct({},N),L),"day-short-month-year-long-time-24":Bn(Ct(Ct({},N),L),{hour12:!1}),"long-date":ee,"long-date-short-time":Ct(Ct({},ee),z),"long-date-short-time-24":Bn(Ct(Ct({},ee),z),{hour12:!1}),"long-date-long-time":Ct(Ct({},ee),L),"long-date-long-time-24":Bn(Ct(Ct({},ee),L),{hour12:!1}),"long-month-year":{month:"long",year:"numeric"},"short-month-year":{month:"short",year:"numeric"},year:{year:"numeric"},"short-time":z,"long-time":L},x=(0,M.w)()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"}),se=(x.toJSON.bind(x),x.fromJSON.bind(x),{ar:"ar-u-nu-latn-ca-gregory"});let ne=new WeakMap,j=T["short-date-short-time"];function w(k){return T[k]||null}function F(k,W){return function I(k){const W=k||j;if(!ne.has(W)){const re=(0,O.Kd)(),Q=se[(0,O.Kd)()]||re;ne.set(W,new Intl.DateTimeFormat(Q,W))}return ne.get(W)}(W).format(k)}(0,O.Ze)(()=>{ne=new WeakMap,j=T["short-date-short-time"]})},56683:(Qe,Me,E)=>{"use strict";var M,O,X;let N;E.d(Me,{Kd:()=>L,Ze:()=>j,qe:()=>se});const ee=null!=(M=null==(O=globalThis.esriConfig)?void 0:O.locale)?M:null==(X=globalThis.dojoConfig)?void 0:X.locale;function z(){var w,F;return null!=(w=null!=ee?ee:null==(F=globalThis.navigator)?void 0:F.language)?w:"en"}function L(){return void 0===N&&(N=z()),N}const $=[];function se(w){return $.push(w),{remove(){$.splice($.indexOf(w),1)}}}const ne=[];function j(w){return ne.push(w),{remove(){$.splice(ne.indexOf(w),1)}}}null==globalThis.addEventListener||globalThis.addEventListener("languagechange",function I(){const F=null!=undefined?undefined:z();N!==F&&(N=F,[...ne].forEach(k=>{k.call(null,F)}),[...$].forEach(k=>{k.call(null,F)}))})},41840:(Qe,Me,E)=>{"use strict";E.d(Me,{ME:()=>Y,Su:()=>se,tz:()=>Z});var M=E(15861),O=E(26584),X=E(10699),B=E(56683);const N=/^([a-z]{2})(?:[-_]([A-Za-z]{2}))?$/,ee={ar:!0,bg:!0,bs:!0,ca:!0,cs:!0,da:!0,de:!0,el:!0,en:!0,es:!0,et:!0,fi:!0,fr:!0,he:!0,hr:!0,hu:!0,id:!0,it:!0,ja:!0,ko:!0,lt:!0,lv:!0,nb:!0,nl:!0,pl:!0,"pt-BR":!0,"pt-PT":!0,ro:!0,ru:!0,sk:!0,sl:!0,sr:!0,sv:!0,th:!0,tr:!0,uk:!0,vi:!0,"zh-CN":!0,"zh-HK":!0,"zh-TW":!0};function z(k){var W;return null!=(W=ee[k])&&W}const L=[],T=new Map;function x(k){for(const W of T.keys())I(k.pattern,W)&&T.delete(W)}function Z(k){return L.includes(k)||(x(k),L.unshift(k)),{remove(){const W=L.indexOf(k);W>-1&&(L.splice(W,1),x(k))}}}function Y(k){return $.apply(this,arguments)}function $(){return($=(0,M.Z)(function*(k){const W=(0,B.Kd)();T.has(k)||T.set(k,ne(k,W));const re=T.get(k);return yield w.add(re),re})).apply(this,arguments)}function se(k){if(!N.test(k))return null;const[,W,re]=N.exec(k),Q=W+(re?"-"+re.toUpperCase():"");return z(Q)?Q:z(W)?W:null}function ne(k,W){return j.apply(this,arguments)}function j(){return(j=(0,M.Z)(function*(k,W){const re=[];for(const Q of L)if(I(Q.pattern,k))try{return yield Q.fetchMessageBundle(k,W)}catch(ue){re.push(ue)}throw re.length?new O.Z("intl:message-bundle-error",`Errors occurred while loading "${k}"`,{errors:re}):new O.Z("intl:no-message-bundle-loader",`No loader found for message bundle "${k}"`)})).apply(this,arguments)}function I(k,W){return"string"==typeof k?W.startsWith(k):k.test(W)}(0,B.Ze)(()=>{T.clear()});const w=new class{constructor(){this._numLoading=0}waitForAll(){var k=this;return(0,M.Z)(function*(){k._dfd&&(yield k._dfd.promise)})()}add(k){return this._increase(),k.then(()=>this._decrease(),()=>this._decrease()),this.waitForAll()}_increase(){this._numLoading++,this._dfd||(this._dfd=(0,X.dD)())}_decrease(){this._numLoading=Math.max(this._numLoading-1,0),this._dfd&&0===this._numLoading&&(this._dfd.resolve(),this._dfd=null)}}},15348:(Qe,Me,E)=>{"use strict";E.d(Me,{sh:()=>z,uf:()=>L});var M=E(62208),O=E(56683);const X={ar:"ar-u-nu-latn"};let B=new WeakMap,N={};function z(T={}){const x={};return null!=T.digitSeparator&&(x.useGrouping=T.digitSeparator),null!=T.places&&(x.minimumFractionDigits=x.maximumFractionDigits=T.places),x}function L(T,x){return function ee(T){const x=T||N;if(!B.has(x)){const Z=(0,O.Kd)(),Y=X[(0,O.Kd)()]||Z;B.set(x,new Intl.NumberFormat(Y,T))}return(0,M.j0)(B.get(x))}(x).format(T)}(0,O.Ze)(()=>{B=new WeakMap,N={}})},97059:(Qe,Me,E)=>{"use strict";E.d(Me,{n:()=>z});var M=E(63290),O=E(94113),X=E(77275),B=E(88411),N=E(15348);const ee=M.Z.getLogger("esri.intl");function z(Y,$,se={}){const{format:ne={}}=se;return(0,X.gx)(Y,j=>function L(Y,$,se){let ne,j;const I=Y.indexOf(":");if(-1===I?ne=Y.trim():(ne=Y.slice(0,I).trim(),j=Y.slice(I+1).trim()),!ne)return"";const w=(0,O.hS)(ne,$);if(null==w)return"";const F=se[j]||se[ne];return F?function T(Y,$){switch($.type){case"date":return(0,B.p6)(Y,$.intlOptions);case"number":return(0,N.uf)(Y,$.intlOptions);default:return ee.warn("missing format descriptor for key {key}"),Z(Y)}}(w,F):j?function x(Y,$){switch($.toLowerCase()){case"dateformat":return(0,B.p6)(Y);case"numberformat":return(0,N.uf)(Y);default:return ee.warn(`inline format is unsupported since 4.12: ${$}`),/^(dateformat|datestring)/i.test($)?(0,B.p6)(Y):/^numberformat/i.test($)?(0,N.uf)(Y):Z(Y)}}(w,j):Z(w)}(j,$,ne))}function Z(Y){switch(typeof Y){case"string":return Y;case"number":return(0,N.uf)(Y);case"boolean":return""+Y;default:return Y instanceof Date?(0,B.p6)(Y):""}}},24263:(Qe,Me,E)=>{"use strict";E.d(Me,{Dp:()=>L,Nv:()=>N,i8:()=>B,id:()=>ee,qh:()=>z});var M=E(15861),O=E(8314),X=E(21726);const B="4.23",N={request:(T,x)=>(0,M.Z)(function*(){var Z;const{default:Y}=yield Promise.resolve().then(E.bind(E,84792)),$=T.options,se=$.responseType;$.signal=null==x?void 0:x.signal,$.responseType="native"===se||"native-request-init"===se?"native-request-init":["blob","json","text"].includes(se)&&null!=(Z=(0,X.oh)(T.url))&&Z.after?se:"array-buffer";const ne=yield Y(T.url,$),j={data:ne.data,ssl:ne.ssl};switch(ne.requestOptions.responseType){case"native-request-init":return delete j.data.signal,j;case"blob":j.data=yield j.data.arrayBuffer();break;case"json":j.data=(new TextEncoder).encode(JSON.stringify(j.data)).buffer;break;case"text":j.data=(new TextEncoder).encode(j.data).buffer}return{result:j,transferList:[j.data]}})()};let ee;function z(T){ee=T}function L(T){const x=ee&&ee.findCredential(T);return x&&x.token?(0,X.ZN)(T,"token",x.token):T}(0,O.Z)("host-webworker")||((0,O.Z)("edge")||(0,O.Z)("trident"))&&console.warn("Deprecated browser - see http://esriurl.com/oldbrowser")},15382:(Qe,Me,E)=>{"use strict";E.r(Me),E.d(Me,{default:()=>Ut});var M=E(15861),O=E(17626),X=E(73281),T=(E(4832),E(49067),E(26284),E(54928),E(69357),E(40342)),x=E(14726),Z=E(33474),Y=E(32088),$=E(84792),se=E(65787),ne=E(79608),j=E(48701),I=E(26584),w=E(72392),F=E(8314),k=E(2076),W=E(63290),re=E(62208),Q=E(99959),ue=E(94113),he=E(10699);function pe(){return(pe=(0,M.Z)(function*(Ue,$e){const{WhereClause:ct}=yield E.e(410).then(E.bind(E,10410));return ct.create(Ue,$e)})).apply(this,arguments)}var Ie,oe=E(21726),K=E(77712),le=(E(85931),E(66656)),me=E(68653),ce=E(76898),ge=E(99433),J=E(383),ie=E(86810),De=E(58817),_e=E(90912);let xe=Ie=class extends ie.wq{constructor(Ue){super(Ue),this.expression=null,this.name=null,this.returnType="boolean",this.title=null}clone(){return new Ie({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})}};(0,O._)([(0,K.Cb)({type:String,json:{write:!0}})],xe.prototype,"expression",void 0),(0,O._)([(0,K.Cb)({type:String,json:{write:!0}})],xe.prototype,"name",void 0),(0,O._)([(0,K.Cb)({type:["boolean","date","number","string"],json:{write:!0}})],xe.prototype,"returnType",void 0),(0,O._)([(0,K.Cb)({type:String,json:{write:!0}})],xe.prototype,"title",void 0),xe=Ie=(0,O._)([(0,ce.j)("esri.form.ExpressionInfo")],xe);const ke=xe;let Ve=class extends ie.wq{constructor(Ue){super(Ue),this.description=null,this.label=null,this.type=null,this.visibilityExpression=null}};(0,O._)([(0,K.Cb)({type:String,json:{write:!0}})],Ve.prototype,"description",void 0),(0,O._)([(0,K.Cb)({type:String,json:{write:!0}})],Ve.prototype,"label",void 0),(0,O._)([(0,K.Cb)()],Ve.prototype,"type",void 0),(0,O._)([(0,K.Cb)({type:String,json:{write:!0}})],Ve.prototype,"visibilityExpression",void 0),Ve=(0,O._)([(0,ce.j)("esri.form.elements.Element")],Ve);const ve=Ve;var we;let We=we=class extends ie.wq{constructor(Ue){super(Ue),this.type=null}clone(){return new we({type:this.type})}};(0,O._)([(0,K.Cb)({type:["attachment","audio","document","image","signature","video"],json:{write:!0}})],We.prototype,"type",void 0),We=we=(0,O._)([(0,ce.j)("esri.form.elements.inputs.AttachmentInput")],We);const nt=We;var Te;let Ze=Te=class extends ve{constructor(Ue){super(Ue),this.attachmentKeyword=null,this.editable=!0,this.input=null,this.type="attachment"}clone(){return new Te({attachmentKeyword:this.attachmentKeyword,description:this.description,editable:this.editable,input:this.input,label:this.label,visibilityExpression:this.visibilityExpression})}};(0,O._)([(0,K.Cb)({type:String,json:{write:!0}})],Ze.prototype,"attachmentKeyword",void 0),(0,O._)([(0,K.Cb)({type:Boolean,json:{write:!0}})],Ze.prototype,"editable",void 0),(0,O._)([(0,K.Cb)({type:nt,json:{read:{source:"inputType"},write:{target:"inputType"}}})],Ze.prototype,"input",void 0),(0,O._)([(0,K.Cb)({type:["attachment"],json:{read:!1,write:!0}})],Ze.prototype,"type",void 0),Ze=Te=(0,O._)([(0,ce.j)("esri.form.elements.AttachmentElement")],Ze);const He=Ze;let te=class extends ie.wq{constructor(Ue){super(Ue),this.type=null}};(0,O._)([(0,K.Cb)()],te.prototype,"type",void 0),te=(0,O._)([(0,ce.j)("esri.form.elements.inputs.Input")],te);const Ee=te;let je=class extends Ee{constructor(Ue){super(Ue),this.maxLength=null,this.minLength=0}};(0,O._)([(0,K.Cb)({type:Number,json:{write:!0}})],je.prototype,"maxLength",void 0),(0,O._)([(0,K.Cb)({type:Number,json:{write:!0}})],je.prototype,"minLength",void 0),je=(0,O._)([(0,ce.j)("esri.form.elements.inputs.TextInput")],je);const Ye=je;var ht;let ot=ht=class extends Ye{constructor(Ue){super(Ue),this.type="barcode-scanner"}clone(){return new ht({maxLength:this.maxLength,minLength:this.minLength})}};(0,O._)([(0,K.Cb)({type:["barcode-scanner"],json:{read:!1,write:!0}})],ot.prototype,"type",void 0),ot=ht=(0,O._)([(0,ce.j)("esri.form.elements.inputs.BarcodeScannerInput")],ot);const at=ot;var lt;let tt=lt=class extends Ee{constructor(Ue){super(Ue),this.noValueOptionLabel=null,this.showNoValueOption=!1,this.type="combo-box"}clone(){return new lt({showNoValueOption:this.showNoValueOption,noValueOptionLabel:this.noValueOptionLabel})}};(0,O._)([(0,K.Cb)({type:String,json:{write:!0}})],tt.prototype,"noValueOptionLabel",void 0),(0,O._)([(0,K.Cb)({type:Boolean,json:{write:!0}})],tt.prototype,"showNoValueOption",void 0),(0,O._)([(0,K.Cb)({type:["combo-box"],json:{read:!1,write:!0}})],tt.prototype,"type",void 0),tt=lt=(0,O._)([(0,ce.j)("esri.form.elements.inputs.ComboBoxInput")],tt);const vt=tt;var Ke;function ut(Ue){return null!=Ue?new Date(Ue):null}function Et(Ue){return Ue?Ue.getTime():null}let St=Ke=class extends Ee{constructor(Ue){super(Ue),this.includeTime=!1,this.max=null,this.min=null,this.type="datetime-picker"}readMax(Ue,$e){return ut($e.max)}writeMax(Ue,$e){$e.max=Et(Ue)}readMin(Ue,$e){return ut($e.min)}writeMin(Ue,$e){$e.min=Et(Ue)}clone(){return new Ke({includeTime:this.includeTime,max:this.max,min:this.min,type:this.type})}};(0,O._)([(0,K.Cb)({type:Boolean,json:{write:!0}})],St.prototype,"includeTime",void 0),(0,O._)([(0,K.Cb)({type:Date,json:{type:Number,write:!0}})],St.prototype,"max",void 0),(0,O._)([(0,me.r)("max")],St.prototype,"readMax",null),(0,O._)([(0,ge.c)("max")],St.prototype,"writeMax",null),(0,O._)([(0,K.Cb)({type:Date,json:{type:Number,write:!0}})],St.prototype,"min",void 0),(0,O._)([(0,me.r)("min")],St.prototype,"readMin",null),(0,O._)([(0,ge.c)("min")],St.prototype,"writeMin",null),(0,O._)([(0,K.Cb)({type:["datetime-picker"],json:{read:!1,write:!0}})],St.prototype,"type",void 0),St=Ke=(0,O._)([(0,ce.j)("esri.form.elements.inputs.DateTimePickerInput")],St);const kt=St;var zt;let qt=zt=class extends Ee{constructor(Ue){super(Ue),this.noValueOptionLabel=null,this.showNoValueOption=!1,this.type="radio-buttons"}clone(){return new zt({noValueOptionLabel:this.noValueOptionLabel,showNoValueOption:this.showNoValueOption})}};(0,O._)([(0,K.Cb)({type:String,json:{write:!0}})],qt.prototype,"noValueOptionLabel",void 0),(0,O._)([(0,K.Cb)({type:Boolean,json:{write:!0}})],qt.prototype,"showNoValueOption",void 0),(0,O._)([(0,K.Cb)({type:["radio-buttons"],json:{read:!1,write:!0}})],qt.prototype,"type",void 0),qt=zt=(0,O._)([(0,ce.j)("esri.form.elements.inputs.RadioButtonsInput")],qt);const dn=qt;var xn;let yn=xn=class extends Ee{constructor(Ue){super(Ue),this.offValue=null,this.onValue=null,this.type="switch"}clone(){return new xn({offValue:this.offValue,onValue:this.onValue})}};(0,O._)([(0,K.Cb)({type:[String,Number],json:{write:!0}})],yn.prototype,"offValue",void 0),(0,O._)([(0,K.Cb)({type:[String,Number],json:{write:!0}})],yn.prototype,"onValue",void 0),(0,O._)([(0,K.Cb)({type:["switch"],json:{read:!1,write:!0}})],yn.prototype,"type",void 0),yn=xn=(0,O._)([(0,ce.j)("esri.form.elements.inputs.SwitchInput")],yn);const An=yn;var In;let Dn=In=class extends Ye{constructor(Ue){super(Ue),this.type="text-area"}clone(){return new In({maxLength:this.maxLength,minLength:this.minLength})}};(0,O._)([(0,K.Cb)({type:["text-area"],json:{read:!1,write:!0}})],Dn.prototype,"type",void 0),Dn=In=(0,O._)([(0,ce.j)("esri.form.elements.inputs.TextAreaInput")],Dn);const st=Dn;var Dt;let jt=Dt=class extends Ye{constructor(Ue){super(Ue),this.type="text-box"}clone(){return new Dt({maxLength:this.maxLength,minLength:this.minLength})}};(0,O._)([(0,K.Cb)({type:["text-box"],json:{read:!1,write:!0}})],jt.prototype,"type",void 0),jt=Dt=(0,O._)([(0,ce.j)("esri.form.elements.inputs.TextBoxInput")],jt);const Ht={base:Ee,key:"type",typeMap:{"barcode-scanner":at,"combo-box":vt,"datetime-picker":kt,"radio-buttons":dn,switch:An,"text-area":st,"text-box":jt}};var Yt,Nt=E(26141);let Jt=Yt=class extends ve{constructor(Ue){super(Ue),this.domain=null,this.editable=!0,this.editableExpression=null,this.fieldName=null,this.hint=null,this.input=null,this.requiredExpression=null,this.type="field",this.valueExpression=null}clone(){return new Yt({description:this.description,domain:this.domain,editable:this.editable,editableExpression:this.editableExpression,fieldName:this.fieldName,hint:this.hint,input:this.input,label:this.label,requiredExpression:this.requiredExpression,valueExpression:this.valueExpression,visibilityExpression:this.visibilityExpression})}};(0,O._)([(0,K.Cb)({types:Nt.V5,json:{read:{reader:Nt.im},write:!0}})],Jt.prototype,"domain",void 0),(0,O._)([(0,K.Cb)({type:Boolean,json:{write:!0}})],Jt.prototype,"editable",void 0),(0,O._)([(0,K.Cb)({type:String,json:{write:!0}})],Jt.prototype,"editableExpression",void 0),(0,O._)([(0,K.Cb)({type:String,json:{write:!0}})],Jt.prototype,"fieldName",void 0),(0,O._)([(0,K.Cb)({type:String,json:{write:!0}})],Jt.prototype,"hint",void 0),(0,O._)([(0,K.Cb)({types:Ht,json:{read:{source:"inputType"},write:{target:"inputType"}}})],Jt.prototype,"input",void 0),(0,O._)([(0,K.Cb)({type:String,json:{write:!0}})],Jt.prototype,"requiredExpression",void 0),(0,O._)([(0,K.Cb)({type:String,json:{read:!1,write:!0}})],Jt.prototype,"type",void 0),(0,O._)([(0,K.Cb)({type:String,json:{write:!0}})],Jt.prototype,"valueExpression",void 0),Jt=Yt=(0,O._)([(0,ce.j)("esri.form.elements.FieldElement")],Jt);const an=Jt;var yt,Ot=E(51686);let ze=yt=class extends ve{constructor(Ue){super(Ue),this.displayCount=null,this.displayType="list",this.editable=!0,this.orderByFields=null,this.relationshipId=null,this.type="relationship"}clone(){return new yt({description:this.description,displayCount:this.displayCount,displayType:this.displayType,editable:this.editable,label:this.label,orderByFields:(0,De.d9)(this.orderByFields),relationshipId:this.relationshipId,visibilityExpression:this.visibilityExpression})}};(0,O._)([(0,K.Cb)({type:Number,json:{write:!0}})],ze.prototype,"displayCount",void 0),(0,O._)([(0,K.Cb)({type:["list"],json:{write:!0}})],ze.prototype,"displayType",void 0),(0,O._)([(0,K.Cb)({type:Boolean,json:{write:!0}})],ze.prototype,"editable",void 0),(0,O._)([(0,K.Cb)({type:[Ot.Z],json:{write:!0}})],ze.prototype,"orderByFields",void 0),(0,O._)([(0,K.Cb)({type:Number,json:{write:!0}})],ze.prototype,"relationshipId",void 0),(0,O._)([(0,K.Cb)({type:["relationship"],json:{read:!1,write:!0}})],ze.prototype,"type",void 0),ze=yt=(0,O._)([(0,ce.j)("esri.form.elements.RelationshipElement")],ze);const mt=ze;function Ae(Ue){return{typesWithGroup:{base:ve,key:"type",typeMap:{attachment:He,field:an,group:Ue,relationship:mt}},typesWithoutGroup:{base:ve,key:"type",typeMap:{attachment:He,field:an,relationship:mt}}}}function et(Ue,$e,ct=!0){if(!Ue)return null;const At=ct?$e.typesWithGroup.typeMap:$e.typesWithoutGroup.typeMap;return Ue.filter(en=>At[en.type]).map(en=>At[en.type].fromJSON(en))}function Tt(Ue,$e,ct=!0){if(!Ue)return null;const At=ct?$e.typesWithGroup.typeMap:$e.typesWithoutGroup.typeMap;return Ue.filter(en=>At[en.type]).map(en=>en.toJSON())}function Qt(Ue,$e,ct=!0){return Ue?Ue.map(At=>(0,_e.N7)(ct?$e.typesWithGroup:$e.typesWithoutGroup,At)):null}var on;let it=on=class extends ve{constructor(Ue){super(Ue),this.elements=null,this.initialState="expanded",this.type="group"}castElements(Ue){return Qt(Ue,Vt,!1)}readElements(Ue,$e){return et($e.formElements,Vt,!1)}writeElements(Ue,$e){$e.formElements=Tt(Ue,Vt,!1)}clone(){return new on({description:this.description,elements:(0,De.d9)(this.elements),initialState:this.initialState,label:this.label,visibilityExpression:this.visibilityExpression})}};(0,O._)([(0,K.Cb)({json:{write:!0}})],it.prototype,"elements",void 0),(0,O._)([(0,le.p)("elements")],it.prototype,"castElements",null),(0,O._)([(0,me.r)("elements",["formElements"])],it.prototype,"readElements",null),(0,O._)([(0,ge.c)("elements")],it.prototype,"writeElements",null),(0,O._)([(0,K.Cb)({type:["collapsed","expanded"],json:{write:!0}})],it.prototype,"initialState",void 0),(0,O._)([(0,K.Cb)({type:String,json:{read:!1,write:!0}})],it.prototype,"type",void 0),it=on=(0,O._)([(0,ce.j)("esri.form.elements.GroupElement")],it);const Vt=Ae(it);var rn;const gn=Ae(it);let Zn=rn=class extends ie.wq{constructor(Ue){super(Ue),this.description=null,this.elements=null,this.expressionInfos=null,this.title=null}castElements(Ue){return Qt(Ue,gn)}readElements(Ue,$e){return et($e.formElements,gn)}writeElements(Ue,$e){$e.formElements=Tt(Ue,gn)}clone(){return new rn({description:this.description,expressionInfos:(0,De.d9)(this.expressionInfos),elements:(0,De.d9)(this.elements),title:this.title})}};(0,O._)([(0,K.Cb)({type:String,json:{write:!0}})],Zn.prototype,"description",void 0),(0,O._)([(0,K.Cb)({json:{write:!0}})],Zn.prototype,"elements",void 0),(0,O._)([(0,le.p)("elements")],Zn.prototype,"castElements",null),(0,O._)([(0,me.r)("elements",["formElements"])],Zn.prototype,"readElements",null),(0,O._)([(0,ge.c)("elements")],Zn.prototype,"writeElements",null),(0,O._)([(0,K.Cb)({type:[ke],json:{write:!0}})],Zn.prototype,"expressionInfos",void 0),(0,O._)([(0,K.Cb)({type:String,json:{write:!0}})],Zn.prototype,"title",void 0),Zn=rn=(0,O._)([(0,ce.j)("esri.form.FormTemplate")],Zn);const mr=Zn;var fr=E(2004),Mr=E(79334),Lr=E(65234),zs=E(63602),zr=(E(29132),E(88879)),ti=E(80542),Vi=E(47996),ls=E(60330),li=E(59289),ni=E(61039),As=E(20514),Gs=E(61515),Jr=E(17253),ks=E(37118),Ms=E(71774);let Le=0;const Kt=W.Z.getLogger("esri.layers.graphics.sources.MemorySource");let wt=class extends(Vi.Z.LoadableMixin((0,ls.v)((0,ti.p)(j.Z)))){constructor(Ue){super(Ue),this._idToClientGraphic=null,this.type="memory"}load(Ue){const $e=(0,re.pC)(Ue)?Ue.signal:null;return this.addResolvingPromise(this._startWorker($e)),Promise.resolve(this)}destroy(){var Ue;null==(Ue=this._connection)||Ue.close(),this._connection=null}get workerGeometryType(){var Ue;const $e=null==(Ue=this.layer)?void 0:Ue.geometryType;return $e?this._geometryTypeRequiresClientGraphicMapping($e)?"polygon":$e:null}applyEdits(Ue){return this.load().then(()=>this._applyEdits(Ue))}openPorts(){return this.load().then(()=>this._connection.openPorts())}queryFeatures(Ue,$e={}){var ct=this;return(0,M.Z)(function*(){yield ct.load($e);const At=yield ct._connection.invoke("queryFeatures",Ue?Ue.toJSON():null,$e);(0,Gs.p)(Ue,ct.layer.spatialReference,At);const en=Jr.default.fromJSON(At);if(!ct._requiresClientGraphicMapping())return en;const En=ct.layer.objectIdField;for(const jn of en.features){const Vr=ct._idToClientGraphic.get(jn.attributes[En]);Vr&&(jn.geometry=Vr.geometry)}return en.geometryType=ct.layer.geometryType,en})()}queryFeaturesJSON(Ue,$e={}){var ct=this;return(0,M.Z)(function*(){if(ct._requiresClientGraphicMapping())throw new I.Z("query-features-json:unsupported","Cannot query in JSON format for client only geometry types (mesh and extent)");yield ct.load($e);const At=yield ct._connection.invoke("queryFeatures",Ue?Ue.toJSON():null,$e);return(0,Gs.p)(Ue,ct.layer.spatialReference,At),At})()}queryFeatureCount(Ue,$e={}){return this.load($e).then(()=>this._connection.invoke("queryFeatureCount",Ue?Ue.toJSON():null,$e))}queryObjectIds(Ue,$e={}){return this.load($e).then(()=>this._connection.invoke("queryObjectIds",Ue?Ue.toJSON():null,$e))}queryExtent(Ue,$e={}){return this.load($e).then(()=>this._connection.invoke("queryExtent",Ue?Ue.toJSON():null,$e)).then(ct=>({count:ct.count,extent:fr.Z.fromJSON(ct.extent)}))}querySnapping(Ue,$e={}){return this.load($e).then(()=>this._connection.invoke("querySnapping",Ue,$e))}_applyEdits(Ue){var $e=this;return(0,M.Z)(function*(){if(!$e._connection)throw new I.Z("feature-layer-source:edit-failure","Memory source not loaded");const ct=$e.layer.objectIdField;let At=null;const en=[],En=[];yield Promise.all([$e._prepareClientMapping(Ue.addFeatures,null),$e._prepareClientMapping(Ue.updateFeatures,null)]);const jn=yr=>"objectId"in yr&&null!=yr.objectId?yr.objectId:"attributes"in yr&&null!=yr.attributes[ct]?yr.attributes[ct]:null;if(Ue.addFeatures&&(At=$e._prepareAddFeatures(Ue.addFeatures)),Ue.deleteFeatures)for(const yr of Ue.deleteFeatures){const ar=jn(yr);null!=ar&&en.push(ar)}const zn=Ue.updateFeatures&&$e._idToClientGraphic?new Map:null;if(Ue.updateFeatures)for(const yr of Ue.updateFeatures)if(En.push($e._serializeFeature(yr)),zn){const ar=jn(yr);null!=ar&&zn.set(ar,yr)}(0,As.P)(At?At.features:null,En,$e.layer.spatialReference);const{fullExtent:Vr,featureEditResults:jr}=yield $e._connection.invoke("applyEdits",{adds:At?At.features:[],updates:En,deletes:en});return $e.fullExtent=Vr,At&&At.finish(jr.uidToObjectId),$e._updateClientGraphicIds(zn,jr),$e._createEditsResult(jr)})()}_prepareClientMapping(Ue,$e){var ct=this;return(0,M.Z)(function*(){if("mesh"!==ct.layerOrSourceGeometryType||(0,re.Wi)(Ue))return;const At=[];for(const{geometry:en}of Ue)!(0,re.pC)(en)||"mesh"!==en.type||en.hasExtent||en.loaded||At.push(en.load({signal:$e}));At.length&&(yield Promise.all(At))})()}_updateClientGraphicIds(Ue,$e){if(this._idToClientGraphic){if(Ue)for(const ct of $e.updateResults){if(!ct.success)continue;const At=Ue.get(ct.objectId);null!=At&&this._addIdToClientGraphic(At)}for(const ct of $e.deleteResults)ct.success&&this._idToClientGraphic.delete(ct.objectId)}}_createEditsResult(Ue){return{addFeatureResults:Ue.addResults?Ue.addResults.map(this._createFeatureEditResult,this):[],updateFeatureResults:Ue.updateResults?Ue.updateResults.map(this._createFeatureEditResult,this):[],deleteFeatureResults:Ue.deleteResults?Ue.deleteResults.map(this._createFeatureEditResult,this):[],addAttachmentResults:[],updateAttachmentResults:[],deleteAttachmentResults:[]}}_createFeatureEditResult(Ue){const $e=!0===Ue.success?null:Ue.error||{code:void 0,description:void 0};return{objectId:Ue.objectId,globalId:Ue.globalId,error:$e?new I.Z("feature-layer-source:edit-failure",$e.description,{code:$e.code}):null}}_prepareAddFeatures(Ue){const $e=new Map,ct=new Array(Ue.length);let At=null;for(let En=0;En<Ue.length;En++){const jn=Ue[En],zn=this._serializeFeature(jn);!At&&(0,re.pC)(jn.geometry)&&(At=jn.geometry.type),ct[En]=zn,$e.set(`${zn.uid}`,jn)}const en=this;return{features:ct,inferredGeometryType:At,finish(En){const jn=en.sourceJSON.objectIdField;for(const zn in En){const Vr=En[zn],jr=$e.get(zn);jr&&(jr.attributes||(jr.attributes={}),-1===Vr?delete jr.attributes[jn]:jr.attributes[jn]=Vr,en._addIdToClientGraphic(jr))}}}}_addIdToClientGraphic(Ue){if(!this._idToClientGraphic)return;const ct=Ue.attributes&&Ue.attributes[this.sourceJSON.objectIdField];null!=ct&&this._idToClientGraphic.set(ct,Ue)}get layerOrSourceGeometryType(){var Ue,$e,ct;return null!=(Ue=null==($e=this.layer)?void 0:$e.geometryType)?Ue:null==(ct=this.sourceJSON)?void 0:ct.geometryType}_requiresClientGraphicMapping(){return this._geometryTypeRequiresClientGraphicMapping(this.layerOrSourceGeometryType)}_geometryRequiresClientGraphicMapping(Ue){return this._geometryTypeRequiresClientGraphicMapping(Ue.type)}_geometryTypeRequiresClientGraphicMapping(Ue){return"mesh"===Ue||"multipatch"===Ue||"extent"===Ue}_serializeFeature(Ue){const{attributes:$e}=Ue,ct=this._geometryForSerialization(Ue),At=(Le++).toString();return ct?{uid:At,geometry:ct.toJSON(),attributes:$e}:{uid:At,attributes:$e}}_geometryForSerialization(Ue){const{geometry:$e}=Ue;return(0,re.Wi)($e)?null:this._geometryRequiresClientGraphicMapping($e)?$e.extent?ks.Z.fromExtent($e.extent):null:$e}_startWorker(Ue){var $e=this;return(0,M.Z)(function*(){$e._connection=yield(0,li.bA)("MemorySourceWorker",{strategy:(0,F.Z)("feature-layers-workers")?"dedicated":"local",signal:Ue});const{fields:ct,spatialReference:At,objectIdField:en,hasM:En,hasZ:jn,timeInfo:zn}=$e.layer,Vr="defaults"===$e.layer.originOf("spatialReference");yield $e._prepareClientMapping($e.items,Ue);const jr=$e._prepareAddFeatures($e.items);$e.handles.add($e.on("before-changes",cs=>{Kt.error("Source modifications will not propagate after layer has been loaded. Please use .applyEdits() instead"),cs.preventDefault()}));const yr={features:jr.features,fields:ct&&ct.map(cs=>cs.toJSON()),geometryType:Ms.P$.toJSON($e.workerGeometryType),hasM:"mesh"!==$e.layerOrSourceGeometryType&&En,hasZ:"mesh"===$e.layerOrSourceGeometryType||jn,objectIdField:en,spatialReference:Vr?null:At&&At.toJSON(),timeInfo:zn?zn.toJSON():null},ar=yield $e._connection.invoke("load",yr,{signal:Ue});for(const cs of ar.warnings)Kt.warn(cs.message,{layer:$e.layer,warning:cs});ar.featureErrors.length&&Kt.warn(`Encountered ${ar.featureErrors.length} validation errors while loading features`,ar.featureErrors);const hi=ar.layerDefinition;$e._geometryTypeRequiresClientGraphicMapping(jr.inferredGeometryType)&&(hi.geometryType=Ms.P$.toJSON(jr.inferredGeometryType)),$e.sourceJSON=hi,$e._requiresClientGraphicMapping()&&($e._idToClientGraphic=new Map),jr.finish(ar.assignedObjectIds)})()}};(0,O._)([(0,ni.c)({Type:zr.Z,ensureType:(0,_e.se)(zr.Z)})],wt.prototype,"itemType",void 0),(0,O._)([(0,K.Cb)()],wt.prototype,"type",void 0),(0,O._)([(0,K.Cb)({constructOnly:!0})],wt.prototype,"layer",void 0),(0,O._)([(0,K.Cb)({readOnly:!0})],wt.prototype,"workerGeometryType",null),(0,O._)([(0,K.Cb)()],wt.prototype,"sourceJSON",void 0),wt=(0,O._)([(0,ce.j)("esri.layers.graphics.sources.MemorySource")],wt);const fn=wt;var sr,cn=E(50085),Mn=E(65088),Wn=E(552),dt=E(50107),bt=E(35126),pt=E(49286),Lt=E(32629),_t=E(6647),un=E(30346),hn=E(99555),pn=E(97941),Fn=E(38305),mn=E(13812);let er=sr=class extends ie.wq{constructor(Ue){super(Ue)}clone(){const{name:Ue,fields:$e,isAscending:ct,isUnique:At,description:en}=this;return new sr({name:Ue,fields:$e,isAscending:ct,isUnique:At,description:en})}};(0,O._)([(0,K.Cb)({constructOnly:!0})],er.prototype,"name",void 0),(0,O._)([(0,K.Cb)({constructOnly:!0})],er.prototype,"fields",void 0),(0,O._)([(0,K.Cb)({constructOnly:!0})],er.prototype,"isAscending",void 0),(0,O._)([(0,K.Cb)({constructOnly:!0})],er.prototype,"isUnique",void 0),(0,O._)([(0,K.Cb)({constructOnly:!0})],er.prototype,"description",void 0),er=sr=(0,O._)([(0,ce.j)("esri.layers.support.FeatureIndex")],er);var Rs=E(2777),$r=E(32777),ms=E(41638),Gr=E(55911),Yn=E(36630),Cs=E(16730);let xr=class extends((0,ne.J)(ie.wq)){constructor(Ue){super(Ue),this.shapeAreaField=null,this.shapeLengthField=null,this.units=null}};(0,O._)([(0,K.Cb)({type:String,json:{read:{source:"shapeAreaFieldName"}}})],xr.prototype,"shapeAreaField",void 0),(0,O._)([(0,K.Cb)({type:String,json:{read:{source:"shapeLengthFieldName"}}})],xr.prototype,"shapeLengthField",void 0),(0,O._)([(0,K.Cb)({type:String,json:{read:Ue=>Cs.gV.read(Ue)||Cs.Jo.read(Ue)}})],xr.prototype,"units",void 0),xr=(0,O._)([(0,ce.j)("esri.layers.support.GeometryFieldsInfo")],xr);const ui=xr;var Fr=E(170),us=E(62667),qr=E(2430);const Ds=new k.X({esriRelCardinalityOneToOne:"one-to-one",esriRelCardinalityOneToMany:"one-to-many",esriRelCardinalityManyToMany:"many-to-many"}),pr=new k.X({esriRelRoleOrigin:"origin",esriRelRoleDestination:"destination"});let nr=class extends((0,ne.J)(ie.wq)){constructor(Ue){super(Ue),this.cardinality=null,this.composite=null,this.id=null,this.keyField=null,this.keyFieldInRelationshipTable=null,this.name=null,this.relatedTableId=null,this.relationshipTableId=null,this.role=null}};(0,O._)([(0,K.Cb)({json:{read:Ds.read,write:Ds.write}})],nr.prototype,"cardinality",void 0),(0,O._)([(0,K.Cb)({json:{read:!0,write:!0}})],nr.prototype,"composite",void 0),(0,O._)([(0,K.Cb)({json:{read:!0,write:!0}})],nr.prototype,"id",void 0),(0,O._)([(0,K.Cb)({json:{read:!0,write:!0}})],nr.prototype,"keyField",void 0),(0,O._)([(0,K.Cb)({json:{read:!0,write:!0}})],nr.prototype,"keyFieldInRelationshipTable",void 0),(0,O._)([(0,K.Cb)({json:{read:!0,write:!0}})],nr.prototype,"name",void 0),(0,O._)([(0,K.Cb)({json:{read:!0,write:!0}})],nr.prototype,"relatedTableId",void 0),(0,O._)([(0,K.Cb)({json:{read:!0,write:!0}})],nr.prototype,"relationshipTableId",void 0),(0,O._)([(0,K.Cb)({json:{read:pr.read,write:pr.write}})],nr.prototype,"role",void 0),nr=(0,O._)([(0,ce.j)("esri.layers.support.Relationship")],nr);const eo=nr;var Io=E(62708),To=E(5676),Nr=E(15283),po=E(39683),wi=E(67736),Yr=E(84952),ci=E(67010),Zi=E(6871),xt=E(49430);const ln=new k.X({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryMultiPatch:"multipatch"}),_n={name:"supportsName",size:"supportsSize",contentType:"supportsContentType",keywords:"supportsKeywords",exifInfo:"supportsExifInfo"},$n="FeatureLayer",Pr=W.Z.getLogger("esri.layers.FeatureLayer");function Ir(Ue){return Ue&&Ue instanceof j.Z}function Cn(Ue,$e,ct){return!!(Ue&&Ue.hasOwnProperty($e)?Ue[$e]:ct)}function di(Ue,$e,ct){return Ue&&Ue.hasOwnProperty($e)?Ue[$e]:ct}function Ge(Ue){var $e;const ct=null==Ue||null==($e=Ue.supportedSpatialAggregationStatistics)?void 0:$e.map(At=>At.toLowerCase());return{envelope:!(null==ct||!ct.includes("envelopeaggregate")),centroid:!(null==ct||!ct.includes("centroidaggregate")),convexHull:!(null==ct||!ct.includes("convexhullaggregate"))}}const qe=(0,Gr.v)();function gt(Ue,$e,ct){const At=!(null==ct||!ct.writeLayerSchema);return{enabled:At,ignoreOrigin:At}}let ft=class extends((0,bt.b)((0,Wn.h)((0,Lt.c)((0,pn.n)((0,hn.M)((0,un.Q)((0,Mn.Y)((0,pt.q)((0,_t.I)((0,Q.R)((0,dt.N)((0,cn.V)((0,ne.J)(zs.Z)))))))))))))){constructor(...Ue){super(...Ue),this._handles=new w.Z,this.capabilities=null,this.charts=null,this.copyright=null,this.datesInUnknownTimezone=!1,this.displayField=null,this.definitionExpression=null,this.dynamicDataSource=null,this.editFieldsInfo=null,this.editingInfo=null,this.elevationInfo=null,this.featureReduction=null,this.fields=null,this.fieldsIndex=null,this.floorInfo=null,this.formTemplate=null,this.fullExtent=null,this.gdbVersion=null,this.geometryFieldsInfo=null,this.geometryType=null,this.hasM=void 0,this.hasZ=void 0,this.heightModelInfo=null,this.historicMoment=null,this.infoFor3D=null,this.isTable=!1,this.labelsVisible=!0,this.labelingInfo=null,this.layerId=void 0,this.legendEnabled=!0,this.minScale=0,this.maxScale=0,this.globalIdField=null,this.objectIdField=null,this.outFields=null,this.path=null,this.popupEnabled=!0,this.popupTemplate=null,this.relationships=null,this.sourceJSON=null,this.returnM=void 0,this.returnZ=void 0,this.screenSizePerspectiveEnabled=!0,this.serviceDefinitionExpression=null,this.spatialReference=Lr.Z.WGS84,this.subtypeCode=null,this.templates=null,this.timeInfo=null,this.title=null,this.sublayerTitleMode="item-title",this.trackIdField=null,this.type="feature",this.typeIdField=null,this.types=null,this.indexes=new(j.Z.ofType(er)),this.userIsAdmin=!1,this.version=void 0,this.visible=!0}destroy(){var Ue;null==(Ue=this.source)||Ue.destroy(),this._handles=(0,re.SC)(this._handles)}normalizeCtorArgs(Ue,$e){return"string"==typeof Ue?Ct({url:Ue},$e):Ue}load(Ue){var $e=this;const ct=(0,re.pC)(Ue)?Ue.signal:null;if(this.portalItem&&this.portalItem.loaded&&this.source)return void this.addResolvingPromise(this.createGraphicsSource(ct).then(en=>this._initLayerProperties(en)));const At=this.loadFromPortal({supportedTypes:["Feature Service","Feature Collection"]},Ue).catch(he.r9).then((0,M.Z)(function*(){if($e.url&&null==$e.layerId&&/FeatureServer|MapServer\/*$/i.test($e.url)){const en=yield $e._fetchFirstLayerId(ct);null!=en&&($e.layerId=en)}if(!$e.url&&!$e._hasMemorySource())throw new I.Z("feature-layer:missing-url-or-source","Feature layer must be created with either a url or a source");return $e._initLayerProperties(yield $e.createGraphicsSource(ct))})).then(()=>this.finishLoadEditablePortalLayer(Ue));return this.addResolvingPromise(At),Promise.resolve(this)}readCapabilities(Ue,$e){return{attachment:this._readAttachmentCapabilities(($e=$e.layerDefinition||$e).attachmentProperties),data:this._readDataCapabilities($e),metadata:this._readMetadataCapabilities($e),operations:this._readOperationsCapabilities($e.capabilities||Ue,$e),query:this._readQueryCapabilities($e),queryRelated:this._readQueryRelatedCapabilities($e),editing:this._readEditingCapabilities($e)}}get createQueryVersion(){return this.commitProperty("definitionExpression"),this.commitProperty("dynamicDataSource"),this.commitProperty("timeExtent"),this.commitProperty("timeOffset"),this.commitProperty("geometryType"),this.commitProperty("gdbVersion"),this.commitProperty("historicMoment"),this.commitProperty("returnZ"),this.commitProperty("capabilities"),this.commitProperty("returnM"),(this._get("createQueryVersion")||0)+1}get editingEnabled(){return!(this.loaded&&!this.capabilities.operations.supportsEditing)&&(this._isOverridden("editingEnabled")?this._get("editingEnabled"):this._hasMemorySource()||this.userHasEditingPrivileges)}set editingEnabled(Ue){null!=Ue?this._override("editingEnabled",Ue):this._clearOverride("editingEnabled")}readEditingEnabled(Ue,$e){return this._readEditingEnabled($e,!1)}readEditingEnabledFromWebMap(Ue,$e,ct){return this._readEditingEnabled($e,!0,ct)}writeEditingEnabled(Ue,$e){this._writeEditingEnabled(Ue,$e,!1)}writeEditingEnabledToWebMap(Ue,$e,ct,At){this._writeEditingEnabled(Ue,$e,!0,At)}readEditingInfo(Ue,$e){const{editingInfo:ct}=$e;return ct?{lastEditDate:null!=ct.lastEditDate?new Date(ct.lastEditDate):null}:null}readIsTable(Ue,$e){return"Table"===($e=$e&&$e.layerDefinition||$e).type||!$e.geometryType}writeIsTable(Ue,$e,ct,At){null!=At&&At.writeLayerSchema&&(0,ue.RB)(ct,Ue?"Table":"Feature Layer",$e)}readMinScale(Ue,$e){return $e.effectiveMinScale||Ue||0}readMaxScale(Ue,$e){return $e.effectiveMaxScale||Ue||0}readGlobalIdFieldFromService(Ue,$e){if(($e=$e.layerDefinition||$e).globalIdField)return $e.globalIdField;if($e.fields)for(const ct of $e.fields)if("esriFieldTypeGlobalID"===ct.type)return ct.name}readObjectIdFieldFromService(Ue,$e){if(($e=$e.layerDefinition||$e).objectIdField)return $e.objectIdField;if($e.fields)for(const ct of $e.fields)if("esriFieldTypeOID"===ct.type)return ct.name}get parsedUrl(){const Ue=this.url?(0,oe.mN)(this.url):null;return null!=Ue&&(null!=this.dynamicDataSource?Ue.path=(0,oe.v_)(Ue.path,"dynamicLayer"):null!=this.layerId&&(Ue.path=(0,oe.v_)(Ue.path,this.layerId.toString()))),Ue}get defaultPopupTemplate(){return this.createPopupTemplate()}set renderer(Ue){(0,Yn.YN)(Ue,this.fieldsIndex),this._set("renderer",Ue)}readRenderer(Ue,$e,ct){const At=($e=$e.layerDefinition||$e).drawingInfo&&$e.drawingInfo.renderer||void 0;if(At){const en=(0,Z.a)(At,$e,ct)||void 0;return en||Pr.error("Failed to create renderer",{rendererDefinition:$e.drawingInfo.renderer,layer:this,context:ct}),en}if($e.defaultSymbol)return $e.types&&$e.types.length?new x.Z({defaultSymbol:Rt($e.defaultSymbol,$e,ct),field:$e.typeIdField,uniqueValueInfos:$e.types.map(en=>({id:en.id,symbol:Rt(en.symbol,en,ct)}))}):new T.Z({symbol:Rt($e.defaultSymbol,$e,ct)})}set source(Ue){const $e=this._get("source");$e!==Ue&&(Ir($e)&&this._resetMemorySource($e),Ir(Ue)&&this._initMemorySource(Ue),this._set("source",Ue))}castSource(Ue){return Ue?Array.isArray(Ue)||Ue instanceof j.Z?new fn({layer:this,items:Ue}):Ue:null}readSource(Ue,$e){const ct=Jr.default.fromJSON($e.featureSet);return new fn({layer:this,items:ct&&ct.features||[]})}readServiceDefinitionExpression(Ue,$e){return $e.definitionQuery||$e.definitionExpression}readTemplates(Ue,$e){const ct=$e.editFieldsInfo,At=ct&&ct.creatorField,en=ct&&ct.editorField;return Ue=Ue&&Ue.map(En=>$r.Z.fromJSON(En)),this._fixTemplates(Ue,At),this._fixTemplates(Ue,en),Ue}readTitle(Ue,$e){const ct=$e.layerDefinition&&$e.layerDefinition.name||$e.name,At=$e.title||$e.layerDefinition&&$e.layerDefinition.title;if(ct){const en=this.portalItem&&this.portalItem.title;if("item-title"===this.sublayerTitleMode)return this.url?(0,Fn.a7)(this.url,ct):ct;let En=ct;if(!En&&this.url){const jn=(0,Fn.Qc)(this.url);(0,re.pC)(jn)&&(En=jn.title)}return En?("item-title-and-service-name"===this.sublayerTitleMode&&en&&en!==En&&(En=en+" - "+En),(0,Fn.ld)(En)):void 0}if("item-title"===this.sublayerTitleMode&&At)return At}readTitleFromWebMap(Ue,$e){return $e.title||$e.layerDefinition&&$e.layerDefinition.name}readTypeIdField(Ue,$e){let ct=($e=$e.layerDefinition||$e).typeIdField;if(ct&&$e.fields){ct=ct.toLowerCase();const At=$e.fields.find(en=>en.name.toLowerCase()===ct);At&&(ct=At.name)}return ct}readTypes(Ue,$e){Ue=($e=$e.layerDefinition||$e).types;const ct=$e.editFieldsInfo,At=ct&&ct.creatorField,en=ct&&ct.editorField;return Ue&&Ue.map(En=>(En=ms.Z.fromJSON(En),this._fixTemplates(En.templates,At),this._fixTemplates(En.templates,en),En))}set url(Ue){const $e=(0,Fn.XG)({layer:this,url:Ue,nonStandardUrlAllowed:!0,logger:Pr});this._set("url",$e.url),null!=$e.layerId&&this._set("layerId",$e.layerId)}writeUrl(Ue,$e,ct,At){(0,Fn.wH)(this,Ue,null,$e,At)}readVersion(Ue,$e){return $e.currentVersion?$e.currentVersion:$e.hasOwnProperty("capabilities")||$e.hasOwnProperty("drawingInfo")||$e.hasOwnProperty("hasAttachments")||$e.hasOwnProperty("htmlPopupType")||$e.hasOwnProperty("relationships")||$e.hasOwnProperty("timeInfo")||$e.hasOwnProperty("typeIdField")||$e.hasOwnProperty("types")?10:9.3}readVisible(Ue,$e){return $e.layerDefinition&&null!=$e.layerDefinition.defaultVisibility?!!$e.layerDefinition.defaultVisibility:null!=$e.visibility?!!$e.visibility:void 0}addAttachment(Ue,$e){return this.load().then(()=>this._checkAttachmentSupport(Ue)).then(()=>{if(!("addAttachment"in this.source))throw new I.Z($n,"Layer source does not support addAttachment capability");return this.source.addAttachment(Ue,$e)})}updateAttachment(Ue,$e,ct){return this.load().then(()=>this._checkAttachmentSupport(Ue)).then(()=>{if(!("updateAttachment"in this.source))throw new I.Z($n,"Layer source does not support updateAttachment capability");return this.source.updateAttachment(Ue,$e,ct)})}applyEdits(Ue,$e){var ct=this;return(0,M.Z)(function*(){const At=yield E.e(1913).then(E.bind(E,81913));return yield ct.load(),At.applyEdits(ct,ct.source,Ue,$e)})()}on(Ue,$e){return super.on(Ue,$e)}createPopupTemplate(Ue){return(0,xt.eZ)(this,Ue)}createGraphicsSource(Ue){var $e=this;return(0,M.Z)(function*(){if($e._hasMemorySource())return $e.source.load({signal:Ue});const{default:ct}=yield(0,he.Hl)(E.e(5547).then(E.bind(E,45547)),Ue);return new ct({layer:$e}).load({signal:Ue})})()}createQuery(){const Ue=new Yr.Z,$e=this.get("capabilities.data"),ct=this.get("capabilities.query");Ue.dynamicDataSource=this.dynamicDataSource,Ue.historicMoment=this.historicMoment,Ue.gdbVersion=this.gdbVersion,Ue.returnGeometry=!0,ct&&(Ue.compactGeometryEnabled=ct.supportsCompactGeometry,Ue.defaultSpatialReferenceEnabled=ct.supportsDefaultSpatialReference),$e&&($e.supportsZ&&null!=this.returnZ&&(Ue.returnZ=this.returnZ),$e.supportsM&&null!=this.returnM&&(Ue.returnM=this.returnM)),Ue.outFields=["*"],Ue.where=this.definitionExpression||"1=1";const{timeOffset:At,timeExtent:en}=this;return Ue.timeExtent=null!=At&&null!=en?en.offset(-At.value,At.unit):en||null,Ue.multipatchOption="multipatch"===this.geometryType?"xyFootprint":null,Ue}deleteAttachments(Ue,$e){return this.load().then(()=>this._checkAttachmentSupport(Ue)).then(()=>{if(!("deleteAttachments"in this.source))throw new I.Z($n,"Layer source does not support deleteAttachments capability");return this.source.deleteAttachments(Ue,$e)})}fetchRecomputedExtents(Ue){return this.load({signal:null==Ue?void 0:Ue.signal}).then(()=>{if(this.source.fetchRecomputedExtents)return this.source.fetchRecomputedExtents(Ue);throw new I.Z($n,"Layer source does not support fetchUpdates capability")})}getFeatureType(Ue){const{typeIdField:$e,types:ct}=this;if(!$e||!Ue)return null;const At=Ue.attributes?Ue.attributes[$e]:void 0;if(null==At)return null;let en=null;return ct.some(En=>{const{id:jn}=En;return null!=jn&&(jn.toString()===At.toString()&&(en=En),!!en)}),en}getFieldDomain(Ue,$e){const At=this.getFeatureType($e&&$e.feature);if(At){const en=At.domains&&At.domains[Ue];if(en&&"inherited"!==en.type)return en}return this._getLayerDomain(Ue)}getField(Ue){return this.fieldsIndex.get(Ue)}queryAttachments(Ue,$e){return Ue=wi.Z.from(Ue),this.load().then(()=>{if(!this.get("capabilities.data.supportsAttachment"))throw new I.Z($n,"this layer doesn't support attachments");const{attachmentTypes:ct,objectIds:At,globalIds:en,num:En,size:jn,start:zn,where:Vr}=Ue;if(!this.get("capabilities.operations.supportsQueryAttachments")){const yr=ct&&ct.length,ar=en&&en.length,hi=jn&&jn.length;if(At&&At.length>1||yr||ar||hi||En||zn||Vr)throw new I.Z($n,"when 'supportsQueryAttachments' is false, only objectIds of length 1 are supported",Ue)}if(!(At&&At.length||Vr))throw new I.Z($n,"'objectIds' or 'where' are required to perform attachment query",Ue);if(!("queryAttachments"in this.source))throw new I.Z($n,"Layer source does not support queryAttachments capability",Ue);return this.source.queryAttachments(Ue)})}queryFeatures(Ue,$e){return this.load().then(()=>this.source.queryFeatures(Yr.Z.from(Ue)||this.createQuery(),$e)).then(ct=>{if(null!=ct&&ct.features)for(const At of ct.features)At.layer=At.sourceLayer=this;return ct})}queryObjectIds(Ue,$e){return this.load().then(()=>{if(this.source.queryObjectIds)return this.source.queryObjectIds(Yr.Z.from(Ue)||this.createQuery(),$e);throw new I.Z($n,"Layer source does not support queryObjectIds capability")})}queryFeatureCount(Ue,$e){return this.load().then(()=>{if(this.source.queryFeatureCount)return this.source.queryFeatureCount(Yr.Z.from(Ue)||this.createQuery(),$e);throw new I.Z($n,"Layer source does not support queryFeatureCount capability")})}queryExtent(Ue,$e){return this.load().then(()=>{if(this.source.queryExtent)return this.source.queryExtent(Yr.Z.from(Ue)||this.createQuery(),$e);throw new I.Z($n,"Layer source does not support queryExtent capability")})}queryRelatedFeatures(Ue,$e){return this.load().then(()=>{if("queryRelatedFeatures"in this.source)return this.source.queryRelatedFeatures(ci.Z.from(Ue),$e);throw new I.Z($n,"Layer source does not support queryRelatedFeatures capability")})}queryRelatedFeaturesCount(Ue,$e){return this.load().then(()=>{if("queryRelatedFeaturesCount"in this.source)return this.source.queryRelatedFeaturesCount(ci.Z.from(Ue),$e);throw new I.Z($n,"Layer source does not support queryRelatedFeaturesCount capability")})}queryTopFeatures(Ue,$e){return this.load().then(()=>{if("queryTopFeatures"in this.source&&this.get("capabilities.query.supportsTopFeaturesQuery"))return this.source.queryTopFeatures(Zi.Z.from(Ue),$e).then(ct=>{if(null!=ct&&ct.features)for(const At of ct.features)At.layer=At.sourceLayer=this;return ct});throw new I.Z($n,"Layer source does not support queryTopFeatures capability")})}queryTopObjectIds(Ue,$e){return this.load().then(()=>{if("queryTopObjectIds"in this.source&&this.get("capabilities.query.supportsTopFeaturesQuery"))return this.source.queryTopObjectIds(Zi.Z.from(Ue),$e);throw new I.Z($n,"Layer source does not support queryTopObjectIds capability")})}queryTopFeaturesExtent(Ue,$e){return this.load().then(()=>{if("queryTopExtents"in this.source&&this.get("capabilities.query.supportsTopFeaturesQuery"))return this.source.queryTopExtents(Zi.Z.from(Ue),$e);throw new I.Z($n,"Layer source does not support queryTopExtents capability")})}queryTopFeatureCount(Ue,$e){return this.load().then(()=>{if("queryTopCount"in this.source&&this.get("capabilities.query.supportsTopFeaturesQuery"))return this.source.queryTopCount(Zi.Z.from(Ue),$e);throw new I.Z($n,"Layer source does not support queryFeatureCount capability")})}read(Ue,$e){const ct=Ue.featureCollection;if(ct){const At=ct.layers;At&&1===At.length&&(super.read(At[0],$e),null!=ct.showLegend&&super.read({showLegend:ct.showLegend},$e))}super.read(Ue,$e),$e&&"service"===$e.origin&&this.revert(["objectIdField","fields","timeInfo","spatialReference"],"service")}write(Ue,$e){var ct,At;const en=($e=Bn(Ct({},$e),{writeLayerSchema:null!=(ct=null==(At=$e)?void 0:At.writeLayerSchema)?ct:this._hasMemorySource()})).origin,En=$e.layerContainerType,jn=$e.messages;if(this.isTable){if("web-scene"===en||"web-map"===en&&"tables"!==En)return jn&&jn.push(new I.Z("layer:unsupported",`Layer (${this.title}, ${this.id}) of type '${this.declaredClass}' using a Table source cannot be written to web scenes and web maps`,{layer:this})),null;if(this._hasMemorySource())return jn&&jn.push(new I.Z("layer:unsupported",`Layer (${this.title}, ${this.id}) of type '${this.declaredClass}' using an in-memory Table source cannot be written to web scenes and web maps`,{layer:this})),null}else if(this.loaded&&"web-map"===en&&"tables"===En)return jn&&jn.push(new I.Z("layer:unsupported",`Layer (${this.title}, ${this.id}) of type '${this.declaredClass}' using a non-table source cannot be written to tables in web maps`,{layer:this})),null;return super.write(Ue,$e)}clone(){if(this._hasMemorySource())throw new I.Z($n,`FeatureLayer (title: ${this.title}, id: ${this.id}) created using in-memory source cannot be cloned`);return super.clone()}serviceSupportsSpatialReference(Ue){return!!this.loaded&&("memory"===this.source.type||(0,To.D)(this,Ue))}_readEditingEnabled(Ue,$e,ct){var At;let en=null==(At=Ue.layerDefinition)?void 0:At.capabilities;return en?this._hasEditingCapability(en):(en=Ue.capabilities,$e&&"web-map"===(null==ct?void 0:ct.origin)&&!this._hasMemorySource()&&en?this._hasEditingCapability(en):void 0)}_hasEditingCapability(Ue){return Ue.toLowerCase().split(",").map($e=>$e.trim()).includes("editing")}_writeEditingEnabled(Ue,$e,ct,At){if(!Ue){var en,En;const jn=null!=(en=this.capabilities)&&null!=(En=en.operations)&&En.supportsSync?"Query,Sync":"Query";(0,ue.RB)("layerDefinition.capabilities",jn,$e),!ct||null!=At&&At.writeLayerSchema||($e.capabilities=jn)}}_checkAttachmentSupport(Ue){const{attributes:$e}=Ue,{objectIdField:ct}=this;return this.get("capabilities.data.supportsAttachment")?Ue?$e?$e[ct]?void 0:Promise.reject(new I.Z($n,`feature is missing the identifying attribute ${ct}`)):Promise.reject(new I.Z($n,"'attributes' are required on a feature to query attachments")):Promise.reject(new I.Z($n,"A feature is required to add/delete/update attachments")):Promise.reject(new I.Z($n,"this layer doesn't support attachments"))}_getLayerDomain(Ue){const $e=this.fieldsIndex.get(Ue);return $e?$e.domain:null}_fetchFirstLayerId(Ue){return(0,$.default)(this.url,{query:Bn(Ct({f:"json"},this.customParameters),{token:this.apiKey}),responseType:"json",signal:Ue}).then($e=>{const ct=$e.data;if(ct)return Array.isArray(ct.layers)&&ct.layers.length>0?ct.layers[0].id:Array.isArray(ct.tables)&&ct.tables.length>0?ct.tables[0].id:void 0})}_initLayerProperties(Ue){var $e=this;return(0,M.Z)(function*(){return $e._set("source",Ue),Ue.sourceJSON&&($e.sourceJSON=Ue.sourceJSON,$e.read(Ue.sourceJSON,{origin:"service",url:$e.parsedUrl})),$e._verifySource(),$e._verifyFields(),(0,Yn.YN)($e.renderer,$e.fieldsIndex),(0,Yn.UF)($e.timeInfo,$e.fieldsIndex),(0,po.y)($e,{origin:"service"})})()}hasDataChanged(){var Ue=this;return(0,M.Z)(function*(){var $e;if(null!=($e=Ue.source)&&$e.refresh)try{var ct;const{dataChanged:At,updates:en}=yield null==(ct=Ue.source)?void 0:ct.refresh();if((0,re.pC)(en)&&(Ue.sourceJSON=Ct(Ct({},Ue.sourceJSON),en),Ue.read(en,{origin:"service",url:Ue.parsedUrl})),At)return!0}catch(At){}if(Ue.definitionExpression)try{return(yield function fe(Ue,$e){return pe.apply(this,arguments)}(Ue.definitionExpression,Ue.fieldsIndex)).hasDateFunctions}catch(At){}return!1})()}_verifyFields(){const Ue=this.parsedUrl&&this.parsedUrl.path||"undefined";this.objectIdField||console.log("FeatureLayer: 'objectIdField' property is not defined (url: "+Ue+")"),this.isTable||this._hasMemorySource()||-1!==Ue.search(/\/FeatureServer\//i)||this.fields&&this.fields.some(function($e){return"geometry"===$e.type})||console.log("FeatureLayer: unable to find field of type 'geometry' in the layer 'fields' list. If you are using a map service layer, features will not have geometry (url: "+Ue+")")}_fixTemplates(Ue,$e){Ue&&Ue.forEach(ct=>{const At=ct.prototype&&ct.prototype.attributes;At&&$e&&delete At[$e]})}_verifySource(){if(this._hasMemorySource()){if(this.url)throw new I.Z("feature-layer:mixed-source-and-url","FeatureLayer cannot be created with both an in-memory source and a url")}else if(!this.url)throw new I.Z("feature-layer:source-or-url-required","FeatureLayer requires either a url, a valid portal item or a source")}_initMemorySource(Ue){Ue.forEach($e=>{$e.layer=this,$e.sourceLayer=this}),this._handles.add([Ue.on("after-add",$e=>{$e.item.layer=this,$e.item.sourceLayer=this}),Ue.on("after-remove",$e=>{$e.item.layer=null,$e.item.sourceLayer=null})],"fl-source")}_resetMemorySource(Ue){Ue.forEach($e=>{$e.layer=null,$e.sourceLayer=null}),this._handles.remove("fl-source")}_hasMemorySource(){return!(this.url||!this.source)}_readAttachmentCapabilities(Ue){const $e={supportsName:!1,supportsSize:!1,supportsContentType:!1,supportsKeywords:!1,supportsExifInfo:!1};return Ue&&Array.isArray(Ue)&&Ue.forEach(ct=>{const At=_n[ct.name];At&&($e[At]=!!ct.isEnabled)}),$e}_readDataCapabilities(Ue){return{isVersioned:Cn(Ue,"isDataVersioned",!1),supportsAttachment:Cn(Ue,"hasAttachments",!1),supportsM:Cn(Ue,"hasM",!1),supportsZ:Cn(Ue,"hasZ",!1)}}_readMetadataCapabilities(Ue){return{supportsAdvancedFieldProperties:Cn(Ue,"supportsFieldDescriptionProperty",!1)}}_readOperationsCapabilities(Ue,$e){const ct=Ue?Ue.toLowerCase().split(",").map(Vr=>Vr.trim()):[],At=ct.includes("editing")&&!$e.datesInUnknownTimezone;let en=At&&ct.includes("create"),En=At&&ct.includes("delete"),jn=At&&ct.includes("update");const zn=ct.includes("changetracking");return At&&!(en||En||jn)&&(en=En=jn=!0),{supportsCalculate:Cn($e,"supportsCalculate",!1),supportsTruncate:Cn($e,"supportsTruncate",!1),supportsValidateSql:Cn($e,"supportsValidateSql",!1),supportsAdd:en,supportsDelete:En,supportsEditing:At,supportsChangeTracking:zn,supportsQuery:ct.includes("query"),supportsQueryAttachments:Cn($e.advancedQueryCapabilities,"supportsQueryAttachments",!1),supportsResizeAttachments:Cn($e,"supportsAttachmentsResizing",!1),supportsSync:ct.includes("sync"),supportsUpdate:jn,supportsExceedsLimitStatistics:Cn($e,"supportsExceedsLimitStatistics",!1)}}_readQueryCapabilities(Ue){var $e;const ct=Ue.advancedQueryCapabilities,At=Ue.ownershipBasedAccessControlForFeatures,en=Ue.archivingInfo,En=null==($e=this.url)?void 0:$e.includes("MapServer"),jn=!(0,F.Z)("mapserver-pbf-enabled")&&En&&this.version<10.81,zn=(0,Fn.M8)(this.url),Vr=(Ue.supportedQueryFormats||"").split(",").reduce((jr,yr)=>{const ar=yr.toLowerCase().trim();return ar&&jr.add(ar),jr},new Set);return{supportsStatistics:Cn(ct,"supportsStatistics",Ue.supportsStatistics),supportsPercentileStatistics:Cn(ct,"supportsPercentileStatistics",!1),supportsSpatialAggregationStatistics:Cn(ct,"supportsSpatialAggregationStatistics",!1),supportedSpatialAggregationStatistics:Ge(ct),supportsCentroid:Cn(ct,"supportsReturningGeometryCentroid",!1),supportsDistance:Cn(ct,"supportsQueryWithDistance",!1),supportsDistinct:Cn(ct,"supportsDistinct",Ue.supportsAdvancedQueries),supportsExtent:Cn(ct,"supportsReturningQueryExtent",!1),supportsGeometryProperties:Cn(ct,"supportsReturningGeometryProperties",!1),supportsHavingClause:Cn(ct,"supportsHavingClause",!1),supportsOrderBy:Cn(ct,"supportsOrderBy",Ue.supportsAdvancedQueries),supportsPagination:Cn(ct,"supportsPagination",!1),supportsQuantization:Cn(Ue,"supportsCoordinatesQuantization",!1),supportsQuantizationEditMode:Cn(Ue,"supportsQuantizationEditMode",!1),supportsQueryGeometry:Cn(Ue,"supportsReturningQueryGeometry",!1),supportsResultType:Cn(ct,"supportsQueryWithResultType",!1),supportsMaxRecordCountFactor:Cn(ct,"supportsMaxRecordCountFactor",!1),supportsSqlExpression:Cn(ct,"supportsSqlExpression",!1),supportsStandardizedQueriesOnly:Cn(Ue,"useStandardizedQueries",!1),supportsTopFeaturesQuery:Cn(ct,"supportsTopFeaturesQuery",!1),supportsQueryByOthers:Cn(At,"allowOthersToQuery",!0),supportsHistoricMoment:Cn(en,"supportsQueryWithHistoricMoment",!1),supportsFormatPBF:!jn&&Vr.has("pbf"),supportsDisjointSpatialRelationship:Cn(ct,"supportsDisjointSpatialRel",!1),supportsCacheHint:Cn(ct,"supportsQueryWithCacheHint",!1),supportsDefaultSpatialReference:Cn(ct,"supportsDefaultSR",!1),supportsCompactGeometry:zn,maxRecordCountFactor:di(Ue,"maxRecordCountFactor",void 0),maxRecordCount:di(Ue,"maxRecordCount",void 0),standardMaxRecordCount:di(Ue,"standardMaxRecordCount",void 0),tileMaxRecordCount:di(Ue,"tileMaxRecordCount",void 0)}}_readQueryRelatedCapabilities(Ue){const $e=Ue.advancedQueryCapabilities,ct=Cn($e,"supportsAdvancedQueryRelated",!1);return{supportsPagination:Cn($e,"supportsQueryRelatedPagination",!1),supportsCount:ct,supportsOrderBy:ct}}_readEditingCapabilities(Ue){const $e=Ue.ownershipBasedAccessControlForFeatures;return{supportsGeometryUpdate:Cn(Ue,"allowGeometryUpdates",!0),supportsGlobalId:Cn(Ue,"supportsApplyEditsWithGlobalIds",!1),supportsReturnServiceEditsInSourceSpatialReference:Cn(Ue,"supportsReturnServiceEditsInSourceSR",!1),supportsRollbackOnFailure:Cn(Ue,"supportsRollbackOnFailureParameter",!1),supportsUpdateWithoutM:Cn(Ue,"allowUpdateWithoutMValues",!1),supportsUploadWithItemId:Cn(Ue,"supportsAttachmentsByUploadId",!1),supportsDeleteByAnonymous:Cn($e,"allowAnonymousToDelete",!0),supportsDeleteByOthers:Cn($e,"allowOthersToDelete",!0),supportsUpdateByAnonymous:Cn($e,"allowAnonymousToUpdate",!0),supportsUpdateByOthers:Cn($e,"allowOthersToUpdate",!0)}}};(0,O._)([(0,K.Cb)({readOnly:!0,json:{read:!1}})],ft.prototype,"capabilities",void 0),(0,O._)([(0,me.r)("service","capabilities",["advancedQueryCapabilities","allowGeometryUpdates","allowUpdateWithoutMValues","archivingInfo","capabilities","datesInUnknownTimezone","hasAttachments","hasM","hasZ","maxRecordCount","maxRecordCountFactor","ownershipBasedAccessControlForFeatures","standardMaxRecordCount","supportedQueryFormats","supportsAdvancedQueries","supportsApplyEditsWithGlobalIds","supportsAttachmentsByUploadId","supportsAttachmentsResizing","supportsCalculate","supportsCoordinatesQuantization","supportsExceedsLimitStatistics","supportsFieldDescriptionProperty","supportsQuantizationEditMode","supportsRollbackOnFailureParameter","supportsStatistics","supportsTruncate","supportsValidateSql","tileMaxRecordCount","useStandardizedQueries"])],ft.prototype,"readCapabilities",null),(0,O._)([(0,K.Cb)({json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],ft.prototype,"charts",void 0),(0,O._)([(0,K.Cb)({readOnly:!0})],ft.prototype,"createQueryVersion",null),(0,O._)([(0,K.Cb)({type:String,json:{read:{source:"layerDefinition.copyrightText"},origins:{service:{read:{source:"copyrightText"}}}}})],ft.prototype,"copyright",void 0),(0,O._)([(0,K.Cb)({type:Boolean})],ft.prototype,"datesInUnknownTimezone",void 0),(0,O._)([(0,K.Cb)({type:String,json:{read:{source:"layerDefinition.displayField"},origins:{service:{read:{source:"displayField"}}}}})],ft.prototype,"displayField",void 0),(0,O._)([(0,K.Cb)({type:String,json:{origins:{service:{read:!1,write:!1}},name:"layerDefinition.definitionExpression",write:{enabled:!0,allowNull:!0}}})],ft.prototype,"definitionExpression",void 0),(0,O._)([(0,K.Cb)({types:se.LB,readOnly:!0})],ft.prototype,"defaultSymbol",void 0),(0,O._)([(0,K.Cb)({type:Nr.n})],ft.prototype,"dynamicDataSource",void 0),(0,O._)([(0,K.Cb)({readOnly:!0})],ft.prototype,"editFieldsInfo",void 0),(0,O._)([(0,K.Cb)({type:Boolean})],ft.prototype,"editingEnabled",null),(0,O._)([(0,me.r)(["portal-item","web-scene"],"editingEnabled",["layerDefinition.capabilities"])],ft.prototype,"readEditingEnabled",null),(0,O._)([(0,me.r)("web-map","editingEnabled",["capabilities","layerDefinition.capabilities"])],ft.prototype,"readEditingEnabledFromWebMap",null),(0,O._)([(0,ge.c)(["portal-item","web-scene"],"editingEnabled",{"layerDefinition.capabilities":{type:String}})],ft.prototype,"writeEditingEnabled",null),(0,O._)([(0,ge.c)("web-map","editingEnabled",{capabilities:{type:String},"layerDefinition.capabilities":{type:String}})],ft.prototype,"writeEditingEnabledToWebMap",null),(0,O._)([(0,K.Cb)({readOnly:!0})],ft.prototype,"editingInfo",void 0),(0,O._)([(0,me.r)("editingInfo")],ft.prototype,"readEditingInfo",null),(0,O._)([(0,K.Cb)(mn.PV)],ft.prototype,"elevationInfo",void 0),(0,O._)([(0,K.Cb)(Rs.d)],ft.prototype,"featureReduction",void 0),(0,O._)([(0,K.Cb)(Bn(Ct({},qe.fields),{json:{read:{source:"layerDefinition.fields"},origins:{service:{name:"fields"},"web-map":{write:{target:"layerDefinition.fields",overridePolicy:gt}}}}}))],ft.prototype,"fields",void 0),(0,O._)([(0,K.Cb)(qe.fieldsIndex)],ft.prototype,"fieldsIndex",void 0),(0,O._)([(0,K.Cb)({type:qr.Z,json:{read:{source:"layerDefinition.floorInfo"},write:{target:"layerDefinition.floorInfo"}}})],ft.prototype,"floorInfo",void 0),(0,O._)([(0,K.Cb)({type:mr,json:{name:"formInfo",write:!0,origins:{"web-scene":{read:!1,write:!1}}}})],ft.prototype,"formTemplate",void 0),(0,O._)([(0,K.Cb)({type:fr.Z,json:{origins:{service:{read:{source:"extent"}}},read:{source:"layerDefinition.extent"}}})],ft.prototype,"fullExtent",void 0),(0,O._)([(0,K.Cb)()],ft.prototype,"gdbVersion",void 0),(0,O._)([(0,K.Cb)({readOnly:!0,type:ui,json:{read:{source:"geometryProperties"}}})],ft.prototype,"geometryFieldsInfo",void 0),(0,O._)([(0,K.Cb)({type:["point","polygon","polyline","multipoint","multipatch","mesh"],json:{origins:{service:{read:ln.read},"web-map":{write:{target:"layerDefinition.geometryType",overridePolicy:gt,writer(Ue,$e,ct){const At=Ue?ln.toJSON(Ue):null;At&&(0,ue.RB)(ct,At,$e)}}}},read:{source:"layerDefinition.geometryType",reader:ln.read}}})],ft.prototype,"geometryType",void 0),(0,O._)([(0,K.Cb)({type:Boolean,json:{origins:{service:{read:!0}},read:{source:"layerDefinition.hasM"}}})],ft.prototype,"hasM",void 0),(0,O._)([(0,K.Cb)({type:Boolean,json:{origins:{service:{read:!0}},read:{source:"layerDefinition.hasZ"}}})],ft.prototype,"hasZ",void 0),(0,O._)([(0,K.Cb)({readOnly:!0,type:Mr.Z})],ft.prototype,"heightModelInfo",void 0),(0,O._)([(0,K.Cb)({type:Date})],ft.prototype,"historicMoment",void 0),(0,O._)([(0,K.Cb)(mn.id)],ft.prototype,"id",void 0),(0,O._)([(0,K.Cb)({readOnly:!0,json:{origins:{service:{read:!0}},read:!1}})],ft.prototype,"infoFor3D",void 0),(0,O._)([(0,K.Cb)({readOnly:!0,json:{origins:{"web-map":{write:{target:"layerDefinition.type"}}}}})],ft.prototype,"isTable",void 0),(0,O._)([(0,me.r)("service","isTable",["type","geometryType"]),(0,me.r)("isTable",["layerDefinition.type","layerDefinition.geometryType"])],ft.prototype,"readIsTable",null),(0,O._)([(0,ge.c)("web-map","isTable")],ft.prototype,"writeIsTable",null),(0,O._)([(0,K.Cb)(mn.iR)],ft.prototype,"labelsVisible",void 0),(0,O._)([(0,K.Cb)({type:[Fr.Z],json:{origins:{service:{read:{source:"drawingInfo.labelingInfo",reader:us.r},write:{target:"drawingInfo.labelingInfo",enabled:!1}}},read:{source:"layerDefinition.drawingInfo.labelingInfo",reader:us.r},write:{target:"layerDefinition.drawingInfo.labelingInfo"}}})],ft.prototype,"labelingInfo",void 0),(0,O._)([(0,K.Cb)(mn.bT)],ft.prototype,"opacity",void 0),(0,O._)([(0,K.Cb)({type:Number,json:{origins:{service:{read:{source:"id"}}},read:!1}})],ft.prototype,"layerId",void 0),(0,O._)([(0,K.Cb)(mn.rn)],ft.prototype,"legendEnabled",void 0),(0,O._)([(0,K.Cb)({type:["show","hide"]})],ft.prototype,"listMode",void 0),(0,O._)([(0,K.Cb)(mn.rO)],ft.prototype,"minScale",void 0),(0,O._)([(0,me.r)("service","minScale",["minScale","effectiveMinScale"])],ft.prototype,"readMinScale",null),(0,O._)([(0,K.Cb)(mn.u1)],ft.prototype,"maxScale",void 0),(0,O._)([(0,me.r)("service","maxScale",["maxScale","effectiveMaxScale"])],ft.prototype,"readMaxScale",null),(0,O._)([(0,K.Cb)({type:String})],ft.prototype,"globalIdField",void 0),(0,O._)([(0,me.r)("globalIdField",["layerDefinition.globalIdField","layerDefinition.fields"]),(0,me.r)("service","globalIdField",["globalIdField","fields"])],ft.prototype,"readGlobalIdFieldFromService",null),(0,O._)([(0,K.Cb)({type:String,json:{origins:{"web-map":{write:{target:"layerDefinition.objectIdField",overridePolicy:gt}}}}})],ft.prototype,"objectIdField",void 0),(0,O._)([(0,me.r)("objectIdField",["layerDefinition.objectIdField","layerDefinition.fields"]),(0,me.r)("service","objectIdField",["objectIdField","fields"])],ft.prototype,"readObjectIdFieldFromService",null),(0,O._)([(0,K.Cb)({value:"ArcGISFeatureLayer",type:["ArcGISFeatureLayer"]})],ft.prototype,"operationalLayerType",void 0),(0,O._)([(0,K.Cb)(qe.outFields)],ft.prototype,"outFields",void 0),(0,O._)([(0,K.Cb)({readOnly:!0})],ft.prototype,"parsedUrl",null),(0,O._)([(0,K.Cb)({type:String,json:{origins:{"web-scene":{read:!0,write:!0}},read:!1}})],ft.prototype,"path",void 0),(0,O._)([(0,K.Cb)(mn.C_)],ft.prototype,"popupEnabled",void 0),(0,O._)([(0,K.Cb)({type:X.Z,json:{name:"popupInfo",write:!0}})],ft.prototype,"popupTemplate",void 0),(0,O._)([(0,K.Cb)({readOnly:!0})],ft.prototype,"defaultPopupTemplate",null),(0,O._)([(0,K.Cb)({type:[eo],readOnly:!0})],ft.prototype,"relationships",void 0),(0,O._)([(0,K.Cb)({types:Y.A,json:{origins:{service:{write:{target:"drawingInfo.renderer",enabled:!1}},"web-scene":{types:Y.o,name:"layerDefinition.drawingInfo.renderer",write:{overridePolicy:(Ue,$e,ct)=>({ignoreOrigin:null==ct?void 0:ct.writeLayerSchema})}}},write:{target:"layerDefinition.drawingInfo.renderer",overridePolicy:(Ue,$e,ct)=>({ignoreOrigin:null==ct?void 0:ct.writeLayerSchema})}}})],ft.prototype,"renderer",null),(0,O._)([(0,me.r)("service","renderer",["drawingInfo.renderer","defaultSymbol"]),(0,me.r)("renderer",["layerDefinition.drawingInfo.renderer","layerDefinition.defaultSymbol"])],ft.prototype,"readRenderer",null),(0,O._)([(0,K.Cb)()],ft.prototype,"sourceJSON",void 0),(0,O._)([(0,K.Cb)({type:Boolean})],ft.prototype,"returnM",void 0),(0,O._)([(0,K.Cb)({type:Boolean})],ft.prototype,"returnZ",void 0),(0,O._)([(0,K.Cb)(mn.YI)],ft.prototype,"screenSizePerspectiveEnabled",void 0),(0,O._)([(0,K.Cb)({clonable:!1})],ft.prototype,"source",null),(0,O._)([(0,le.p)("source")],ft.prototype,"castSource",null),(0,O._)([(0,me.r)("portal-item","source",["featureSet"]),(0,me.r)("web-map","source",["featureSet"])],ft.prototype,"readSource",null),(0,O._)([(0,K.Cb)({readOnly:!0})],ft.prototype,"serviceDefinitionExpression",void 0),(0,O._)([(0,me.r)("service","serviceDefinitionExpression",["definitionQuery","definitionExpression"])],ft.prototype,"readServiceDefinitionExpression",null),(0,O._)([(0,K.Cb)({type:Lr.Z,json:{origins:{service:{read:{source:"extent.spatialReference"}}},read:{source:"layerDefinition.extent.spatialReference"}}})],ft.prototype,"spatialReference",void 0),(0,O._)([(0,K.Cb)({type:Number})],ft.prototype,"subtypeCode",void 0),(0,O._)([(0,K.Cb)({type:[$r.Z]})],ft.prototype,"templates",void 0),(0,O._)([(0,me.r)("templates",["editFieldsInfo","creatorField","editorField","templates"])],ft.prototype,"readTemplates",null),(0,O._)([(0,K.Cb)({type:Io.Z})],ft.prototype,"timeInfo",void 0),(0,O._)([(0,K.Cb)()],ft.prototype,"title",void 0),(0,O._)([(0,me.r)("service","title",["name"]),(0,me.r)("portal-item","title",["layerDefinition.title","layerDefinition.name","title"])],ft.prototype,"readTitle",null),(0,O._)([(0,me.r)("web-map","title",["layerDefinition.name","title"])],ft.prototype,"readTitleFromWebMap",null),(0,O._)([(0,K.Cb)({type:String})],ft.prototype,"sublayerTitleMode",void 0),(0,O._)([(0,K.Cb)({type:String,json:{read:{source:"timeInfo.trackIdField"}}})],ft.prototype,"trackIdField",void 0),(0,O._)([(0,K.Cb)({json:{read:!1}})],ft.prototype,"type",void 0),(0,O._)([(0,K.Cb)({type:String})],ft.prototype,"typeIdField",void 0),(0,O._)([(0,me.r)("service","typeIdField"),(0,me.r)("typeIdField",["layerDefinition.typeIdField"])],ft.prototype,"readTypeIdField",null),(0,O._)([(0,K.Cb)({type:[ms.Z]})],ft.prototype,"types",void 0),(0,O._)([(0,me.r)("service","types",["types"]),(0,me.r)("types",["layerDefinition.types"])],ft.prototype,"readTypes",null),(0,O._)([(0,K.Cb)({readOnly:!0,json:{write:!1}})],ft.prototype,"serverGens",void 0),(0,O._)([(0,K.Cb)({type:j.Z.ofType(er),readOnly:!0})],ft.prototype,"indexes",void 0),(0,O._)([(0,K.Cb)(mn.HQ)],ft.prototype,"url",null),(0,O._)([(0,ge.c)("url")],ft.prototype,"writeUrl",null),(0,O._)([(0,K.Cb)({readOnly:!0})],ft.prototype,"userIsAdmin",void 0),(0,O._)([(0,K.Cb)({json:{origins:{service:{read:!0}},read:!1}})],ft.prototype,"version",void 0),(0,O._)([(0,me.r)("service","version",["currentVersion","capabilities","drawingInfo","hasAttachments","htmlPopupType","relationships","timeInfo","typeIdField","types"])],ft.prototype,"readVersion",null),(0,O._)([(0,K.Cb)({type:Boolean,json:{origins:{"portal-item":{write:{target:"layerDefinition.defaultVisibility"}}}}})],ft.prototype,"visible",void 0),(0,O._)([(0,me.r)("portal-item","visible",["visibility","layerDefinition.defaultVisibility"])],ft.prototype,"readVisible",null),ft=(0,O._)([(0,ce.j)("esri.layers.FeatureLayer")],ft);const Rt=(0,J.d)({types:se.QT}),Ut=ft},63602:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>Q});var M=E(15861),O=E(17626),X=E(59318),N=(E(29132),E(84792)),ee=E(26584),z=E(61885),L=E(61996),T=E(47996),x=E(63290),Z=E(10699),Y=E(21726),$=E(77712),I=(E(85931),E(8314),E(90912),E(76898)),w=E(2004),F=E(65234);let k=0;const W=x.Z.getLogger("esri.layers.Layer");let re=class extends(z.Z.EventedMixin((0,L.I)(T.Z))){constructor(){super(...arguments),this.attributionDataUrl=null,this.fullExtent=new w.Z(-180,-90,180,90,F.Z.WGS84),this.id=Date.now().toString(16)+"-layer-"+k++,this.legendEnabled=!0,this.listMode="show",this.opacity=1,this.parent=null,this.popupEnabled=!0,this.attributionVisible=!0,this.spatialReference=F.Z.WGS84,this.title=null,this.type=null,this.url=null,this.visible=!0}static fromArcGISServerUrl(ue){return(0,M.Z)(function*(){const he="string"==typeof ue?{url:ue}:ue,fe=yield E.e(4578).then(E.bind(E,24578));try{return yield fe.fromUrl(he)}catch(pe){throw W.error("#fromArcGISServerUrl({ url: '"+he.url+"'})","Failed to create layer from arcgis server url",pe),pe}})()}static fromPortalItem(ue){return(0,M.Z)(function*(){const he="portalItem"in ue?ue:{portalItem:ue},fe=yield E.e(7534).then(E.bind(E,7534));try{return yield fe.fromItem(he)}catch(pe){const oe=he&&he.portalItem;throw W.error("#fromPortalItem()","Failed to create layer from portal item (portal: '"+(oe&&oe.portal&&oe.portal.url||X.Z.portalUrl)+"', id: '"+(oe&&oe.id||"unset")+"')",pe),pe}})()}initialize(){this.when().catch(ue=>{var he,fe;(0,Z.D_)(ue)||x.Z.getLogger(this.declaredClass).error("#load()",`Failed to load layer (title: '${null!=(he=this.title)?he:"no title"}', id: '${null!=(fe=this.id)?fe:"no id"}')`,{error:ue})})}destroy(){if(this.parent){const ue=this,he=this.parent;"layers"in he&&he.layers.includes(ue)?he.layers.remove(ue):"tables"in he&&he.tables.includes(ue)?he.tables.remove(ue):"baseLayers"in he&&he.baseLayers.includes(ue)?he.baseLayers.remove(ue):"baseLayers"in he&&he.referenceLayers.includes(ue)&&he.referenceLayers.remove(ue)}}get hasAttributionData(){return null!=this.attributionDataUrl}get parsedUrl(){const ue=this.url;return ue?(0,Y.mN)(ue):null}fetchAttributionData(){var ue=this;return(0,M.Z)(function*(){const he=ue.attributionDataUrl;if(ue.hasAttributionData&&he)return(yield(0,N.default)(he,{query:{f:"json"},responseType:"json"})).data;throw new ee.Z("layer:no-attribution-data","Layer does not have attribution data")})()}};(0,O._)([(0,$.Cb)({type:String})],re.prototype,"attributionDataUrl",void 0),(0,O._)([(0,$.Cb)({type:w.Z})],re.prototype,"fullExtent",void 0),(0,O._)([(0,$.Cb)({readOnly:!0})],re.prototype,"hasAttributionData",null),(0,O._)([(0,$.Cb)({type:String,clonable:!1})],re.prototype,"id",void 0),(0,O._)([(0,$.Cb)({type:Boolean,nonNullable:!0})],re.prototype,"legendEnabled",void 0),(0,O._)([(0,$.Cb)({type:["show","hide","hide-children"]})],re.prototype,"listMode",void 0),(0,O._)([(0,$.Cb)({type:Number,range:{min:0,max:1},nonNullable:!0})],re.prototype,"opacity",void 0),(0,O._)([(0,$.Cb)({clonable:!1})],re.prototype,"parent",void 0),(0,O._)([(0,$.Cb)({readOnly:!0})],re.prototype,"parsedUrl",null),(0,O._)([(0,$.Cb)({type:Boolean})],re.prototype,"popupEnabled",void 0),(0,O._)([(0,$.Cb)({type:Boolean})],re.prototype,"attributionVisible",void 0),(0,O._)([(0,$.Cb)({type:F.Z})],re.prototype,"spatialReference",void 0),(0,O._)([(0,$.Cb)({type:String})],re.prototype,"title",void 0),(0,O._)([(0,$.Cb)({type:String,readOnly:!0,json:{read:!1}})],re.prototype,"type",void 0),(0,O._)([(0,$.Cb)()],re.prototype,"url",void 0),(0,O._)([(0,$.Cb)({type:Boolean,nonNullable:!0})],re.prototype,"visible",void 0),re=(0,O._)([(0,I.j)("esri.layers.Layer")],re);const Q=re},58141:(Qe,Me,E)=>{"use strict";E.d(Me,{rk:()=>$,Tj:()=>se,GI:()=>ne,CE:()=>j,Tq:()=>I,Zx:()=>w,Ee:()=>W});var M=E(20414),O=E(23841),X=E(55494),B=E(28347);class ${constructor(Q,ue,he){this.strength=Q,this.radius=ue,this.threshold=he,this.type="bloom"}interpolate(Q,ue,he){this.strength=F(Q.strength,ue.strength,he),this.radius=F(Q.radius,ue.radius,he),this.threshold=F(Q.threshold,ue.threshold,he)}clone(){return new $(this.strength,this.radius,this.threshold)}toJSON(){return{type:"bloom",radius:k(this.radius),strength:this.strength,threshold:this.threshold}}}class se{constructor(Q){this.radius=Q,this.type="blur"}interpolate(Q,ue,he){this.radius=Math.round(F(Q.radius,ue.radius,he))}clone(){return new se(this.radius)}toJSON(){return{type:"blur",radius:k(this.radius)}}}class ne{constructor(Q,ue){this.type=Q,this.amount=ue,"invert"!==this.type&&"grayscale"!==this.type&&"sepia"!==this.type||(this.amount=Math.min(this.amount,1))}get colorMatrix(){return this._colorMatrix||this._updateMatrix(),this._colorMatrix}interpolate(Q,ue,he){this.amount=F(Q.amount,ue.amount,he),this._updateMatrix()}clone(){return new ne(this.type,this.amount)}toJSON(){return{type:this.type,amount:this.amount}}_updateMatrix(){const Q=this._colorMatrix||(0,X.c)();switch(this.type){case"brightness":this._colorMatrix=((re,Q)=>{const ue=(0,B.s)(re,Q,0,0,0,0,Q,0,0,0,0,Q,0,0,0,0,1);return(0,B.t)(ue,ue)})(Q,this.amount);break;case"contrast":this._colorMatrix=((re,Q)=>{const ue=(0,B.s)(re,Q,0,0,.5-.5*Q,0,Q,0,.5-.5*Q,0,0,Q,.5-.5*Q,0,0,0,1);return(0,B.t)(ue,ue)})(Q,this.amount);break;case"grayscale":this._colorMatrix=((re,Q)=>{const ue=1-this.amount,he=(0,B.s)(re,.2126+.7874*ue,.7152-.7152*ue,.0722-.0722*ue,0,.2126-.2126*ue,.7152+.2848*ue,.0722-.0722*ue,0,.2126-.2126*ue,.7152-.7152*ue,.0722+.9278*ue,0,0,0,0,1);return(0,B.t)(he,he)})(Q);break;case"invert":this._colorMatrix=((re,Q)=>{const ue=1-2*Q,he=(0,B.s)(re,ue,0,0,Q,0,ue,0,Q,0,0,ue,Q,0,0,0,1);return(0,B.t)(he,he)})(Q,this.amount);break;case"saturate":this._colorMatrix=((re,Q)=>{const ue=(0,B.s)(re,.213+.787*Q,.715-.715*Q,.072-.072*Q,0,.213-.213*Q,.715+.285*Q,.072-.072*Q,0,.213-.213*Q,.715-.715*Q,.072+.928*Q,0,0,0,0,1);return(0,B.t)(ue,ue)})(Q,this.amount);break;case"sepia":this._colorMatrix=((re,Q)=>{const ue=1-this.amount,he=(0,B.s)(re,.393+.607*ue,.769-.769*ue,.189-.189*ue,0,.349-.349*ue,.686+.314*ue,.168-.168*ue,0,.272-.272*ue,.534-.534*ue,.131+.869*ue,0,0,0,0,1);return(0,B.t)(he,he)})(Q)}}}class j{constructor(Q,ue,he,fe){this.offsetX=Q,this.offsetY=ue,this.blurRadius=he,this.color=fe,this.type="drop-shadow"}interpolate(Q,ue,he){this.offsetX=F(Q.offsetX,ue.offsetX,he),this.offsetY=F(Q.offsetY,ue.offsetY,he),this.blurRadius=F(Q.blurRadius,ue.blurRadius,he),this.color[0]=Math.round(F(Q.color[0],ue.color[0],he)),this.color[1]=Math.round(F(Q.color[1],ue.color[1],he)),this.color[2]=Math.round(F(Q.color[2],ue.color[2],he)),this.color[3]=F(Q.color[3],ue.color[3],he)}clone(){return new j(this.offsetX,this.offsetY,this.blurRadius,[...this.color])}toJSON(){const Q=[...this.color];return Q[3]*=255,{type:"drop-shadow",xoffset:k(this.offsetX),yoffset:k(this.offsetY),blurRadius:k(this.blurRadius),color:Q}}}class I{constructor(Q){this.angle=Q,this.type="hue-rotate"}get colorMatrix(){return this._colorMatrix||this._updateMatrix(),this._colorMatrix}interpolate(Q,ue,he){this.angle=F(Q.angle,ue.angle,he),this._updateMatrix()}clone(){return new I(this.angle)}toJSON(){return{type:"hue-rotate",angle:this.angle}}_updateMatrix(){const Q=this._colorMatrix||(0,X.c)();this._colorMatrix=((re,Q)=>{const ue=Math.sin(Q*Math.PI/180),he=Math.cos(Q*Math.PI/180),fe=(0,B.s)(re,.213+.787*he-.213*ue,.715-.715*he-.715*ue,.072-.072*he+.928*ue,0,.213-.213*he+.143*ue,.715+.285*he+.14*ue,.072-.072*he-.283*ue,0,.213-.213*he-.787*ue,.715-.715*he+.715*ue,.072+.928*he+.072*ue,0,0,0,0,1);return(0,B.t)(fe,fe)})(Q,this.angle)}}class w{constructor(Q){this.amount=Q,this.type="opacity",this.amount=Math.min(this.amount,1)}interpolate(Q,ue,he){this.amount=F(Q.amount,ue.amount,he)}clone(){return new w(this.amount)}toJSON(){return{type:"opacity",amount:this.amount}}}function F(re,Q,ue){return re+(Q-re)*ue}function k(re){return Math.round(1e3*(0,O.Wz)(re))/1e3}function W(re){switch(re.type){case"grayscale":case"sepia":case"invert":return new ne(re.type,0);case"saturate":case"brightness":case"contrast":return new ne(re.type,1);case"opacity":return new w(1);case"hue-rotate":return new I(0);case"blur":return new se(0);case"drop-shadow":return new j(0,0,0,[...(0,M.h$)("transparent")]);case"bloom":return new $(0,0,1)}}},71149:(Qe,Me,E)=>{"use strict";E.d(Me,{cW:()=>ee,ij:()=>N,rM:()=>x});var M=E(26584),O=E(94113),X=E(29538),B=E(53390);function N($,se,ne){try{return function L($){if(!$||0===$.length)return null;if(function T($){const se=$[0];return!!se&&"scale"in se}($)){const se=[];for(const ne of $)se.push({scale:ne.scale,value:x(ne.value)});return se}return x($)}($)}catch(I){var j;null==ne||null==(j=ne.messages)||j.push(I)}return null}function ee($,se,ne,j){try{const I=function z($){const se=(0,X.Q)($);return se?(0,B.Cb)(se)?se.map(ne=>ne.toJSON()):se.map(({scale:ne,effects:j})=>({scale:ne,value:j.map(I=>I.toJSON())})):null}($);(0,O.RB)(ne,I,se)}catch(I){j.messages&&j.messages.push(I)}}function x($){if(!$||!$.length)return"";const se=[];for(const ne of $){let j=[];switch(ne.type){case"grayscale":case"sepia":case"saturate":case"invert":case"brightness":case"contrast":case"opacity":j=[Z(ne,"amount")];break;case"blur":j=[Z(ne,"radius","pt")];break;case"hue-rotate":j=[Z(ne,"angle","deg")];break;case"drop-shadow":j=[Z(ne,"xoffset","pt"),Z(ne,"yoffset","pt"),Z(ne,"blurRadius","pt"),Y(ne,"color")];break;case"bloom":j=[Z(ne,"strength"),Z(ne,"radius","pt"),Z(ne,"threshold")]}const I=`${ne.type}(${j.filter(Boolean).join(" ")})`;(0,X.Q)(I),se.push(I)}return se.join(" ")}function Z($,se,ne){if(null==$[se])throw new M.Z("effect:missing-parameter",`Missing parameter '${se}' in ${$.type} effect`,{effect:$});return ne?$[se]+ne:""+$[se]}function Y($,se){if(null==$[se])throw new M.Z("effect:missing-parameter",`Missing parameter '${se}' in ${$.type} effect`,{effect:$});const ne=$[se];return`rgba(${ne[0]||0}, ${ne[1]||0}, ${ne[2]||0}, ${ne[3]/255||0})`}},29538:(Qe,Me,E)=>{"use strict";E.d(Me,{Q:()=>T});var ee,M=E(20414),O=E(26584),X=E(58141),N=(E(1719),E(53390)),L={exports:{}};function T(ie){if(!ie||0===ie.length)return null;if("string"==typeof ie){const _e=x(ie);return _e&&0!==_e.length?_e:null}const De=ie.map(_e=>{if(!Number.isFinite(_e.scale)||_e.scale<=0)throw new O.Z("effect:invalid-scale","scale must be finite and greater than 0",{stop:_e});return{scale:_e.scale,effects:x(_e.value)}});De.sort((_e,Ie)=>Ie.effects.length-_e.effects.length);for(let _e=0;_e<De.length-1;_e++){if(!(0,N.AS)(De[_e].effects,De[_e+1].effects))throw new O.Z("effect:interpolation-impossible","Cannot interpolate by scale between 2 lists of mixed effects",{a:De[_e].effects,b:De[_e+1].effects});(0,N.uF)(De[_e].effects,De[_e+1].effects)}return De.sort((_e,Ie)=>Ie.scale-_e.scale),De}function x(ie){let De;if(!ie)return[];try{De=L.exports.parse(ie)}catch(_e){throw new O.Z("effect:invalid-syntax","Invalid effect syntax",{value:ie,error:_e})}return De.map(_e=>function Z(ie){try{switch(ie.name){case"grayscale":case"sepia":case"saturate":case"invert":case"brightness":case"contrast":return function Y(ie){let De=1;return w(ie.parameters,1),1===ie.parameters.length&&(De=pe(ie.parameters[0])),new X.GI(ie.name,De)}(ie);case"opacity":return function $(ie){let De=1;return w(ie.parameters,1),1===ie.parameters.length&&(De=pe(ie.parameters[0])),new X.Zx(De)}(ie);case"hue-rotate":return function se(ie){let De=0;return w(ie.parameters,1),1===ie.parameters.length&&(De=function K(ie){return function ue(ie){if("quantity"!==ie.type||!(0===ie.value&&null===ie.unit||ie.unit&&null!=Q[ie.unit]))throw new O.Z("effect:type-error",`Expected <angle>, Actual: ${F(ie)}`,{term:ie})}(ie),ie.value*Q[ie.unit]||0}(ie.parameters[0])),new X.Tq(De)}(ie);case"blur":return function ne(ie){let De=0;return w(ie.parameters,1),1===ie.parameters.length&&(De=de(ie.parameters[0]),k(De,ie.parameters[0])),new X.Tj(De)}(ie);case"drop-shadow":return function j(ie){const De=[];let _e=null;for(const Ie of ie.parameters)if("color"===Ie.type){if(De.length&&Object.freeze(De),_e)throw new O.Z("effect:type-error","Accepts only one color",{});_e=le(Ie)}else{const xe=de(Ie);if(Object.isFrozen(De))throw new O.Z("effect:type-error","<length> parameters not consecutive",{lengths:De});De.push(xe),3===De.length&&k(xe,Ie)}if(De.length<2||De.length>3)throw new O.Z("effect:type-error",`Expected <length>{2,3}, Actual: <length>{${De.length}}`,{lengths:De});return new X.CE(De[0],De[1],De[2]||0,_e||me("black"))}(ie);case"bloom":return function I(ie){let De=1,_e=0,Ie=0;return w(ie.parameters,3),ie.parameters[0]&&(De=pe(ie.parameters[0])),ie.parameters[1]&&(_e=de(ie.parameters[1]),k(_e,ie.parameters[1])),ie.parameters[2]&&(Ie=pe(ie.parameters[2])),new X.rk(De,_e,Ie)}(ie)}}catch(De){throw De.details.filter=ie,De}throw new O.Z("effect:unknown-effect",`Effect '${ie.name}' is not supported`,{effect:ie})}(_e))}function w(ie,De){if(ie.length>De)throw new O.Z("effect:type-error",`Function supports up to ${De} parameters, Actual: ${ie.length}`,{parameters:ie})}function F(ie){if("color"===ie.type)return"<color>";if(ie.unit){if(he[ie.unit])return"<length>";if(Q[ie.unit])return"<angle>";if("%"===ie.unit)return"<percentage>"}return"<double>"}function k(ie,De){if(ie<0)throw new O.Z("effect:type-error",`Negative values are not allowed, Actual: ${ie}`,{term:De})}(ee=L).exports&&(ee.exports=function(){function De(xe,ke,Ve,ve){var we=Error.call(this,xe);return Object.setPrototypeOf&&Object.setPrototypeOf(we,De.prototype),we.expected=ke,we.found=Ve,we.location=ve,we.name="SyntaxError",we}function _e(xe,ke,Ve){return Ve=Ve||" ",xe.length>ke?xe:xe+(Ve+=Ve.repeat(ke-=xe.length)).slice(0,ke)}return function ie(xe,ke){function Ve(){this.constructor=xe}Ve.prototype=ke.prototype,xe.prototype=new Ve}(De,Error),De.prototype.format=function(xe){var ke="Error: "+this.message;if(this.location){var Ve,ve=null;for(Ve=0;Ve<xe.length;Ve++)if(xe[Ve].source===this.location.source){ve=xe[Ve].text.split(/\r\n|\n|\r/g);break}var we=this.location.start,We=this.location.source+":"+we.line+":"+we.column;if(ve){var nt=this.location.end,Te=_e("",we.line.toString().length),Ze=ve[we.line-1],He=we.line===nt.line?nt.column:Ze.length+1;ke+="\n --\x3e "+We+"\n"+Te+" |\n"+we.line+" | "+Ze+"\n"+Te+" | "+_e("",we.column-1)+_e("",He-we.column,"^")}else ke+="\n at "+We}return ke},De.buildMessage=function(xe,ke){var Ve={literal:function(He){return'"'+we(He.text)+'"'},class:function(He){var te=He.parts.map(function(Ee){return Array.isArray(Ee)?We(Ee[0])+"-"+We(Ee[1]):We(Ee)});return"["+(He.inverted?"^":"")+te+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(He){return He.description}};function ve(He){return He.charCodeAt(0).toString(16).toUpperCase()}function we(He){return He.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(te){return"\\x0"+ve(te)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(te){return"\\x"+ve(te)})}function We(He){return He.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(te){return"\\x0"+ve(te)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(te){return"\\x"+ve(te)})}function nt(He){return Ve[He.type](He)}return"Expected "+function Te(He){var te,Ee,je=He.map(nt);if(je.sort(),je.length>0){for(te=1,Ee=1;te<je.length;te++)je[te-1]!==je[te]&&(je[Ee]=je[te],Ee++);je.length=Ee}switch(je.length){case 1:return je[0];case 2:return je[0]+" or "+je[1];default:return je.slice(0,-1).join(", ")+", or "+je[je.length-1]}}(xe)+" but "+function Ze(He){return He?'"'+we(He)+'"':"end of input"}(ke)+" found."},{SyntaxError:De,parse:function Ie(xe,ke){var Ve,ve={},we=(ke=void 0!==ke?ke:{}).grammarSource,We={start:xr},nt=xr,zt=/^[ \t\n\r]/,qt=/^[a-z\-]/,dn=/^[0-9a-fA-F]/,xn=/^[+\-]/,yn=/^[0-9]/,An=$r("none"),In=er("none",!1),Dn=er(")",!1),st=er(",",!1),Dt=$r("whitespace"),jt=Cr([" ","\t","\n","\r"],!1,!1),Wt=$r("function"),Ht=er("(",!1),Nt=$r("identifier"),Yt=Cr([["a","z"],"-"],!1,!1),Jt=$r("percentage"),an=er("%",!1),Ot=$r("length"),yt=er("px",!1),ze=er("cm",!1),mt=er("mm",!1),Ae=er("in",!1),et=er("pt",!1),Tt=er("pc",!1),Qt=$r("angle"),on=er("deg",!1),it=er("rad",!1),Vt=er("grad",!1),$t=er("turn",!1),rn=$r("number"),gn=$r("color"),Zn=er("#",!1),mr=Cr([["0","9"],["a","f"],["A","F"]],!1,!1),fr=Cr(["+","-"],!1,!1),Mr=Cr([["0","9"]],!1,!1),Lr=er(".",!1),zs=er("e",!1),_t=0,un=0,hn=[{line:1,column:1}],pn=0,Fn=[],mn=0;if("startRule"in ke){if(!(ke.startRule in We))throw new Error("Can't start parsing from rule \""+ke.startRule+'".');nt=We[ke.startRule]}function sr(){return xe.substring(un,_t)}function er(xt,ln){return{type:"literal",text:xt,ignoreCase:ln}}function Cr(xt,ln,_n){return{type:"class",parts:xt,inverted:ln,ignoreCase:_n}}function $r(xt){return{type:"other",description:xt}}function ms(xt){var ln,_n=hn[xt];if(_n)return _n;for(ln=xt-1;!hn[ln];)ln--;for(_n={line:(_n=hn[ln]).line,column:_n.column};ln<xt;)10===xe.charCodeAt(ln)?(_n.line++,_n.column=1):_n.column++,ln++;return hn[xt]=_n,_n}function Yn(xt){_t<pn||(_t>pn&&(pn=_t,Fn=[]),Fn.push(xt))}function xr(){var xt;return(xt=function ui(){var xt,ln;return mn++,xt=_t,pr(),"none"===xe.substr(_t,4)?(ln="none",_t+=4):(ln=ve,0===mn&&Yn(In)),ln!==ve?(pr(),un=xt,xt=[]):(_t=xt,xt=ve),mn--,xt===ve&&0===mn&&Yn(An),xt}())===ve&&(xt=function Fr(){var xt,ln;if(xt=[],(ln=us())!==ve)for(;ln!==ve;)xt.push(ln),ln=us();else xt=ve;return xt}()),xt}function us(){var xt,ln,_n,$n;return xt=_t,pr(),(ln=function nr(){var xt,ln,_n;return mn++,xt=_t,(ln=eo())!==ve?(40===xe.charCodeAt(_t)?(_n="(",_t++):(_n=ve,0===mn&&Yn(Ht)),_n!==ve?(un=xt,xt=ln):(_t=xt,xt=ve)):(_t=xt,xt=ve),mn--,xt===ve&&(ln=ve,0===mn&&Yn(Wt)),xt}())!==ve?(pr(),(_n=function qr(){var xt,ln,_n,$n,Pr,Ir,Cn,di;if(xt=_t,(ln=Ds())!==ve){for(_n=[],$n=_t,Pr=pr(),44===xe.charCodeAt(_t)?(Ir=",",_t++):(Ir=ve,0===mn&&Yn(st)),Ir===ve&&(Ir=null),Cn=pr(),(di=Ds())!==ve?$n=Pr=[Pr,Ir,Cn,di]:(_t=$n,$n=ve);$n!==ve;)_n.push($n),$n=_t,Pr=pr(),44===xe.charCodeAt(_t)?(Ir=",",_t++):(Ir=ve,0===mn&&Yn(st)),Ir===ve&&(Ir=null),Cn=pr(),(di=Ds())!==ve?$n=Pr=[Pr,Ir,Cn,di]:(_t=$n,$n=ve);un=xt,xt=function(xt,ln){return ln.length>0?function Zi(xt,ln,_n){return[xt].concat(function ci(xt,ln){return xt.map(function(_n){return _n[ln]})}(ln,_n))}(xt,ln,3):[xt]}(ln,_n)}else _t=xt,xt=ve;return xt}())===ve&&(_n=null),pr(),41===xe.charCodeAt(_t)?($n=")",_t++):($n=ve,0===mn&&Yn(Dn)),$n!==ve?(pr(),un=xt,xt=function(xt,ln){return{type:"function",name:xt,parameters:ln||[]}}(ln,_n)):(_t=xt,xt=ve)):(_t=xt,xt=ve),xt}function Ds(){var xt,ln;return xt=_t,(ln=function Io(){var xt,ln,_n;return mn++,xt=_t,pr(),(ln=Yr())!==ve?(37===xe.charCodeAt(_t)?(_n="%",_t++):(_n=ve,0===mn&&Yn(an)),_n!==ve?(un=xt,xt=function(xt){return{value:xt,unit:"%"}}(ln)):(_t=xt,xt=ve)):(_t=xt,xt=ve),mn--,xt===ve&&0===mn&&Yn(Jt),xt}())===ve&&(ln=function To(){var xt,ln,_n;return mn++,xt=_t,pr(),(ln=Yr())!==ve?("px"===xe.substr(_t,2)?(_n="px",_t+=2):(_n=ve,0===mn&&Yn(yt)),_n!==ve?(un=xt,xt=function(xt){return{value:xt,unit:"px"}}(ln)):(_t=xt,xt=ve)):(_t=xt,xt=ve),xt===ve&&(xt=_t,pr(),(ln=Yr())!==ve?("cm"===xe.substr(_t,2)?(_n="cm",_t+=2):(_n=ve,0===mn&&Yn(ze)),_n!==ve?(un=xt,xt=function(xt){return{value:xt,unit:"cm"}}(ln)):(_t=xt,xt=ve)):(_t=xt,xt=ve),xt===ve&&(xt=_t,pr(),(ln=Yr())!==ve?("mm"===xe.substr(_t,2)?(_n="mm",_t+=2):(_n=ve,0===mn&&Yn(mt)),_n!==ve?(un=xt,xt=function(xt){return{value:xt,unit:"mm"}}(ln)):(_t=xt,xt=ve)):(_t=xt,xt=ve),xt===ve&&(xt=_t,pr(),(ln=Yr())!==ve?("in"===xe.substr(_t,2)?(_n="in",_t+=2):(_n=ve,0===mn&&Yn(Ae)),_n!==ve?(un=xt,xt=function(xt){return{value:xt,unit:"in"}}(ln)):(_t=xt,xt=ve)):(_t=xt,xt=ve),xt===ve&&(xt=_t,pr(),(ln=Yr())!==ve?("pt"===xe.substr(_t,2)?(_n="pt",_t+=2):(_n=ve,0===mn&&Yn(et)),_n!==ve?(un=xt,xt=function(xt){return{value:xt,unit:"pt"}}(ln)):(_t=xt,xt=ve)):(_t=xt,xt=ve),xt===ve&&(xt=_t,pr(),(ln=Yr())!==ve?("pc"===xe.substr(_t,2)?(_n="pc",_t+=2):(_n=ve,0===mn&&Yn(Tt)),_n!==ve?(un=xt,xt=function(xt){return{value:xt,unit:"pc"}}(ln)):(_t=xt,xt=ve)):(_t=xt,xt=ve)))))),mn--,xt===ve&&0===mn&&Yn(Ot),xt}())===ve&&(ln=function Nr(){var xt,ln,_n;return mn++,xt=_t,(ln=Yr())!==ve?("deg"===xe.substr(_t,3)?(_n="deg",_t+=3):(_n=ve,0===mn&&Yn(on)),_n!==ve?(un=xt,xt=function(xt){return{value:xt,unit:"deg"}}(ln)):(_t=xt,xt=ve)):(_t=xt,xt=ve),xt===ve&&(xt=_t,(ln=Yr())!==ve?("rad"===xe.substr(_t,3)?(_n="rad",_t+=3):(_n=ve,0===mn&&Yn(it)),_n!==ve?(un=xt,xt=function(xt){return{value:xt,unit:"rad"}}(ln)):(_t=xt,xt=ve)):(_t=xt,xt=ve),xt===ve&&(xt=_t,(ln=Yr())!==ve?("grad"===xe.substr(_t,4)?(_n="grad",_t+=4):(_n=ve,0===mn&&Yn(Vt)),_n!==ve?(un=xt,xt=function(xt){return{value:xt,unit:"grad"}}(ln)):(_t=xt,xt=ve)):(_t=xt,xt=ve),xt===ve&&(xt=_t,(ln=Yr())!==ve?("turn"===xe.substr(_t,4)?(_n="turn",_t+=4):(_n=ve,0===mn&&Yn($t)),_n!==ve?(un=xt,xt=function(xt){return{value:xt,unit:"turn"}}(ln)):(_t=xt,xt=ve)):(_t=xt,xt=ve)))),mn--,xt===ve&&(ln=ve,0===mn&&Yn(Qt)),xt}())===ve&&(ln=function po(){var xt,ln;return mn++,xt=_t,pr(),(ln=Yr())!==ve?(un=xt,xt=function(xt){return{value:xt,unit:null}}(ln)):(_t=xt,xt=ve),mn--,xt===ve&&0===mn&&Yn(rn),xt}()),ln!==ve&&(un=xt,ln=function(xt){return{type:"quantity",value:xt.value,unit:xt.unit}}(ln)),(xt=ln)===ve&&(xt=_t,(ln=function wi(){var xt,ln,_n,$n;if(mn++,xt=_t,35===xe.charCodeAt(_t)?(ln="#",_t++):(ln=ve,0===mn&&Yn(Zn)),ln!==ve){if(_n=[],dn.test(xe.charAt(_t))?($n=xe.charAt(_t),_t++):($n=ve,0===mn&&Yn(mr)),$n!==ve)for(;$n!==ve;)_n.push($n),dn.test(xe.charAt(_t))?($n=xe.charAt(_t),_t++):($n=ve,0===mn&&Yn(mr));else _n=ve;_n!==ve?(un=xt,xt={type:"hex",value:sr()}):(_t=xt,xt=ve)}else _t=xt,xt=ve;return xt===ve&&(xt=_t,(ln=us())!==ve&&(un=xt,ln=function(xt){return{type:"function",value:xt}}(ln)),(xt=ln)===ve&&(xt=_t,(ln=eo())!==ve&&(un=xt,ln={type:"named",value:sr()}),xt=ln)),mn--,xt===ve&&(ln=ve,0===mn&&Yn(gn)),xt}())!==ve&&(un=xt,ln=function(xt){return{type:"color",colorType:xt.type,value:xt.value}}(ln)),xt=ln),xt}function pr(){var xt,ln;for(mn++,xt=[],zt.test(xe.charAt(_t))?(ln=xe.charAt(_t),_t++):(ln=ve,0===mn&&Yn(jt));ln!==ve;)xt.push(ln),zt.test(xe.charAt(_t))?(ln=xe.charAt(_t),_t++):(ln=ve,0===mn&&Yn(jt));return mn--,ln=ve,0===mn&&Yn(Dt),xt}function eo(){var xt,ln,_n;if(mn++,xt=_t,ln=[],qt.test(xe.charAt(_t))?(_n=xe.charAt(_t),_t++):(_n=ve,0===mn&&Yn(Yt)),_n!==ve)for(;_n!==ve;)ln.push(_n),qt.test(xe.charAt(_t))?(_n=xe.charAt(_t),_t++):(_n=ve,0===mn&&Yn(Yt));else ln=ve;return ln!==ve&&(un=xt,ln=sr()),mn--,(xt=ln)===ve&&(ln=ve,0===mn&&Yn(Nt)),xt}function Yr(){var xt,ln,_n,$n,Pr,Ir,Cn;for(xt=_t,xn.test(xe.charAt(_t))?(xe.charAt(_t),_t++):0===mn&&Yn(fr),ln=_t,_n=[],yn.test(xe.charAt(_t))?($n=xe.charAt(_t),_t++):($n=ve,0===mn&&Yn(Mr));$n!==ve;)_n.push($n),yn.test(xe.charAt(_t))?($n=xe.charAt(_t),_t++):($n=ve,0===mn&&Yn(Mr));if(46===xe.charCodeAt(_t)?($n=".",_t++):($n=ve,0===mn&&Yn(Lr)),$n!==ve){if(Pr=[],yn.test(xe.charAt(_t))?(Ir=xe.charAt(_t),_t++):(Ir=ve,0===mn&&Yn(Mr)),Ir!==ve)for(;Ir!==ve;)Pr.push(Ir),yn.test(xe.charAt(_t))?(Ir=xe.charAt(_t),_t++):(Ir=ve,0===mn&&Yn(Mr));else Pr=ve;Pr!==ve?ln=_n=[_n,$n,Pr]:(_t=ln,ln=ve)}else _t=ln,ln=ve;if(ln===ve)if(ln=[],yn.test(xe.charAt(_t))?(_n=xe.charAt(_t),_t++):(_n=ve,0===mn&&Yn(Mr)),_n!==ve)for(;_n!==ve;)ln.push(_n),yn.test(xe.charAt(_t))?(_n=xe.charAt(_t),_t++):(_n=ve,0===mn&&Yn(Mr));else ln=ve;if(ln!==ve){if(_n=_t,101===xe.charCodeAt(_t)?($n="e",_t++):($n=ve,0===mn&&Yn(zs)),$n!==ve){if(xn.test(xe.charAt(_t))?(Pr=xe.charAt(_t),_t++):(Pr=ve,0===mn&&Yn(fr)),Pr===ve&&(Pr=null),Ir=[],yn.test(xe.charAt(_t))?(Cn=xe.charAt(_t),_t++):(Cn=ve,0===mn&&Yn(Mr)),Cn!==ve)for(;Cn!==ve;)Ir.push(Cn),yn.test(xe.charAt(_t))?(Cn=xe.charAt(_t),_t++):(Cn=ve,0===mn&&Yn(Mr));else Ir=ve;Ir!==ve?_n=$n=[$n,Pr,Ir]:(_t=_n,_n=ve)}else _t=_n,_n=ve;_n===ve&&(_n=null),un=xt,xt=parseFloat(sr())}else _t=xt,xt=ve;return xt}if((Ve=nt())!==ve&&_t===xe.length)return Ve;throw Ve!==ve&&_t<xe.length&&Yn({type:"end"}),function Cs(xt,ln,_n){return new De(De.buildMessage(xt,ln),xt,ln,_n)}(Fn,pn<xe.length?xe.charAt(pn):null,function Gr(xt,ln){var _n=ms(xt),$n=ms(ln);return{source:we,start:{offset:xt,line:_n.line,column:_n.column},end:{offset:ln,line:$n.line,column:$n.column}}}(pn,pn<xe.length?pn+1:pn))}}}());const Q={deg:1,grad:.9,rad:180/Math.PI,turn:360},he={px:1,cm:96/2.54,mm:96/2.54/10,in:96,pc:16,pt:96/72};function pe(ie){!function re(ie){if("quantity"!==ie.type||null!==ie.unit&&"%"!==ie.unit)throw new O.Z("effect:type-error",`Expected <double> or <percentage>, Actual: ${F(ie)}`,{term:ie})}(ie);const De=ie.value;return k(De,ie),"%"===ie.unit?.01*De:De}function de(ie){return function fe(ie){if("quantity"!==ie.type||!(0===ie.value&&null===ie.unit||ie.unit&&null!=he[ie.unit]))throw new O.Z("effect:type-error",`Expected <length>, Actual: ${F(ie)}`,{term:ie})}(ie),ie.value*he[ie.unit]||0}function le(ie){switch(ie.colorType){case"hex":return(0,M.rW)(ie.value);case"named":return me(ie.value);case"function":return function J(ie){if(w(ie.parameters,4),ce.test(ie.name))return[pe(ie.parameters[0]),pe(ie.parameters[1]),pe(ie.parameters[2]),ie.parameters[3]?pe(ie.parameters[3]):1];if(ge.test(ie.name))return(0,M.B7)(function oe(ie){return function W(ie){if("quantity"!==ie.type||null!==ie.unit)throw new O.Z("effect:type-error",`Expected <double>, Actual: ${F(ie)}`,{term:ie})}(ie),k(ie.value,ie),ie.value}(ie.parameters[0]),pe(ie.parameters[1]),pe(ie.parameters[2]),ie.parameters[3]?pe(ie.parameters[3]):1);throw new O.Z("effect:syntax-error",`Invalid color function '${ie.name}'`,{colorFunction:ie})}(ie.value)}}function me(ie){if(!(0,M.St)(ie))throw new O.Z("effect:unknown-color",`color '${ie}' isn't valid`,{namedColor:ie});return(0,M.VL)(ie)}const ce=/^rgba?/i,ge=/^hsla?/i},53390:(Qe,Me,E)=>{"use strict";E.d(Me,{AS:()=>O,Cb:()=>B,uF:()=>X});var M=E(58141);function O(N,ee){const z=N.length>ee.length?N:ee;return(N.length>ee.length?ee:N).every((L,T)=>L.type===z[T].type)}function X(N,ee){const z=N.length>ee.length?N:ee,L=N.length>ee.length?ee:N;for(let T=L.length;T<z.length;T++)L.push((0,M.Ee)(z[T]))}function B(N){const ee=N[0];return!!ee&&"type"in ee}},66385:(Qe,Me,E)=>{"use strict";E.d(Me,{S6:()=>X,nd:()=>B,u_:()=>O});var M=E(62208);class O{constructor(ee=null,z={},L,T){this.geometry=ee,this.attributes=z,this.centroid=L,this.objectId=T,this.displayId=0,this.geohashX=0,this.geohashY=0}weakClone(){const ee=new O(this.geometry,this.attributes,this.centroid,this.objectId);return ee.displayId=this.displayId,ee.geohashX=this.geohashX,ee.geohashY=this.geohashY,ee}}function X(N){return!((0,M.Wi)(N.geometry)||!N.geometry.coords||!N.geometry.coords.length)}class B extends O{}},95786:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>M});class M{constructor(){this.objectIdFieldName=null,this.globalIdFieldName=null,this.geohashFieldName=null,this.geometryProperties=null,this.geometryType=null,this.spatialReference=null,this.hasZ=!1,this.hasM=!1,this.features=[],this.fields=[],this.transform=null,this.exceededTransferLimit=!1,this.uniqueIdField=null,this.queryGeometryType=null,this.queryGeometry=null}weakClone(){const X=new M;return X.objectIdFieldName=this.objectIdFieldName,X.globalIdFieldName=this.globalIdFieldName,X.geohashFieldName=this.geohashFieldName,X.geometryProperties=this.geometryProperties,X.geometryType=this.geometryType,X.spatialReference=this.spatialReference,X.hasZ=this.hasZ,X.hasM=this.hasM,X.features=this.features,X.fields=this.fields,X.transform=this.transform,X.exceededTransferLimit=this.exceededTransferLimit,X.uniqueIdField=this.uniqueIdField,X.queryGeometry=this.queryGeometry,X.queryGeometryType=this.queryGeometryType,X}}},88071:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>M});class M{constructor(X=[],B=[],N=!1){this.lengths=null!=X?X:[],this.coords=null!=B?B:[],this.hasIndeterminateRingOrder=N}get isPoint(){return 0===this.lengths.length}get maxLength(){return Math.max(...this.lengths)}get size(){return this.lengths.reduce((X,B)=>X+B)}forEachVertex(X){let B=0;this.lengths.length||X(this.coords[0],this.coords[1]);for(let N=0;N<this.lengths.length;N++){const ee=this.lengths[N];for(let z=0;z<ee;z++)X(this.coords[2*(z+B)],this.coords[2*(z+B)+1]);B+=ee}}clone(X){return X?(X.set(this.coords),new M(this.lengths.slice(),X,this.hasIndeterminateRingOrder)):new M(this.lengths.slice(),this.coords.slice(),this.hasIndeterminateRingOrder)}}},82054:(Qe,Me,E)=>{"use strict";E.d(Me,{$:()=>kt,$g:()=>qt,E7:()=>te,EI:()=>Ee,GH:()=>je,IN:()=>I,Iv:()=>ge,J6:()=>_e,Jd:()=>j,Nh:()=>Ke,RZ:()=>vt,Uy:()=>we,XA:()=>Ze,Yn:()=>He,cn:()=>at,di:()=>Ye,eG:()=>Ve,fQ:()=>k,hY:()=>dn,h_:()=>lt,ks:()=>We,lM:()=>tt,lz:()=>An,oB:()=>Dn,u0:()=>xe,zj:()=>ut});var M=E(26584),O=E(63290),X=E(62208),B=E(91179),N=E(66385),ee=E(95786),z=E(88071);function L(st,Dt){return st?Dt?4:3:Dt?3:2}const T=O.Z.getLogger("esri.layers.graphics.featureConversionUtils"),x={esriGeometryPoint:0,esriGeometryPolyline:2,esriGeometryPolygon:3,esriGeometryMultipoint:0},Z=(st,Dt,jt,Wt,Ht,Nt)=>{st[jt]=Ht,st[jt+1]=Nt},Y=(st,Dt,jt,Wt,Ht,Nt)=>{st[jt]=Ht,st[jt+1]=Nt,st[jt+2]=Dt[Wt+2]},$=(st,Dt,jt,Wt,Ht,Nt)=>{st[jt]=Ht,st[jt+1]=Nt,st[jt+2]=Dt[Wt+3]},se=(st,Dt,jt,Wt,Ht,Nt)=>{st[jt]=Ht,st[jt+1]=Nt,st[jt+2]=Dt[Wt+2],st[jt+3]=Dt[Wt+3]};function ne(st,Dt,jt,Wt){if(st){if(jt)return Dt&&Wt?se:Y;if(Dt&&Wt)return $}else if(Dt&&Wt)return Y;return Z}function j({scale:st,translate:Dt},jt){return Math.round((jt-Dt[0])/st[0])}function I({scale:st,translate:Dt},jt){return Math.round((Dt[1]-jt)/st[1])}function w({scale:st,translate:Dt},jt){return jt*st[0]+Dt[0]}function F({scale:st,translate:Dt},jt){return Dt[1]-jt*st[1]}function k(st,Dt,jt){return st?Dt?jt?pe(st):Q(st):jt?he(st):W(st):null}function W(st){const Dt=st.coords;return{x:Dt[0],y:Dt[1]}}function re(st,Dt){return st.coords[0]=Dt.x,st.coords[1]=Dt.y,st}function Q(st){const Dt=st.coords;return{x:Dt[0],y:Dt[1],z:Dt[2]}}function ue(st,Dt){return st.coords[0]=Dt.x,st.coords[1]=Dt.y,st.coords[2]=Dt.z,st}function he(st){const Dt=st.coords;return{x:Dt[0],y:Dt[1],m:Dt[2]}}function fe(st,Dt){return st.coords[0]=Dt.x,st.coords[1]=Dt.y,st.coords[2]=Dt.m,st}function pe(st){const Dt=st.coords;return{x:Dt[0],y:Dt[1],z:Dt[2],m:Dt[3]}}function oe(st,Dt){return st.coords[0]=Dt.x,st.coords[1]=Dt.y,st.coords[2]=Dt.z,st.coords[3]=Dt.m,st}function de(st,Dt){return st&&Dt?oe:st?ue:Dt?fe:re}function le(st,Dt,jt,Wt,Ht){const Nt=de(jt,Wt);for(const Yt of Dt){const{geometry:Jt,attributes:an}=Yt;let Ot;Jt&&(Ot=Nt(new z.Z,Jt)),st.push(new N.u_(Ot,an,null,an[Ht]))}return st}function ge(st,Dt,jt){if((0,X.Wi)(st))return null;const Wt=L(Dt,jt),Ht=[];for(let Nt=0;Nt<st.coords.length;Nt+=Wt){const Yt=[];for(let Jt=0;Jt<Wt;Jt++)Yt.push(st.coords[Nt+Jt]);Ht.push(Yt)}return Dt?jt?{points:Ht,hasZ:Dt,hasM:jt}:{points:Ht,hasZ:Dt}:jt?{points:Ht,hasM:jt}:{points:Ht}}function J(st,Dt,jt,Wt,Ht){const Nt=L(jt,Wt);for(const Yt of Dt){const Jt=Yt.geometry,an=Yt.attributes;let Ot;Jt&&(Ot=ie(new z.Z,Jt,Nt)),st.push(new N.u_(Ot,an,null,an[Ht]))}return st}function ie(st,Dt,jt=L(Dt.hasZ,Dt.hasM)){st.lengths[0]=Dt.points.length;const Wt=st.coords;let Ht=0;for(const Nt of Dt.points)for(let Yt=0;Yt<jt;Yt++)Wt[Ht++]=Nt[Yt];return st}function _e(st,Dt,jt){if(!st)return null;const Wt=L(Dt,jt),{coords:Ht,lengths:Nt}=st,Yt=[];let Jt=0;for(const an of Nt){const Ot=[];for(let yt=0;yt<an;yt++){const ze=[];for(let mt=0;mt<Wt;mt++)ze.push(Ht[Jt++]);Ot.push(ze)}Yt.push(Ot)}return Dt?jt?{paths:Yt,hasZ:Dt,hasM:jt}:{paths:Yt,hasZ:Dt}:jt?{paths:Yt,hasM:jt}:{paths:Yt}}function Ie(st,Dt,jt,Wt,Ht){const Nt=L(jt,Wt);for(const Yt of Dt){const Jt=Yt.geometry,an=Yt.attributes;let Ot;Jt&&(Ot=xe(new z.Z,Jt,Nt)),st.push(new N.u_(Ot,an,null,an[Ht]))}return st}function xe(st,Dt,jt=L(Dt.hasZ,Dt.hasM)){const{lengths:Wt,coords:Ht}=st;let Nt=0;for(const Yt of Dt.paths){for(const Jt of Yt)for(let an=0;an<jt;an++)Ht[Nt++]=Jt[an];Wt.push(Yt.length)}return st}function Ve(st,Dt,jt){if(!st)return null;const Wt=L(Dt,jt),{coords:Ht,lengths:Nt}=st,Yt=[];let Jt=0;for(const an of Nt){const Ot=[];for(let yt=0;yt<an;yt++){const ze=[];for(let mt=0;mt<Wt;mt++)ze.push(Ht[Jt++]);Ot.push(ze)}Yt.push(Ot)}return Dt?jt?{rings:Yt,hasZ:Dt,hasM:jt}:{rings:Yt,hasZ:Dt}:jt?{rings:Yt,hasM:jt}:{rings:Yt}}function ve(st,Dt,jt,Wt,Ht){for(const Nt of Dt){const Yt=Nt.geometry,Jt=Nt.centroid,an=Nt.attributes;let Ot;Yt&&(Ot=we(new z.Z,Yt,jt,Wt)),(0,X.pC)(Jt)?st.push(new N.u_(Ot,an,re(new z.Z,Jt),an[Ht])):st.push(new N.u_(Ot,an,null,an[Ht]))}return st}function we(st,Dt,jt=Dt.hasZ,Wt=Dt.hasM){return We(st,Dt.rings,jt,Wt),st}function We(st,Dt,jt,Wt){const Ht=L(jt,Wt),{lengths:Nt,coords:Yt}=st;let Jt=0;Nt.length=Yt.length=0;for(const an of Dt){for(const Ot of an)for(let yt=0;yt<Ht;yt++)Yt[Jt++]=Ot[yt];Nt.push(an.length)}return st}const nt=[],Te=[];function Ze(st,Dt,jt,Wt,Ht){nt[0]=st;const[Nt]=He(Te,nt,Dt,jt,Wt,Ht);return nt.length=Te.length=0,Nt}function He(st,Dt,jt,Wt,Ht,Nt){if(st.length=0,!jt){for(const Yt of Dt)st.push(new N.u_(null,Yt.attributes,null,Yt.attributes[Nt]));return st}switch(jt){case"esriGeometryPoint":return le(st,Dt,Wt,Ht,Nt);case"esriGeometryMultipoint":return J(st,Dt,Wt,Ht,Nt);case"esriGeometryPolyline":return Ie(st,Dt,Wt,Ht,Nt);case"esriGeometryPolygon":return ve(st,Dt,Wt,Ht,Nt);default:T.error("convertToFeatureSet:unknown-geometry",new M.Z(`Unable to parse unknown geometry type '${jt}'`)),st.length=0}return st}function te(st,Dt,jt,Wt,Ht,Nt){const Yt=st.length;switch(jt){case"esriGeometryPoint":le(st,Dt,Wt,Ht,Nt);break;case"esriGeometryMultipoint":J(st,Dt,Wt,Ht,Nt);break;case"esriGeometryPolyline":Ie(st,Dt,Wt,Ht,Nt);break;case"esriGeometryPolygon":ve(st,Dt,Wt,Ht,Nt);break;default:T.error("convertToFeatureSet:unknown-geometry",new M.Z(`Unable to parse unknown geometry type '${jt}'`))}for(let Jt=0;Jt<Dt.length;Jt++)st[Jt+Yt].geometryType=jt,st[Jt+Yt].insertAfter=Dt[Jt].insertAfter,st[Jt+Yt].groupId=Dt[Jt].groupId;return st}function Ee(st,Dt,jt,Wt){Te[0]=st,ot(nt,Te,Dt,jt,Wt);const Ht=nt[0];return nt.length=Te.length=0,Ht}function je(st,Dt,jt){if((0,X.Wi)(st))return null;const Wt=new z.Z;return"hasZ"in st&&null==Dt&&(Dt=st.hasZ),"hasM"in st&&null==jt&&(jt=st.hasM),(0,B.wp)(st)?de(null!=Dt?Dt:null!=st.z,null!=jt?jt:null!=st.m)(Wt,st):(0,B.oU)(st)?we(Wt,st,Dt,jt):(0,B.l9)(st)?xe(Wt,st,L(Dt,jt)):(0,B.aW)(st)?ie(Wt,st,L(Dt,jt)):void T.error("convertFromGeometry:unknown-geometry",new M.Z(`Unable to parse unknown geometry type '${st}'`))}function Ye(st,Dt,jt,Wt){const Ht=st&&("coords"in st?st:st.geometry);if((0,X.Wi)(Ht))return null;switch(Dt){case"esriGeometryPoint":{let Nt=W;return jt&&Wt?Nt=pe:jt?Nt=Q:Wt&&(Nt=he),Nt(Ht)}case"esriGeometryMultipoint":return ge(Ht,jt,Wt);case"esriGeometryPolyline":return _e(Ht,jt,Wt);case"esriGeometryPolygon":return Ve(Ht,jt,Wt);default:return void T.error("convertToGeometry:unknown-geometry",new M.Z(`Unable to parse unknown geometry type '${Dt}'`))}}function ot(st,Dt,jt,Wt,Ht){if(st.length=0,(0,X.Wi)(jt))return function ht(st,Dt){for(const jt of Dt)st.push({attributes:jt.attributes});return st}(st,Dt);switch(jt){case"esriGeometryPoint":return function K(st,Dt,jt,Wt){let Ht=W;jt&&Wt?Ht=pe:jt?Ht=Q:Wt&&(Ht=he);for(const Nt of Dt){const{geometry:Yt,attributes:Jt}=Nt,an=(0,X.pC)(Yt)?Ht(Yt):null;st.push({attributes:Jt,geometry:an})}return st}(st,Dt,Wt,Ht);case"esriGeometryMultipoint":return function ce(st,Dt,jt,Wt){for(const Ht of Dt){const{geometry:Nt,attributes:Yt}=Ht;let Jt;Nt&&(Jt=ge(Nt,jt,Wt)),st.push({attributes:Yt,geometry:Jt})}return st}(st,Dt,Wt,Ht);case"esriGeometryPolyline":return function De(st,Dt,jt,Wt){for(const Ht of Dt){const{geometry:Nt,attributes:Yt}=Ht;let Jt;(0,X.pC)(Nt)&&(Jt=_e(Nt,jt,Wt)),st.push({attributes:Yt,geometry:Jt})}return st}(st,Dt,Wt,Ht);case"esriGeometryPolygon":return function ke(st,Dt,jt,Wt){for(const Ht of Dt){const{geometry:Nt,attributes:Yt,centroid:Jt}=Ht;let an;if((0,X.pC)(Nt)&&(an=Ve(Nt,jt,Wt)),(0,X.pC)(Jt)){const Ot=W(Jt);st.push({attributes:Yt,centroid:Ot,geometry:an})}else st.push({attributes:Yt,geometry:an})}return st}(st,Dt,Wt,Ht);default:T.error("convertToFeatureSet:unknown-geometry",new M.Z(`Unable to parse unknown geometry type '${jt}'`))}return st}function at(st){const{objectIdFieldName:Dt,spatialReference:jt,transform:Wt,fields:Ht,hasM:Nt,hasZ:Yt,features:Jt,geometryType:an,exceededTransferLimit:Ot,uniqueIdField:yt,queryGeometry:ze,queryGeometryType:mt}=st,Ae={features:ot([],Jt,an,Yt,Nt),fields:Ht,geometryType:an,objectIdFieldName:Dt,spatialReference:jt,uniqueIdField:yt,queryGeometry:Ye(ze,mt,!1,!1)};return Wt&&(Ae.transform=Wt),Ot&&(Ae.exceededTransferLimit=Ot),Nt&&(Ae.hasM=Nt),Yt&&(Ae.hasZ=Yt),Ae}function lt(st,Dt){const jt=new ee.Z,{hasM:Wt,hasZ:Ht,features:Nt,objectIdFieldName:Yt,spatialReference:Jt,geometryType:an,exceededTransferLimit:Ot,transform:yt,fields:ze}=st;return ze&&(jt.fields=ze),jt.geometryType=an,jt.objectIdFieldName=Yt||Dt,jt.spatialReference=Jt,jt.objectIdFieldName?(Nt&&He(jt.features,Nt,an,Ht,Wt,jt.objectIdFieldName),Ot&&(jt.exceededTransferLimit=Ot),Wt&&(jt.hasM=Wt),Ht&&(jt.hasZ=Ht),yt&&(jt.transform=yt),jt):(T.error(new M.Z("optimized-features:invalid-objectIdFieldName","objectIdFieldName is missing")),jt)}function tt(st){const{transform:Dt,features:jt,hasM:Wt,hasZ:Ht}=st;if(!Dt)return st;for(const Nt of jt)(0,X.pC)(Nt.geometry)&&qt(Nt.geometry,Nt.geometry,Wt,Ht,Dt),(0,X.pC)(Nt.centroid)&&qt(Nt.centroid,Nt.centroid,Wt,Ht,Dt);return st.transform=null,st}function vt(st,Dt){const{geometryType:jt,features:Wt,hasM:Ht,hasZ:Nt}=Dt;if(!st)return Dt;for(let Yt=0;Yt<Wt.length;Yt++){const Jt=Wt[Yt],an=Jt.weakClone();an.geometry=new z.Z,Ke(an.geometry,Jt.geometry,Ht,Nt,jt,st),Jt.centroid&&(an.centroid=new z.Z,Ke(an.centroid,Jt.centroid,Ht,Nt,"esriGeometryPoint",st)),Wt[Yt]=an}return Dt.transform=st,Dt}function Ke(st,Dt,jt,Wt,Ht,Nt,Yt=jt,Jt=Wt){if(st.lengths.length&&(st.lengths.length=0),st.coords.length&&(st.coords.length=0),(0,X.Wi)(Dt)||!Dt.coords.length)return null;const an=x[Ht],{coords:Ot,lengths:yt}=Dt,ze=L(jt,Wt),mt=L(jt&&Yt,Wt&&Jt),Ae=ne(jt,Wt,Yt,Jt);if(!yt.length)return Ae(st.coords,Ot,0,0,j(Nt,Ot[0]),I(Nt,Ot[1])),st.lengths.length&&(st.lengths.length=0),st.coords.length=ze,st;let et,Tt,Qt,on,it=0,Vt=0,$t=Vt;for(const rn of yt){if(rn<an)continue;let gn=0;Vt=$t,Qt=et=j(Nt,Ot[it]),on=Tt=I(Nt,Ot[it+1]),Ae(st.coords,Ot,Vt,it,Qt,on),gn++,it+=ze,Vt+=mt;for(let Zn=1;Zn<rn;Zn++,it+=ze)Qt=j(Nt,Ot[it]),on=I(Nt,Ot[it+1]),Qt===et&&on===Tt||(Ae(st.coords,Ot,Vt,it,Qt-et,on-Tt),Vt+=mt,gn++,et=Qt,Tt=on);gn>=an&&(st.lengths.push(gn),$t=Vt)}return st.coords.length=$t,st.coords.length?st:null}function ut(st,Dt,jt,Wt,Ht,Nt,Yt=jt,Jt=Wt){if(st.lengths.length&&(st.lengths.length=0),st.coords.length&&(st.coords.length=0),!Dt||!Dt.coords.length)return null;const an=x[Ht],{coords:Ot,lengths:yt}=Dt,ze=L(jt,Wt),mt=L(jt&&Yt,Wt&&Jt),Ae=ne(jt,Wt,Yt,Jt);if(!yt.length)return Ae(st.coords,Ot,0,0,Ot[0],Ot[1]),st.lengths.length&&(st.lengths.length=0),st.coords.length=ze,st;let et=0;const Tt=Nt*Nt;for(const Qt of yt){if(Qt<an){et+=Qt*ze;continue}const on=st.coords.length/mt,it=et,Vt=et+(Qt-1)*ze;Ae(st.coords,Ot,st.coords.length,it,Ot[it],Ot[it+1]),St(st.coords,Ot,ze,Tt,Ae,it,Vt),Ae(st.coords,Ot,st.coords.length,Vt,Ot[Vt],Ot[Vt+1]);const $t=st.coords.length/mt-on;$t>=an?st.lengths.push($t):st.coords.length=on*mt,et+=Qt*ze}return st.coords.length?st:null}function Et(st,Dt,jt,Wt){const Ht=st[Dt],Nt=st[Dt+1],an=st[Wt],Ot=st[Wt+1];let yt=st[jt],ze=st[jt+1],mt=an-yt,Ae=Ot-ze;if(0!==mt||0!==Ae){const et=((Ht-yt)*mt+(Nt-ze)*Ae)/(mt*mt+Ae*Ae);et>1?(yt=an,ze=Ot):et>0&&(yt+=mt*et,ze+=Ae*et)}return mt=Ht-yt,Ae=Nt-ze,mt*mt+Ae*Ae}function St(st,Dt,jt,Wt,Ht,Nt,Yt){let Jt,an=Wt,Ot=0;for(let yt=Nt+jt;yt<Yt;yt+=jt)Jt=Et(Dt,yt,Nt,Yt),Jt>an&&(Ot=yt,an=Jt);an>Wt&&(Ot-Nt>jt&&St(st,Dt,jt,Wt,Ht,Nt,Ot),Ht(st,Dt,st.length,Ot,Dt[Ot],Dt[Ot+1]),Yt-Ot>jt&&St(st,Dt,jt,Wt,Ht,Ot,Yt))}function kt(st,Dt,jt,Wt){if((0,X.Wi)(Dt)||!Dt.coords||!Dt.coords.length)return null;const Ht=L(jt,Wt);let Nt=Number.POSITIVE_INFINITY,Yt=Number.POSITIVE_INFINITY,Jt=Number.NEGATIVE_INFINITY,an=Number.NEGATIVE_INFINITY;if(Dt&&Dt.coords){const Ot=Dt.coords;for(let yt=0;yt<Ot.length;yt+=Ht){const ze=Ot[yt],mt=Ot[yt+1];Nt=Math.min(Nt,ze),Jt=Math.max(Jt,ze),Yt=Math.min(Yt,mt),an=Math.max(an,mt)}}return st[0]=Nt,st[1]=Yt,st[2]=Jt,st[3]=an,st}function qt(st,Dt,jt,Wt,Ht){const{coords:Nt,lengths:Yt}=Dt,Jt=jt?Wt?se:Y:Wt?Y:Z,an=L(jt,Wt);if(!Nt.length)return st!==Dt&&(st.lengths.length=0,st.coords.length=0),st;if(!Yt.length)return Jt(st.coords,Nt,0,0,w(Ht,Nt[0]),F(Ht,Nt[1])),st!==Dt&&(st.lengths.length=0,st.coords.length=an),st;const[Ot,yt]=Ht.scale;let ze=0;for(let mt=0;mt<Yt.length;mt++){const Ae=Yt[mt];st.lengths[mt]=Ae;let et=w(Ht,Nt[ze]),Tt=F(Ht,Nt[ze+1]);Jt(st.coords,Nt,ze,ze,et,Tt),ze+=an;for(let Qt=1;Qt<Ae;Qt++,ze+=an)et+=Nt[ze]*Ot,Tt-=Nt[ze+1]*yt,Jt(st.coords,Nt,ze,ze,et,Tt)}return st!==Dt&&(st.lengths.length=Yt.length,st.coords.length=Nt.length),st}function dn(st,Dt,jt,Wt,Ht,Nt){const Yt=L(jt,Wt),Jt=ne(jt,Wt,Ht,Nt),an=Dt.coords;st.coords.length=0,st.lengths.length=0,st.lengths.push(...Dt.lengths);for(let Ot=0;Ot<an.length;Ot+=Yt)Jt(st.coords,an,st.coords.length,Ot,an[Ot],an[Ot+1]);return st}function yn(st,Dt,jt,Wt){let Ht=0,Nt=st[Wt*Dt],Yt=st[Wt*(Dt+1)];for(let Jt=1;Jt<jt;Jt++){const an=Nt+st[Wt*(Dt+Jt)],Ot=Yt+st[Wt*(Dt+Jt)+1],yt=(an-Nt)*(Ot+Yt);Nt=an,Yt=Ot,Ht+=yt}return.5*Ht}function An(st,Dt){const{coords:jt,lengths:Wt}=st;let Ht=0,Nt=0;for(let Yt=0;Yt<Wt.length;Yt++)Nt+=yn(jt,Ht,Wt[Yt],Dt),Ht+=Yt;return Math.abs(Nt)}function Dn(st,Dt){if((0,X.Wi)(st))return null;const jt=st.clone(),Wt=st.coords,Ht=st.lengths;let Nt=0;for(let Yt=0;Yt<Ht.length;Yt++){const Jt=Ht[Yt];let an=Wt[Dt*Nt],Ot=Wt[Dt*Nt+1];for(let yt=1;yt<Jt;yt++){const ze=an+Wt[Dt*(Nt+yt)],mt=Ot+Wt[Dt*(Nt+yt)+1];jt.coords[Dt*(Nt+yt)]=ze,jt.coords[Dt*(Nt+yt)+1]=mt,an=ze,Ot=mt}Nt+=Jt}return jt}},50085:(Qe,Me,E)=>{"use strict";E.d(Me,{V:()=>L});var M=E(17626),O=E(77712),ee=(E(85931),E(8314),E(90912),E(76898));const L=T=>{let x=class extends T{get apiKey(){var Z;return this._isOverridden("apiKey")?this._get("apiKey"):function z(T){return"portalItem"in T}(this)?null==(Z=this.portalItem)?void 0:Z.apiKey:null}set apiKey(Z){null!=Z?this._override("apiKey",Z):(this._clearOverride("apiKey"),this.clear("apiKey","user"))}};return(0,M._)([(0,O.Cb)({type:String})],x.prototype,"apiKey",null),x=(0,M._)([(0,ee.j)("esri.layers.mixins.APIKeyMixin")],x),x}},65088:(Qe,Me,E)=>{"use strict";E.d(Me,{Y:()=>x});var M=E(17626),O=E(63290),X=E(62208),B=E(77712),L=(E(85931),E(8314),E(90912),E(76898)),T=E(38305);const x=Z=>{let Y=class extends Z{get title(){if(this._get("title")&&"defaults"!==this.originOf("title"))return this._get("title");if(this.url){const $=(0,T.Qc)(this.url);if((0,X.pC)($)&&$.title)return $.title}return this._get("title")||""}set title($){this._set("title",$)}set url($){this._set("url",(0,T.Nm)($,O.Z.getLogger(this.declaredClass)))}};return(0,M._)([(0,B.Cb)()],Y.prototype,"title",null),(0,M._)([(0,B.Cb)({type:String})],Y.prototype,"url",null),Y=(0,M._)([(0,L.j)("esri.layers.mixins.ArcGISService")],Y),Y}},552:(Qe,Me,E)=>{"use strict";E.d(Me,{h:()=>L});var M=E(17626),O=E(77712),ee=(E(85931),E(8314),E(90912),E(76898)),z=E(71149);const L=T=>{let x=class extends T{constructor(){super(...arguments),this.blendMode="normal",this.effect=null}};return(0,M._)([(0,O.Cb)({type:["average","color-burn","color-dodge","color","darken","destination-atop","destination-in","destination-out","destination-over","difference","exclusion","hard-light","hue","invert","lighten","lighter","luminosity","minus","multiply","normal","overlay","plus","reflect","saturation","screen","soft-light","source-atop","source-in","source-out","vivid-light","xor"],nonNullable:!0,json:{read:!1,write:!1,origins:{"web-map":{read:!0,write:!0}}}})],x.prototype,"blendMode",void 0),(0,M._)([(0,O.Cb)({json:{read:!1,write:!1,origins:{"web-map":{read:{reader:z.ij},write:{allowNull:!0,writer:z.cW}}}}})],x.prototype,"effect",void 0),x=(0,M._)([(0,ee.j)("esri.layers.mixins.BlendLayer")],x),x}},50107:(Qe,Me,E)=>{"use strict";E.d(Me,{N:()=>z});var M=E(17626),O=E(77712),ee=(E(85931),E(8314),E(90912),E(76898));const z=L=>{let T=class extends L{constructor(){super(...arguments),this.customParameters=null}};return(0,M._)([(0,O.Cb)({type:Object,json:{write:{overridePolicy:x=>({enabled:!!(x&&Object.keys(x).length>0)})}}})],T.prototype,"customParameters",void 0),T=(0,M._)([(0,ee.j)("esri.layers.mixins.CustomParametersMixin")],T),T}},35126:(Qe,Me,E)=>{"use strict";E.d(Me,{b:()=>L});var M=E(17626),O=E(77712),ee=(E(85931),E(8314),E(90912),E(76898)),z=E(2319);const L=T=>{let x=class extends T{constructor(){super(...arguments),this.featureEffect=null}};return(0,M._)([(0,O.Cb)({type:z.Z,json:{origins:{"web-map":{write:{allowNull:!0}}}}})],x.prototype,"featureEffect",void 0),x=(0,M._)([(0,ee.j)("esri.layers.mixins.FeatureEffectLayer")],x),x}},49286:(Qe,Me,E)=>{"use strict";E.d(Me,{q:()=>se});var M=E(17626),O=E(26584),X=E(21726),B=E(77712),L=(E(85931),E(8314),E(90912),E(76898)),T=E(99433),x=E(29338),Z=E(36054);const Y={"web-scene/operational-layers":{ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISTiledElevationServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BuildingSceneLayer:!0,GroupLayer:!0,IntegratedMeshLayer:!0,OGCFeatureLayer:!0,PointCloudLayer:!0,WebTiledLayer:!0,CSV:!0,GeoJSON:!0,VectorTileLayer:!0,WFS:!0,WMS:!0,KML:!0,RasterDataLayer:!0,Voxel:!0},"web-scene/basemap":{ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,WebTiledLayer:!0,OpenStreetMap:!0,VectorTileLayer:!0,ArcGISImageServiceLayer:!0,WMS:!0,ArcGISMapServiceLayer:!0},"web-scene/ground":{ArcGISTiledElevationServiceLayer:!0,RasterDataElevationLayer:!0},"web-map/operational-layers":{ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISStreamLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BingMapsAerial:!0,BingMapsHybrid:!0,BingMapsRoad:!0,CSV:!0,GeoRSS:!0,GeoJSON:!0,GroupLayer:!0,KML:!0,OGCFeatureLayer:!0,SubtypeGroupLayer:!0,VectorTileLayer:!0,WFS:!0,WMS:!0,WebTiledLayer:!0},"web-map/basemap":{ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,OpenStreetMap:!0,VectorTileLayer:!0,WMS:!0,WebTiledLayer:!0,BingMapsAerial:!0,BingMapsRoad:!0,BingMapsHybrid:!0},"web-map/tables":{ArcGISFeatureLayer:!0},"portal-item/operational-layers":{ArcGISFeatureLayer:!0,ArcGISSceneServiceLayer:!0,PointCloudLayer:!0,BuildingSceneLayer:!0,IntegratedMeshLayer:!0}};var $=E(13812);const se=j=>{let I=class extends j{constructor(){super(...arguments),this.title=null}writeListMode(w,F,k,W){(W&&"ground"===W.layerContainerType||w&&(0,Z.d)(this,k,{},W))&&(F[k]=w)}writeOperationalLayerType(w,F,k,W){!w||W&&"tables"===W.layerContainerType||(F.layerType=w)}writeTitle(w,F){F.title=w||"Layer"}read(w,F){F&&(F.layer=this),(0,x.$)(this,w,k=>super.read(w,k),F)}write(w,F){if(null!=F&&F.origin){const ue=`${F.origin}/${F.layerContainerType||"operational-layers"}`,he=Y[ue];let fe=he&&he[this.operationalLayerType];var k;if("ArcGISTiledElevationServiceLayer"===this.operationalLayerType&&"web-scene/operational-layers"===ue&&(fe=!1),!fe)return null==(k=F.messages)||k.push(new O.Z("layer:unsupported",`Layers (${this.title}, ${this.id}) of type '${this.declaredClass}' are not supported in the context of '${ue}'`,{layer:this})),null}const W=super.write(w,Bn(Ct({},F),{layer:this})),re=!!F&&!!F.messages&&!!F.messages.filter(ue=>ue instanceof O.Z&&"web-document-write:property-required"===ue.name).length;var Q;return(0,X.jc)(null==W?void 0:W.url)?(null==F||null==(Q=F.messages)||Q.push(new O.Z("layer:invalid-url",`Layer (${this.title}, ${this.id}) of type '${this.declaredClass}' using a Blob URL cannot be written to web scenes and web maps`,{layer:this})),null):!this.url&&re?null:W}beforeSave(){}};return(0,M._)([(0,B.Cb)({type:String,json:{write:{ignoreOrigin:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0}},"portal-item":{write:!1}}}})],I.prototype,"id",void 0),(0,M._)([(0,B.Cb)({json:{write:{ignoreOrigin:!0},origins:{"web-map":{read:!1,write:!1}}}})],I.prototype,"listMode",void 0),(0,M._)([(0,T.c)("listMode")],I.prototype,"writeListMode",null),(0,M._)([(0,B.Cb)({type:String,readOnly:!0,json:{read:!1,write:{target:"layerType",ignoreOrigin:!0},origins:{"portal-item":{write:!1}}}})],I.prototype,"operationalLayerType",void 0),(0,M._)([(0,T.c)("operationalLayerType")],I.prototype,"writeOperationalLayerType",null),(0,M._)([(0,B.Cb)($.Oh)],I.prototype,"opacity",void 0),(0,M._)([(0,B.Cb)({type:String,json:{write:{ignoreOrigin:!0,writerEnsuresNonNull:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0,writerEnsuresNonNull:!0}},"portal-item":{write:!1}}},value:"Layer"})],I.prototype,"title",void 0),(0,M._)([(0,T.c)("title")],I.prototype,"writeTitle",null),(0,M._)([(0,B.Cb)({type:Boolean,json:{name:"visibility"}})],I.prototype,"visible",void 0),I=(0,M._)([(0,L.j)("esri.layers.mixins.OperationalLayer")],I),I}},32629:(Qe,Me,E)=>{"use strict";E.d(Me,{c:()=>I});var x,M=E(17626),O=E(94113),X=E(77712),z=(E(85931),E(8314),E(90912),E(76898)),L=E(2076),T=E(86810);const Z=new L.X({asc:"ascending",desc:"descending"});let Y=x=class extends T.wq{constructor(w){super(w),this.field=null,this.valueExpression=null,this.order="ascending"}clone(){return new x({field:this.field,valueExpression:this.valueExpression,order:this.order})}};(0,M._)([(0,X.Cb)({type:String,json:{write:!0}})],Y.prototype,"field",void 0),(0,M._)([(0,X.Cb)({type:String,json:{write:!0}})],Y.prototype,"valueExpression",void 0),(0,M._)([(0,X.Cb)({type:Z.apiValues,json:{read:Z.read,write:Z.write}})],Y.prototype,"order",void 0),Y=x=(0,M._)([(0,z.j)("esri.layers.support.OrderByInfo")],Y);const $=Y;function ne(w,F,k){if(!w)return null;const W=w.find(Q=>!!Q.field);if(!W)return null;const re=new $;return re.read(W,k),[re]}function j(w,F,k,W){const re=w.find(Q=>!!Q.field);re&&(0,O.RB)(k,[re.toJSON()],F)}const I=w=>{let F=class extends w{constructor(){super(...arguments),this.orderBy=null}};return(0,M._)([(0,X.Cb)({type:[$],json:{origins:{"web-scene":{write:!1,read:!1}},read:{source:"layerDefinition.orderBy",reader:ne},write:{target:"layerDefinition.orderBy",writer:j}}})],F.prototype,"orderBy",void 0),F=(0,M._)([(0,z.j)("esri.layers.mixins.OrderedLayer")],F),F}},6647:(Qe,Me,E)=>{"use strict";E.d(Me,{I:()=>re});var M=E(15861),O=E(17626),X=E(24263),B=E(84792),N=E(59213),ee=E(26584),z=E(63290),L=E(62208),T=E(10699),x=E(21726),Z=E(77712),ne=(E(85931),E(8314),E(90912),E(68653)),j=E(76898),I=E(99433),w=E(84687),F=E(55463),k=E(94508);const W=z.Z.getLogger("esri.layers.mixins.PortalLayer"),re=ue=>{let he=class extends ue{constructor(){super(...arguments),this.resourceReferences={portalItem:null,paths:[]},this.userHasEditingPrivileges=!0}destroy(){var fe;null==(fe=this.portalItem)||fe.destroy(),this.portalItem=null}set portalItem(fe){fe!==this._get("portalItem")&&(this.removeOrigin("portal-item"),this._set("portalItem",fe))}readPortalItem(fe,pe,oe){if(pe.itemId)return new F.default({id:pe.itemId,portal:oe&&oe.portal})}writePortalItem(fe,pe){fe&&fe.id&&(pe.itemId=fe.id)}loadFromPortal(fe,pe){var oe=this;return(0,M.Z)(function*(){if(oe.portalItem&&oe.portalItem.id)try{const K=yield E.e(3705).then(E.bind(E,83705));return(0,T.k_)(pe),yield K.load({instance:oe,supportedTypes:fe.supportedTypes,validateItem:fe.validateItem,supportsData:fe.supportsData},pe)}catch(K){throw(0,T.D_)(K)||W.warn(`Failed to load layer (${oe.title}, ${oe.id}) portal item (${oe.portalItem.id})\n  ${K}`),K}})()}finishLoadEditablePortalLayer(fe){var pe=this;return(0,M.Z)(function*(){pe._set("userHasEditingPrivileges",yield pe._fetchUserHasEditingPrivileges(fe).catch(oe=>((0,T.r9)(oe),!0)))})()}_fetchUserHasEditingPrivileges(fe){var pe=this;return(0,M.Z)(function*(){const oe=pe.url?null==X.id?void 0:X.id.findCredential(pe.url):null;if(!oe)return!0;const K=Q.credential===oe?Q.user:yield pe._fetchEditingUser(fe);return Q.credential=oe,Q.user=K,(0,L.Wi)(K)||null==K.privileges||K.privileges.includes("features:user:edit")})()}_fetchEditingUser(fe){var pe=this;return(0,M.Z)(function*(){var oe,K;const de=null==(oe=pe.portalItem)||null==(K=oe.portal)?void 0:K.user;if(de)return de;const le=X.id.findServerInfo(pe.url);if(null==le||!le.owningSystemUrl)return null;const me=`${le.owningSystemUrl}/sharing/rest`,ce=w.Z.getDefault();if(ce&&ce.loaded&&(0,x.Fv)(ce.restUrl)===(0,x.Fv)(me))return ce.user;const ge=`${me}/community/self`,J=(0,L.pC)(fe)?fe.signal:null,ie=yield(0,N.q6)((0,B.default)(ge,{authMode:"no-prompt",query:{f:"json"},signal:J}));return ie.ok?k.default.fromJSON(ie.value.data):null})()}read(fe,pe){pe&&(pe.layer=this),super.read(fe,pe)}write(fe,pe){const oe=pe&&pe.portal,K=this.portalItem&&this.portalItem.id&&(this.portalItem.portal||w.Z.getDefault());return oe&&K&&!(0,x.tm)(K.restUrl,oe.restUrl)?(pe.messages&&pe.messages.push(new ee.Z("layer:cross-portal",`The layer '${this.title} (${this.id})' cannot be persisted because it refers to an item on a different portal than the one being saved to. To save the scene, set the layer.portalItem to null or save the scene to the same portal as the item associated with the layer`,{layer:this})),null):super.write(fe,Bn(Ct({},pe),{layer:this}))}};return(0,O._)([(0,Z.Cb)({type:F.default})],he.prototype,"portalItem",null),(0,O._)([(0,ne.r)("web-document","portalItem",["itemId"])],he.prototype,"readPortalItem",null),(0,O._)([(0,I.c)("web-document","portalItem",{itemId:{type:String}})],he.prototype,"writePortalItem",null),(0,O._)([(0,Z.Cb)({clonable:!1})],he.prototype,"resourceReferences",void 0),(0,O._)([(0,Z.Cb)({readOnly:!0})],he.prototype,"userHasEditingPrivileges",void 0),he=(0,O._)([(0,j.j)("esri.layers.mixins.PortalLayer")],he),he},Q={credential:null,user:null}},30346:(Qe,Me,E)=>{"use strict";E.d(Me,{Q:()=>he});var M=E(15861),O=E(17626),X=E(63290),B=E(10699),N=E(77712),T=(E(85931),E(8314),E(90912),E(76898)),x=E(48701),$=(E(26584),E(45262),E(21352));const se=new x.Z,ne=new WeakMap;function w(fe){return fe&&"object"==typeof fe&&"refreshInterval"in fe&&"refresh"in fe}function F(fe,pe){return Number.isFinite(fe)&&Number.isFinite(pe)?pe<=0?fe:F(pe,fe%pe):0}let k=0,W=0;function re(){const fe=Date.now();for(const oe of se)if(oe.refreshInterval){var pe;fe-(null!=(pe=ne.get(oe))?pe:0)+5>=6e4*oe.refreshInterval&&(ne.set(oe,fe),oe.refresh(fe))}}(0,$.EH)(()=>{const fe=Date.now();let pe=0;for(const oe of se)pe=F(Math.round(6e4*oe.refreshInterval),pe),oe.refreshInterval?ne.get(oe)||ne.set(oe,fe):ne.delete(oe);if(pe!==W){if(W=pe,clearInterval(k),0===W)return void(k=0);k=setInterval(re,W)}});const he=fe=>{let pe=class extends fe{constructor(...oe){super(...oe),this.refreshInterval=0,this.refreshTimestamp=0,this._debounceHasDataChanged=(0,B.Ds)(()=>this.hasDataChanged()),this.when().then(()=>{!function j(fe){w(fe)&&se.push(fe)}(this)},()=>{})}destroy(){!function I(fe){w(fe)&&se.includes(fe)&&se.remove(fe)}(this)}get refreshParameters(){return{_ts:this.refreshTimestamp||null}}refresh(oe=Date.now()){(0,B.R8)(this._debounceHasDataChanged()).then(K=>{K&&this._set("refreshTimestamp",oe),this.emit("refresh",{dataChanged:K})},K=>{X.Z.getLogger(this.declaredClass).error(K),this.emit("refresh",{dataChanged:!1,error:K})})}hasDataChanged(){return(0,M.Z)(function*(){return!0})()}};return(0,O._)([(0,N.Cb)({type:Number,cast:oe=>oe>=.1?oe:oe<=0?0:.1,json:{write:!0}})],pe.prototype,"refreshInterval",void 0),(0,O._)([(0,N.Cb)({readOnly:!0})],pe.prototype,"refreshTimestamp",void 0),(0,O._)([(0,N.Cb)()],pe.prototype,"refreshParameters",null),pe=(0,O._)([(0,T.j)("esri.layers.mixins.RefreshableLayer")],pe),pe}},99555:(Qe,Me,E)=>{"use strict";E.d(Me,{M:()=>z});var M=E(17626),O=E(77712),ee=(E(85931),E(8314),E(90912),E(76898));const z=T=>{let x=class extends T{constructor(){super(...arguments),this.minScale=0,this.maxScale=0}get effectiveScaleRange(){const Z={minScale:this.minScale,maxScale:this.maxScale},Y=this.parent;Y&&"effectiveScaleRange"in Y&&function L(T,x){T.minScale=T.minScale>0?x.minScale>0?Math.min(T.minScale,x.minScale):T.minScale:x.minScale,T.maxScale=T.maxScale>0?x.maxScale>0?Math.max(T.maxScale,x.maxScale):T.maxScale:x.maxScale}(Z,Y.effectiveScaleRange);const $=this._get("effectiveScaleRange");return $&&$.minScale===Z.minScale&&$.maxScale===Z.maxScale?$:Z}};return(0,M._)([(0,O.Cb)({type:Number,nonNullable:!0,json:{write:!0}})],x.prototype,"minScale",void 0),(0,M._)([(0,O.Cb)({type:Number,nonNullable:!0,json:{write:!0}})],x.prototype,"maxScale",void 0),(0,M._)([(0,O.Cb)({readOnly:!0})],x.prototype,"effectiveScaleRange",null),x=(0,M._)([(0,ee.j)("esri.layers.mixins.ScaleRangeLayer")],x),x}},97941:(Qe,Me,E)=>{"use strict";E.d(Me,{n:()=>se});var M=E(17626),O=E(97478),X=E(20849),B=E(77712),L=(E(85931),E(8314),E(90912),E(68653)),T=E(76898),x=E(62708),Z=E(36630),Y=E(58926);const se=ne=>{let j=class extends ne{constructor(){super(...arguments),this.timeExtent=null,this.timeOffset=null,this.useViewTime=!0}readOffset(I,w){const F=w.timeInfo.exportOptions;if(!F)return null;const k=F.timeOffset,W=Y.v.fromJSON(F.timeOffsetUnits);return k&&W?new X.Z({value:k,unit:W}):null}set timeInfo(I){(0,Z.UF)(I,this.fieldsIndex),this._set("timeInfo",I)}};return(0,M._)([(0,B.Cb)({type:O.Z,json:{write:!1}})],j.prototype,"timeExtent",void 0),(0,M._)([(0,B.Cb)({type:X.Z})],j.prototype,"timeOffset",void 0),(0,M._)([(0,L.r)("service","timeOffset",["timeInfo.exportOptions"])],j.prototype,"readOffset",null),(0,M._)([(0,B.Cb)({value:null,type:x.Z,json:{write:!0,origins:{"web-document":{read:!1,write:!1}}}})],j.prototype,"timeInfo",null),(0,M._)([(0,B.Cb)({type:Boolean,json:{read:{source:"timeAnimation"},write:{target:"timeAnimation"},origins:{"web-scene":{read:!1,write:!1}}}})],j.prototype,"useViewTime",void 0),j=(0,M._)([(0,T.j)("esri.layers.mixins.TemporalLayer")],j),j}},2319:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>ne});var $,M=E(17626),O=E(26584),X=E(86810),B=E(62208),N=E(94113),ee=E(77712),x=(E(85931),E(8314),E(90912),E(76898)),Z=E(71149),Y=E(98624);let se=$=class extends X.wq{constructor(j){super(j),this.filter=null,this.includedEffect=null,this.excludedEffect=null,this.excludedLabelsVisible=!1}write(j,I){const w=super.write(j,I);if(null!=I&&I.origin){if(w.filter){const W=Object.keys(w.filter);var F;if(W.length>1||"where"!==W[0])return null==(F=I.messages)||F.push(new O.Z("web-document-write:unsupported-feature-effect","Invalid feature effect 'filter'. A filter can only contain a 'where' property",{layer:I.layer,effect:this})),null}var k;if("showExcludedLabels"in w)return null==(k=I.messages)||k.push(new O.Z("web-document-write:unsupported-feature-effect","Invalid value for property 'excludedLabelsVisible' which should always be 'true'",{layer:I.layer,effect:this})),null}return w}clone(){return new $({filter:(0,B.pC)(this.filter)&&this.filter.clone(),includedEffect:this.includedEffect,excludedEffect:this.excludedEffect,excludedLabelsVisible:this.excludedLabelsVisible})}};(0,M._)([(0,ee.Cb)({type:Y.Z,json:{write:{allowNull:!0,writer(j,I,w,F){const k=null==j?void 0:j.write({},F);k&&0!==Object.keys(k).length?(0,N.RB)(w,k,I):(0,N.RB)(w,null,I)}}}})],se.prototype,"filter",void 0),(0,M._)([(0,ee.Cb)({json:{write:!0,origins:{"web-map":{read:{reader:Z.ij},write:{writer:Z.cW,overridePolicy(){return{allowNull:null!=this.excludedEffect,isRequired:null==this.excludedEffect}}}}}}})],se.prototype,"includedEffect",void 0),(0,M._)([(0,ee.Cb)({json:{write:!0,origins:{"web-map":{read:{reader:Z.ij},write:{writer:Z.cW,overridePolicy(){return{allowNull:null!=this.includedEffect,isRequired:null==this.includedEffect}}}}}}})],se.prototype,"excludedEffect",void 0),(0,M._)([(0,ee.Cb)({type:Boolean,json:{write:!0,name:"showExcludedLabels",origins:{"web-map":{name:"showExcludedLabels",default:!0}}}})],se.prototype,"excludedLabelsVisible",void 0),se=$=(0,M._)([(0,x.j)("esri.layers.support.FeatureEffect")],se);const ne=se},98624:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>j});var Y,M=E(17626),O=E(29132),X=E(97478),B=E(2076),N=E(86810),ee=E(58817),z=E(62208),L=E(77712),x=(E(90912),E(76898)),Z=E(84952);const $=new B.X({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"}),se=new B.X({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});let ne=Y=class extends N.wq{constructor(I){super(I),this.where=null,this.geometry=null,this.spatialRelationship="intersects",this.distance=void 0,this.objectIds=null,this.units=null,this.timeExtent=null}createQuery(I={}){const{where:w,geometry:F,spatialRelationship:k,timeExtent:W,objectIds:re,units:Q,distance:ue}=this;return new Z.Z(Ct({geometry:(0,ee.d9)(F),objectIds:(0,ee.d9)(re),spatialRelationship:k,timeExtent:(0,ee.d9)(W),where:w,units:Q,distance:ue},I))}clone(){const{where:I,geometry:w,spatialRelationship:F,timeExtent:k,objectIds:W,units:re,distance:Q}=this;return new Y({geometry:(0,ee.d9)(w),objectIds:(0,ee.d9)(W),spatialRelationship:F,timeExtent:(0,ee.d9)(k),where:I,units:re,distance:Q})}};(0,M._)([(0,L.Cb)({type:String,json:{write:!0}})],ne.prototype,"where",void 0),(0,M._)([(0,L.Cb)({types:O.qM,json:{write:!0}})],ne.prototype,"geometry",void 0),(0,M._)([(0,L.Cb)({type:$.apiValues,json:{name:"spatialRel",read:{reader:$.read},write:{allowNull:!1,writer:$.write,overridePolicy(){return{enabled:(0,z.pC)(this.geometry)}}}}})],ne.prototype,"spatialRelationship",void 0),(0,M._)([(0,L.Cb)({type:Number,json:{write:{overridePolicy(I){return{enabled:null!=I&&null!=this.geometry}}}}})],ne.prototype,"distance",void 0),(0,M._)([(0,L.Cb)({type:[Number],json:{write:!0}})],ne.prototype,"objectIds",void 0),(0,M._)([(0,L.Cb)({type:se.apiValues,json:{read:se.read,write:{writer:se.write,overridePolicy(I){return{enabled:null!=I&&null!=this.geometry}}}}})],ne.prototype,"units",void 0),(0,M._)([(0,L.Cb)({type:X.Z,json:{write:!0}})],ne.prototype,"timeExtent",void 0),ne=Y=(0,M._)([(0,x.j)("esri.layers.support.FeatureFilter")],ne);const j=ne},83989:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>T});var M=E(17626),O=E(86810),X=E(77712),z=(E(85931),E(8314),E(90912),E(76898));let L=class extends O.wq{constructor(){super(...arguments),this.type=null}};(0,M._)([(0,X.Cb)({type:["selection","cluster"],readOnly:!0,json:{read:!1,write:!0}})],L.prototype,"type",void 0),L=(0,M._)([(0,z.j)("esri.layers.support.FeatureReduction")],L);const T=L},47058:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>x});var L,M=E(17626),O=E(77712),ee=(E(85931),E(8314),E(90912),E(76898)),z=E(83989);let T=L=class extends z.Z{constructor(Z){super(Z),this.type="selection"}clone(){return new L}};(0,M._)([(0,O.Cb)({type:["selection"]})],T.prototype,"type",void 0),T=L=(0,M._)([(0,ee.j)("esri.layers.support.FeatureReductionSelection")],T);const x=T},32777:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>Y});var M=E(17626),O=E(79608),X=E(2076),B=E(86810),N=E(77712),T=(E(85931),E(8314),E(90912),E(76898));const x=new X.X({esriFeatureEditToolAutoCompletePolygon:"auto-complete-polygon",esriFeatureEditToolCircle:"circle",esriFeatureEditToolEllipse:"ellipse",esriFeatureEditToolFreehand:"freehand",esriFeatureEditToolLine:"line",esriFeatureEditToolNone:"none",esriFeatureEditToolPoint:"point",esriFeatureEditToolPolygon:"polygon",esriFeatureEditToolRectangle:"rectangle",esriFeatureEditToolArrow:"arrow",esriFeatureEditToolTriangle:"triangle",esriFeatureEditToolLeftArrow:"left-arrow",esriFeatureEditToolRightArrow:"right-arrow",esriFeatureEditToolUpArrow:"up-arrow",esriFeatureEditToolDownArrow:"down-arrow"});let Z=class extends((0,O.J)(B.wq)){constructor($){super($),this.name=null,this.description=null,this.drawingTool=null,this.prototype=null,this.thumbnail=null}};(0,M._)([(0,N.Cb)({json:{write:!0}})],Z.prototype,"name",void 0),(0,M._)([(0,N.Cb)({json:{write:!0}})],Z.prototype,"description",void 0),(0,M._)([(0,N.Cb)({json:{read:x.read,write:x.write}})],Z.prototype,"drawingTool",void 0),(0,M._)([(0,N.Cb)({json:{write:!0}})],Z.prototype,"prototype",void 0),(0,M._)([(0,N.Cb)({json:{write:!0}})],Z.prototype,"thumbnail",void 0),Z=(0,M._)([(0,T.j)("esri.layers.support.FeatureTemplate")],Z);const Y=Z},41638:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>se});var M=E(17626),O=E(79608),X=E(86810),B=E(77712),L=(E(85931),E(8314),E(90912),E(68653)),T=E(76898),x=E(99433),Z=E(26141),Y=E(32777);let $=class extends((0,O.J)(X.wq)){constructor(ne){super(ne),this.id=null,this.name=null,this.domains=null,this.templates=null}readDomains(ne){const j={};for(const I of Object.keys(ne))j[I]=(0,Z.im)(ne[I]);return j}writeDomains(ne,j){const I={};for(const F of Object.keys(ne)){var w;ne[F]&&(I[F]=null==(w=ne[F])?void 0:w.toJSON())}j.domains=I}};(0,M._)([(0,B.Cb)({json:{write:!0}})],$.prototype,"id",void 0),(0,M._)([(0,B.Cb)({json:{write:!0}})],$.prototype,"name",void 0),(0,M._)([(0,B.Cb)({json:{write:!0}})],$.prototype,"domains",void 0),(0,M._)([(0,L.r)("domains")],$.prototype,"readDomains",null),(0,M._)([(0,x.c)("domains")],$.prototype,"writeDomains",null),(0,M._)([(0,B.Cb)({type:[Y.Z],json:{write:!0}})],$.prototype,"templates",void 0),$=(0,M._)([(0,T.j)("esri.layers.support.FeatureType")],$);const se=$},36255:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>j});var $,M=E(17626),O=E(2076),X=E(86810),B=E(77712),z=(E(85931),E(8314),E(90912)),L=E(55342),T=E(68653),x=E(76898),Z=E(26141),Y=E(85);const se=new O.X({binary:"binary",coordinate:"coordinate",countOrAmount:"count-or-amount",dateAndTime:"date-and-time",description:"description",locationOrPlaceName:"location-or-place-name",measurement:"measurement",nameOrTitle:"name-or-title",none:"none",orderedOrRanked:"ordered-or-ranked",percentageOrRatio:"percentage-or-ratio",typeOrCategory:"type-or-category",uniqueIdentifier:"unique-identifier"});let ne=$=class extends X.wq{constructor(I){super(I),this.alias=null,this.defaultValue=void 0,this.description=null,this.domain=null,this.editable=!0,this.length=-1,this.name=null,this.nullable=!0,this.type=null,this.valueType=null}readDescription(I,{description:w}){let F;try{F=JSON.parse(w)}catch(k){}return F?F.value:null}readValueType(I,{description:w}){let F;try{F=JSON.parse(w)}catch(k){}return F?se.fromJSON(F.fieldValueType):null}clone(){return new $({alias:this.alias,defaultValue:this.defaultValue,description:this.description,domain:this.domain&&this.domain.clone()||null,editable:this.editable,length:this.length,name:this.name,nullable:this.nullable,type:this.type,valueType:this.valueType})}};(0,M._)([(0,B.Cb)({type:String,json:{write:!0}})],ne.prototype,"alias",void 0),(0,M._)([(0,B.Cb)({type:[String,Number],json:{write:{allowNull:!0}}})],ne.prototype,"defaultValue",void 0),(0,M._)([(0,B.Cb)()],ne.prototype,"description",void 0),(0,M._)([(0,T.r)("description")],ne.prototype,"readDescription",null),(0,M._)([(0,B.Cb)({types:Z.V5,json:{read:{reader:Z.im},write:!0}})],ne.prototype,"domain",void 0),(0,M._)([(0,B.Cb)({type:Boolean,json:{write:!0}})],ne.prototype,"editable",void 0),(0,M._)([(0,B.Cb)({type:z.z8,json:{write:!0}})],ne.prototype,"length",void 0),(0,M._)([(0,B.Cb)({type:String,json:{write:!0}})],ne.prototype,"name",void 0),(0,M._)([(0,B.Cb)({type:Boolean,json:{write:!0}})],ne.prototype,"nullable",void 0),(0,M._)([(0,L.J)(Y.v)],ne.prototype,"type",void 0),(0,M._)([(0,B.Cb)()],ne.prototype,"valueType",void 0),(0,M._)([(0,T.r)("valueType",["description"])],ne.prototype,"readValueType",null),ne=$=(0,M._)([(0,x.j)("esri.layers.support.Field")],ne);const j=ne},60466:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>N});var M=E(36630);function X(z){return"oid"===z.type||"esriFieldTypeOID"===z.type}function B(z){return"global-id"===z.type||"esriFieldTypeGlobalID"===z.type}class N{constructor(L){if(this.fields=L,this._fieldsMap=new Map,this._dateFieldsSet=new Set,this._numericFieldsSet=new Set,this.dateFields=[],this.numericFields=[],this._requiredFields=null,!L)return;const T=[];for(const x of L){const Z=x&&x.name;if(Z){const Y=ee(Z);this._fieldsMap.set(Z,x),this._fieldsMap.set(Y,x),T.push(Y),"date"===(z=x).type||"esriFieldTypeDate"===z.type?(this.dateFields.push(x),this._dateFieldsSet.add(x)):(0,M.H7)(x)&&(this._numericFieldsSet.add(x),this.numericFields.push(x)),X(x)||B(x)||(x.editable=null==x.editable||!!x.editable,x.nullable=null==x.nullable||!!x.nullable)}}var z;T.sort(),this.uid=T.join(",")}destroy(){this._fieldsMap.clear()}get requiredFields(){if(!this._requiredFields){this._requiredFields=[];for(const L of this.fields)X(L)||B(L)||L.nullable||void 0!==(0,M.os)(L)||this._requiredFields.push(L)}return this._requiredFields}has(L){return null!=this.get(L)}get(L){return null!=L?this._fieldsMap.get(L)||this._fieldsMap.get(ee(L)):void 0}isDateField(L){return this._dateFieldsSet.has(this.get(L))}isNumericField(L){return this._numericFieldsSet.has(this.get(L))}normalizeFieldName(L){const T=this.get(L);if(T)return T.name}}function ee(z){return z.toLowerCase().trim()}},72258:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>x});var L,M=E(17626),O=E(86810),X=E(77712),ee=(E(85931),E(8314),E(90912)),z=E(76898);let T=L=class extends O.wq{constructor(Z){super(Z),this.cols=null,this.level=0,this.levelValue=null,this.origin=null,this.resolution=0,this.rows=null,this.scale=0}clone(){return new L({cols:this.cols,level:this.level,levelValue:this.levelValue,resolution:this.resolution,rows:this.rows,scale:this.scale})}};(0,M._)([(0,X.Cb)({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],T.prototype,"cols",void 0),(0,M._)([(0,X.Cb)({type:ee.z8,json:{write:!0}})],T.prototype,"level",void 0),(0,M._)([(0,X.Cb)({type:String,json:{write:!0}})],T.prototype,"levelValue",void 0),(0,M._)([(0,X.Cb)({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],T.prototype,"origin",void 0),(0,M._)([(0,X.Cb)({type:Number,json:{write:!0}})],T.prototype,"resolution",void 0),(0,M._)([(0,X.Cb)({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],T.prototype,"rows",void 0),(0,M._)([(0,X.Cb)({type:Number,json:{write:!0}})],T.prototype,"scale",void 0),T=L=(0,M._)([(0,z.j)("esri.layers.support.LOD")],T);const x=T},170:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>pe});var ne,M=E(17626),O=E(65787),X=E(2076),B=E(86810),N=E(58817),ee=E(23841),z=E(77712),T=(E(90912),E(68653)),x=E(76898),Z=E(99433),se=(E(85931),E(8314),E(86793));let j=ne=class extends B.wq{constructor(){super(...arguments),this.expression=null,this.title=null,this.value=null}readExpression(oe,K){return K.value?(0,se.dI)(K.value):oe}writeExpression(oe,K,de){null!=this.value&&(oe=(0,se.dI)(this.value)),null!=oe&&(K[de]=oe)}clone(){return new ne({expression:this.expression,title:this.title,value:this.value})}};(0,M._)([(0,z.Cb)({type:String,json:{write:{writerEnsuresNonNull:!0}}})],j.prototype,"expression",void 0),(0,M._)([(0,T.r)("expression",["expression","value"])],j.prototype,"readExpression",null),(0,M._)([(0,Z.c)("expression")],j.prototype,"writeExpression",null),(0,M._)([(0,z.Cb)({type:String,json:{write:!0,origins:{"web-scene":{write:!1}}}})],j.prototype,"title",void 0),(0,M._)([(0,z.Cb)({json:{read:!1,write:!1}})],j.prototype,"value",void 0),j=ne=(0,M._)([(0,x.j)("esri.layers.support.LabelExpressionInfo")],j);const I=j;var k,w=E(8080),F=E(65270);const W=new X.X({esriServerPointLabelPlacementAboveCenter:"above-center",esriServerPointLabelPlacementAboveLeft:"above-left",esriServerPointLabelPlacementAboveRight:"above-right",esriServerPointLabelPlacementBelowCenter:"below-center",esriServerPointLabelPlacementBelowLeft:"below-left",esriServerPointLabelPlacementBelowRight:"below-right",esriServerPointLabelPlacementCenterCenter:"center-center",esriServerPointLabelPlacementCenterLeft:"center-left",esriServerPointLabelPlacementCenterRight:"center-right",esriServerLinePlacementAboveAfter:"above-after",esriServerLinePlacementAboveAlong:"above-along",esriServerLinePlacementAboveBefore:"above-before",esriServerLinePlacementAboveStart:"above-start",esriServerLinePlacementAboveEnd:"above-end",esriServerLinePlacementBelowAfter:"below-after",esriServerLinePlacementBelowAlong:"below-along",esriServerLinePlacementBelowBefore:"below-before",esriServerLinePlacementBelowStart:"below-start",esriServerLinePlacementBelowEnd:"below-end",esriServerLinePlacementCenterAfter:"center-after",esriServerLinePlacementCenterAlong:"center-along",esriServerLinePlacementCenterBefore:"center-before",esriServerLinePlacementCenterStart:"center-start",esriServerLinePlacementCenterEnd:"center-end",esriServerPolygonPlacementAlwaysHorizontal:"always-horizontal"},{ignoreUnknown:!0});function re(oe){return!oe||"service"!==oe.origin&&!Q(oe.layer)}function Q(oe){return"map-image"===(null==oe?void 0:oe.type)}function ue(oe){var K,de;return!!Q(oe)&&!(null==(K=oe.capabilities)||null==(de=K.exportMap)||!de.supportsArcadeExpressionForLabeling)}let fe=k=class extends B.wq{constructor(oe){super(oe),this.type="label",this.name=null,this.allowOverrun=!1,this.deconflictionStrategy="static",this.labelExpression=null,this.labelExpressionInfo=null,this.labelPlacement=null,this.labelPosition="curved",this.maxScale=0,this.minScale=0,this.repeatLabel=!0,this.repeatLabelDistance=null,this.symbol=w.Rz,this.useCodedValues=void 0,this.where=null}static evaluateWhere(oe,K){const de=function(le,me,ce){switch(me){case"=":return le==ce;case"<>":return le!=ce;case">":return le>ce;case">=":return le>=ce;case"<":return le<ce;case"<=":return le<=ce}return!1};try{if(null==oe)return!0;const le=oe.split(" ");if(3===le.length)return de(K[le[0]],le[1],le[2]);if(7===le.length){const me=de(K[le[0]],le[1],le[2]),ce=le[3],ge=de(K[le[4]],le[5],le[6]);switch(ce){case"AND":return me&&ge;case"OR":return me||ge}}return!1}catch(le){console.log("Error.: can't parse = "+oe)}}readLabelExpression(oe,K){const de=K.labelExpressionInfo;if(!de||!de.value&&!de.expression)return oe}writeLabelExpression(oe,K,de){if(this.labelExpressionInfo)if(null!=this.labelExpressionInfo.value)oe=(0,se.z7)(this.labelExpressionInfo.value);else if(null!=this.labelExpressionInfo.expression){const le=(0,se.el)(this.labelExpressionInfo.expression);le&&(oe="["+le+"]")}null!=oe&&(K[de]=oe)}writeLabelExpressionInfo(oe,K,de,le){if(null==oe&&null!=this.labelExpression&&re(le))oe=new I({expression:this.getLabelExpressionArcade()});else if(!oe)return;const me=oe.toJSON(le);me.expression&&(K[de]=me)}writeMaxScale(oe,K){(oe||this.minScale)&&(K.maxScale=oe)}writeMinScale(oe,K){(oe||this.maxScale)&&(K.minScale=oe)}getLabelExpression(){return(0,se.hV)(this)}getLabelExpressionArcade(){return(0,se.YI)(this)}getLabelExpressionSingleField(){return(0,se.UO)(this)}hash(){return JSON.stringify(this)}clone(){return new k({allowOverrun:this.allowOverrun,deconflictionStrategy:this.deconflictionStrategy,labelExpression:this.labelExpression,labelExpressionInfo:(0,N.d9)(this.labelExpressionInfo),labelPosition:this.labelPosition,labelPlacement:this.labelPlacement,maxScale:this.maxScale,minScale:this.minScale,name:this.name,repeatLabel:this.repeatLabel,repeatLabelDistance:this.repeatLabelDistance,symbol:(0,N.d9)(this.symbol),where:this.where,useCodedValues:this.useCodedValues})}};(0,M._)([(0,z.Cb)({type:String,json:{write:!0}})],fe.prototype,"name",void 0),(0,M._)([(0,z.Cb)({type:Boolean,json:{write:!0,default:!1,origins:{"web-scene":{write:!1}}}})],fe.prototype,"allowOverrun",void 0),(0,M._)([(0,z.Cb)({type:String,json:{write:!0,default:"static",origins:{"web-scene":{write:!1}}}})],fe.prototype,"deconflictionStrategy",void 0),(0,M._)([(0,z.Cb)({type:String,json:{write:{overridePolicy(oe,K,de){return this.labelExpressionInfo&&"service"===(null==de?void 0:de.origin)&&ue(de.layer)?{enabled:!1}:{allowNull:!0}}}}})],fe.prototype,"labelExpression",void 0),(0,M._)([(0,T.r)("labelExpression")],fe.prototype,"readLabelExpression",null),(0,M._)([(0,Z.c)("labelExpression")],fe.prototype,"writeLabelExpression",null),(0,M._)([(0,z.Cb)({type:I,json:{write:{overridePolicy:(oe,K,de)=>function he(oe){return re(oe)||ue(oe.layer)}(de)?{allowNull:!0}:{enabled:!1}}}})],fe.prototype,"labelExpressionInfo",void 0),(0,M._)([(0,Z.c)("labelExpressionInfo")],fe.prototype,"writeLabelExpressionInfo",null),(0,M._)([(0,z.Cb)({type:W.apiValues,json:{type:W.jsonValues,read:W.read,write:W.write}})],fe.prototype,"labelPlacement",void 0),(0,M._)([(0,z.Cb)({type:["curved","parallel"],json:{write:!0,origins:{"web-map":{write:!1},"web-scene":{write:!1},"portal-item":{write:!1}}}})],fe.prototype,"labelPosition",void 0),(0,M._)([(0,z.Cb)({type:Number})],fe.prototype,"maxScale",void 0),(0,M._)([(0,Z.c)("maxScale")],fe.prototype,"writeMaxScale",null),(0,M._)([(0,z.Cb)({type:Number})],fe.prototype,"minScale",void 0),(0,M._)([(0,Z.c)("minScale")],fe.prototype,"writeMinScale",null),(0,M._)([(0,z.Cb)({type:Boolean,json:{write:!0,origins:{"web-scene":{write:!1},"portal-item":{write:!1}}}})],fe.prototype,"repeatLabel",void 0),(0,M._)([(0,z.Cb)({type:Number,cast:ee.t_,json:{write:!0,origins:{"web-scene":{write:!1}}}})],fe.prototype,"repeatLabelDistance",void 0),(0,M._)([(0,z.Cb)({types:O.yK,json:{origins:{"web-scene":{types:O.S6,write:F.vX,default:null}},write:F.vX,default:null}})],fe.prototype,"symbol",void 0),(0,M._)([(0,z.Cb)({type:Boolean,json:{write:!0}})],fe.prototype,"useCodedValues",void 0),(0,M._)([(0,z.Cb)({type:String,json:{write:!0}})],fe.prototype,"where",void 0),fe=k=(0,M._)([(0,x.j)("esri.layers.support.LabelClass")],fe);const pe=fe},2430:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>Z});var T,M=E(17626),O=E(48701),X=E(86810),B=E(77712),L=(E(85931),E(8314),E(90912),E(76898));let x=T=class extends X.wq{constructor(Y){super(Y),this.floorField=null,this.viewAllMode=!1,this.viewAllLevelIds=new O.Z}clone(){return new T({floorField:this.floorField,viewAllMode:this.viewAllMode,viewAllLevelIds:this.viewAllLevelIds})}};(0,M._)([(0,B.Cb)({type:String,json:{write:!0}})],x.prototype,"floorField",void 0),(0,M._)([(0,B.Cb)({json:{read:!1,write:!1}})],x.prototype,"viewAllMode",void 0),(0,M._)([(0,B.Cb)({json:{read:!1,write:!1}})],x.prototype,"viewAllLevelIds",void 0),x=T=(0,M._)([(0,L.j)("esri.layers.support.LayerFloorInfo")],x);const Z=x},2584:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>re});var F,M=E(17626),O=E(2076),X=E(86810),B=E(62208),N=E(16730),ee=E(77712),T=(E(85931),E(8314),E(90912)),x=E(68653),Z=E(76898),Y=E(99433),$=E(49672),se=E(65234),ne=E(65401),j=E(37053),I=E(46367),w=E(72258);const k=new O.X({PNG:"png",PNG8:"png8",PNG24:"png24",PNG32:"png32",JPEG:"jpg",JPG:"jpg",DIB:"dib",TIFF:"tiff",EMF:"emf",PS:"ps",PDF:"pdf",GIF:"gif",SVG:"svg",SVGZ:"svgz",Mixed:"mixed",MIXED:"mixed",LERC:"lerc",LERC2D:"lerc2d",RAW:"raw",pbf:"pbf"});let W=F=class extends X.wq{constructor(Q){super(Q),this.dpi=96,this.format=null,this.origin=null,this.minScale=0,this.maxScale=0,this.size=null,this.spatialReference=null}static create(Q={}){const{resolutionFactor:ue=1,scales:he,size:fe=256,spatialReference:pe=se.Z.WebMercator,numLODs:oe=24}=Q;if(!(0,j.JY)(pe)){const ge=[];if(he)for(let J=0;J<he.length;J++){const ie=he[J];ge.push({level:J,scale:ie,resolution:ie})}else{let J=5e-4;for(let ie=oe-1;ie>=0;ie--)ge.unshift({level:ie,scale:J,resolution:J}),J*=2}return new F({dpi:96,lods:ge,origin:new $.Z(0,0,pe),size:[fe,fe],spatialReference:pe})}const K=(0,j.C5)(pe),de=new $.Z(Q.origin?{x:Q.origin.x,y:Q.origin.y,spatialReference:pe}:K?{x:K.origin[0],y:K.origin[1],spatialReference:pe}:{x:0,y:0,spatialReference:pe}),me=1/(39.37*(0,N.c9)(pe)*96),ce=[];if(he)for(let ge=0;ge<he.length;ge++){const J=he[ge];ce.push({level:ge,scale:J,resolution:J*me})}else{let ge=(0,j.sT)(pe)?512/fe*591657527.5917094:256/fe*591657527.591555;const J=Math.ceil(oe/ue);ce.push({level:0,scale:ge,resolution:ge*me});for(let ie=1;ie<J;ie++){const De=ge/2**ue;ce.push({level:ie,scale:De,resolution:De*me}),ge=De}}return new F({dpi:96,lods:ce,origin:de,size:[fe,fe],spatialReference:pe})}get isWrappable(){const{spatialReference:Q,origin:ue}=this;if(Q&&ue){const he=(0,j.C5)(Q);return Q.isWrappable&&Math.abs(he.origin[0]-ue.x)<=he.dx}return!1}readOrigin(Q,ue){return $.Z.fromJSON(Ct({spatialReference:ue.spatialReference},Q))}set lods(Q){let ue=0,he=0;const fe=[];this._levelToLOD={},Q&&(ue=-1/0,he=1/0,Q.forEach(pe=>{fe.push(pe.scale),ue=pe.scale>ue?pe.scale:ue,he=pe.scale<he?pe.scale:he,this._levelToLOD[pe.level]=pe})),this._set("scales",fe),this._set("minScale",ue),this._set("maxScale",he),this._set("lods",Q),this._initializeUpsampleLevels()}readSize(Q,ue){return[ue.cols,ue.rows]}writeSize(Q,ue){ue.cols=Q[0],ue.rows=Q[1]}zoomToScale(Q){const ue=this.scales;if(Q<=0)return ue[0];if(Q>=ue.length-1)return ue[ue.length-1];{const he=Math.floor(Q);return ue[he]/(ue[he]/ue[he+1])**(Q-he)}}scaleToZoom(Q){const ue=this.scales,he=ue.length-1;let fe=0;for(;fe<he;fe++){const pe=ue[fe],oe=ue[fe+1];if(pe<=Q)return fe;if(oe===Q)return fe+1;if(pe>Q&&oe<Q)return fe+Math.log(pe/Q)/Math.log(pe/oe)}return fe}snapScale(Q,ue=.95){const he=this.scaleToZoom(Q);return he%Math.floor(he)>=ue?this.zoomToScale(Math.ceil(he)):this.zoomToScale(Math.floor(he))}tileAt(Q,ue,he,fe){const pe=this.lodAt(Q);if(!pe)return null;let oe,K;if("number"==typeof ue)oe=ue,K=he;else if((0,j.fS)(ue.spatialReference,this.spatialReference))oe=ue.x,K=ue.y,fe=he;else{const me=(0,I.iV)(ue,this.spatialReference);if((0,B.Wi)(me))return null;oe=me.x,K=me.y,fe=he}const de=pe.resolution*this.size[0],le=pe.resolution*this.size[1];return fe||(fe={id:null,level:0,row:0,col:0,extent:(0,ne.Ue)()}),fe.level=Q,fe.row=Math.floor((this.origin.y-K)/le+.001),fe.col=Math.floor((oe-this.origin.x)/de+.001),this.updateTileInfo(fe),fe}updateTileInfo(Q,ue=F.ExtrapolateOptions.NONE){let he=this.lodAt(Q.level);if(!he&&ue===F.ExtrapolateOptions.POWER_OF_TWO){const K=this.lods[this.lods.length-1];K.level<Q.level&&(he=K)}if(!he)return;const fe=Q.level-he.level,pe=he.resolution*this.size[0]/2**fe,oe=he.resolution*this.size[1]/2**fe;Q.id=`${Q.level}/${Q.row}/${Q.col}`,Q.extent||(Q.extent=(0,ne.Ue)()),Q.extent[0]=this.origin.x+Q.col*pe,Q.extent[1]=this.origin.y-(Q.row+1)*oe,Q.extent[2]=Q.extent[0]+pe,Q.extent[3]=Q.extent[1]+oe}upsampleTile(Q){const ue=this._upsampleLevels[Q.level];return!(!ue||-1===ue.parentLevel||(Q.level=ue.parentLevel,Q.row=Math.floor(Q.row/ue.factor+.001),Q.col=Math.floor(Q.col/ue.factor+.001),this.updateTileInfo(Q),0))}getTileBounds(Q,ue){const{resolution:he}=this.lodAt(ue.level),fe=he*this.size[0],pe=he*this.size[1];return Q[0]=this.origin.x+ue.col*fe,Q[1]=this.origin.y-(ue.row+1)*pe,Q[2]=Q[0]+fe,Q[3]=Q[1]+pe,Q}lodAt(Q){return this._levelToLOD&&this._levelToLOD[Q]||null}clone(){return F.fromJSON(this.write({}))}getOrCreateCompatible(Q,ue){if(256===this.size[0]&&256===this.size[1])return 256===Q?this:null;const he=[],fe=this.lods.length;for(let pe=0;pe<fe;pe++){const oe=this.lods[pe];he.push(new w.Z({level:oe.level,scale:oe.scale,resolution:oe.resolution*ue}))}return new F({size:[Q,Q],dpi:this.dpi,format:this.format,compressionQuality:this.compressionQuality,origin:this.origin,spatialReference:this.spatialReference,lods:he})}_initializeUpsampleLevels(){const Q=this.lods;this._upsampleLevels=[];let ue=null;for(let he=0;he<Q.length;he++){const fe=Q[he];this._upsampleLevels[fe.level]={parentLevel:ue?ue.level:-1,factor:ue?ue.resolution/fe.resolution:0},ue=fe}}};var Q,ue;(0,M._)([(0,ee.Cb)({type:Number,json:{write:!0}})],W.prototype,"compressionQuality",void 0),(0,M._)([(0,ee.Cb)({type:Number,json:{write:!0}})],W.prototype,"dpi",void 0),(0,M._)([(0,ee.Cb)({type:String,json:{read:k.read,write:k.write,origins:{"web-scene":{read:!1,write:!1}}}})],W.prototype,"format",void 0),(0,M._)([(0,ee.Cb)({readOnly:!0})],W.prototype,"isWrappable",null),(0,M._)([(0,ee.Cb)({type:$.Z,json:{write:!0}})],W.prototype,"origin",void 0),(0,M._)([(0,x.r)("origin")],W.prototype,"readOrigin",null),(0,M._)([(0,ee.Cb)({type:[w.Z],value:null,json:{write:!0}})],W.prototype,"lods",null),(0,M._)([(0,ee.Cb)({readOnly:!0})],W.prototype,"minScale",void 0),(0,M._)([(0,ee.Cb)({readOnly:!0})],W.prototype,"maxScale",void 0),(0,M._)([(0,ee.Cb)({readOnly:!0})],W.prototype,"scales",void 0),(0,M._)([(0,ee.Cb)({cast:Q=>Array.isArray(Q)?Q:"number"==typeof Q?[Q,Q]:[256,256]})],W.prototype,"size",void 0),(0,M._)([(0,x.r)("size",["rows","cols"])],W.prototype,"readSize",null),(0,M._)([(0,Y.c)("size",{cols:{type:T.z8},rows:{type:T.z8}})],W.prototype,"writeSize",null),(0,M._)([(0,ee.Cb)({type:se.Z,json:{write:!0}})],W.prototype,"spatialReference",void 0),W=F=(0,M._)([(0,Z.j)("esri.layers.support.TileInfo")],W),(ue=(Q=W||(W={})).ExtrapolateOptions||(Q.ExtrapolateOptions={}))[ue.NONE=0]="NONE",ue[ue.POWER_OF_TWO=1]="POWER_OF_TWO";const re=W},62708:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>k});var se,M=E(17626),O=E(97478),X=E(20849),B=E(86810),N=E(58817),ee=E(62208),z=E(77712),T=(E(90912),E(68653)),x=E(76898),Z=E(99433);E(85931),E(8314);let ne=se=class extends B.wq{constructor(W){super(W),this.respectsDaylightSaving=!1,this.timezone=null}readRespectsDaylightSaving(W,re){return void 0!==re.respectsDaylightSaving?re.respectsDaylightSaving:void 0!==re.respectDaylightSaving&&re.respectDaylightSaving}clone(){const{respectsDaylightSaving:W,timezone:re}=this;return new se({respectsDaylightSaving:W,timezone:re})}};(0,M._)([(0,z.Cb)({type:Boolean,json:{write:!0}})],ne.prototype,"respectsDaylightSaving",void 0),(0,M._)([(0,T.r)("respectsDaylightSaving",["respectsDaylightSaving","respectDaylightSaving"])],ne.prototype,"readRespectsDaylightSaving",null),(0,M._)([(0,z.Cb)({type:String,json:{read:{source:"timeZone"},write:{target:"timeZone"}}})],ne.prototype,"timezone",void 0),ne=se=(0,M._)([(0,x.j)("esri.layers.support.TimeReference")],ne);const j=ne;var w,I=E(58926);let F=w=class extends B.wq{constructor(W){super(W),this.cumulative=!1,this.endField=null,this.fullTimeExtent=null,this.hasLiveData=!1,this.interval=null,this.startField=null,this.timeReference=null,this.trackIdField=null,this.useTime=!0}readFullTimeExtent(W,re){if(!re.timeExtent||!Array.isArray(re.timeExtent)||2!==re.timeExtent.length)return null;const Q=new Date(re.timeExtent[0]),ue=new Date(re.timeExtent[1]);return new O.Z({start:Q,end:ue})}writeFullTimeExtent(W,re){re.timeExtent=W&&(0,ee.pC)(W.start)&&(0,ee.pC)(W.end)?[W.start.getTime(),W.end.getTime()]:null}readInterval(W,re){return re.timeInterval&&re.timeIntervalUnits?new X.Z({value:re.timeInterval,unit:I.v.fromJSON(re.timeIntervalUnits)}):re.defaultTimeInterval&&re.defaultTimeIntervalUnits?new X.Z({value:re.defaultTimeInterval,unit:I.v.fromJSON(re.defaultTimeIntervalUnits)}):null}writeInterval(W,re){if(W){const Q=W.toJSON();re.timeInterval=Q.value,re.timeIntervalUnits=Q.unit}else re.timeInterval=null,re.timeIntervalUnits=null}clone(){const{cumulative:W,endField:re,hasLiveData:Q,interval:ue,startField:he,timeReference:fe,fullTimeExtent:pe,trackIdField:oe,useTime:K}=this;return new w({cumulative:W,endField:re,hasLiveData:Q,interval:ue,startField:he,timeReference:(0,N.d9)(fe),fullTimeExtent:(0,N.d9)(pe),trackIdField:oe,useTime:K})}};(0,M._)([(0,z.Cb)({type:Boolean,json:{read:{source:"exportOptions.timeDataCumulative"},write:{target:"exportOptions.timeDataCumulative"}}})],F.prototype,"cumulative",void 0),(0,M._)([(0,z.Cb)({type:String,json:{read:{source:"endTimeField"},write:{target:"endTimeField",allowNull:!0}}})],F.prototype,"endField",void 0),(0,M._)([(0,z.Cb)({type:O.Z,json:{write:{enabled:!0,allowNull:!0}}})],F.prototype,"fullTimeExtent",void 0),(0,M._)([(0,T.r)("fullTimeExtent",["timeExtent"])],F.prototype,"readFullTimeExtent",null),(0,M._)([(0,Z.c)("fullTimeExtent")],F.prototype,"writeFullTimeExtent",null),(0,M._)([(0,z.Cb)({type:Boolean,json:{write:!0}})],F.prototype,"hasLiveData",void 0),(0,M._)([(0,z.Cb)({type:X.Z,json:{write:{enabled:!0,allowNull:!0}}})],F.prototype,"interval",void 0),(0,M._)([(0,T.r)("interval",["timeInterval","timeIntervalUnits","defaultTimeInterval","defaultTimeIntervalUnits"])],F.prototype,"readInterval",null),(0,M._)([(0,Z.c)("interval")],F.prototype,"writeInterval",null),(0,M._)([(0,z.Cb)({type:String,json:{read:{source:"startTimeField"},write:{target:"startTimeField",allowNull:!0}}})],F.prototype,"startField",void 0),(0,M._)([(0,z.Cb)({type:j,json:{write:{enabled:!0,allowNull:!0}}})],F.prototype,"timeReference",void 0),(0,M._)([(0,z.Cb)({type:String,json:{write:{enabled:!0,allowNull:!0}}})],F.prototype,"trackIdField",void 0),(0,M._)([(0,z.Cb)({type:Boolean,json:{read:{source:"exportOptions.useTime"},write:{target:"exportOptions.useTime"}}})],F.prototype,"useTime",void 0),F=w=(0,M._)([(0,x.j)("esri.layers.support.TimeInfo")],F);const k=F},38305:(Qe,Me,E)=>{"use strict";E.d(Me,{B5:()=>T,DR:()=>Z,G:()=>F,M8:()=>se,Nm:()=>j,Qc:()=>x,XG:()=>I,a7:()=>$,h3:()=>k,ld:()=>Y,wH:()=>w});var M=E(62208),O=E(21726),X=E(29840);const B={mapserver:"MapServer",imageserver:"ImageServer",featureserver:"FeatureServer",sceneserver:"SceneServer",streamserver:"StreamServer",vectortileserver:"VectorTileServer"},N=Object.values(B),ee=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/rest\\/services\\/(.+?)\\/(${N.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),z=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/([^\\/\\n]+)\\/(${N.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),L=/(.*?)\/(?:layers\/)?(\d+)\/?$/i;function T(re){return!!ee.test(re)}function x(re){const Q=(0,O.mN)(re),ue=Q.path.match(ee)||Q.path.match(z);if(!ue)return null;const[,he,fe,pe,oe]=ue,K=fe.indexOf("/");return{title:Y(-1!==K?fe.slice(K+1):fe),serverType:B[pe.toLowerCase()],sublayer:null!=oe&&""!==oe?parseInt(oe,10):null,url:{path:he}}}function Z(re){const Q=(0,O.mN)(re).path.match(L);return Q?{serviceUrl:Q[1],sublayerId:Number(Q[2])}:null}function Y(re){return(re=re.replace(/\s*[/_]+\s*/g," "))[0].toUpperCase()+re.slice(1)}function $(re,Q){const ue=[];if(re){const he=x(re);(0,M.pC)(he)&&he.title&&ue.push(he.title)}if(Q){const he=Y(Q);ue.push(he)}if(2===ue.length){if(-1!==ue[0].toLowerCase().indexOf(ue[1].toLowerCase()))return ue[0];if(-1!==ue[1].toLowerCase().indexOf(ue[0].toLowerCase()))return ue[1]}return ue.join(" - ")}function se(re){if(!re)return!1;const pe=-1!==(re=re.toLowerCase()).indexOf(".arcgis.com/"),oe=-1!==re.indexOf("//services")||-1!==re.indexOf("//tiles")||-1!==re.indexOf("//features");return pe&&oe}function j(re,Q){return re&&(0,O.Qj)((0,O.Hu)(re,Q))}function I(re){let{url:Q}=re;if(!Q)return{url:Q};Q=(0,O.Hu)(Q,re.logger);const ue=(0,O.mN)(Q),he=x(ue.path);let fe;if((0,M.pC)(he))null!=he.sublayer&&null==re.layer.layerId&&(fe=he.sublayer),Q=he.url.path;else if(re.nonStandardUrlAllowed){const pe=Z(ue.path);(0,M.pC)(pe)&&(Q=pe.serviceUrl,fe=pe.sublayerId)}return{url:(0,O.Qj)(Q),layerId:fe}}function w(re,Q,ue,he,fe){(0,X.w)(Q,he,"url",fe),he.url&&null!=re.layerId&&(he.url=(0,O.v_)(he.url,ue,re.layerId.toString()))}function F(re){if(!re)return!1;const Q=re.toLowerCase(),ue=-1!==Q.indexOf("/services/"),he=-1!==Q.indexOf("/mapserver/wmsserver"),fe=-1!==Q.indexOf("/imageserver/wmsserver"),pe=-1!==Q.indexOf("/wmsserver");return ue&&(he||fe||pe)}function k(re){if(!re)return!1;const Q=new O.R9((0,O.hF)(re)).authority.toLowerCase();return"server.arcgisonline.com"===Q||"services.arcgisonline.com"===Q}},13812:(Qe,Me,E)=>{"use strict";E.d(Me,{qG:()=>fe,PV:()=>re,id:()=>oe,iR:()=>F,rn:()=>W,u1:()=>de,rO:()=>K,Oh:()=>ue,bT:()=>he,C_:()=>w,Lx:()=>Q,vg:()=>pe,YI:()=>I,HQ:()=>k});var M=E(97478),O=E(2004),X=E(65234),B=E(29840),N=E(62208),z=(E(10699),E(28170)),ne=E(26540),j=E(92236);const I={type:Boolean,value:!0,json:{origins:{service:{read:!1,write:!1},"web-map":{read:!1,write:!1}},name:"screenSizePerspective",write:!0}},w={type:Boolean,value:!0,json:{name:"disablePopup",read:{reader:(le,me)=>!me.disablePopup},write:{enabled:!0,writer(le,me,ce){me[ce]=!le}}}},F={type:Boolean,value:!0,json:{name:"showLabels",write:!0}},k={type:String,json:{origins:{"portal-item":{write:!1}},write:{isRequired:!0,ignoreOrigin:!0,writer:B.w}}},W={type:Boolean,value:!0,json:{origins:{service:{read:{enabled:!1}}},name:"showLegend",write:!0}},re={value:null,type:ne.Z,json:{origins:{service:{name:"elevationInfo",write:!0}},name:"layerDefinition.elevationInfo",write:!0}};function Q(le){return{type:le,readOnly:!0,json:{origins:{service:{read:!0}},read:!1}}}const ue={type:Number,json:{origins:{"web-document":{write:!0,read:!0},"portal-item":{write:!0}}}},he=Bn(Ct({},ue),{json:Bn(Ct({},ue.json),{origins:{"web-document":Bn(Ct({},ue.json.origins["web-document"]),{write:{enabled:!0,target:{opacity:{type:Number},"layerDefinition.drawingInfo.transparency":{type:Number}}}})},read:{source:["layerDefinition.drawingInfo.transparency","drawingInfo.transparency"],reader:(le,me,ce)=>ce&&"service"!==ce.origin||!me.drawingInfo||void 0===me.drawingInfo.transparency?me.layerDefinition&&me.layerDefinition.drawingInfo&&void 0!==me.layerDefinition.drawingInfo.transparency?(0,j.b)(me.layerDefinition.drawingInfo.transparency):void 0:(0,j.b)(me.drawingInfo.transparency)}})}),fe={type:M.Z,readOnly:!0,get(){var le,me;if(null==(le=this.layer)||!le.timeInfo)return null;const{datesInUnknownTimezone:ce,timeOffset:ge,useViewTime:J}=this.layer,ie=null==(me=this.view)?void 0:me.timeExtent;let De=this.layer.timeExtent;ce&&(De=function se(le){if(!le)return le;const{start:me,end:ce}=le;return new M.Z({start:(0,N.pC)(me)?(0,z.Nm)(me,me.getTimezoneOffset(),"minutes"):me,end:(0,N.pC)(ce)?(0,z.Nm)(ce,ce.getTimezoneOffset(),"minutes"):ce})}(De));let _e=J?ie&&De?ie.intersection(De):ie||De:De;if(!_e||_e.isEmpty||_e.isAllTime)return _e;ge&&(_e=_e.offset(-ge.value,ge.unit)),ce&&(_e=function $(le){if(!le)return le;const{start:me,end:ce}=le;return new M.Z({start:(0,N.pC)(me)?(0,z.Nm)(me,-me.getTimezoneOffset(),"minutes"):me,end:(0,N.pC)(ce)?(0,z.Nm)(ce,-ce.getTimezoneOffset(),"minutes"):ce})}(_e));const Ie=this._get("timeExtent");return _e.equals(Ie)?Ie:_e}},pe={type:O.Z,readOnly:!0,json:{origins:{service:{read:{source:["fullExtent","spatialReference"],reader:(le,me)=>{const ce=O.Z.fromJSON(le);return null!=me.spatialReference&&"object"==typeof me.spatialReference&&(ce.spatialReference=X.Z.fromJSON(me.spatialReference)),ce}}}},read:!1}},oe={type:String,json:{origins:{service:{read:!1},"portal-item":{read:!1}}}},K={type:Number,json:{origins:{service:{write:{enabled:!1}}},read:{source:"layerDefinition.minScale"},write:{target:"layerDefinition.minScale"}}},de={type:Number,json:{origins:{service:{write:{enabled:!1}}},read:{source:"layerDefinition.maxScale"},write:{target:"layerDefinition.maxScale"}}}},26141:(Qe,Me,E)=>{"use strict";E.d(Me,{im:()=>K,V5:()=>oe}),E(8314);var x,O=E(17626),X=E(58817),B=E(77712),ee=(E(90912),E(55342)),z=E(76898),L=E(86810);E(85931);let Z=x=class extends L.wq{constructor(de){super(de),this.name=null,this.code=null}clone(){return new x({name:this.name,code:this.code})}};(0,O._)([(0,B.Cb)({type:String,json:{write:!0}})],Z.prototype,"name",void 0),(0,O._)([(0,B.Cb)({type:[String,Number],json:{write:!0}})],Z.prototype,"code",void 0),Z=x=(0,O._)([(0,z.j)("esri.layers.support.CodedValue")],Z);const Y=Z,se=new(E(2076).X)({inherited:"inherited",codedValue:"coded-value",range:"range"});let ne=class extends L.wq{constructor(de){super(de),this.name=null,this.type=null}};(0,O._)([(0,B.Cb)({type:String,json:{write:!0}})],ne.prototype,"name",void 0),(0,O._)([(0,ee.J)(se)],ne.prototype,"type",void 0),ne=(0,O._)([(0,z.j)("esri.layers.support.Domain")],ne);const j=ne;var I;let w=I=class extends j{constructor(de){super(de),this.codedValues=null,this.type="coded-value"}getName(de){let le=null;if(this.codedValues){const me=String(de);this.codedValues.some(ce=>(String(ce.code)===me&&(le=ce.name),!!le))}return le}clone(){return new I({codedValues:(0,X.d9)(this.codedValues),name:this.name})}};(0,O._)([(0,B.Cb)({type:[Y],json:{write:!0}})],w.prototype,"codedValues",void 0),(0,O._)([(0,ee.J)({codedValue:"coded-value"})],w.prototype,"type",void 0),w=I=(0,O._)([(0,z.j)("esri.layers.support.CodedValueDomain")],w);const F=w;var re;E(63290),E(82255);let Q=re=class extends j{constructor(de){super(de),this.type="inherited"}clone(){return new re}};(0,O._)([(0,ee.J)({inherited:"inherited"})],Q.prototype,"type",void 0),Q=re=(0,O._)([(0,z.j)("esri.layers.support.InheritedDomain")],Q);const ue=Q;var he;let fe=he=class extends j{constructor(de){super(de),this.maxValue=null,this.minValue=null,this.type="range"}clone(){return new he({maxValue:this.maxValue,minValue:this.minValue,name:this.name})}};(0,O._)([(0,B.Cb)({type:Number,json:{type:[Number],read:{source:"range",reader:(de,le)=>le.range&&le.range[1]},write:{enabled:!1,overridePolicy(){return{enabled:null!=this.maxValue&&null==this.minValue}},target:"range",writer(de,le,me){le[me]=[this.minValue||0,de]}}}})],fe.prototype,"maxValue",void 0),(0,O._)([(0,B.Cb)({type:Number,json:{type:[Number],read:{source:"range",reader:(de,le)=>le.range&&le.range[0]},write:{target:"range",writer(de,le,me){le[me]=[de,this.maxValue||0]}}}})],fe.prototype,"minValue",void 0),(0,O._)([(0,ee.J)({range:"range"})],fe.prototype,"type",void 0),fe=he=(0,O._)([(0,z.j)("esri.layers.support.RangeDomain")],fe);const pe=fe,oe={key:"type",base:j,typeMap:{range:fe,"coded-value":F,inherited:ue}};function K(de){if(!de||!de.type)return null;switch(de.type){case"range":return pe.fromJSON(de);case"codedValue":return F.fromJSON(de);case"inherited":return ue.fromJSON(de)}return null}},2777:(Qe,Me,E)=>{"use strict";E.d(Me,{d:()=>he});var $,M=E(83989),O=E(17626),X=E(73281),B=E(65787),N=E(86810),ee=E(58817),z=E(23841),L=E(77712),x=(E(90912),E(76898));E(85931),E(8314);let se=$=class extends N.wq{constructor(){super(...arguments),this.statisticType=null,this.onStatisticField=null,this.onStatisticValueExpression=null}clone(){return new $({statisticType:this.statisticType,onStatisticField:this.onStatisticField,onStatisticValueExpression:this.onStatisticValueExpression})}};(0,O._)([(0,L.Cb)({type:String,json:{write:!0}})],se.prototype,"statisticType",void 0),(0,O._)([(0,L.Cb)({type:String,json:{write:!0}})],se.prototype,"onStatisticField",void 0),(0,O._)([(0,L.Cb)({type:String,json:{write:!0}})],se.prototype,"onStatisticValueExpression",void 0),se=$=(0,O._)([(0,x.j)("esri.layers.support.OutStatistic")],se);const ne=se;var j;let I=j=class extends N.wq{constructor(){super(...arguments),this.name=null}clone(){return new j({name:this.name,outStatistic:this.outStatistic.clone()})}};(0,O._)([(0,L.Cb)({type:String,json:{write:!0}})],I.prototype,"name",void 0),(0,O._)([(0,L.Cb)({type:ne,json:{write:!0}})],I.prototype,"outStatistic",void 0),I=j=(0,O._)([(0,x.j)("esri.layers.support.AggregateField")],I);const w=I;var W,F=E(13812),k=E(170);let re=W=class extends N.wq{constructor(fe){super(fe),this.type="cluster",this.clusterRadius=(0,z.t_)("80px"),this.clusterMinSize=(0,z.t_)("12px"),this.clusterMaxSize=(0,z.t_)("50px"),this.popupEnabled=!0,this.popupTemplate=null,this.symbol=null,this.labelingInfo=null,this.labelsVisible=!0,this.fields=null}clone(){return new W({clusterRadius:this.clusterRadius,clusterMinSize:this.clusterMinSize,clusterMaxSize:this.clusterMaxSize,labelingInfo:(0,ee.d9)(this.labelingInfo),labelsVisible:this.labelsVisible,fields:(0,ee.d9)(this.fields),popupEnabled:this.popupEnabled,popupTemplate:(0,ee.d9)(this.popupTemplate)})}};(0,O._)([(0,L.Cb)({type:["cluster"],readOnly:!0,json:{write:!0}})],re.prototype,"type",void 0),(0,O._)([(0,L.Cb)({type:Number,cast:fe=>"auto"===fe?fe:(0,z.t_)(fe),json:{write:!0}})],re.prototype,"clusterRadius",void 0),(0,O._)([(0,L.Cb)({type:Number,cast:z.t_,json:{write:!0}})],re.prototype,"clusterMinSize",void 0),(0,O._)([(0,L.Cb)({type:Number,cast:z.t_,json:{write:!0}})],re.prototype,"clusterMaxSize",void 0),(0,O._)([(0,L.Cb)(F.C_)],re.prototype,"popupEnabled",void 0),(0,O._)([(0,L.Cb)({type:X.Z,json:{read:{source:"popupInfo"},write:{target:"popupInfo"}}})],re.prototype,"popupTemplate",void 0),(0,O._)([(0,L.Cb)({types:B.AH})],re.prototype,"symbol",void 0),(0,O._)([(0,L.Cb)({type:[k.Z],json:{read:{source:"drawingInfo.labelingInfo"},write:{target:"drawingInfo.labelingInfo"}}})],re.prototype,"labelingInfo",void 0),(0,O._)([(0,L.Cb)(F.iR)],re.prototype,"labelsVisible",void 0),(0,O._)([(0,L.Cb)({type:[w],json:{write:!0,origins:{"web-document":{write:!1},"portal-item":{write:!1}}}})],re.prototype,"fields",void 0),re=W=(0,O._)([(0,x.j)("esri.layers.support.FeatureReductionCluster")],re);const Q=re;var ue=E(47058);const he={types:{key:"type",base:M.Z,typeMap:{selection:ue.Z,cluster:Q}},json:{name:"layerDefinition.featureReduction",write:{allowNull:!0},origins:{"web-map":{types:{key:"type",base:M.Z,typeMap:{selection:Q}}},"web-scene":{types:{key:"type",base:M.Z,typeMap:{selection:ue.Z}}}}}}},55911:(Qe,Me,E)=>{"use strict";E.d(Me,{v:()=>ee});var M=E(63290),O=E(36255),X=E(60466),B=E(36630);const N=M.Z.getLogger("esri.layers.support.fieldProperties");function ee(){return{fields:{type:[O.Z],value:null},fieldsIndex:{readOnly:!0,get(){return new X.Z(this.fields||[])}},outFields:{type:[String],json:{read:!1},set:function(z){this._userOutFields=z,this.notifyChange("outFields")},get:function(){const z=this._userOutFields;if(!z||!z.length)return null;if(z.includes("*"))return["*"];if(!this.fields)return z;for(const L of z)this.fieldsIndex.has(L)||N.error("field-attributes-layer:invalid-field",`Invalid field ${L} found in outFields`,{layer:this,outFields:z});return(0,B.Q0)(this.fieldsIndex,z)}}}}},85:(Qe,Me,E)=>{"use strict";E.d(Me,{v:()=>O});const O=new(E(2076).X)({esriFieldTypeSmallInteger:"small-integer",esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",esriFieldTypeDouble:"double",esriFieldTypeLong:"long",esriFieldTypeString:"string",esriFieldTypeDate:"date",esriFieldTypeOID:"oid",esriFieldTypeGeometry:"geometry",esriFieldTypeBlob:"blob",esriFieldTypeRaster:"raster",esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"global-id",esriFieldTypeXML:"xml"})},36630:(Qe,Me,E)=>{"use strict";E.d(Me,{io:()=>W,vl:()=>de,ZV:()=>ge,AB:()=>w,gd:()=>I,Ll:()=>ie,Mu:()=>Ze,Qj:()=>_e,R9:()=>Jt,Q0:()=>j,YN:()=>Y,UF:()=>se,O5:()=>he,CH:()=>we,os:()=>je,H7:()=>St,qN:()=>kt,Pz:()=>yn,Lk:()=>F,Qc:()=>An,vP:()=>Yt});var N,ze,M=E(15861),O=E(26584),X=E(62208),B=E(94113);(ze=N||(N={})).VALUE_OUT_OF_RANGE="domain-validation-error::value-out-of-range",ze.INVALID_CODED_VALUE="domain-validation-error::invalid-coded-value";var T=E(46679);const x=["field","field2","field3","normalizationField","rotationInfo.field","proportionalSymbolInfo.field","proportionalSymbolInfo.normalizationField","colorInfo.field","colorInfo.normalizationField"],Z=["field","normalizationField"];function Y(ze,mt){if(null!=ze&&null!=mt)for(const Ae of Array.isArray(ze)?ze:[ze])if($(x,Ae,mt),"visualVariables"in Ae&&Ae.visualVariables)for(const et of Ae.visualVariables)$(Z,et,mt)}function $(ze,mt,Ae){if(ze)for(const et of ze){const Tt=(0,B.hS)(et,mt),Qt=Tt&&"function"!=typeof Tt&&Ae.get(Tt);Qt&&(0,B.RB)(et,Qt.name,mt)}}function se(ze,mt){if(null!=ze&&null!=mt&&mt.fields.length)if("startField"in ze){const Ae=mt.get(ze.startField),et=mt.get(ze.endField);ze.startField=Ae&&Ae.name||null,ze.endField=et&&et.name||null}else{const Ae=mt.get(ze.startTimeField),et=mt.get(ze.endTimeField);ze.startTimeField=Ae&&Ae.name||null,ze.endTimeField=et&&et.name||null}}const ne=new Set;function j(ze,mt){return ze&&mt?(ne.clear(),I(ne,ze,mt),Array.from(ne).sort()):[]}function I(ze,mt,Ae){var et;if(Ae)if(null!=mt&&null!=(et=mt.fields)&&et.length)if(Ae.includes("*"))for(const{name:Tt}of mt.fields)ze.add(Tt);else for(const Tt of Ae)w(ze,mt,Tt);else{if(Ae.includes("*"))return ze.clear(),void ze.add("*");for(const Tt of Ae)ze.add(Tt)}}function w(ze,mt,Ae){if("string"==typeof Ae)if(mt){const et=mt.get(Ae);et&&ze.add(et.name)}else ze.add(Ae)}function F(ze,mt){return(0,X.Wi)(mt)||(0,X.Wi)(ze)?[]:mt.includes("*")?ze.fields.map(Ae=>Ae.name):mt}function W(ze,mt,Ae){return re.apply(this,arguments)}function re(){return re=(0,M.Z)(function*(ze,mt,Ae){var et;if(!Ae)return;const{arcadeUtils:Tt}=yield(0,T.LC)(),Qt=Tt.extractFieldNames(Ae,null==mt||null==(et=mt.fields)?void 0:et.map(on=>on.name));for(const on of Qt)w(ze,mt,on)}),re.apply(this,arguments)}function Q(ze,mt,Ae){return ue.apply(this,arguments)}function ue(){return ue=(0,M.Z)(function*(ze,mt,Ae){if(Ae&&"1=1"!==Ae){const et=(yield E.e(410).then(E.bind(E,10410))).WhereClause.create(Ae,mt);if(!et.isStandardized)throw new O.Z("fieldUtils:collectFilterFields","Where clause is not standardized");I(ze,mt,et.fieldNames)}}),ue.apply(this,arguments)}function he({displayField:ze,fields:mt}){return ze||(mt&&mt.length?pe(mt,"name-or-title")||pe(mt,"unique-identifier")||pe(mt,"type-or-category")||function fe(ze){for(const mt of ze){if(!mt||!mt.name)continue;const Ae=mt.name.toLowerCase();if(Ae.indexOf("name")>-1||Ae.indexOf("title")>-1)return mt.name}return null}(mt):null)}function pe(ze,mt){for(const Ae of ze)if(Ae&&Ae.valueType&&Ae.valueType===mt)return Ae.name;return null}function de(ze,mt){return le.apply(this,arguments)}function le(){return le=(0,M.Z)(function*(ze,mt){if(!mt)return;const Ae=(0,B.hS)("elevationInfo.featureExpressionInfo",mt);return Ae?Ae.collectRequiredFields(ze,mt.fieldsIndex):void 0}),le.apply(this,arguments)}function me(ze,mt,Ae){return ce.apply(this,arguments)}function ce(){return ce=(0,M.Z)(function*(ze,mt,Ae){Ae.outStatistic.onStatisticValueExpression?W(ze,mt,Ae.outStatistic.onStatisticValueExpression):ze.add(Ae.outStatistic.onStatisticField)}),ce.apply(this,arguments)}function ge(ze,mt,Ae){return J.apply(this,arguments)}function J(){return J=(0,M.Z)(function*(ze,mt,Ae){var et,Tt;if(!mt||!Ae||"cluster"!==Ae.type)return;const Qt=[];if(null!=(et=Ae.popupTemplate)&&et.expressionInfos&&Qt.push(...Ae.popupTemplate.expressionInfos.map(on=>W(ze,mt.fieldsIndex,on.expression))),Array.isArray(null==(Tt=Ae.popupTemplate)?void 0:Tt.content)){const on=Ae.popupTemplate.content;for(const it of on)"expression"===it.type&&it.expressionInfo&&Qt.push(W(ze,mt.fieldsIndex,it.expressionInfo.expression))}Ae.fields&&Qt.push(...Ae.fields.map(on=>me(ze,mt.fieldsIndex,on))),yield Promise.all(Qt)}),J.apply(this,arguments)}function ie(ze,mt,Ae){return De.apply(this,arguments)}function De(){return De=(0,M.Z)(function*(ze,mt,Ae){mt&&(mt.timeInfo&&(0,X.pC)(Ae)&&Ae.timeExtent&&I(ze,mt.fieldsIndex,[mt.timeInfo.startField,mt.timeInfo.endField]),mt.floorInfo&&I(ze,mt.fieldsIndex,[mt.floorInfo.floorField]),(0,X.pC)(Ae)&&(0,X.pC)(Ae.where)&&(yield Q(ze,mt.fieldsIndex,Ae.where)))}),De.apply(this,arguments)}function _e(ze,mt,Ae){return Ie.apply(this,arguments)}function Ie(){return Ie=(0,M.Z)(function*(ze,mt,Ae){mt&&Ae&&(yield Promise.all(Ae.map(et=>xe(ze,mt,et))))}),Ie.apply(this,arguments)}function xe(ze,mt,Ae){return ke.apply(this,arguments)}function ke(){return ke=(0,M.Z)(function*(ze,mt,Ae){mt&&Ae&&(Ae.valueExpression?yield W(ze,mt.fieldsIndex,Ae.valueExpression):Ae.field&&w(ze,mt.fieldsIndex,Ae.field))}),ke.apply(this,arguments)}function we(ze){if(!ze)return[];const mt="editFieldsInfo"in ze&&ze.editFieldsInfo;return mt?j(ze.fieldsIndex,[mt&&mt.creatorField,mt&&mt.creationDateField,mt&&mt.editorField,mt&&mt.editDateField]):[]}function Ze(ze,mt){return He.apply(this,arguments)}function He(){return He=(0,M.Z)(function*(ze,mt){const{labelingInfo:Ae,fieldsIndex:et}=mt;Ae&&Ae.length&&(yield Promise.all(Ae.map(Tt=>te(ze,et,Tt))))}),He.apply(this,arguments)}function te(ze,mt,Ae){return Ee.apply(this,arguments)}function Ee(){return Ee=(0,M.Z)(function*(ze,mt,Ae){if(!Ae)return;const et=Ae.getLabelExpression(),Tt=Ae.where;if("arcade"===et.type)yield W(ze,mt,et.expression);else{const Qt=et.expression.match(/{[^}]*}/g);Qt&&Qt.forEach(on=>{w(ze,mt,on.slice(1,-1))})}yield Q(ze,mt,Tt)}),Ee.apply(this,arguments)}function je(ze){const mt=ze.defaultValue;return void 0!==mt&&Ke(ze,mt)?mt:ze.nullable?null:void 0}function Ye(ze){return"number"==typeof ze&&!isNaN(ze)&&isFinite(ze)}function ht(ze){return null===ze||Ye(ze)}const ot="isInteger"in Number?Number.isInteger:ze=>"number"==typeof ze&&isFinite(ze)&&Math.floor(ze)===ze;function at(ze){return null===ze||ot(ze)}function lt(ze){return null!=ze&&"string"==typeof ze}function tt(ze){return null===ze||lt(ze)}function vt(){return!0}function Ke(ze,mt){let Ae;switch(ze.type){case"date":case"integer":case"long":case"small-integer":case"esriFieldTypeDate":case"esriFieldTypeInteger":case"esriFieldTypeLong":case"esriFieldTypeSmallInteger":Ae=ze.nullable?at:ot;break;case"double":case"single":case"esriFieldTypeSingle":case"esriFieldTypeDouble":Ae=ze.nullable?ht:Ye;break;case"string":case"esriFieldTypeString":Ae=ze.nullable?tt:lt;break;default:Ae=vt}return 1===arguments.length?Ae:Ae(mt)}const Et=new Set(["integer","small-integer","single","double","esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeSingle","esriFieldTypeDouble"]);function St(ze){return null!=ze&&Et.has(ze.type)}function kt(ze){return null!=ze&&("string"===ze.type||"esriFieldTypeString"===ze.type)}var dn,xn;function yn(ze){return null==ze||"number"==typeof ze&&isNaN(ze)?null:ze}function An(ze,mt){return ze.nullable&&null===mt?null:St(ze)&&!function In(ze,mt){const Ae="string"==typeof ze?st(ze):ze;return!!Ae&&(Ae.isInteger?ot(mt)&&mt>=Ae.min&&mt<=Ae.max:mt>=Ae.min&&mt<=Ae.max)}(ze.type,Number(mt))?dn.OUT_OF_RANGE:Ke(ze,mt)?ze.domain?function z(ze,mt){switch(ze.type){case"range":{const et="range"in ze?ze.range[1]:ze.maxValue;if(+mt<("range"in ze?ze.range[0]:ze.minValue)||+mt>et)return N.VALUE_OUT_OF_RANGE;break}case"coded-value":case"codedValue":if(null==ze.codedValues||ze.codedValues.every(Ae=>null==Ae||Ae.code!==mt))return N.INVALID_CODED_VALUE}return null}(ze.domain,mt):null:xn.INVALID_TYPE}function st(ze){switch(ze){case"esriFieldTypeSmallInteger":case"small-integer":return jt;case"esriFieldTypeInteger":case"integer":return Wt;case"esriFieldTypeSingle":case"single":return Ht;case"esriFieldTypeDouble":case"double":return Nt}}(function(ze){ze.OUT_OF_RANGE="numeric-range-validation-error::out-of-range"})(dn||(dn={})),function(ze){ze.INVALID_TYPE="type-validation-error::invalid-type"}(xn||(xn={}));const jt={min:-32768,max:32767,isInteger:!0},Wt={min:-2147483648,max:2147483647,isInteger:!0},Ht={min:-34e37,max:12e37,isInteger:!1},Nt={min:-Number.MAX_VALUE,max:Number.MAX_VALUE,isInteger:!1};function Yt(ze,mt,Ae){switch(ze){case N.INVALID_CODED_VALUE:return`Value ${Ae} is not in the coded domain - field: ${mt.name}, domain: ${JSON.stringify(mt.domain)}`;case N.VALUE_OUT_OF_RANGE:return`Value ${Ae} is out of the range of valid values - field: ${mt.name}, domain: ${JSON.stringify(mt.domain)}`;case xn.INVALID_TYPE:return`Value ${Ae} is not a valid value for the field type - field: ${mt.name}, type: ${mt.type}, nullable: ${mt.nullable}`;case dn.OUT_OF_RANGE:{const{min:et,max:Tt}=st(mt.type);return`Value ${Ae} is out of range for the number type - field: ${mt.name}, type: ${mt.type}, value range is ${et} to ${Tt}`}}}function Jt(ze,mt){return!function an(ze,mt,Ae){if(!mt||!mt.attributes||!ze){if((0,X.pC)(Ae))for(const Qt of ze)Ae.add(Qt);return!0}const et=mt.attributes;let Tt=!1;for(const Qt of ze)if(!(Qt in et)){if(Tt=!0,!(0,X.pC)(Ae))break;Ae.add(Qt)}return Tt}(ze,mt,null)}},86793:(Qe,Me,E)=>{"use strict";E.d(Me,{UO:()=>ne,YI:()=>se,dI:()=>j,el:()=>re,hV:()=>$,z7:()=>Y});var M=E(77275);const O="__begin__",X="__end__",B=new RegExp(O,"ig"),N=new RegExp(X,"ig"),ee=new RegExp("^"+O,"i"),z=new RegExp(X+"$","i");function Y(Q){return Q.replace(new RegExp("\\{","g"),"[").replace(new RegExp("\\}","g"),"]")}function $(Q){const ue={expression:"",type:"none"};return Q.labelExpressionInfo?Q.labelExpressionInfo.value?(ue.expression=Q.labelExpressionInfo.value,ue.type="conventional"):Q.labelExpressionInfo.expression&&(ue.expression=Q.labelExpressionInfo.expression,ue.type="arcade"):null!=Q.labelExpression&&(ue.expression=function Z(Q){return Q.replace(new RegExp("\\[","g"),"{").replace(new RegExp("\\]","g"),"}")}(Q.labelExpression),ue.type="conventional"),ue}function se(Q){const ue=$(Q);if(!ue)return null;switch(ue.type){case"conventional":return j(ue.expression);case"arcade":return ue.expression}return null}function ne(Q){const ue=$(Q);if(!ue)return null;switch(ue.type){case"conventional":return function w(Q){const ue=Q.match(I);return ue&&ue[1].trim()||null}(ue.expression);case"arcade":return re(ue.expression)}return null}function j(Q){let ue;return Q?(ue=(0,M.gx)(Q,he=>O+'$feature["'+he+'"]'+X),ue=ee.test(ue)?ue.replace(ee,""):'"'+ue,ue=z.test(ue)?ue.replace(z,""):ue+'"',ue=ue.replace(B,'" + ').replace(N,' + "')):ue='""',ue}const I=/^\s*\{([^}]+)\}\s*$/i,F=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])([\w\s]+)(\2)\]));?\s*$/i,k=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])([\w\s]+)(\2)\]));?\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])(\1|\3)(\5)\s*\));?\s*$/i,W=/^\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])([\w\s]+)(\1)\s*\));?\s*$/i;function re(Q){if(!Q)return null;let ue=F.exec(Q)||k.exec(Q);return ue?ue[1]||ue[3]:(ue=W.exec(Q),ue?ue[2]:null)}},62667:(Qe,Me,E)=>{"use strict";E.d(Me,{r:()=>X});var M=E(170);const O=/\[([^\[\]]+)\]/gi;function X(N,ee,z){return N?N.map(L=>{const T=new M.Z;if(T.read(L,z),T.labelExpression){const x=ee.fields||ee.layerDefinition&&ee.layerDefinition.fields||this.fields;T.labelExpression=T.labelExpression.replace(O,(Z,Y)=>`[${function B(N,ee){if(!ee)return N;const z=N.toLowerCase();for(let L=0;L<ee.length;L++){const T=ee[L].name;if(T.toLowerCase()===z)return T}return N}(Y,x)}]`)}return T}):null}},15283:(Qe,Me,E)=>{"use strict";E.d(Me,{n:()=>ce});var w,M=E(17626),O=E(2076),X=E(86810),B=E(77712),z=(E(85931),E(8314),E(66656)),L=E(55342),T=E(68653),x=E(76898),Z=E(90912),Y=E(383),$=E(36255),se=E(48370),j=(E(29132),E(65234)),I=E(71774);let F=w=class extends X.wq{constructor(ge){super(ge),this.type="query-table"}clone(){var ge;const{workspaceId:J,query:ie,oidFields:De,spatialReference:_e,geometryType:Ie}=this,xe={workspaceId:J,query:ie,oidFields:De,spatialReference:null!=(ge=null==_e?void 0:_e.clone())?ge:void 0,geometryType:Ie};return new w(xe)}};var k;(0,M._)([(0,L.J)({queryTable:"query-table"})],F.prototype,"type",void 0),(0,M._)([(0,B.Cb)({type:String,json:{write:!0}})],F.prototype,"workspaceId",void 0),(0,M._)([(0,B.Cb)({type:String,json:{write:!0}})],F.prototype,"query",void 0),(0,M._)([(0,B.Cb)({type:String,json:{write:!0}})],F.prototype,"oidFields",void 0),(0,M._)([(0,B.Cb)({type:j.Z,json:{write:!0}})],F.prototype,"spatialReference",void 0),(0,M._)([(0,L.J)(I.Mk)],F.prototype,"geometryType",void 0),F=w=(0,M._)([(0,x.j)("esri.layers.support.source.QueryTableDataSource")],F);let W=k=class extends X.wq{constructor(ge){super(ge),this.type="raster"}clone(){const{workspaceId:ge,dataSourceName:J}=this;return new k({workspaceId:ge,dataSourceName:J})}};var re;(0,M._)([(0,L.J)({raster:"raster"})],W.prototype,"type",void 0),(0,M._)([(0,B.Cb)({type:String,json:{write:!0}})],W.prototype,"dataSourceName",void 0),(0,M._)([(0,B.Cb)({type:String,json:{write:!0}})],W.prototype,"workspaceId",void 0),W=k=(0,M._)([(0,x.j)("esri.layers.support.source.RasterDataSource")],W);let Q=re=class extends X.wq{constructor(ge){super(ge),this.type="table"}clone(){const{workspaceId:ge,gdbVersion:J,dataSourceName:ie}=this;return new re({workspaceId:ge,gdbVersion:J,dataSourceName:ie})}};var ue,he;(0,M._)([(0,L.J)({table:"table"})],Q.prototype,"type",void 0),(0,M._)([(0,B.Cb)({type:String,json:{write:!0}})],Q.prototype,"workspaceId",void 0),(0,M._)([(0,B.Cb)({type:String,json:{write:!0}})],Q.prototype,"gdbVersion",void 0),(0,M._)([(0,B.Cb)({type:String,json:{write:!0}})],Q.prototype,"dataSourceName",void 0),Q=re=(0,M._)([(0,x.j)("esri.layers.support.source.TableDataSource")],Q);const fe=(0,O.w)()({esriLeftInnerJoin:"left-inner-join",esriLeftOuterJoin:"left-outer-join"});let pe=ue=class extends X.wq{constructor(ge){super(ge),this.type="join-table"}readLeftTableSource(ge,J,ie){return K()(ge,J,ie)}castLeftTableSource(ge){return(0,Z.N7)(le(),ge)}readRightTableSource(ge,J,ie){return K()(ge,J,ie)}castRightTableSource(ge){return(0,Z.N7)(le(),ge)}clone(){var ge,J;const{leftTableKey:ie,rightTableKey:De,leftTableSource:_e,rightTableSource:Ie,joinType:xe}=this,ke={leftTableKey:ie,rightTableKey:De,leftTableSource:null!=(ge=null==_e?void 0:_e.clone())?ge:void 0,rightTableSource:null!=(J=null==Ie?void 0:Ie.clone())?J:void 0,joinType:xe};return new ue(ke)}};(0,M._)([(0,L.J)({joinTable:"join-table"})],pe.prototype,"type",void 0),(0,M._)([(0,B.Cb)({type:String,json:{write:!0}})],pe.prototype,"leftTableKey",void 0),(0,M._)([(0,B.Cb)({type:String,json:{write:!0}})],pe.prototype,"rightTableKey",void 0),(0,M._)([(0,B.Cb)({json:{write:!0}})],pe.prototype,"leftTableSource",void 0),(0,M._)([(0,T.r)("leftTableSource")],pe.prototype,"readLeftTableSource",null),(0,M._)([(0,z.p)("leftTableSource")],pe.prototype,"castLeftTableSource",null),(0,M._)([(0,B.Cb)({json:{write:!0}})],pe.prototype,"rightTableSource",void 0),(0,M._)([(0,T.r)("rightTableSource")],pe.prototype,"readRightTableSource",null),(0,M._)([(0,z.p)("rightTableSource")],pe.prototype,"castRightTableSource",null),(0,M._)([(0,L.J)(fe)],pe.prototype,"joinType",void 0),pe=ue=(0,M._)([(0,x.j)("esri.layers.support.source.JoinTableDataSource")],pe);let oe=null;function K(){return oe||(oe=(0,Y.d)({types:le()})),oe}let de=null;function le(){return de||(de={key:"type",base:null,typeMap:{"data-layer":ce,"map-layer":se.R}}),de}const me={key:"type",base:null,typeMap:{"join-table":pe,"query-table":F,raster:W,table:Q}};let ce=he=class extends X.wq{constructor(ge){super(ge),this.type="data-layer"}clone(){const{fields:ge,dataSource:J}=this;return new he({fields:ge,dataSource:J})}};(0,M._)([(0,L.J)({dataLayer:"data-layer"})],ce.prototype,"type",void 0),(0,M._)([(0,B.Cb)({type:[$.Z],json:{write:!0}})],ce.prototype,"fields",void 0),(0,M._)([(0,B.Cb)({types:me,json:{write:!0}})],ce.prototype,"dataSource",void 0),ce=he=(0,M._)([(0,x.j)("esri.layers.support.source.DataLayerSource")],ce),ce.from=(0,Z.se)(ce)},48370:(Qe,Me,E)=>{"use strict";E.d(Me,{R:()=>x});var T,M=E(17626),O=E(86810),X=E(77712),ee=(E(85931),E(8314),E(90912)),z=E(55342),L=E(76898);let x=T=class extends O.wq{constructor(Z){super(Z),this.type="map-layer"}clone(){const{mapLayerId:Z,gdbVersion:Y}=this;return new T({mapLayerId:Z,gdbVersion:Y})}};(0,M._)([(0,z.J)({mapLayer:"map-layer"})],x.prototype,"type",void 0),(0,M._)([(0,X.Cb)({type:ee.z8,json:{write:!0}})],x.prototype,"mapLayerId",void 0),(0,M._)([(0,X.Cb)({type:String,json:{write:!0}})],x.prototype,"gdbVersion",void 0),x=T=(0,M._)([(0,L.j)("esri.layers.support.source.MapLayerSource")],x)},5676:(Qe,Me,E)=>{"use strict";E.d(Me,{D:()=>X});var M=E(38305);const O=[];function X(B,N){if((0,M.M8)(B.url))return!0;const{wkid:ee}=N;for(const z of O){if(B.version>=z[0])return!0;if("function"==typeof z[1]&&(z[1]=z[1]()),z[1].has(ee))return!1}return!0}O.push([10.91,()=>{const B=new Set([9709,9716,9741,9761,9766]);for(let N=9712;N<=9713;N++)B.add(N);for(let N=9748;N<=9749;N++)B.add(N);for(let N=20904;N<=20932;N++)B.add(N);for(let N=21004;N<=21032;N++)B.add(N);for(let N=21207;N<=21264;N++)B.add(N);for(let N=21307;N<=21364;N++)B.add(N);for(let N=102759;N<=102760;N++)B.add(N);for(let N=102901;N<=102960;N++)B.add(N);return B}]),O.push([10.9,()=>{const B=new Set([9300,9354,9364,9367,9373,9377,9387,9456,9473,9498,9678,9680,29874,103599,103872,104028]);for(let N=9356;N<=9360;N++)B.add(N);for(let N=9404;N<=9407;N++)B.add(N);for(let N=9476;N<=9482;N++)B.add(N);for(let N=9487;N<=9494;N++)B.add(N);for(let N=9697;N<=9699;N++)B.add(N);return B}]),O.push([10.81,()=>{const B=new Set([9265,9333,103598,103699]);for(let N=9248;N<=9254;N++)B.add(N);for(let N=9271;N<=9273;N++)B.add(N);for(let N=9284;N<=9285;N++)B.add(N);for(let N=21453;N<=21463;N++)B.add(N);return B}]),O.push([10.8,()=>{const B=new Set([8088,8395,8428,8433,8531,8687,8692,8694,8699,8900,9003,9006,9009,9012,9017,9191]);for(let N=8035;N<=8036;N++)B.add(N);for(let N=8455;N<=8456;N++)B.add(N);for(let N=8518;N<=8529;N++)B.add(N);for(let N=8533;N<=8536;N++)B.add(N);for(let N=8538;N<=8540;N++)B.add(N);for(let N=8677;N<=8679;N++)B.add(N);for(let N=8902;N<=8903;N++)B.add(N);for(let N=8907;N<=8910;N++)B.add(N);for(let N=8949;N<=8951;N++)B.add(N);for(let N=8972;N<=8987;N++)B.add(N);for(let N=9039;N<=9040;N++)B.add(N);for(let N=9068;N<=9069;N++)B.add(N);for(let N=9140;N<=9141;N++)B.add(N);for(let N=9148;N<=9150;N++)B.add(N);for(let N=9153;N<=9159;N++)B.add(N);for(let N=9205;N<=9218;N++)B.add(N);for(let N=9221;N<=9222;N++)B.add(N);for(let N=54098;N<=54101;N++)B.add(N);return B}]),O.push([10.71,()=>{const B=new Set([6316]);for(let N=8351;N<=8353;N++)B.add(N);for(let N=9294;N<=9297;N++)B.add(N);for(let N=103586;N<=103594;N++)B.add(N);for(let N=103696;N<=103698;N++)B.add(N);return B}]),O.push([10.7,()=>{const B=new Set([8387,8391,8427,8545,8682,8685,8818,31370,104022,104024,104975]);for(let N=8065;N<=8068;N++)B.add(N);for(let N=8082;N<=8083;N++)B.add(N);for(let N=8379;N<=8385;N++)B.add(N);for(let N=8836;N<=8840;N++)B.add(N);for(let N=8857;N<=8860;N++)B.add(N);for(let N=53035;N<=53037;N++)B.add(N);for(let N=54090;N<=54091;N++)B.add(N);for(let N=102498;N<=102499;N++)B.add(N);return B}]),O.push([10.61,()=>new Set([102497])]),O.push([10.6,()=>{const B=new Set([7803,7805,7887,8086,8232,8237,8240,8246,8249,8252,8255,9019,9391]);for(let N=7755;N<=7787;N++)B.add(N);for(let N=7791;N<=7795;N++)B.add(N);for(let N=7799;N<=7801;N++)B.add(N);for(let N=7825;N<=7831;N++)B.add(N);for(let N=7877;N<=7878;N++)B.add(N);for(let N=7882;N<=7883;N++)B.add(N);for(let N=7991;N<=7992;N++)B.add(N);for(let N=8042;N<=8043;N++)B.add(N);for(let N=8058;N<=8059;N++)B.add(N);for(let N=8311;N<=8348;N++)B.add(N);for(let N=9060;N<=9067;N++)B.add(N);for(let N=102562;N<=102568;N++)B.add(N);for(let N=102799;N<=102900;N++)B.add(N);return B}]),O.push([10.51,()=>{const B=new Set([7683,7881,7886,7899,8888,9e3]);for(let N=8013;N<=8032;N++)B.add(N);for(let N=9053;N<=9057;N++)B.add(N);for(let N=104017;N<=104018;N++)B.add(N);for(let N=104971;N<=104974;N++)B.add(N);return B}]),O.push([10.5,()=>{const B=new Set([6962,7035,7037,7039,7041,7084,7086,7133,7798,102399]);for(let N=4087;N<=4088;N++)B.add(N);for(let N=5896;N<=5899;N++)B.add(N);for(let N=7005;N<=7007;N++)B.add(N);for(let N=7057;N<=7070;N++)B.add(N);for(let N=7073;N<=7082;N++)B.add(N);for(let N=7109;N<=7128;N++)B.add(N);for(let N=7844;N<=7859;N++)B.add(N);return B}])},39605:(Qe,Me,E)=>{"use strict";E.d(Me,{W:()=>X,v:()=>B});var M=E(50645);const O={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(N,ee,z)=>{"-"===ee.charAt(0)?N.style.setProperty(ee,z):N.style[ee]=z}};let X=N=>(0,M.l7)(O,N),B={create:(N,ee)=>(ee=X(ee),(0,M.WV)(N,document.createElement("div"),void 0,ee),(0,M.UQ)(N,ee)),append:(N,ee,z)=>(z=X(z),(0,M.WV)(ee,N,void 0,z),(0,M.UQ)(ee,z)),insertBefore:(N,ee,z)=>(z=X(z),(0,M.WV)(ee,N.parentNode,N,z),(0,M.UQ)(ee,z)),merge:(N,ee,z)=>(z=X(z),ee.domNode=N,(0,M.Yj)(N,ee,z),(0,M.UQ)(ee,z)),replace:(N,ee,z)=>(z=X(z),(0,M.WV)(ee,N.parentNode,N,z),N.parentNode.removeChild(N),(0,M.UQ)(ee,z))}},50645:(Qe,Me,E)=>{"use strict";E.d(Me,{UQ:()=>fe,WV:()=>re,Yj:()=>W,l7:()=>z});var M=E(38570);const O="http://www.w3.org/",X=`${O}2000/svg`,B=`${O}1999/xlink`;let N,ee=[],z=(pe,oe)=>{let K={};return Object.keys(pe).forEach(de=>{K[de]=pe[de]}),oe&&Object.keys(oe).forEach(de=>{K[de]=oe[de]}),K},L=(pe,oe)=>pe.vnodeSelector===oe.vnodeSelector&&(pe.properties&&oe.properties?pe.properties.key===oe.properties.key&&pe.properties.bind===oe.properties.bind:!pe.properties&&!oe.properties),T=pe=>{if("string"!=typeof pe)throw new Error("Style values must be strings")},x=(pe,oe,K)=>{if(""!==oe.vnodeSelector)for(let de=K;de<pe.length;de++)if(L(pe[de],oe))return de;return-1},Z=(pe,oe,K,de)=>{let le=pe[oe];if(""===le.vnodeSelector)return;let me=le.properties;if(!(me?void 0===me.key?me.bind:me.key:void 0))for(let ce=0;ce<pe.length;ce++)if(ce!==oe&&L(pe[ce],le))throw new Error(`${K.vnodeSelector} had a ${le.vnodeSelector} child ${"added"===de?de:"removed"}, but there is now more than one. You must add unique key properties to make them distinguishable.`)},Y=pe=>{if(pe.properties){let oe=pe.properties.enterAnimation;oe&&oe(pe.domNode,pe.properties)}},$=[],se=!1,ne=pe=>{(pe.children||[]).forEach(ne),pe.properties&&pe.properties.afterRemoved&&pe.properties.afterRemoved.apply(pe.properties.bind||pe.properties,[pe.domNode])},j=()=>{se=!1,$.forEach(ne),$.length=0},I=pe=>{$.push(pe),se||(se=!0,"undefined"!=typeof window&&"requestIdleCallback"in window?window.requestIdleCallback(j,{timeout:16}):setTimeout(j,16))},w=pe=>{let oe=pe.domNode;if(pe.properties){let K=pe.properties.exitAnimation;if(K)return oe.style.pointerEvents="none",void K(oe,()=>{oe.parentNode&&(oe.parentNode.removeChild(oe),I(pe))},pe.properties)}oe.parentNode&&(oe.parentNode.removeChild(oe),I(pe))},F=(pe,oe,K)=>{if(!oe)return;let de=K.eventHandlerInterceptor,le=Object.keys(oe),me=le.length;for(let ce=0;ce<me;ce++){let ge=le[ce],J=oe[ge];if("className"===ge)throw new Error('Property "className" is not supported, use "class".');if("class"===ge)Q(pe,J,!0);else if("classes"===ge){let ie=Object.keys(J),De=ie.length;for(let _e=0;_e<De;_e++){let Ie=ie[_e];J[Ie]&&pe.classList.add(Ie)}}else if("styles"===ge){let ie=Object.keys(J),De=ie.length;for(let _e=0;_e<De;_e++){let Ie=ie[_e],xe=J[Ie];xe&&(T(xe),K.styleApplyer(pe,Ie,xe))}}else if("key"!==ge&&null!=J){let ie=typeof J;"function"===ie?(0===ge.lastIndexOf("on",0)&&(de&&(J=de(ge,J,pe,oe)),"oninput"===ge&&function(){let De=J;J=function(_e){De.apply(this,[_e]),_e.target["oninput-value"]=_e.target.value}}()),pe[ge]=J):K.namespace===X?"href"===ge?pe.setAttributeNS(B,ge,J):pe.setAttribute(ge,J):"string"===ie&&"value"!==ge?"innerHTML"===ge?pe[ge]=M.w3.sanitize(J):pe.setAttribute(ge,J):pe[ge]=J}}},W=(pe,oe,K)=>{((pe,oe,K)=>{if(oe)for(let de of oe)re(de,pe,void 0,K)})(pe,oe.children,K),oe.text&&(pe.textContent=oe.text),F(pe,oe.properties,K),oe.properties&&oe.properties.afterCreate&&oe.properties.afterCreate.apply(oe.properties.bind||oe.properties,[pe,K,oe.vnodeSelector,oe.properties,oe.children])},re=(pe,oe,K,de)=>{let le,me=0,ce=pe.vnodeSelector,ge=oe.ownerDocument;if(""===ce)le=pe.domNode=ge.createTextNode(pe.text),void 0!==K?oe.insertBefore(le,K):oe.appendChild(le);else{for(let J=0;J<=ce.length;++J){let ie=ce.charAt(J);if(J===ce.length||"."===ie||"#"===ie){let De=ce.charAt(me-1),_e=ce.slice(me,J);"."===De?le.classList.add(_e):"#"===De?le.id=_e:("svg"===_e&&(de=z(de,{namespace:X})),void 0!==de.namespace?le=pe.domNode=ge.createElementNS(de.namespace,_e):(le=pe.domNode=pe.domNode||ge.createElement(_e),"input"===_e&&pe.properties&&void 0!==pe.properties.type&&le.setAttribute("type",pe.properties.type)),void 0!==K?oe.insertBefore(le,K):le.parentNode!==oe&&oe.appendChild(le)),me=J+1}}W(le,pe,de)}},Q=(pe,oe,K)=>{oe&&oe.split(" ").forEach(de=>{de&&pe.classList.toggle(de,K)})};N=(pe,oe,K)=>{let de=pe.domNode,le=!1;if(pe===oe)return!1;let me=!1;if(""===oe.vnodeSelector){if(oe.text!==pe.text){let ce=de.ownerDocument.createTextNode(oe.text);return de.parentNode.replaceChild(ce,de),oe.domNode=ce,le=!0,le}oe.domNode=de}else 0===oe.vnodeSelector.lastIndexOf("svg",0)&&(K=z(K,{namespace:X})),pe.text!==oe.text&&(me=!0,void 0===oe.text?de.removeChild(de.firstChild):de.textContent=oe.text),oe.domNode=de,me=((pe,oe,K,de,le)=>{if(K===de)return!1;let me,ce=(K=K||ee).length,ge=(de=de||ee).length,J=0,ie=0,De=!1;for(;ie<ge;){let _e=J<ce?K[J]:void 0,Ie=de[ie];if(void 0!==_e&&L(_e,Ie))De=N(_e,Ie,le)||De,J++;else{let xe=x(K,Ie,J+1);if(xe>=0){for(me=J;me<xe;me++)w(K[me]),Z(K,me,pe,"removed");De=N(K[xe],Ie,le)||De,J=xe+1}else re(Ie,oe,J<ce?K[J].domNode:void 0,le),Y(Ie),Z(de,ie,pe,"added")}ie++}if(ce>J)for(me=J;me<ce;me++)w(K[me]),Z(K,me,pe,"removed");return De})(oe,de,pe.children,oe.children,K)||me,me=((pe,oe,K,de)=>{if(!K)return;let le=!1,me=Object.keys(K),ce=me.length;for(let ge=0;ge<ce;ge++){let J=me[ge],ie=K[J],De=oe[J];if("class"===J)De!==ie&&(Q(pe,De,!1),Q(pe,ie,!0));else if("classes"===J){let _e=pe.classList,Ie=Object.keys(ie),xe=Ie.length;for(let ke=0;ke<xe;ke++){let Ve=Ie[ke],ve=!!ie[Ve];ve!==!!De[Ve]&&(le=!0,ve?_e.add(Ve):_e.remove(Ve))}}else if("styles"===J){let _e=Object.keys(ie),Ie=_e.length;for(let xe=0;xe<Ie;xe++){let ke=_e[xe],Ve=ie[ke];Ve!==De[ke]&&(le=!0,Ve?(T(Ve),de.styleApplyer(pe,ke,Ve)):de.styleApplyer(pe,ke,""))}}else if(ie||"string"!=typeof De||(ie=""),"value"===J){let _e=pe[J];_e!==ie&&(pe["oninput-value"]?_e===pe["oninput-value"]:ie!==De)&&(pe[J]=ie,pe["oninput-value"]=void 0),ie!==De&&(le=!0)}else if(ie!==De){let _e=typeof ie;"function"===_e&&de.eventHandlerInterceptor||(de.namespace===X?"href"===J?pe.setAttributeNS(B,J,ie):pe.setAttribute(J,ie):"string"===_e?"innerHTML"===J?pe[J]=M.w3.sanitize(ie):"role"===J&&""===ie?pe.removeAttribute(J):pe.setAttribute(J,ie):pe[J]!==ie&&(pe[J]=ie),le=!0)}}return le})(de,pe.properties,oe.properties,K)||me,oe.properties&&oe.properties.afterUpdate&&oe.properties.afterUpdate.apply(oe.properties.bind||oe.properties,[de,K,oe.vnodeSelector,oe.properties,oe.children]);return me&&oe.properties&&oe.properties.updateAnimation&&oe.properties.updateAnimation(de,oe.properties,pe.properties),le};let fe=(pe,oe)=>({getLastRender:()=>pe,update:K=>{if(pe.vnodeSelector!==K.vnodeSelector)throw new Error("The selector for the root VNode may not be changed. (consider using dom.merge and add one extra level to the virtual DOM)");let de=pe;pe=K,N(de,K,oe)},domNode:pe.domNode})},62996:(Qe,Me,E)=>{"use strict";E.d(Me,{E:()=>ee});var M=E(39605);let O,X=(z,L)=>{let T=[];for(;z&&z!==L;)T.push(z),z=z.parentNode;return T};O=Array.prototype.find?(z,L)=>z.find(L):(z,L)=>z.filter(L)[0];let B=(z,L)=>{let T=z;return L.forEach(x=>{T=T&&T.children?O(T.children,Z=>Z.domNode===x):void 0}),T},N=(z,L,T)=>{let x=function(Z){T("domEvent",Z);let Y=L(),$=X(Z.currentTarget,Y.domNode);$.reverse();let se,ne=B(Y.getLastRender(),$);return z.scheduleRender(),ne&&(se=ne.properties[`on${Z.type}`].apply(ne.properties.bind||this,arguments)),T("domEventProcessed",Z),se};return(Z,Y,$,se)=>x},ee=z=>{let L,T,x=(0,M.W)(z),Z=x.performanceLogger,Y=!0,$=!1,se=[],ne=[],j=(w,F,k)=>{let W;x.eventHandlerInterceptor=N(L,()=>W,Z),W=w(F,k(),x),se.push(W),ne.push(k)},I=()=>{if(T=void 0,Y){Y=!1,Z("renderStart",void 0);for(let w=0;w<se.length;w++){let F=ne[w]();Z("rendered",void 0),se[w].update(F),Z("patched",void 0)}Z("renderDone",void 0),Y=!0}};return L={renderNow:I,scheduleRender:()=>{T||$||(T=requestAnimationFrame(I))},stop:()=>{T&&(cancelAnimationFrame(T),T=void 0),$=!0},resume:()=>{$=!1,Y=!0,L.scheduleRender()},append:(w,F)=>{j(M.v.append,w,F)},insertBefore:(w,F)=>{j(M.v.insertBefore,w,F)},merge:(w,F)=>{j(M.v.merge,w,F)},replace:(w,F)=>{j(M.v.replace,w,F)},detach:w=>{for(let F=0;F<ne.length;F++)if(ne[F]===w)return ne.splice(F,1),se.splice(F,1)[0];throw new Error("renderFunction was not found")}},L}},38159:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>x});var L,M=E(17626),O=E(86810),X=E(77712),z=(E(85931),E(8314),E(90912),E(76898));let T=L=class extends O.wq{constructor(Z){super(Z),this.title=null,this.expression=null,this.returnType="dictionary"}clone(){return new L({title:this.title,expression:this.expression})}};(0,M._)([(0,X.Cb)({type:String,json:{write:!0}})],T.prototype,"title",void 0),(0,M._)([(0,X.Cb)({type:String,json:{write:!0}})],T.prototype,"expression",void 0),(0,M._)([(0,X.Cb)({type:["dictionary"],readOnly:!0,json:{read:!1,write:!0}})],T.prototype,"returnType",void 0),T=L=(0,M._)([(0,z.j)("esri.popup.ElementExpressionInfo")],T);const x=T},38439:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>x});var L,M=E(17626),O=E(86810),X=E(77712),z=(E(85931),E(8314),E(90912),E(76898));let T=L=class extends O.wq{constructor(Z){super(Z),this.name=null,this.title=null,this.expression=null,this.returnType=null}clone(){return new L({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})}};(0,M._)([(0,X.Cb)({type:String,json:{write:!0}})],T.prototype,"name",void 0),(0,M._)([(0,X.Cb)({type:String,json:{write:!0}})],T.prototype,"title",void 0),(0,M._)([(0,X.Cb)({type:String,json:{write:!0}})],T.prototype,"expression",void 0),(0,M._)([(0,X.Cb)({type:["string","number"],json:{write:!0}})],T.prototype,"returnType",void 0),T=L=(0,M._)([(0,z.j)("esri.popup.ExpressionInfo")],T);const x=T},25621:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>Y});var x,M=E(17626),O=E(2076),X=E(86810),B=E(58817),N=E(77712),z=(E(90912),E(55342)),L=E(76898),T=E(66845);let Z=x=class extends X.wq{constructor($){super($),this.fieldName=null,this.format=null,this.isEditable=!1,this.label=null,this.stringFieldOption="text-box",this.statisticType=null,this.tooltip=null,this.visible=!0}clone(){return new x({fieldName:this.fieldName,format:this.format?(0,B.d9)(this.format):null,isEditable:this.isEditable,label:this.label,stringFieldOption:this.stringFieldOption,statisticType:this.statisticType,tooltip:this.tooltip,visible:this.visible})}};(0,M._)([(0,N.Cb)({type:String,json:{write:!0}})],Z.prototype,"fieldName",void 0),(0,M._)([(0,N.Cb)({type:T.Z,json:{write:!0}})],Z.prototype,"format",void 0),(0,M._)([(0,N.Cb)({type:Boolean,json:{write:!0,default:!1}})],Z.prototype,"isEditable",void 0),(0,M._)([(0,N.Cb)({type:String,json:{write:!0}})],Z.prototype,"label",void 0),(0,M._)([(0,z.J)(new O.X({richtext:"rich-text",textarea:"text-area",textbox:"text-box"}),{default:"text-box"})],Z.prototype,"stringFieldOption",void 0),(0,M._)([(0,N.Cb)({type:["count","sum","min","max","avg","stddev","var"],json:{write:!0}})],Z.prototype,"statisticType",void 0),(0,M._)([(0,N.Cb)({type:String,json:{write:!0}})],Z.prototype,"tooltip",void 0),(0,M._)([(0,N.Cb)({type:Boolean,json:{write:!0}})],Z.prototype,"visible",void 0),Z=x=(0,M._)([(0,L.j)("esri.popup.FieldInfo")],Z);const Y=Z},55664:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>x});var L,M=E(17626),O=E(77712),ee=(E(85931),E(8314),E(90912),E(76898)),z=E(55013);let T=L=class extends z.Z{constructor(Z){super(Z),this.description=null,this.displayType="auto",this.title=null,this.type="attachments"}clone(){return new L({description:this.description,displayType:this.displayType,title:this.title})}};(0,M._)([(0,O.Cb)({type:String,json:{write:!0}})],T.prototype,"description",void 0),(0,M._)([(0,O.Cb)({type:["auto","preview","list"],json:{write:!0}})],T.prototype,"displayType",void 0),(0,M._)([(0,O.Cb)({type:String,json:{write:!0}})],T.prototype,"title",void 0),(0,M._)([(0,O.Cb)({type:["attachments"],readOnly:!0,json:{read:!1,write:!0}})],T.prototype,"type",void 0),T=L=(0,M._)([(0,ee.j)("esri.popup.content.AttachmentsContent")],T);const x=T},89594:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>Z});var T,M=E(17626),O=E(77712),ee=(E(85931),E(8314),E(90912),E(76898)),z=E(85812),L=E(82657);let x=T=class extends z.Z{constructor(Y){super(Y),this.type="bar-chart"}clone(){return new T({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}};(0,M._)([(0,O.Cb)({type:["bar-chart"],readOnly:!0,json:{type:["barchart"],read:!1,write:L.l.write}})],x.prototype,"type",void 0),x=T=(0,M._)([(0,ee.j)("esri.popup.content.BarChartMediaInfo")],x);const Z=x},81590:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>Z});var T,M=E(17626),O=E(77712),ee=(E(85931),E(8314),E(90912),E(76898)),z=E(85812),L=E(82657);let x=T=class extends z.Z{constructor(Y){super(Y),this.type="column-chart"}clone(){return new T({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}};(0,M._)([(0,O.Cb)({type:["column-chart"],readOnly:!0,json:{type:["columnchart"],read:!1,write:L.l.write}})],x.prototype,"type",void 0),x=T=(0,M._)([(0,ee.j)("esri.popup.content.ColumnChartMediaInfo")],x);const Z=x},55013:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>T});var M=E(17626),O=E(86810),X=E(77712),z=(E(85931),E(8314),E(90912),E(76898));let L=class extends O.wq{constructor(x){super(x),this.type=null}};(0,M._)([(0,X.Cb)({type:["attachments","custom","fields","media","text","expression"],readOnly:!0,json:{read:!1,write:!0}})],L.prototype,"type",void 0),L=(0,M._)([(0,z.j)("esri.popup.content.Content")],L);const T=L},16615:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>T});var z,M=E(17626),O=E(58817),X=E(77712),N=(E(90912),E(76898)),ee=E(55013);let L=z=class extends ee.Z{constructor(x){super(x),this.creator=null,this.destroyer=null,this.outFields=null,this.type="custom"}clone(){return new z({creator:this.creator,destroyer:this.destroyer,outFields:Array.isArray(this.outFields)?(0,O.d9)(this.outFields):null})}};(0,M._)([(0,X.Cb)()],L.prototype,"creator",void 0),(0,M._)([(0,X.Cb)()],L.prototype,"destroyer",void 0),(0,M._)([(0,X.Cb)()],L.prototype,"outFields",void 0),(0,M._)([(0,X.Cb)({type:["custom"],readOnly:!0})],L.prototype,"type",void 0),L=z=(0,M._)([(0,N.j)("esri.popup.content.CustomContent")],L);const T=L},82561:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>Z});var T,M=E(17626),O=E(77712),ee=(E(85931),E(8314),E(90912),E(76898)),z=E(38159),L=E(55013);let x=T=class extends L.Z{constructor(Y){super(Y),this.expressionInfo=null,this.type="expression"}clone(){var Y;return new T({expressionInfo:null==(Y=this.expressionInfo)?void 0:Y.clone()})}};(0,M._)([(0,O.Cb)({type:z.Z,json:{write:!0}})],x.prototype,"expressionInfo",void 0),(0,M._)([(0,O.Cb)({type:["expression"],readOnly:!0,json:{read:!1,write:!0}})],x.prototype,"type",void 0),x=T=(0,M._)([(0,ee.j)("esri.popup.content.ExpressionContent")],x);const Z=x},75484:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>Z});var T,M=E(17626),O=E(58817),X=E(77712),N=(E(90912),E(76898)),ee=E(99433),z=E(25621),L=E(55013);let x=T=class extends L.Z{constructor(Y){super(Y),this.attributes=null,this.description=null,this.fieldInfos=null,this.title=null,this.type="fields"}writeFieldInfos(Y,$){$.fieldInfos=Y&&Y.map(se=>se.toJSON())}clone(){return new T((0,O.d9)({attributes:this.attributes,description:this.description,fieldInfos:this.fieldInfos,title:this.title}))}};(0,M._)([(0,X.Cb)({type:Object,json:{write:!0}})],x.prototype,"attributes",void 0),(0,M._)([(0,X.Cb)({type:String,json:{write:!0}})],x.prototype,"description",void 0),(0,M._)([(0,X.Cb)({type:[z.Z]})],x.prototype,"fieldInfos",void 0),(0,M._)([(0,ee.c)("fieldInfos")],x.prototype,"writeFieldInfos",null),(0,M._)([(0,X.Cb)({type:String,json:{write:!0}})],x.prototype,"title",void 0),(0,M._)([(0,X.Cb)({type:["fields"],readOnly:!0,json:{read:!1,write:!0}})],x.prototype,"type",void 0),x=T=(0,M._)([(0,N.j)("esri.popup.content.FieldsContent")],x);const Z=x},49455:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>se});var T,M=E(17626),O=E(77712),ee=(E(85931),E(8314),E(90912),E(76898)),z=E(78297),L=E(86810);let x=T=class extends L.wq{constructor(ne){super(ne),this.linkURL=null,this.sourceURL=null}clone(){return new T({linkURL:this.linkURL,sourceURL:this.sourceURL})}};(0,M._)([(0,O.Cb)({type:String,json:{write:!0}})],x.prototype,"linkURL",void 0),(0,M._)([(0,O.Cb)({type:String,json:{write:!0}})],x.prototype,"sourceURL",void 0),x=T=(0,M._)([(0,ee.j)("esri.popup.content.support.ImageMediaInfoValue")],x);const Z=x;var Y;let $=Y=class extends z.Z{constructor(ne){super(ne),this.refreshInterval=null,this.type="image",this.value=null}clone(){return new Y({altText:this.altText,title:this.title,caption:this.caption,refreshInterval:this.refreshInterval,value:this.value?this.value.clone():null})}};(0,M._)([(0,O.Cb)({type:Number,json:{write:!0}})],$.prototype,"refreshInterval",void 0),(0,M._)([(0,O.Cb)({type:["image"],readOnly:!0,json:{read:!1,write:!0}})],$.prototype,"type",void 0),(0,M._)([(0,O.Cb)({type:Z,json:{write:!0}})],$.prototype,"value",void 0),$=Y=(0,M._)([(0,ee.j)("esri.popup.content.ImageMediaInfo")],$);const se=$},71981:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>Z});var T,M=E(17626),O=E(77712),ee=(E(85931),E(8314),E(90912),E(76898)),z=E(85812),L=E(82657);let x=T=class extends z.Z{constructor(Y){super(Y),this.type="line-chart"}clone(){return new T({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}};(0,M._)([(0,O.Cb)({type:["line-chart"],readOnly:!0,json:{type:["linechart"],read:!1,write:L.l.write}})],x.prototype,"type",void 0),x=T=(0,M._)([(0,ee.j)("esri.popup.content.LineChartMediaInfo")],x);const Z=x},64531:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>I});var ne,M=E(17626),O=E(58817),X=E(77712),N=(E(90912),E(68653)),ee=E(76898),z=E(99433),L=E(89594),T=E(81590),x=E(55013),Z=E(49455),Y=E(71981),$=E(52023),se=E(65560);let j=ne=class extends x.Z{constructor(w){super(w),this.activeMediaInfoIndex=null,this.attributes=null,this.description=null,this.mediaInfos=null,this.title=null,this.type="media"}readMediaInfos(w){return w&&w.map(F=>"image"===F.type?Z.Z.fromJSON(F):"barchart"===F.type?L.Z.fromJSON(F):"columnchart"===F.type?T.Z.fromJSON(F):"linechart"===F.type?Y.Z.fromJSON(F):"piechart"===F.type?$.Z.fromJSON(F):void 0).filter(Boolean)}writeMediaInfos(w,F){F.mediaInfos=w&&w.map(k=>k.toJSON())}clone(){return new ne((0,O.d9)({activeMediaInfoIndex:this.activeMediaInfoIndex,attributes:this.attributes,description:this.description,mediaInfos:this.mediaInfos,title:this.title}))}};(0,M._)([(0,X.Cb)()],j.prototype,"activeMediaInfoIndex",void 0),(0,M._)([(0,X.Cb)({type:Object,json:{write:!0}})],j.prototype,"attributes",void 0),(0,M._)([(0,X.Cb)({type:String,json:{write:!0}})],j.prototype,"description",void 0),(0,M._)([(0,X.Cb)({types:[se.V]})],j.prototype,"mediaInfos",void 0),(0,M._)([(0,N.r)("mediaInfos")],j.prototype,"readMediaInfos",null),(0,M._)([(0,z.c)("mediaInfos")],j.prototype,"writeMediaInfos",null),(0,M._)([(0,X.Cb)({type:String,json:{write:!0}})],j.prototype,"title",void 0),(0,M._)([(0,X.Cb)({type:["media"],readOnly:!0,json:{read:!1,write:!0}})],j.prototype,"type",void 0),j=ne=(0,M._)([(0,ee.j)("esri.popup.content.MediaContent")],j);const I=j},52023:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>Z});var T,M=E(17626),O=E(77712),ee=(E(85931),E(8314),E(90912),E(76898)),z=E(85812),L=E(82657);let x=T=class extends z.Z{constructor(Y){super(Y),this.type="pie-chart"}clone(){return new T({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}};(0,M._)([(0,O.Cb)({type:["pie-chart"],readOnly:!0,json:{type:["piechart"],read:!1,write:L.l.write}})],x.prototype,"type",void 0),x=T=(0,M._)([(0,ee.j)("esri.popup.content.PieChartMediaInfo")],x);const Z=x},501:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>x});var L,M=E(17626),O=E(77712),ee=(E(85931),E(8314),E(90912),E(76898)),z=E(55013);let T=L=class extends z.Z{constructor(Z){super(Z),this.text=null,this.type="text"}clone(){return new L({text:this.text})}};(0,M._)([(0,O.Cb)({type:String,json:{write:!0}})],T.prototype,"text",void 0),(0,M._)([(0,O.Cb)({type:["text"],readOnly:!0,json:{read:!1,write:!0}})],T.prototype,"type",void 0),T=L=(0,M._)([(0,ee.j)("esri.popup.content.TextContent")],T);const x=T},85812:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>ne});var Z,M=E(17626),O=E(77712),ee=(E(85931),E(8314),E(90912),E(76898)),z=E(78297),L=E(86810),T=E(58817),x=E(77891);let Y=Z=class extends L.wq{constructor(j){super(j),this.fields=[],this.normalizeField=null,this.series=[],this.tooltipField=null}clone(){return new Z({fields:(0,T.d9)(this.fields),normalizeField:this.normalizeField,tooltipField:this.tooltipField})}};(0,M._)([(0,O.Cb)({type:[String],json:{write:!0}})],Y.prototype,"fields",void 0),(0,M._)([(0,O.Cb)({type:String,json:{write:!0}})],Y.prototype,"normalizeField",void 0),(0,M._)([(0,O.Cb)({type:[x.Z],json:{read:!1}})],Y.prototype,"series",void 0),(0,M._)([(0,O.Cb)({type:String,json:{write:!0}})],Y.prototype,"tooltipField",void 0),Y=Z=(0,M._)([(0,ee.j)("esri.popup.content.support.ChartMediaInfoValue")],Y);const $=Y;let se=class extends z.Z{constructor(j){super(j),this.type=null,this.value=null}};(0,M._)([(0,O.Cb)({type:["bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],se.prototype,"type",void 0),(0,M._)([(0,O.Cb)({type:$,json:{write:!0}})],se.prototype,"value",void 0),se=(0,M._)([(0,ee.j)("esri.popup.content.mixins.ChartMediaInfo")],se);const ne=se},78297:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>T});var M=E(17626),O=E(86810),X=E(77712),z=(E(85931),E(8314),E(90912),E(76898));let L=class extends O.wq{constructor(x){super(x),this.altText=null,this.caption="",this.title="",this.type=null}};(0,M._)([(0,X.Cb)({type:String,json:{write:!0}})],L.prototype,"altText",void 0),(0,M._)([(0,X.Cb)({type:String,json:{write:!0}})],L.prototype,"caption",void 0),(0,M._)([(0,X.Cb)({type:String,json:{write:!0}})],L.prototype,"title",void 0),(0,M._)([(0,X.Cb)({type:["image","bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],L.prototype,"type",void 0),L=(0,M._)([(0,z.j)("esri.popup.content.mixins.MediaInfo")],L);const T=L},77891:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>x});var L,M=E(17626),O=E(14517),X=E(77712),z=(E(85931),E(8314),E(90912),E(76898));let T=L=class extends O.Z{constructor(Z){super(Z),this.tooltip=null,this.value=null}clone(){return new L({tooltip:this.tooltip,value:this.value})}};(0,M._)([(0,X.Cb)()],T.prototype,"tooltip",void 0),(0,M._)([(0,X.Cb)()],T.prototype,"value",void 0),T=L=(0,M._)([(0,z.j)("esri.popup.content.support.ChartMediaInfoValueSeries")],T);const x=T},82657:(Qe,Me,E)=>{"use strict";E.d(Me,{l:()=>O});const O=(0,E(2076).w)()({barchart:"bar-chart",columnchart:"column-chart",linechart:"line-chart",piechart:"pie-chart"})},65560:(Qe,Me,E)=>{"use strict";E.d(Me,{V:()=>z});var M=E(89594),O=E(81590),X=E(49455),B=E(71981),N=E(52023);const z={base:E(78297).Z,key:"type",defaultKeyValue:"image",typeMap:{"bar-chart":M.Z,"column-chart":O.Z,"line-chart":B.Z,"pie-chart":N.Z,image:X.Z}}},66845:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>F});var M=E(17626);const B=(0,E(2076).w)()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"});B.toJSON.bind(B),B.fromJSON.bind(B);var I,L=E(86810),T=E(77712),Y=(E(85931),E(8314),E(90912)),$=E(55342),se=E(76898),ne=E(88411),j=E(15348);let w=I=class extends L.wq{constructor(k){super(k),this.dateFormat=null,this.dateTimeFormatOptions=null,this.digitSeparator=!1,this.places=null}clone(){return new I({dateFormat:this.dateFormat,digitSeparator:this.digitSeparator,places:this.places})}format(k){return this.dateFormat?(0,ne.p6)(k,Ct(Ct({},(0,ne.Ze)(this.dateFormat)),this.dateTimeFormatOptions)):(0,j.uf)(k,(0,j.sh)(this))}};(0,M._)([(0,$.J)(B)],w.prototype,"dateFormat",void 0),(0,M._)([(0,T.Cb)({type:Object,json:{read:!1}})],w.prototype,"dateTimeFormatOptions",void 0),(0,M._)([(0,T.Cb)({type:Boolean,json:{write:!0}})],w.prototype,"digitSeparator",void 0),(0,M._)([(0,T.Cb)({type:Y.z8,json:{write:!0}})],w.prototype,"places",void 0),w=I=(0,M._)([(0,se.j)("esri.popup.support.FieldInfoFormat")],w);const F=w},51686:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>x});var L,M=E(17626),O=E(86810),X=E(77712),z=(E(85931),E(8314),E(90912),E(76898));let T=L=class extends O.wq{constructor(Z){super(Z),this.field=null,this.order=null}clone(){return new L({field:this.field,order:this.order})}};(0,M._)([(0,X.Cb)({type:String,json:{write:!0}})],T.prototype,"field",void 0),(0,M._)([(0,X.Cb)({type:["asc","desc"],json:{write:!0}})],T.prototype,"order",void 0),T=L=(0,M._)([(0,z.j)("esri.popup.support.RelatedRecordsInfoFieldOrder")],T);const x=T},84687:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>le});var M=E(15861),O=E(17626),X=E(59318),B=E(24263),N=E(84792),ee=E(55538),z=E(26584),L=E(86810),T=E(47996),x=E(63290),Z=E(62208),Y=E(10699),$=E(77712),j=(E(85931),E(8314),E(90912)),I=E(68653),w=E(76898),F=E(2004),k=E(56683),W=E(6278),re=E(14517);let Q=class extends re.Z{constructor(me){super(me),this.nextQueryParams=null,this.queryParams=null,this.results=null,this.total=null}};(0,O._)([(0,$.Cb)()],Q.prototype,"nextQueryParams",void 0),(0,O._)([(0,$.Cb)()],Q.prototype,"queryParams",void 0),(0,O._)([(0,$.Cb)()],Q.prototype,"results",void 0),(0,O._)([(0,$.Cb)()],Q.prototype,"total",void 0),Q=(0,O._)([(0,w.j)("esri.portal.PortalQueryResult")],Q);const ue=Q;var pe,he=E(94508),fe=E(12680);let oe;const K={PortalGroup:()=>Promise.resolve().then(E.bind(E,96245)),PortalItem:()=>Promise.resolve().then(E.bind(E,55463)),PortalUser:()=>Promise.resolve().then(E.bind(E,94508))};let de=pe=class extends((0,L.eC)(T.Z)){constructor(me){super(me),this.access=null,this.allSSL=!1,this.authMode="auto",this.authorizedCrossOriginDomains=null,this.basemapGalleryGroupQuery=null,this.bingKey=null,this.canListApps=!1,this.canListData=!1,this.canListPreProvisionedItems=!1,this.canProvisionDirectPurchase=!1,this.canSearchPublic=!0,this.canShareBingPublic=!1,this.canSharePublic=!1,this.canSignInArcGIS=!1,this.canSignInIDP=!1,this.colorSetsGroupQuery=null,this.commentsEnabled=!1,this.created=null,this.culture=null,this.customBaseUrl=null,this.defaultBasemap=null,this.defaultDevBasemap=null,this.defaultExtent=null,this.defaultVectorBasemap=null,this.description=null,this.devBasemapGalleryGroupQuery=null,this.eueiEnabled=null,this.featuredGroups=null,this.featuredItemsGroupQuery=null,this.galleryTemplatesGroupQuery=null,this.livingAtlasGroupQuery=null,this.hasCategorySchema=!1,this.helperServices=null,this.homePageFeaturedContent=null,this.homePageFeaturedContentCount=null,this.httpPort=null,this.httpsPort=null,this.id=null,this.ipCntryCode=null,this.isPortal=!1,this.isReadOnly=!1,this.layerTemplatesGroupQuery=null,this.maxTokenExpirationMinutes=null,this.modified=null,this.name=null,this.portalHostname=null,this.portalMode=null,this.portalProperties=null,this.region=null,this.rotatorPanels=null,this.showHomePageDescription=!1,this.sourceJSON=null,this.supportsHostedServices=!1,this.symbolSetsGroupQuery=null,this.templatesGroupQuery=null,this.units=null,this.url=X.Z.portalUrl,this.urlKey=null,this.user=null,this.useStandardizedQuery=!1,this.useVectorBasemaps=!1,this.vectorBasemapGalleryGroupQuery=null}normalizeCtorArgs(me){return"string"==typeof me?{url:me}:me}destroy(){this._esriId_credentialCreateHandle&&(this._esriId_credentialCreateHandle.remove(),this._esriId_credentialCreateHandle=null)}readAuthorizedCrossOriginDomains(me){if(me)for(const ce of me)-1===X.Z.request.trustedServers.indexOf(ce)&&X.Z.request.trustedServers.push(ce);return me}readDefaultBasemap(me){return this._readBasemap(me)}readDefaultDevBasemap(me){return this._readBasemap(me)}readDefaultVectorBasemap(me){return this._readBasemap(me)}get extraQuery(){return this.id&&this.user&&this.user.orgId&&!this.canSearchPublic?` AND orgid:${this.id}`:null}get isOrganization(){return!!this.access}get restUrl(){let me=this.url;if(me){const ce=me.indexOf("/sharing");me=ce>0?me.substring(0,ce):this.url.replace(/\/+$/,""),me+="/sharing/rest"}return me}get stylesGroupQuery(){return(0,ee.Mr)(x.Z.getLogger(this.declaredClass),"stylesGroupQuery",{replacement:"stylesGroupQuery3d",version:"4.21"}),this.stylesGroupQuery3d}get thumbnailUrl(){const me=this.restUrl,ce=this.thumbnail;return me&&ce?this._normalizeSSL(me+"/portals/self/resources/"+ce):null}readUrlKey(me){return me&&me.toLowerCase()}readUser(me){let ce=null;return me&&(ce=he.default.fromJSON(me),ce.portal=this),ce}load(me){const ce=Promise.resolve().then(E.bind(E,73386)).then(({default:ge})=>{(0,Y.k_)(me),oe=ge}).then(()=>this.sourceJSON?this.sourceJSON:this._fetchSelf(this.authMode,!1,me)).then(ge=>{if(B.id){const J=B.id;this.credential=J.findCredential(this.restUrl),this.credential||this.authMode!==pe.AUTH_MODE_AUTO||(this._esriId_credentialCreateHandle=J.on("credential-create",()=>{J.findCredential(this.restUrl)&&this._signIn()}))}this.sourceJSON=ge,this.read(ge)});return this.addResolvingPromise(ce),Promise.resolve(this)}createClosestFacilityTask(){var me=this;return(0,M.Z)(function*(){(0,ee.XV)(x.Z.getLogger(me.declaredClass),null,{replacement:"Use helperServices url with esri/rest/closestFacility",version:"4.21"}),yield me.load();const ce=me._getHelperServiceUrl("closestFacility");return new((yield Promise.all([E.e(308),E.e(6359)]).then(E.bind(E,36359))).default)(ce)})()}createElevationLayers(){var me=this;return(0,M.Z)(function*(){yield me.load();const ce=me._getHelperService("defaultElevationLayers"),ge=(yield Promise.all([E.e(8592),E.e(5227)]).then(E.bind(E,25227))).default;return ce?ce.map(J=>new ge({id:J.id,url:J.url})):[]})()}createGeometryService(){var me=this;return(0,M.Z)(function*(){(0,ee.XV)(x.Z.getLogger(me.declaredClass),null,{replacement:"Use helperServices url with esri/rest/geometryService",version:"4.21"}),yield me.load();const ce=me._getHelperServiceUrl("geometry");return new((yield E.e(9075).then(E.bind(E,69075))).default)({url:ce})})()}createPrintTask(){var me=this;return(0,M.Z)(function*(){(0,ee.XV)(x.Z.getLogger(me.declaredClass),null,{replacement:"Use helperServices url with esri/rest/print",version:"4.21"}),yield me.load();const ce=me._getHelperServiceUrl("printTask");return new((yield E.e(3436).then(E.bind(E,33436))).default)(ce)})()}createRouteTask(){var me=this;return(0,M.Z)(function*(){(0,ee.XV)(x.Z.getLogger(me.declaredClass),null,{replacement:"Use helperServices url with esri/rest/route",version:"4.21"}),yield me.load();const ce=me._getHelperServiceUrl("route");return new((yield Promise.all([E.e(308),E.e(8592),E.e(9387)]).then(E.bind(E,19387))).default)(ce)})()}createServiceAreaTask(){var me=this;return(0,M.Z)(function*(){(0,ee.XV)(x.Z.getLogger(me.declaredClass),null,{replacement:"Use helperServices url with esri/rest/serviceArea",version:"4.21"}),yield me.load();const ce=me._getHelperServiceUrl("serviceArea");return new((yield E.e(5349).then(E.bind(E,65349))).default)(ce)})()}fetchBasemaps(me,ce){const ge=new W.Z;return ge.query=me||(X.Z.apiKey&&(0,fe.r)(this.url)?this.devBasemapGalleryGroupQuery:this.useVectorBasemaps?this.vectorBasemapGalleryGroupQuery:this.basemapGalleryGroupQuery),ge.disableExtraQuery=!0,this.queryGroups(ge,ce).then(J=>{if(ge.num=100,ge.query='type:"Web Map" -type:"Web Application"',J.total){const ie=J.results[0];return ge.sortField=ie.sortField||"name",ge.sortOrder=ie.sortOrder||"desc",ie.queryItems(ge,ce)}return null}).then(J=>{let ie;return ie=J&&J.total?J.results.filter(De=>"Web Map"===De.type).map(De=>new oe({portalItem:De})):[],ie})}fetchCategorySchema(me){return this.hasCategorySchema?this._request(this.restUrl+"/portals/self/categorySchema",me).then(ce=>ce.categorySchema):(0,Y.Hc)(me)?Promise.reject((0,Y.zE)()):Promise.resolve([])}fetchFeaturedGroups(me){const ce=this.featuredGroups,ge=new W.Z;if(ge.num=100,ge.sortField="title",ce&&ce.length){const J=[];for(const ie of ce)J.push(`(title:"${ie.title}" AND owner:${ie.owner})`);return ge.query=J.join(" OR "),this.queryGroups(ge,me).then(ie=>ie.results)}return(0,Y.Hc)(me)?Promise.reject((0,Y.zE)()):Promise.resolve([])}fetchRegions(me){var ce;const ge=(null==(ce=this.user)?void 0:ce.culture)||this.culture||(0,k.Kd)();return this._request(this.restUrl+"/portals/regions",Bn(Ct({},me),{query:{culture:ge}}))}fetchSettings(me){var ce;const ge=(null==(ce=this.user)?void 0:ce.culture)||this.culture||(0,k.Kd)();return this._request(this.restUrl+"/portals/self/settings",Bn(Ct({},me),{query:{culture:ge}}))}static getDefault(){return pe._default&&!pe._default.destroyed||(pe._default=new pe),pe._default}queryGroups(me,ce){return this._queryPortal("/community/groups",me,"PortalGroup",ce)}queryItems(me,ce){return this._queryPortal("/search",me,"PortalItem",ce)}queryUsers(me,ce){return me.sortField||(me.sortField="username"),this._queryPortal("/community/users",me,"PortalUser",ce)}toJSON(){throw new z.Z("internal:not-yet-implemented","Portal.toJSON is not yet implemented")}static fromJSON(me){if(!me)return null;if(me.declaredClass)throw new Error("JSON object is already hydrated");return new pe({sourceJSON:me})}_getHelperService(me){const ce=this.helperServices&&this.helperServices[me];if(!ce)throw new z.Z("portal:service-not-found",`The \`helperServices\` do not include an entry named "${me}"`);return ce}_getHelperServiceUrl(me){const ce=this._getHelperService(me);if(!ce.url)throw new z.Z("portal:service-url-not-found",`The \`helperServices\` entry "${me}" does not include a \`url\` value`);return ce.url}_fetchSelf(me=this.authMode,ce=!1,ge){const J=this.restUrl+"/portals/self",ie=Ct({authMode:me,query:{culture:(0,k.Kd)().toLowerCase()}},ge);return"auto"===ie.authMode&&(ie.authMode="no-prompt"),ce&&(ie.query.default=!0),this._request(J,ie)}_queryPortal(me,ce,ge,J){const ie=(0,j.se)(W.Z,ce),De=_e=>this._request(this.restUrl+me,Ct(Ct({},ie.toRequestOptions(this)),J)).then(Ie=>{const xe=ie.clone();return xe.start=Ie.nextStart,new ue({nextQueryParams:xe,queryParams:ie,total:Ie.total,results:pe._resultsToTypedArray(_e,{portal:this},Ie,J)})}).then(Ie=>Promise.all(Ie.results.map(xe=>"function"==typeof xe.when?xe.when():Ie)).then(()=>Ie,xe=>((0,Y.r9)(xe),Ie)));return ge&&K[ge]?K[ge]().then(({default:_e})=>((0,Y.k_)(J),De(_e))):De()}_signIn(){if(this.authMode===pe.AUTH_MODE_ANONYMOUS)return Promise.reject(new z.Z("portal:invalid-auth-mode",`Current "authMode"' is "${this.authMode}"`));if("failed"===this.loadStatus)return Promise.reject(this.loadError);const me=ce=>Promise.resolve().then(()=>"not-loaded"===this.loadStatus?(ce||(this.authMode="immediate"),this.load().then(()=>null)):"loading"===this.loadStatus?this.load().then(()=>this.credential?null:(this.credential=ce,this._fetchSelf("immediate"))):this.user&&this.credential===ce?null:(this.credential=ce,this._fetchSelf("immediate"))).then(ge=>{ge&&(this.sourceJSON=ge,this.read(ge))});return B.id?B.id.getCredential(this.restUrl).then(ce=>me(ce)):me(this.credential)}_normalizeSSL(me){return me.replace(/^http:/i,"https:").replace(":7080",":7443")}_normalizeUrl(me){const ce=this.credential&&this.credential.token;return this._normalizeSSL(ce?me+(me.indexOf("?")>-1?"&":"?")+"token="+ce:me)}_requestToTypedArray(me,ce,ge){return this._request(me,ce).then(J=>{const ie=pe._resultsToTypedArray(ge,{portal:this},J);return Promise.all(ie.map(De=>"function"==typeof De.when?De.when():J)).then(()=>ie,()=>ie)})}_readBasemap(me){if(me){const ce=oe.fromJSON(me);return ce.portalItem={portal:this},ce}return null}_request(me,ce={}){const ge=Ct({f:"json"},ce.query),{authMode:J=(this.authMode===pe.AUTH_MODE_ANONYMOUS?"anonymous":"auto"),body:ie=null,cacheBust:De=!1,method:_e="auto",responseType:Ie="json",signal:xe}=ce,ke={authMode:J,body:ie,cacheBust:De,method:_e,query:ge,responseType:Ie,timeout:0,signal:xe};return(0,N.default)(this._normalizeSSL(me),ke).then(Ve=>Ve.data)}static _resultsToTypedArray(me,ce,ge,J){let ie;if(ge){const De=(0,Z.pC)(J)?J.signal:null;ie=ge.listings||ge.notifications||ge.userInvitations||ge.tags||ge.items||ge.groups||ge.comments||ge.provisions||ge.results||ge.relatedItems||ge,(me||ce)&&(ie=ie.map(_e=>{const Ie=Object.assign(me?me.fromJSON(_e):_e,ce);return"function"==typeof Ie.load&&Ie.load(De),Ie}))}else ie=[];return ie}};de.AUTH_MODE_ANONYMOUS="anonymous",de.AUTH_MODE_AUTO="auto",de.AUTH_MODE_IMMEDIATE="immediate",(0,O._)([(0,$.Cb)()],de.prototype,"access",void 0),(0,O._)([(0,$.Cb)()],de.prototype,"allSSL",void 0),(0,O._)([(0,$.Cb)()],de.prototype,"authMode",void 0),(0,O._)([(0,$.Cb)()],de.prototype,"authorizedCrossOriginDomains",void 0),(0,O._)([(0,I.r)("authorizedCrossOriginDomains")],de.prototype,"readAuthorizedCrossOriginDomains",null),(0,O._)([(0,$.Cb)()],de.prototype,"basemapGalleryGroupQuery",void 0),(0,O._)([(0,$.Cb)()],de.prototype,"bingKey",void 0),(0,O._)([(0,$.Cb)()],de.prototype,"canListApps",void 0),(0,O._)([(0,$.Cb)()],de.prototype,"canListData",void 0),(0,O._)([(0,$.Cb)()],de.prototype,"canListPreProvisionedItems",void 0),(0,O._)([(0,$.Cb)()],de.prototype,"canProvisionDirectPurchase",void 0),(0,O._)([(0,$.Cb)()],de.prototype,"canSearchPublic",void 0),(0,O._)([(0,$.Cb)()],de.prototype,"canShareBingPublic",void 0),(0,O._)([(0,$.Cb)()],de.prototype,"canSharePublic",void 0),(0,O._)([(0,$.Cb)()],de.prototype,"canSignInArcGIS",void 0),(0,O._)([(0,$.Cb)()],de.prototype,"canSignInIDP",void 0),(0,O._)([(0,$.Cb)()],de.prototype,"colorSetsGroupQuery",void 0),(0,O._)([(0,$.Cb)()],de.prototype,"commentsEnabled",void 0),(0,O._)([(0,$.Cb)({type:Date})],de.prototype,"created",void 0),(0,O._)([(0,$.Cb)()],de.prototype,"credential",void 0),(0,O._)([(0,$.Cb)()],de.prototype,"culture",void 0),(0,O._)([(0,$.Cb)()],de.prototype,"currentVersion",void 0),(0,O._)([(0,$.Cb)()],de.prototype,"customBaseUrl",void 0),(0,O._)([(0,$.Cb)()],de.prototype,"defaultBasemap",void 0),(0,O._)([(0,I.r)("defaultBasemap")],de.prototype,"readDefaultBasemap",null),(0,O._)([(0,$.Cb)()],de.prototype,"defaultDevBasemap",void 0),(0,O._)([(0,I.r)("defaultDevBasemap")],de.prototype,"readDefaultDevBasemap",null),(0,O._)([(0,$.Cb)({type:F.Z})],de.prototype,"defaultExtent",void 0),(0,O._)([(0,$.Cb)()],de.prototype,"defaultVectorBasemap",void 0),(0,O._)([(0,I.r)("defaultVectorBasemap")],de.prototype,"readDefaultVectorBasemap",null),(0,O._)([(0,$.Cb)()],de.prototype,"description",void 0),(0,O._)([(0,$.Cb)()],de.prototype,"devBasemapGalleryGroupQuery",void 0),(0,O._)([(0,$.Cb)()],de.prototype,"eueiEnabled",void 0),(0,O._)([(0,$.Cb)({readOnly:!0})],de.prototype,"extraQuery",null),(0,O._)([(0,$.Cb)()],de.prototype,"featuredGroups",void 0),(0,O._)([(0,$.Cb)()],de.prototype,"featuredItemsGroupQuery",void 0),(0,O._)([(0,$.Cb)()],de.prototype,"galleryTemplatesGroupQuery",void 0),(0,O._)([(0,$.Cb)()],de.prototype,"livingAtlasGroupQuery",void 0),(0,O._)([(0,$.Cb)()],de.prototype,"hasCategorySchema",void 0),(0,O._)([(0,$.Cb)()],de.prototype,"helpBase",void 0),(0,O._)([(0,$.Cb)()],de.prototype,"helperServices",void 0),(0,O._)([(0,$.Cb)()],de.prototype,"helpMap",void 0),(0,O._)([(0,$.Cb)()],de.prototype,"homePageFeaturedContent",void 0),(0,O._)([(0,$.Cb)()],de.prototype,"homePageFeaturedContentCount",void 0),(0,O._)([(0,$.Cb)()],de.prototype,"httpPort",void 0),(0,O._)([(0,$.Cb)()],de.prototype,"httpsPort",void 0),(0,O._)([(0,$.Cb)()],de.prototype,"id",void 0),(0,O._)([(0,$.Cb)()],de.prototype,"ipCntryCode",void 0),(0,O._)([(0,$.Cb)({readOnly:!0})],de.prototype,"isOrganization",null),(0,O._)([(0,$.Cb)()],de.prototype,"isPortal",void 0),(0,O._)([(0,$.Cb)()],de.prototype,"isReadOnly",void 0),(0,O._)([(0,$.Cb)()],de.prototype,"layerTemplatesGroupQuery",void 0),(0,O._)([(0,$.Cb)()],de.prototype,"maxTokenExpirationMinutes",void 0),(0,O._)([(0,$.Cb)({type:Date})],de.prototype,"modified",void 0),(0,O._)([(0,$.Cb)()],de.prototype,"name",void 0),(0,O._)([(0,$.Cb)()],de.prototype,"portalHostname",void 0),(0,O._)([(0,$.Cb)()],de.prototype,"portalMode",void 0),(0,O._)([(0,$.Cb)()],de.prototype,"portalProperties",void 0),(0,O._)([(0,$.Cb)()],de.prototype,"region",void 0),(0,O._)([(0,$.Cb)({readOnly:!0})],de.prototype,"restUrl",null),(0,O._)([(0,$.Cb)()],de.prototype,"rotatorPanels",void 0),(0,O._)([(0,$.Cb)()],de.prototype,"showHomePageDescription",void 0),(0,O._)([(0,$.Cb)()],de.prototype,"sourceJSON",void 0),(0,O._)([(0,$.Cb)()],de.prototype,"staticImagesUrl",void 0),(0,O._)([(0,$.Cb)({readOnly:!0,json:{read:!1}})],de.prototype,"stylesGroupQuery",null),(0,O._)([(0,$.Cb)({json:{name:"2DStylesGroupQuery"}})],de.prototype,"stylesGroupQuery2d",void 0),(0,O._)([(0,$.Cb)({json:{name:"stylesGroupQuery"}})],de.prototype,"stylesGroupQuery3d",void 0),(0,O._)([(0,$.Cb)()],de.prototype,"supportsHostedServices",void 0),(0,O._)([(0,$.Cb)()],de.prototype,"symbolSetsGroupQuery",void 0),(0,O._)([(0,$.Cb)()],de.prototype,"templatesGroupQuery",void 0),(0,O._)([(0,$.Cb)()],de.prototype,"thumbnail",void 0),(0,O._)([(0,$.Cb)({readOnly:!0})],de.prototype,"thumbnailUrl",null),(0,O._)([(0,$.Cb)()],de.prototype,"units",void 0),(0,O._)([(0,$.Cb)()],de.prototype,"url",void 0),(0,O._)([(0,$.Cb)()],de.prototype,"urlKey",void 0),(0,O._)([(0,I.r)("urlKey")],de.prototype,"readUrlKey",null),(0,O._)([(0,$.Cb)()],de.prototype,"user",void 0),(0,O._)([(0,I.r)("user")],de.prototype,"readUser",null),(0,O._)([(0,$.Cb)()],de.prototype,"useStandardizedQuery",void 0),(0,O._)([(0,$.Cb)()],de.prototype,"useVectorBasemaps",void 0),(0,O._)([(0,$.Cb)()],de.prototype,"vectorBasemapGalleryGroupQuery",void 0),de=pe=(0,O._)([(0,w.j)("esri.portal.Portal")],de);const le=de},96245:(Qe,Me,E)=>{"use strict";E.r(Me),E.d(Me,{default:()=>Z});var M=E(17626),O=E(26584),X=E(86810),B=E(77712),z=(E(85931),E(8314),E(90912)),L=E(76898),T=E(6278);let x=class extends X.wq{constructor(Y){super(Y),this.access=null,this.created=null,this.description=null,this.id=null,this.isInvitationOnly=!1,this.modified=null,this.owner=null,this.portal=null,this.snippet=null,this.sortField=null,this.sortOrder=null,this.tags=null,this.title=null}get thumbnailUrl(){const Y=this.url,$=this.thumbnail;return Y&&$?this.portal._normalizeUrl(`${Y}/info/${$}?f=json`):null}get url(){const Y=this.get("portal.restUrl");return Y?Y+"/community/groups/"+this.id:null}fetchCategorySchema(Y){return this.portal._request(this.url+"/categorySchema",Y).then($=>{const se=$.categorySchema||[];return se.some(ne=>"contentCategorySetsGroupQuery.LivingAtlas"===ne.source)?this._fetchCategorySchemaSet("LivingAtlas",Y):se})}fetchMembers(Y){return this.portal._request(this.url+"/users",Y)}getThumbnailUrl(Y){let $=this.thumbnailUrl;return $&&Y&&($+=`&w=${Y}`),$}toJSON(){throw new O.Z("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented")}queryItems(Y,$){let se=(0,z.se)(T.Z,Y);return parseFloat(this.portal.currentVersion)>5?(se=se||new T.Z,this.portal._queryPortal(`/content/groups/${this.id}/search`,se,"PortalItem",$)):(se=se?se.clone():new T.Z,se.query="group:"+this.id+(se.query?" "+se.query:""),this.portal.queryItems(se,$))}_fetchCategorySchemaSet(Y,$){return this.portal._fetchSelf(this.portal.authMode,!0,$).then(se=>{const ne=se.contentCategorySetsGroupQuery;if(ne){const j=new T.Z;return j.disableExtraQuery=!0,j.num=1,j.query=ne,this.portal.queryGroups(j,$)}throw new O.Z("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery value not found")}).then(se=>{if(se.total){const ne=se.results[0],j=new T.Z;return j.num=1,j.query=`typekeywords:"${Y}"`,ne.queryItems(j,$)}throw new O.Z("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery group not found")}).then(se=>se.total?se.results[0].fetchData("json",$).then(ne=>{const j=ne&&ne.categorySchema;return j&&j.length?j:[]}):[])}};(0,M._)([(0,B.Cb)()],x.prototype,"access",void 0),(0,M._)([(0,B.Cb)({type:Date})],x.prototype,"created",void 0),(0,M._)([(0,B.Cb)()],x.prototype,"description",void 0),(0,M._)([(0,B.Cb)()],x.prototype,"id",void 0),(0,M._)([(0,B.Cb)()],x.prototype,"isInvitationOnly",void 0),(0,M._)([(0,B.Cb)({type:Date})],x.prototype,"modified",void 0),(0,M._)([(0,B.Cb)()],x.prototype,"owner",void 0),(0,M._)([(0,B.Cb)()],x.prototype,"portal",void 0),(0,M._)([(0,B.Cb)()],x.prototype,"snippet",void 0),(0,M._)([(0,B.Cb)()],x.prototype,"sortField",void 0),(0,M._)([(0,B.Cb)()],x.prototype,"sortOrder",void 0),(0,M._)([(0,B.Cb)()],x.prototype,"tags",void 0),(0,M._)([(0,B.Cb)()],x.prototype,"thumbnail",void 0),(0,M._)([(0,B.Cb)({readOnly:!0})],x.prototype,"thumbnailUrl",null),(0,M._)([(0,B.Cb)()],x.prototype,"title",void 0),(0,M._)([(0,B.Cb)({readOnly:!0})],x.prototype,"url",null),x=(0,M._)([(0,L.j)("esri.portal.PortalGroup")],x);const Z=x},55463:(Qe,Me,E)=>{"use strict";E.r(Me),E.d(Me,{default:()=>oe});var M=E(15861),O=E(17626),X=E(54346),B=E(26584),N=E(86810),ee=E(58817),z=E(47996),L=E(62208),T=E(21726),x=E(77712),Z=E(90912),Y=E(68653),$=E(76898),se=E(2004),ne=E(84687),j=E(14517),I=E(63290),k=(E(85931),E(8314),E(66656));const W=I.Z.getLogger("esri.portal.PortalItemResource");let re=class extends j.Z{constructor(K){super(K),this.portalItem=null}normalizeCtorArgs(K){return K&&K.portalItem&&K.path?Bn(Ct({},K),{path:this._normalizePath(K.path,K.portalItem)}):K}set path(K){(0,L.pC)(K)&&(0,T.YP)(K)?W.error("portalitemresource:invalid-path","A portal item resource path must be relative"):this._set("path",K)}_castPath(K){return this._normalizePath(K,this.portalItem)}get url(){return this.portalItem&&this.path?`${this.portalItem.itemUrl}/resources/${this.path}`:null}get itemRelativeUrl(){return this.portalItem&&this.path?`./resources/${this.path}`:null}fetch(K="json",de){const le=this.url;if((0,L.Wi)(le))throw new B.Z("portal-item-resource:fetch","Portal item resource does not refer to a valid item or path");return this.portalItem.portal._request(le,{responseType:K,query:{token:this.portalItem.apiKey},signal:(0,L.U2)(de,"signal")})}update(K,de){var le=this;return(0,M.Z)(function*(){return(yield E.e(587).then(E.bind(E,10587))).addOrUpdateResource(le,"update",K,de)})()}hasPath(){return(0,L.pC)(this.path)}_normalizePath(K,de){return(0,L.Wi)(K)?K:(K=K.replace(/^\/+/,""),(0,L.pC)(de)&&(0,T.YP)(K)&&(K=(0,T.PF)(K,de.itemUrl)),K.replace(/^\/+/,"").replace(/^(\.\/)?resources\//,""))}};(0,O._)([(0,x.Cb)()],re.prototype,"portalItem",void 0),(0,O._)([(0,x.Cb)({type:String,value:null})],re.prototype,"path",null),(0,O._)([(0,k.p)("path")],re.prototype,"_castPath",null),(0,O._)([(0,x.Cb)({type:String,readOnly:!0})],re.prototype,"url",null),(0,O._)([(0,x.Cb)({type:String,readOnly:!0})],re.prototype,"itemRelativeUrl",null),re=(0,O._)([(0,$.j)("esri.portal.PortalItemResource")],re);const Q=re;let ue=class extends j.Z{constructor(K){super(K),this.created=null,this.rating=null}};(0,O._)([(0,x.Cb)()],ue.prototype,"created",void 0),(0,O._)([(0,x.Cb)()],ue.prototype,"rating",void 0),ue=(0,O._)([(0,$.j)("esri.portal.PortalRating")],ue);const he=ue;var fe;let pe=fe=class extends((0,N.eC)(z.Z)){constructor(K){super(K),this.access=null,this.accessInformation=null,this.apiKey=null,this.applicationProxies=null,this.avgRating=null,this.categories=null,this.created=null,this.culture=null,this.description=null,this.extent=null,this.groupCategories=null,this.id=null,this.itemControl=null,this.licenseInfo=null,this.modified=null,this.name=null,this.numComments=null,this.numRatings=null,this.numViews=null,this.owner=null,this.ownerFolder=null,this.portal=null,this.screenshots=null,this.size=null,this.snippet=null,this.sourceJSON=null,this.tags=null,this.title=null,this.type=null,this.typeKeywords=null,this.url=null}static from(K){return(0,Z.TJ)(fe,K)}destroy(){this.portal=null}get displayName(){const K=this.type,de=this.typeKeywords||[];let le=K;return"Feature Service"===K||"Feature Collection"===K?le=de.indexOf("Table")>-1?"Table":de.indexOf("Route Layer")>-1?"Route Layer":de.indexOf("Markup")>-1?"Markup":"Feature Layer":"Image Service"===K?le=de.indexOf("Elevation 3D Layer")>-1?"Elevation Layer":de.indexOf("Tiled Imagery")>-1?"Tiled Imagery Layer":"Imagery Layer":"Scene Service"===K?le="Scene Layer":"Media Service"===K?le="Media Layer":"Scene Package"===K?le="Scene Layer Package":"Stream Service"===K?le="Feature Layer":"Geoprocessing Service"===K&&this.portal&&this.portal.isPortal?le=de.indexOf("Web Tool")>-1?"Tool":"Geoprocessing Service":"Geocoding Service"===K?le="Locator":"Geoenrichment Service"===K?le="GeoEnrichment Service":"Microsoft Powerpoint"===K?le="Microsoft PowerPoint":"GeoJson"===K?le="GeoJSON":"Globe Service"===K?le="Globe Layer":"Vector Tile Service"===K?le="Tile Layer":"netCDF"===K?le="NetCDF":"Map Service"===K?le=-1===de.indexOf("Spatiotemporal")&&(de.indexOf("Hosted Service")>-1||de.indexOf("Tiled")>-1)&&-1===de.indexOf("Relational")?"Tile Layer":"Map Image Layer":K&&K.toLowerCase().indexOf("add in")>-1?le=K.replace(/(add in)/gi,"Add-In"):"datastore catalog service"===K?le="Big Data File Share":"Compact Tile Package"===K?le="Tile Package (tpkx)":"OGCFeatureServer"===K?le="OGC Feature Layer":"web mapping application"===K&&de.indexOf("configurableApp")>-1&&(le="Instant App"),le}readExtent(K){return K&&K.length?new se.Z(K[0][0],K[0][1],K[1][0],K[1][1]):null}get iconUrl(){const K=this.type&&this.type.toLowerCase()||"",de=this.typeKeywords||[];let ce,ge=!1,J=!1,ie=!1,De=!1,_e=!1,Ie=!1;return K.indexOf("service")>0||"feature collection"===K||"kml"===K||"wms"===K||"wmts"===K||"wfs"===K?(ge=de.indexOf("Hosted Service")>-1,"feature service"===K||"feature collection"===K||"kml"===K||"wfs"===K?(J=de.indexOf("Table")>-1,ie=de.indexOf("Route Layer")>-1,De=de.indexOf("Markup")>-1,_e=-1!==de.indexOf("Spatiotemporal"),Ie=-1!==de.indexOf("UtilityNetwork"),ce=_e&&J?"spatiotemporaltable":J?"table":ie?"routelayer":De?"markup":_e?"spatiotemporal":ge?"featureshosted":Ie?"utilitynetwork":"features"):ce="map service"===K||"wms"===K||"wmts"===K?ge||de.indexOf("Tiled")>-1||"wmts"===K?"maptiles":"mapimages":"scene service"===K?de.indexOf("Line")>-1?"sceneweblayerline":de.indexOf("3DObject")>-1?"sceneweblayermultipatch":de.indexOf("Point")>-1?"sceneweblayerpoint":de.indexOf("IntegratedMesh")>-1?"sceneweblayermesh":de.indexOf("PointCloud")>-1?"sceneweblayerpointcloud":de.indexOf("Polygon")>-1?"sceneweblayerpolygon":de.indexOf("Building")>-1?"sceneweblayerbuilding":de.indexOf("Voxel")>-1?"sceneweblayervoxel":"sceneweblayer":"image service"===K?de.indexOf("Elevation 3D Layer")>-1?"elevationlayer":de.indexOf("Tiled Imagery")>-1?"tiledimagerylayer":"imagery":"stream service"===K?"streamlayer":"media service"===K?"mediaservice":"vector tile service"===K?"vectortile":"datastore catalog service"===K?"datastorecollection":"geocoding service"===K?"geocodeservice":"geoprocessing service"===K&&de.indexOf("Web Tool")>-1&&this.portal&&this.portal.isPortal?"tool":"layers"):ce="web map"===K||"cityengine web scene"===K?"maps":"web scene"===K?de.indexOf("ViewingMode-Local")>-1?"webscenelocal":"websceneglobal":"web mapping application"===K&&de.indexOf("configurableApp")>-1?"instantapps":"web mapping application"===K||"mobile application"===K||"application"===K||"operation view"===K||"desktop application"===K?"apps":"map document"===K||"map package"===K||"published map"===K||"scene document"===K||"globe document"===K||"basemap package"===K||"mobile basemap package"===K||"mobile map package"===K||"project package"===K||"project template"===K||"pro map"===K||"layout"===K||"layer"===K&&de.indexOf("ArcGIS Pro")>-1||"explorer map"===K&&de.indexOf("Explorer Document")?"mapsgray":"service definition"===K||"csv"===K||"shapefile"===K||"cad drawing"===K||"geojson"===K||"360 vr experience"===K||"netcdf"===K||"administrative report"===K?"datafiles":"explorer add in"===K||"desktop add in"===K||"windows viewer add in"===K||"windows viewer configuration"===K?"appsgray":"arcgis pro add in"===K||"arcgis pro configuration"===K?"addindesktop":"rule package"===K||"file geodatabase"===K||"sqlite geodatabase"===K||"csv collection"===K||"kml collection"===K||"windows mobile package"===K||"map template"===K||"desktop application template"===K||"gml"===K||"arcpad package"===K||"code sample"===K||"form"===K||"document link"===K||"earth configuration"===K||"operations dashboard add in"===K||"rules package"===K||"image"===K||"workflow manager package"===K||"explorer map"===K&&de.indexOf("Explorer Mapping Application")>-1||de.indexOf("Document")>-1?"datafilesgray":"network analysis service"===K||"geoprocessing service"===K||"geodata service"===K||"geometry service"===K||"geoprocessing package"===K||"locator package"===K||"geoprocessing sample"===K||"workflow manager service"===K?"toolsgray":"layer"===K||"layer package"===K||"explorer layer"===K?"layersgray":"scene package"===K?"scenepackage":"mobile scene package"===K?"mobilescenepackage":"tile package"===K||"compact tile package"===K?"tilepackage":"task file"===K?"taskfile":"report template"===K?"report-template":"statistical data collection"===K?"statisticaldatacollection":"insights workbook"===K?"workbook":"insights model"===K?"insightsmodel":"insights page"===K?"insightspage":"insights theme"===K?"insightstheme":"hub initiative"===K?"hubinitiative":"hubpage"===K?"hubpage":"hub event"===K?"hubevent":"hub site application"===K?"hubsite":"hub project"===K?"hubproject":"relational database connection"===K?"relationaldatabaseconnection":"big data file share"===K?"datastorecollection":"image collection"===K?"imagecollection":"style"===K?"style":"desktop style"===K?"desktopstyle":"dashboard"===K?"dashboard":"raster function template"===K?"rasterprocessingtemplate":"vector tile package"===K?"vectortilepackage":"ortho mapping project"===K?"orthomappingproject":"ortho mapping template"===K?"orthomappingtemplate":"solution"===K?"solutions":"geopackage"===K?"geopackage":"deep learning package"===K?"deeplearningpackage":"real time analytic"===K?"realtimeanalytics":"big data analytic"===K?"bigdataanalytics":"feed"===K?"feed":"excalibur imagery project"===K?"excaliburimageryproject":"notebook"===K?"notebook":"storymap"===K?"storymap":"survey123 add in"===K?"survey123addin":"mission"===K?"mission":"mission report"===K?"missionreport":"quickcapture project"===K?"quickcaptureproject":"pro report"===K?"proreport":"urban model"===K?"urbanmodel":"web experience"===K?"experiencebuilder":"web experience template"===K?"webexperiencetemplate":"experience builder widget"===K?"experiencebuilderwidget":"experience builder widget package"===K?"experiencebuilderwidgetpackage":"workflow"===K?"workflow":"insights script"===K?"insightsscript":"kernel gateway connection"===K?"kernelgatewayconnection":"hub initiative template"===K?"hubinitiativetemplate":"storymap theme"===K?"storymaptheme":"knowledge graph"===K?"knowledgegraph":"native application"===K?"nativeapp":"native application installer"===K?"nativeappinstaller":"link chart"===K?"linkchart":"investigation"===K?"investigation":"ogcfeatureserver"===K?"features":"pro project"===K?"proproject":"insights workbook package"===K?"insightsworkbookpackage":"apache parquet"===K?"apacheparquet":"maps",ce?(0,X.V)("esri/images/portal/"+ce+"16.png"):null}get isLayer(){return["Map Service","Feature Service","Feature Collection","Scene Service","Image Service","Stream Service","Vector Tile Service","WMTS","WMS"].indexOf(this.type)>-1}get itemUrl(){const K=this.get("portal.restUrl");return K?K+"/content/items/"+this.id:null}get thumbnailUrl(){const K=this.itemUrl,de=this.thumbnail;return K&&de?this.portal._normalizeUrl(`${K}/info/${de}?f=json`):null}get userItemUrl(){const K=this.get("portal.restUrl");if(!K)return null;const de=this.owner||this.get("portal.user.username");return de?`${K}/content/users/${this.ownerFolder?`${de}/${this.ownerFolder}`:de}/items/${this.id}`:null}load(K){this.portal||(this.portal=ne.Z.getDefault());const de=this.portal.load(K).then(()=>this.sourceJSON?this.sourceJSON:this.id&&this.itemUrl?this.portal._request(this.itemUrl,{signal:(0,L.pC)(K)?K.signal:null,query:{token:this.apiKey}}):{}).then(le=>{this.sourceJSON=le,this.read(le)});return this.addResolvingPromise(de),Promise.resolve(this)}addRating(K){const de={method:"post",query:{}};return K instanceof he&&(K=K.rating),isNaN(K)||"number"!=typeof K||(de.query.rating=K),this.portal._request(this.itemUrl+"/addRating",de).then(()=>new he({rating:K,created:new Date}))}clone(){const K={access:this.access,accessInformation:this.accessInformation,applicationProxies:(0,ee.d9)(this.applicationProxies),avgRating:this.avgRating,categories:(0,ee.d9)(this.categories),created:(0,ee.d9)(this.created),culture:this.culture,description:this.description,extent:(0,ee.d9)(this.extent),groupCategories:(0,ee.d9)(this.groupCategories),id:this.id,itemControl:this.itemControl,licenseInfo:this.licenseInfo,modified:(0,ee.d9)(this.modified),name:this.name,numComments:this.numComments,numRatings:this.numRatings,numViews:this.numViews,owner:this.owner,ownerFolder:this.ownerFolder,portal:this.portal,screenshots:(0,ee.d9)(this.screenshots),size:this.size,snippet:this.snippet,tags:(0,ee.d9)(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:(0,ee.d9)(this.typeKeywords),url:this.url};return this.loaded&&(K.loadStatus="loaded"),new fe({sourceJSON:this.sourceJSON}).set(K)}createPostQuery(){const K=this.toJSON();for(const de in K)"tags"===de&&null!==K[de]&&(K[de]=K[de].join(", ")),"typeKeywords"===de&&null!==K[de]&&(K[de]=K[de].join(", ")),"extent"===de&&K[de]&&(K[de]=JSON.stringify(K[de]));return K}deleteRating(){return this.portal._request(this.itemUrl+"/deleteRating",{method:"post"}).then(()=>{})}fetchData(K="json",de){return this.portal._request(this.itemUrl+"/data",Bn(Ct({responseType:K},de),{query:{token:this.apiKey}}))}fetchRating(K){return this.portal._request(this.itemUrl+"/rating",Ct({query:{token:this.apiKey}},K)).then(de=>null!=de.rating?(de.created=new Date(de.created),new he(de)):null)}fetchRelatedItems(K,de){return this.portal._requestToTypedArray(this.itemUrl+"/relatedItems",Ct({query:Bn(Ct({},K),{token:this.apiKey})},de),fe)}getThumbnailUrl(K){let de=this.thumbnailUrl;return de&&K&&(de+=`&w=${K}`),de}reload(){return this.portal._request(this.itemUrl,{cacheBust:!0,query:{token:this.apiKey}}).then(K=>(this.sourceJSON=K,this.read(K),this))}update(K){return this.id?this.load().then(()=>this.portal._signIn()).then(()=>{const de=K&&K.data,le={method:"post"};le.query=this.createPostQuery();for(const me in le.query)null===le.query[me]&&(le.query[me]="");return le.query.clearEmptyFields=!0,null!=de&&("string"==typeof de?le.query.text=de:"object"==typeof de&&(le.query.text=JSON.stringify(de))),this.portal._request(`${this.userItemUrl}/update`,le).then(()=>this.reload())}):Promise.reject(new B.Z("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}updateThumbnail(K){return this.id?this.load().then(()=>this.portal._signIn()).then(()=>{const de=K.thumbnail,le=K.filename,me={method:"post"};if("string"==typeof de)me.query=(0,T.HK)(de)?{data:de}:{url:(0,T.hF)(de)},(0,L.pC)(le)&&(me.query.filename=le);else{const ce=new FormData;(0,L.pC)(le)?ce.append("file",de,le):ce.append("file",de),me.body=ce}return this.portal._request(`${this.userItemUrl}/updateThumbnail`,me).then(()=>this.reload())}):Promise.reject(new B.Z("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}fetchResources(K={},de){var le=this;return(0,M.Z)(function*(){return(yield E.e(587).then(E.bind(E,10587))).fetchResources(le,K,de)})()}addResource(K,de,le){var me=this;return(0,M.Z)(function*(){const ce=yield E.e(587).then(E.bind(E,10587));return K.portalItem=me,ce.addOrUpdateResource(K,"add",de,le)})()}removeResource(K,de){var le=this;return(0,M.Z)(function*(){const me=yield E.e(587).then(E.bind(E,10587));if(K.portalItem&&K.portalItem.itemUrl!==le.itemUrl)throw new B.Z("removeresource:portal-item-mismatch","The portal item associated with the provided resource does not match the item");return me.removeResource(le,K,de)})()}removeAllResources(K){var de=this;return(0,M.Z)(function*(){return(yield E.e(587).then(E.bind(E,10587))).removeAllResources(de,K)})()}resourceFromPath(K){return new Q({portalItem:this,path:K})}toJSON(){const K=this.extent,de={created:this.created&&this.created.getTime(),description:this.description,extent:K&&[[K.xmin,K.ymin],[K.xmax,K.ymax]],id:this.id,modified:this.modified&&this.modified.getTime(),name:this.name,owner:this.owner,ownerFolder:this.ownerFolder,snippet:this.snippet,tags:this.tags,thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:this.typeKeywords,url:this.url};return(0,ee.yd)(de)}static fromJSON(K){if(!K)return null;if(K.declaredClass)throw new Error("JSON object is already hydrated");return new fe({sourceJSON:K})}_getPostQuery(){const K=this.toJSON();for(const de in K)"tags"===de&&null!==K[de]&&(K[de]=K[de].join(", ")),"typeKeywords"===de&&null!==K[de]&&(K[de]=K[de].join(", ")),"extent"===de&&K[de]&&(K[de]=JSON.stringify(K[de]));return K}};(0,O._)([(0,x.Cb)({type:["private","shared","org","public"]})],pe.prototype,"access",void 0),(0,O._)([(0,x.Cb)()],pe.prototype,"accessInformation",void 0),(0,O._)([(0,x.Cb)({type:String})],pe.prototype,"apiKey",void 0),(0,O._)([(0,x.Cb)({json:{read:{source:"appProxies"}}})],pe.prototype,"applicationProxies",void 0),(0,O._)([(0,x.Cb)()],pe.prototype,"avgRating",void 0),(0,O._)([(0,x.Cb)()],pe.prototype,"categories",void 0),(0,O._)([(0,x.Cb)({type:Date})],pe.prototype,"created",void 0),(0,O._)([(0,x.Cb)()],pe.prototype,"culture",void 0),(0,O._)([(0,x.Cb)()],pe.prototype,"description",void 0),(0,O._)([(0,x.Cb)({readOnly:!0})],pe.prototype,"displayName",null),(0,O._)([(0,x.Cb)({type:se.Z})],pe.prototype,"extent",void 0),(0,O._)([(0,Y.r)("extent")],pe.prototype,"readExtent",null),(0,O._)([(0,x.Cb)()],pe.prototype,"groupCategories",void 0),(0,O._)([(0,x.Cb)({readOnly:!0})],pe.prototype,"iconUrl",null),(0,O._)([(0,x.Cb)()],pe.prototype,"id",void 0),(0,O._)([(0,x.Cb)({readOnly:!0})],pe.prototype,"isLayer",null),(0,O._)([(0,x.Cb)()],pe.prototype,"itemControl",void 0),(0,O._)([(0,x.Cb)({readOnly:!0})],pe.prototype,"itemUrl",null),(0,O._)([(0,x.Cb)()],pe.prototype,"licenseInfo",void 0),(0,O._)([(0,x.Cb)({type:Date})],pe.prototype,"modified",void 0),(0,O._)([(0,x.Cb)()],pe.prototype,"name",void 0),(0,O._)([(0,x.Cb)()],pe.prototype,"numComments",void 0),(0,O._)([(0,x.Cb)()],pe.prototype,"numRatings",void 0),(0,O._)([(0,x.Cb)()],pe.prototype,"numViews",void 0),(0,O._)([(0,x.Cb)()],pe.prototype,"owner",void 0),(0,O._)([(0,x.Cb)()],pe.prototype,"ownerFolder",void 0),(0,O._)([(0,x.Cb)({type:ne.Z})],pe.prototype,"portal",void 0),(0,O._)([(0,x.Cb)()],pe.prototype,"screenshots",void 0),(0,O._)([(0,x.Cb)()],pe.prototype,"size",void 0),(0,O._)([(0,x.Cb)()],pe.prototype,"snippet",void 0),(0,O._)([(0,x.Cb)()],pe.prototype,"sourceJSON",void 0),(0,O._)([(0,x.Cb)()],pe.prototype,"tags",void 0),(0,O._)([(0,x.Cb)()],pe.prototype,"thumbnail",void 0),(0,O._)([(0,x.Cb)({readOnly:!0})],pe.prototype,"thumbnailUrl",null),(0,O._)([(0,x.Cb)()],pe.prototype,"title",void 0),(0,O._)([(0,x.Cb)()],pe.prototype,"type",void 0),(0,O._)([(0,x.Cb)()],pe.prototype,"typeKeywords",void 0),(0,O._)([(0,x.Cb)()],pe.prototype,"url",void 0),(0,O._)([(0,x.Cb)({readOnly:!0})],pe.prototype,"userItemUrl",null),pe=fe=(0,O._)([(0,$.j)("esri.portal.PortalItem")],pe);const oe=pe},6278:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>ne});var Y,M=E(17626),O=E(14517),X=E(2076),B=E(58817),N=E(62208),ee=E(77712),L=(E(90912),E(76898)),T=E(2004),x=E(65234),Z=E(46367);const $=new X.X({avgRating:"avg-rating",numRatings:"num-ratings",numComments:"num-comments",numViews:"num-views"});let se=Y=class extends O.Z{constructor(j){super(j),this.categories=null,this.disableExtraQuery=!1,this.extent=null,this.filter=null,this.num=10,this.query=null,this.sortField=null,this.start=1}get sortOrder(){return this._get("sortOrder")||"asc"}set sortOrder(j){"asc"!==j&&"desc"!==j||this._set("sortOrder",j)}clone(){return new Y({categories:this.categories?(0,B.d9)(this.categories):null,disableExtraQuery:this.disableExtraQuery,extent:this.extent?this.extent.clone():null,filter:this.filter,num:this.num,query:this.query,sortField:this.sortField,sortOrder:this.sortOrder,start:this.start})}toRequestOptions(j,I){let w,F;if(this.categories&&(w=this.categories.map(re=>Array.isArray(re)?JSON.stringify(re):re)),this.extent){const re=(0,Z.iV)(this.extent,x.Z.WGS84);(0,N.pC)(re)&&(F=`${re.xmin},${re.ymin},${re.xmax},${re.ymax}`)}let k=this.query;!this.disableExtraQuery&&j.extraQuery&&(k="("+k+")"+j.extraQuery);const W={categories:w,bbox:F,q:k,filter:this.filter,num:this.num,sortField:null,sortOrder:null,start:this.start};return this.sortField&&(W.sortField=this.sortField.split(",").map(re=>$.toJSON(re.trim())).join(","),W.sortOrder=this.sortOrder),{query:Ct(Ct({},I),W)}}};(0,M._)([(0,ee.Cb)()],se.prototype,"categories",void 0),(0,M._)([(0,ee.Cb)()],se.prototype,"disableExtraQuery",void 0),(0,M._)([(0,ee.Cb)({type:T.Z})],se.prototype,"extent",void 0),(0,M._)([(0,ee.Cb)()],se.prototype,"filter",void 0),(0,M._)([(0,ee.Cb)()],se.prototype,"num",void 0),(0,M._)([(0,ee.Cb)()],se.prototype,"query",void 0),(0,M._)([(0,ee.Cb)()],se.prototype,"sortField",void 0),(0,M._)([(0,ee.Cb)()],se.prototype,"sortOrder",null),(0,M._)([(0,ee.Cb)()],se.prototype,"start",void 0),se=Y=(0,M._)([(0,L.j)("esri.portal.PortalQueryParams")],se);const ne=se},94508:(Qe,Me,E)=>{"use strict";E.r(Me),E.d(Me,{default:()=>se});var M=E(17626),O=E(26584),X=E(86810),B=E(77712),L=(E(85931),E(8314),E(90912),E(76898));let T=class extends X.wq{constructor(ne){super(ne),this.created=null,this.id=null,this.portal=null,this.title=null,this.username=null}get url(){const ne=this.get("portal.restUrl");return ne?`${ne}/content/users/${this.username}/${this.id}`:null}toJSON(){throw new O.Z("internal:not-yet-implemented","PortalFolder.toJSON is not yet implemented")}};(0,M._)([(0,B.Cb)({type:Date})],T.prototype,"created",void 0),(0,M._)([(0,B.Cb)()],T.prototype,"id",void 0),(0,M._)([(0,B.Cb)()],T.prototype,"portal",void 0),(0,M._)([(0,B.Cb)()],T.prototype,"title",void 0),(0,M._)([(0,B.Cb)({readOnly:!0})],T.prototype,"url",null),(0,M._)([(0,B.Cb)()],T.prototype,"username",void 0),T=(0,M._)([(0,L.j)("esri.portal.PortalFolder")],T);const x=T;var Y,Z=E(96245);let $=Y=class extends X.wq{constructor(...ne){super(...ne),this.access=null,this.created=null,this.culture=null,this.description=null,this.email=null,this.fullName=null,this.modified=null,this.orgId=null,this.portal=null,this.preferredView=null,this.privileges=null,this.region=null,this.role=null,this.roleId=null,this.sourceJSON=null,this.units=null,this.username=null,this.userType=null}get thumbnailUrl(){const ne=this.url,j=this.thumbnail;return ne&&j?this.portal._normalizeUrl(`${ne}/info/${j}?f=json`):null}get userContentUrl(){const ne=this.get("portal.restUrl");return ne?`${ne}/content/users/${this.username}`:null}get url(){const ne=this.get("portal.restUrl");return ne?`${ne}/community/users/${this.username}`:null}addItem(ne){const j=ne&&ne.item,I=ne&&ne.data,w=ne&&ne.folder,F={method:"post"};j&&(F.query=j.createPostQuery(),null!=I&&("string"==typeof I?F.query.text=I:"object"==typeof I&&(F.query.text=JSON.stringify(I))));let k=this.userContentUrl;return w&&(k+="/"+("string"==typeof w?w:w.id)),this.portal._request(k+"/addItem",F).then(W=>(j.id=W.id,j.portal=this.portal,j.loaded?j.reload():j.load()))}deleteItem(ne){let j=this.userContentUrl;return ne.ownerFolder&&(j+="/"+ne.ownerFolder),this.portal._request(j+`/items/${ne.id}/delete`,{method:"post"}).then(()=>{ne.id=null,ne.portal=null})}deleteItems(ne){const j=this.userContentUrl+"/deleteItems",I=ne.map(w=>w.id);if(I.length){const w={method:"post",query:{items:I.join(",")}};return this.portal._request(j,w).then(()=>{ne.forEach(F=>{F.id=null,F.portal=null})})}return Promise.resolve(void 0)}fetchFolders(){return this.portal._request(this.userContentUrl,{query:{num:1}}).then(j=>{let I;return I=j&&j.folders?j.folders.map(w=>{const F=x.fromJSON(w);return F.portal=this.portal,F}):[],I})}fetchGroups(){return this.portal._request(this.url).then(ne=>{let j;return j=ne&&ne.groups?ne.groups.map(I=>{const w=Z.default.fromJSON(I);return w.portal=this.portal,w}):[],j})}fetchItems(ne){ne||(ne={});let j,I=this.userContentUrl;return ne.folder&&(I+="/"+ne.folder.id),Promise.resolve().then(E.bind(E,55463)).then(({default:w})=>(j=w,this.portal._request(I,{query:{folders:!1,num:ne.num||10,start:ne.start||1,sortField:ne.sortField||"created",sortOrder:ne.sortOrder||"asc"}}))).then(w=>{let F;return w&&w.items?(F=w.items.map(k=>{const W=j.fromJSON(k);return W.portal=this.portal,W}),Promise.all(F.map(k=>k.load())).catch(k=>k).then(()=>({items:F,nextStart:w.nextStart,total:w.total}))):{items:[],nextStart:-1,total:0}})}fetchTags(){return this.portal._request(this.url+"/tags").then(ne=>ne.tags)}getThumbnailUrl(ne){let j=this.thumbnailUrl;return j&&ne&&(j+=`&w=${ne}`),j}queryFavorites(ne){return this.favGroupId?(this._favGroup||(this._favGroup=new Z.default({id:this.favGroupId,portal:this.portal})),this._favGroup.queryItems(ne)):Promise.reject(new O.Z("internal:unknown","Unknown internal error",{internalError:"Unknown favGroupId"}))}toJSON(){throw new O.Z("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented")}static fromJSON(ne){if(!ne)return null;if(ne.declaredClass)throw new Error("JSON object is already hydrated");const j=new Y;return j.sourceJSON=ne,j.read(ne),j}};(0,M._)([(0,B.Cb)()],$.prototype,"access",void 0),(0,M._)([(0,B.Cb)({type:Date})],$.prototype,"created",void 0),(0,M._)([(0,B.Cb)()],$.prototype,"culture",void 0),(0,M._)([(0,B.Cb)()],$.prototype,"description",void 0),(0,M._)([(0,B.Cb)()],$.prototype,"email",void 0),(0,M._)([(0,B.Cb)()],$.prototype,"favGroupId",void 0),(0,M._)([(0,B.Cb)()],$.prototype,"fullName",void 0),(0,M._)([(0,B.Cb)({type:Date})],$.prototype,"modified",void 0),(0,M._)([(0,B.Cb)()],$.prototype,"orgId",void 0),(0,M._)([(0,B.Cb)()],$.prototype,"portal",void 0),(0,M._)([(0,B.Cb)()],$.prototype,"preferredView",void 0),(0,M._)([(0,B.Cb)()],$.prototype,"privileges",void 0),(0,M._)([(0,B.Cb)()],$.prototype,"region",void 0),(0,M._)([(0,B.Cb)()],$.prototype,"role",void 0),(0,M._)([(0,B.Cb)()],$.prototype,"roleId",void 0),(0,M._)([(0,B.Cb)()],$.prototype,"sourceJSON",void 0),(0,M._)([(0,B.Cb)()],$.prototype,"thumbnail",void 0),(0,M._)([(0,B.Cb)({readOnly:!0})],$.prototype,"thumbnailUrl",null),(0,M._)([(0,B.Cb)()],$.prototype,"units",void 0),(0,M._)([(0,B.Cb)({readOnly:!0})],$.prototype,"userContentUrl",null),(0,M._)([(0,B.Cb)({readOnly:!0})],$.prototype,"url",null),(0,M._)([(0,B.Cb)()],$.prototype,"username",void 0),(0,M._)([(0,B.Cb)()],$.prototype,"userType",void 0),$=Y=(0,M._)([(0,L.j)("esri.portal.PortalUser")],$);const se=$},37281:(Qe,Me,E)=>{"use strict";function M(B,N){if(!O(B,N)){const ee=B.typeKeywords;ee?ee.push(N):B.typeKeywords=[N]}}function O(B,N){return!!B.typeKeywords&&B.typeKeywords.indexOf(N)>-1}function X(B,N){const ee=B.typeKeywords;if(ee){const z=ee.indexOf(N);z>-1&&ee.splice(z,1)}}E.d(Me,{_$:()=>O,ck:()=>X,qj:()=>M})},58926:(Qe,Me,E)=>{"use strict";E.d(Me,{v:()=>O});const O=(0,E(2076).w)()({esriTimeUnitsMilliseconds:"milliseconds",esriTimeUnitsSeconds:"seconds",esriTimeUnitsMinutes:"minutes",esriTimeUnitsHours:"hours",esriTimeUnitsDays:"days",esriTimeUnitsWeeks:"weeks",esriTimeUnitsMonths:"months",esriTimeUnitsYears:"years",esriTimeUnitsDecades:"decades",esriTimeUnitsCenturies:"centuries",esriTimeUnitsUnknown:void 0})},4832:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>de});var re,M=E(15861),O=E(17626),X=E(65787),B=E(2076),N=E(58817),ee=E(63290),z=E(62208),L=E(77712),T=E(66656),x=E(55342),Z=E(68653),Y=E(76898),$=E(99433),se=E(90912),ne=E(36630),j=E(69357),I=E(2432),w=E(74400),F=E(76457),k=E(10914),W=E(46679);const Q=ee.Z.getLogger("esri.renderers.ClassBreaksRenderer"),he="percent-of-total",fe="field",pe=new B.X({esriNormalizeByLog:"log",esriNormalizeByPercentOfTotal:he,esriNormalizeByField:fe}),oe=(0,se.se)(w.Z);let K=re=class extends((0,I.W)(j.Z)){constructor(le){super(le),this._compiledValueExpression={valueExpression:null,compiledFunction:null},this.backgroundFillSymbol=null,this.classBreakInfos=null,this.defaultLabel=null,this.defaultSymbol=null,this.field=null,this.isMaxInclusive=!0,this.legendOptions=null,this.normalizationField=null,this.normalizationTotal=null,this.type="class-breaks",this.valueExpression=null,this.valueExpressionTitle=null,this._set("classBreakInfos",[])}readClassBreakInfos(le,me,ce){if(!Array.isArray(le))return;let ge=me.minValue;return le.map(J=>{const ie=new w.Z;return ie.read(J,ce),null==ie.minValue&&(ie.minValue=ge),null==ie.maxValue&&(ie.maxValue=ie.minValue),ge=ie.maxValue,ie})}writeClassBreakInfos(le,me,ce,ge){const J=le.map(ie=>ie.write({},ge));this._areClassBreaksConsecutive()&&J.forEach(ie=>delete ie.classMinValue),me[ce]=J}castField(le){return null==le?le:"function"==typeof le?(Q.error(".field: field must be a string value"),null):(0,se.Zs)(le)}get minValue(){return this.classBreakInfos&&this.classBreakInfos[0]&&this.classBreakInfos[0].minValue||0}get normalizationType(){let le=this._get("normalizationType");const me=!!this.normalizationField,ce=null!=this.normalizationTotal;return me||ce?(le=(me?fe:ce&&he)||null,me&&ce&&Q.warn("warning: both normalizationField and normalizationTotal are set!")):le!==fe&&le!==he||(le=null),le}set normalizationType(le){this._set("normalizationType",le)}addClassBreakInfo(le,me,ce){let ge=null;ge="number"==typeof le?new w.Z({minValue:le,maxValue:me,symbol:(0,X.se)(ce)}):oe((0,N.d9)(le)),this.classBreakInfos.push(ge),1===this.classBreakInfos.length&&this.notifyChange("minValue")}removeClassBreakInfo(le,me){const ce=this.classBreakInfos.length;for(let ge=0;ge<ce;ge++){const J=[this.classBreakInfos[ge].minValue,this.classBreakInfos[ge].maxValue];if(J[0]===le&&J[1]===me){this.classBreakInfos.splice(ge,1);break}}}getBreakIndex(le,me){return this.valueExpression&&((0,z.Wi)(me)||(0,z.Wi)(me.arcade))&&Q.warn(""),this.valueExpression?this._getBreakIndexForExpression(le,me):this._getBreakIndexForField(le)}getClassBreakInfo(le,me){var ce=this;return(0,M.Z)(function*(){let ge=me;ce.valueExpression&&((0,z.Wi)(me)||(0,z.Wi)(me.arcade))&&(ge=Bn(Ct({},ge),{arcade:yield(0,W.LC)()}));const J=ce.getBreakIndex(le,ge);return-1!==J?ce.classBreakInfos[J]:null})()}getSymbol(le,me){if(this.valueExpression&&((0,z.Wi)(me)||(0,z.Wi)(me.arcade)))return void Q.error("#getSymbol()","Please use getSymbolAsync if valueExpression is used");const ce=this.getBreakIndex(le,me);return ce>-1?this.classBreakInfos[ce].symbol:this.defaultSymbol}getSymbolAsync(le,me){var ce=this;return(0,M.Z)(function*(){let ge=me;if(ce.valueExpression&&((0,z.Wi)(me)||(0,z.Wi)(me.arcade))){const ie=yield(0,W.LC)(),{arcadeUtils:De}=ie;De.hasGeometryOperations(ce.valueExpression)&&(yield De.enableGeometryOperations()),ge=Bn(Ct({},ge),{arcade:ie})}const J=ce.getBreakIndex(le,ge);return J>-1?ce.classBreakInfos[J].symbol:ce.defaultSymbol})()}getSymbols(){const le=[];return this.classBreakInfos.forEach(me=>{me.symbol&&le.push(me.symbol)}),this.defaultSymbol&&le.push(this.defaultSymbol),le}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce((le,me)=>le+me.getAttributeHash(),"")}getMeshHash(){const le=JSON.stringify(this.backgroundFillSymbol),me=JSON.stringify(this.defaultSymbol),ce=`${this.normalizationField}.${this.normalizationType}.${this.normalizationTotal}`;return`${le}.${me}.${this.classBreakInfos.reduce((ge,J)=>ge+J.getMeshHash(),"")}.${ce}.${this.field}.${this.valueExpression}`}get arcadeRequired(){return this.arcadeRequiredForVisualVariables||!!this.valueExpression}clone(){return new re({field:this.field,backgroundFillSymbol:this.backgroundFillSymbol&&this.backgroundFillSymbol.clone(),defaultLabel:this.defaultLabel,defaultSymbol:this.defaultSymbol&&this.defaultSymbol.clone(),valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,classBreakInfos:(0,N.d9)(this.classBreakInfos),isMaxInclusive:this.isMaxInclusive,normalizationField:this.normalizationField,normalizationTotal:this.normalizationTotal,normalizationType:this.normalizationType,visualVariables:(0,N.d9)(this.visualVariables),legendOptions:(0,N.d9)(this.legendOptions),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})}collectRequiredFields(le,me){var ce=this;return(0,M.Z)(function*(){const ge=[ce.collectVVRequiredFields(le,me),ce.collectSymbolFields(le,me)];yield Promise.all(ge)})()}collectSymbolFields(le,me){var ce=this;return(0,M.Z)(function*(){const ge=[...ce.getSymbols().map(J=>J.collectRequiredFields(le,me)),(0,ne.io)(le,me,ce.valueExpression)];(0,ne.AB)(le,me,ce.field),(0,ne.AB)(le,me,ce.normalizationField),yield Promise.all(ge)})()}_getBreakIndexForExpression(le,me){const{viewingMode:ce,scale:ge,spatialReference:J,arcade:ie}=(0,z.Pt)(me,{});let De=this._compiledValueExpression.valueExpression===this.valueExpression?this._compiledValueExpression.compiledFunction:null;const _e=(0,z.Wg)(ie).arcadeUtils;if(!De){const xe=_e.createSyntaxTree(this.valueExpression);De=_e.createFunction(xe),this._compiledValueExpression.compiledFunction=De}this._compiledValueExpression.valueExpression=this.valueExpression;const Ie=_e.executeFunction(De,_e.createExecContext(le,_e.getViewInfo({viewingMode:ce,scale:ge,spatialReference:J})));return this._getBreakIndexfromInfos(Ie)}_getBreakIndexForField(le){const ce=le.attributes,ge=this.normalizationType;let J=parseFloat(ce[this.field]);if(ge){const ie=this.normalizationTotal,De=parseFloat(ce[this.normalizationField]);if("log"===ge)J=Math.log(J)*Math.LOG10E;else if(ge!==he||isNaN(ie)){if(ge===fe&&!isNaN(De)){if(isNaN(J)||isNaN(De))return-1;J/=De}}else J=J/ie*100}return this._getBreakIndexfromInfos(J)}_getBreakIndexfromInfos(le){const me=this.isMaxInclusive;if(null!=le&&"number"==typeof le&&!isNaN(le))for(let ce=0;ce<this.classBreakInfos.length;ce++){const ge=[this.classBreakInfos[ce].minValue,this.classBreakInfos[ce].maxValue];if(ge[0]<=le&&(me?le<=ge[1]:le<ge[1]))return ce}return-1}_areClassBreaksConsecutive(){const le=this.classBreakInfos,me=le.length;for(let ce=1;ce<me;ce++)if(le[ce-1].maxValue!==le[ce].minValue)return!1;return!0}};(0,O._)([(0,L.Cb)(F.K)],K.prototype,"backgroundFillSymbol",void 0),(0,O._)([(0,L.Cb)({type:[w.Z]})],K.prototype,"classBreakInfos",void 0),(0,O._)([(0,Z.r)("classBreakInfos")],K.prototype,"readClassBreakInfos",null),(0,O._)([(0,$.c)("classBreakInfos")],K.prototype,"writeClassBreakInfos",null),(0,O._)([(0,L.Cb)({type:String,json:{write:!0}})],K.prototype,"defaultLabel",void 0),(0,O._)([(0,L.Cb)(F.G)],K.prototype,"defaultSymbol",void 0),(0,O._)([(0,L.Cb)({type:String,json:{write:!0}})],K.prototype,"field",void 0),(0,O._)([(0,T.p)("field")],K.prototype,"castField",null),(0,O._)([(0,L.Cb)({type:Boolean})],K.prototype,"isMaxInclusive",void 0),(0,O._)([(0,L.Cb)({type:k.Z,json:{write:!0}})],K.prototype,"legendOptions",void 0),(0,O._)([(0,L.Cb)({type:Number,readOnly:!0,value:null,json:{read:!1,write:{overridePolicy(){return 0!==this.classBreakInfos.length&&this._areClassBreaksConsecutive()?{enabled:!0}:{enabled:!1}}}}})],K.prototype,"minValue",null),(0,O._)([(0,L.Cb)({type:String,json:{write:!0}})],K.prototype,"normalizationField",void 0),(0,O._)([(0,L.Cb)({type:Number,cast:le=>(0,se.q9)(le),json:{write:!0}})],K.prototype,"normalizationTotal",void 0),(0,O._)([(0,L.Cb)({type:pe.apiValues,value:null,json:{type:pe.jsonValues,read:pe.read,write:pe.write}})],K.prototype,"normalizationType",null),(0,O._)([(0,x.J)({classBreaks:"class-breaks"})],K.prototype,"type",void 0),(0,O._)([(0,L.Cb)({type:String,json:{write:!0}})],K.prototype,"valueExpression",void 0),(0,O._)([(0,L.Cb)({type:String,json:{write:!0}})],K.prototype,"valueExpressionTitle",void 0),K=re=(0,O._)([(0,Y.j)("esri.renderers.ClassBreaksRenderer")],K);const de=K},49067:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>se});var Y,M=E(15861),O=E(17626),X=E(58817),B=E(77712),ee=(E(90912),E(76898)),z=E(99433),L=E(36630),T=E(69357),x=E(2432),Z=E(29996);let $=Y=class extends((0,x.W)(T.Z)){constructor(ne){super(ne),this.config=null,this.fieldMap=null,this.scaleExpression=null,this.scaleExpressionTitle=null,this.url=null,this.type="dictionary"}get _loader(){return new Z.DictionaryLoader(this.url,this.config,this.fieldMap)}writeData(ne,j){ne&&(j.scalingExpressionInfo={expression:ne,returnType:"number"})}writeVisualVariables(ne,j,I,w){null!=w&&w.origin||super.writeVisualVariables(ne,j,I,w)}clone(){return new Y({config:(0,X.d9)(this.config),scaleExpression:this.scaleExpression,scaleExpressionTitle:this.scaleExpressionTitle,fieldMap:(0,X.d9)(this.fieldMap),url:(0,X.d9)(this.url),visualVariables:(0,X.d9)(this.visualVariables)})}getSymbolAsync(ne,j){var I=this;return(0,M.Z)(function*(){return I._loader.getSymbolAsync(ne,j)})()}collectRequiredFields(ne,j){var I=this;return(0,M.Z)(function*(){yield I.collectVVRequiredFields(ne,j),I.scaleExpression&&(yield(0,L.io)(ne,j,I.scaleExpression));for(const w in I.fieldMap){const F=I.fieldMap[w];j.has(F)&&ne.add(F)}})()}get arcadeRequired(){return!0}getSymbol(){return null}getSymbols(){return[]}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce((ne,j)=>ne+j.getAttributeHash(),"")}getMeshHash(){return`${this.url}-${JSON.stringify(this.fieldMap)}`}getSymbolFields(){return this._loader.getSymbolFields()}};(0,O._)([(0,B.Cb)({type:Z.DictionaryLoader})],$.prototype,"_loader",null),(0,O._)([(0,B.Cb)({type:Object,json:{read:{source:"configuration"},write:{target:"configuration"}}})],$.prototype,"config",void 0),(0,O._)([(0,B.Cb)({type:Object,json:{write:!0}})],$.prototype,"fieldMap",void 0),(0,O._)([(0,B.Cb)({type:String,json:{read:{source:"scalingExpressionInfo.expression"},write:!0}})],$.prototype,"scaleExpression",void 0),(0,O._)([(0,z.c)("scaleExpression")],$.prototype,"writeData",null),(0,O._)([(0,B.Cb)({type:String,json:{read:{source:"scalingExpressionInfo.title"},write:{target:"scalingExpressionInfo.title",overridePolicy(ne){return{enabled:!!ne&&!!this.scaleExpression}}}}})],$.prototype,"scaleExpressionTitle",void 0),(0,O._)([(0,B.Cb)({type:String,json:{write:!0}})],$.prototype,"url",void 0),(0,O._)([(0,z.c)("visualVariables")],$.prototype,"writeVisualVariables",null),$=Y=(0,O._)([(0,ee.j)("esri.renderers.DictionaryRenderer")],$);const se=$},26284:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>K});var w,M=E(15861),O=E(17626),X=E(91558),B=E(58817),N=E(83960),ee=E(90912),z=E(55342),L=E(77712),T=E(76898),x=E(36630),Z=E(69357),Y=E(2432),$=E(86810),se=E(63290),I=(E(85931),E(8314),E(66656));const F=se.Z.getLogger("esri.renderers.support.AttributeColorInfo");let k=w=class extends $.wq{constructor(de){super(de),this.color=null,this.field=null,this.label=null,this.valueExpression=null,this.valueExpressionTitle=null}castField(de){return null==de?de:"function"==typeof de?(F.error(".field: field must be a string value"),null):(0,ee.Zs)(de)}getAttributeHash(){return`${this.field}-${this.valueExpression}`}clone(){return new w({color:this.color&&this.color.clone(),field:this.field,label:this.label,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle})}};(0,O._)([(0,L.Cb)({type:X.Z,json:{type:[Number],write:!0}})],k.prototype,"color",void 0),(0,O._)([(0,L.Cb)({type:String,json:{write:!0}})],k.prototype,"field",void 0),(0,O._)([(0,I.p)("field")],k.prototype,"castField",null),(0,O._)([(0,L.Cb)({type:String,json:{write:!0}})],k.prototype,"label",void 0),(0,O._)([(0,L.Cb)({type:String,json:{write:!0}})],k.prototype,"valueExpression",void 0),(0,O._)([(0,L.Cb)({type:String,json:{write:!0}})],k.prototype,"valueExpressionTitle",void 0),k=w=(0,O._)([(0,T.j)("esri.renderers.support.AttributeColorInfo")],k);const W=k;var re;let Q=re=class extends $.wq{constructor(){super(...arguments),this.unit=null}clone(){return new re({unit:this.unit})}};(0,O._)([(0,L.Cb)({type:String,json:{write:!0}})],Q.prototype,"unit",void 0),Q=re=(0,O._)([(0,T.j)("esri.renderers.support.DotDensityLegendOptions")],Q);const ue=Q;var pe,he=E(88493),fe=E(52068);let oe=pe=class extends((0,Y.W)(Z.Z)){constructor(de){super(de),this.attributes=null,this.backgroundColor=new X.Z([0,0,0,0]),this.blendDots=!0,this.dotBlendingEnabled=!0,this.dotShape="square",this.dotSize=1,this.legendOptions=null,this.outline=new fe.Z,this.dotValue=null,this.referenceDotValue=null,this.referenceScale=null,this.seed=1,this.type="dot-density"}calculateDotValue(de){if(null==this.referenceScale)return this.dotValue;const le=de/this.referenceScale*this.dotValue;return le<1?1:le}getSymbol(){return new he.Z({outline:this.outline})}getSymbolAsync(){var de=this;return(0,M.Z)(function*(){return de.getSymbol()})()}getSymbols(){return[this.getSymbol()]}getAttributeHash(){return this.attributes&&this.attributes.reduce((de,le)=>de+le.getAttributeHash(),"")}getMeshHash(){return JSON.stringify(this.outline)}clone(){return new pe({attributes:(0,B.d9)(this.attributes),backgroundColor:(0,B.d9)(this.backgroundColor),dotBlendingEnabled:(0,B.d9)(this.dotBlendingEnabled),dotShape:(0,B.d9)(this.dotShape),dotSize:(0,B.d9)(this.dotSize),dotValue:(0,B.d9)(this.dotValue),legendOptions:(0,B.d9)(this.legendOptions),outline:(0,B.d9)(this.outline),referenceScale:(0,B.d9)(this.referenceScale),visualVariables:(0,B.d9)(this.visualVariables),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})}getControllerHash(){return`${this.attributes.map(de=>de.field||de.valueExpression||"")}-${this.outline&&JSON.stringify(this.outline.toJSON())||""}`}collectRequiredFields(de,le){var me=this;return(0,M.Z)(function*(){yield me.collectVVRequiredFields(de,le);for(const ce of me.attributes)ce.valueExpression&&(yield(0,x.io)(de,le,ce.valueExpression)),ce.field&&de.add(ce.field)})()}};(0,O._)([(0,L.Cb)({type:[W],json:{write:!0}})],oe.prototype,"attributes",void 0),(0,O._)([(0,L.Cb)({type:X.Z,json:{write:!0}})],oe.prototype,"backgroundColor",void 0),(0,O._)([(0,L.Cb)({type:Boolean}),(0,N.B)("dotBlendingEnabled")],oe.prototype,"blendDots",void 0),(0,O._)([(0,L.Cb)({type:Boolean,json:{write:!0}})],oe.prototype,"dotBlendingEnabled",void 0),(0,O._)([(0,L.Cb)({type:String,json:{write:!1}})],oe.prototype,"dotShape",void 0),(0,O._)([(0,L.Cb)({type:Number,json:{write:!0,origins:{"web-map":{write:!1},"web-scene":{write:!1}}}})],oe.prototype,"dotSize",void 0),(0,O._)([(0,L.Cb)({type:ue,json:{write:!0}})],oe.prototype,"legendOptions",void 0),(0,O._)([(0,L.Cb)({type:fe.Z,json:{default:null,write:!0}})],oe.prototype,"outline",void 0),(0,O._)([(0,L.Cb)({type:Number,json:{write:!0}})],oe.prototype,"dotValue",void 0),(0,O._)([(0,L.Cb)({type:Number}),(0,N.B)("dotValue")],oe.prototype,"referenceDotValue",void 0),(0,O._)([(0,L.Cb)({type:Number,json:{write:!0}})],oe.prototype,"referenceScale",void 0),(0,O._)([(0,L.Cb)({type:Number,json:{write:!0}})],oe.prototype,"seed",void 0),(0,O._)([(0,z.J)({dotDensity:"dot-density"})],oe.prototype,"type",void 0),oe=pe=(0,O._)([(0,T.j)("esri.renderers.DotDensityRenderer")],oe);const K=oe},54928:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>F});var se,M=E(15861),O=E(17626),X=E(91558),B=E(58817),N=E(77712),z=(E(90912),E(55342)),L=E(76898),T=E(36630),x=E(69357),Z=E(86810);E(85931),E(8314);let ne=se=class extends Z.wq{constructor(k){super(k),this.color=null,this.ratio=null}clone(){return new se({color:this.color,ratio:this.ratio})}};(0,O._)([(0,N.Cb)({type:X.Z,json:{write:!0}})],ne.prototype,"color",void 0),(0,O._)([(0,N.Cb)({type:Number,json:{write:!0}})],ne.prototype,"ratio",void 0),ne=se=(0,O._)([(0,L.j)("esri.renderers.support.HeatmapColorStop")],ne);const j=ne;var I;let w=I=class extends x.Z{constructor(k){super(k),this.blurRadius=10,this.referenceScale=0,this.colorStops=[new j({ratio:0,color:new X.Z("rgba(255, 140, 0, 0)")}),new j({ratio:.75,color:new X.Z("rgba(255, 140, 0, 1)")}),new j({ratio:.9,color:new X.Z("rgba(255, 0,   0, 1)")})],this.field=null,this.fieldOffset=0,this.maxPixelIntensity=100,this.minPixelIntensity=0,this.type="heatmap"}collectRequiredFields(k,W){var re=this;return(0,M.Z)(function*(){const Q=re.field;Q&&"string"==typeof Q&&(0,T.AB)(k,W,Q)})()}getAttributeHash(){return null}getMeshHash(){return`${JSON.stringify(this.colorStops)}.${this.blurRadius}.${this.field}`}clone(){return new I({blurRadius:this.blurRadius,referenceScale:this.referenceScale,colorStops:(0,B.d9)(this.colorStops),field:this.field,maxPixelIntensity:this.maxPixelIntensity,minPixelIntensity:this.minPixelIntensity})}};(0,O._)([(0,N.Cb)({type:Number,json:{write:!0}})],w.prototype,"blurRadius",void 0),(0,O._)([(0,N.Cb)({type:Number})],w.prototype,"referenceScale",void 0),(0,O._)([(0,N.Cb)({type:[j],json:{write:!0}})],w.prototype,"colorStops",void 0),(0,O._)([(0,N.Cb)({type:String,json:{write:!0}})],w.prototype,"field",void 0),(0,O._)([(0,N.Cb)({type:Number,json:{write:{overridePolicy:(k,W,re)=>({enabled:null==re})}}})],w.prototype,"fieldOffset",void 0),(0,O._)([(0,N.Cb)({type:Number,json:{write:!0}})],w.prototype,"maxPixelIntensity",void 0),(0,O._)([(0,N.Cb)({type:Number,json:{write:!0}})],w.prototype,"minPixelIntensity",void 0),(0,O._)([(0,z.J)({heatmap:"heatmap"})],w.prototype,"type",void 0),w=I=(0,O._)([(0,L.j)("esri.renderers.HeatmapRenderer")],w);const F=w},69357:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>$});var M=E(15861),O=E(17626),X=E(2076),B=E(86810),N=E(77712),T=(E(85931),E(8314),E(90912),E(76898)),x=E(15312);const Z=new X.X({simple:"simple",uniqueValue:"unique-value",classBreaks:"class-breaks",heatmap:"heatmap",dotDensity:"dot-density",dictionary:"dictionary"},{ignoreUnknown:!0});let Y=class extends B.wq{constructor(se){super(se),this.authoringInfo=null,this.type=null}getRequiredFields(se){var ne=this;return(0,M.Z)(function*(){if(!ne.collectRequiredFields)return[];const j=new Set;return yield ne.collectRequiredFields(j,se),Array.from(j).sort()})()}getSymbol(se,ne){}getSymbolAsync(se,ne){return(0,M.Z)(function*(){})()}getSymbols(){return[]}getAttributeHash(){return JSON.stringify(this)}getMeshHash(){return JSON.stringify(this)}};(0,O._)([(0,N.Cb)({type:x.Z,json:{write:!0}})],Y.prototype,"authoringInfo",void 0),(0,O._)([(0,N.Cb)({type:Z.apiValues,readOnly:!0,json:{type:Z.jsonValues,read:!1,write:{writer:Z.write,ignoreOrigin:!0}}})],Y.prototype,"type",void 0),Y=(0,O._)([(0,T.j)("esri.renderers.Renderer")],Y);const $=Y},40342:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>$});var Z,M=E(15861),O=E(17626),X=E(58817),B=E(77712),ee=(E(90912),E(55342)),z=E(76898),L=E(69357),T=E(2432),x=E(76457);let Y=Z=class extends((0,T.W)(L.Z)){constructor(se){super(se),this.description=null,this.label=null,this.symbol=null,this.type="simple"}collectRequiredFields(se,ne){var j=this;return(0,M.Z)(function*(){yield Promise.all([j.collectSymbolFields(se,ne),j.collectVVRequiredFields(se,ne)])})()}collectSymbolFields(se,ne){var j=this;return(0,M.Z)(function*(){yield Promise.all(j.getSymbols().map(I=>I.collectRequiredFields(se,ne)))})()}getSymbol(se,ne){return this.symbol}getSymbolAsync(se,ne){var j=this;return(0,M.Z)(function*(){return j.symbol})()}getSymbols(){return this.symbol?[this.symbol]:[]}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce((se,ne)=>se+ne.getAttributeHash(),"")}getMeshHash(){return this.getSymbols().reduce((se,ne)=>se+JSON.stringify(ne),"")}get arcadeRequired(){return this.arcadeRequiredForVisualVariables}clone(){return new Z({description:this.description,label:this.label,symbol:this.symbol&&this.symbol.clone(),visualVariables:(0,X.d9)(this.visualVariables),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})}};(0,O._)([(0,B.Cb)({type:String,json:{write:!0}})],Y.prototype,"description",void 0),(0,O._)([(0,B.Cb)({type:String,json:{write:!0}})],Y.prototype,"label",void 0),(0,O._)([(0,B.Cb)(x.G)],Y.prototype,"symbol",void 0),(0,O._)([(0,ee.J)({simple:"simple"})],Y.prototype,"type",void 0),Y=Z=(0,O._)([(0,z.j)("esri.renderers.SimpleRenderer")],Y);const $=Y},14726:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>me});var oe,M=E(15861),O=E(17626),X=E(65787),B=E(26584),N=E(58817),ee=E(63290),z=E(62208),L=E(94113),T=E(77712),x=E(66656),Z=E(55342),Y=E(68653),$=E(76898),se=E(99433),ne=E(84682),j=E(90912),I=E(36630),w=E(84687),F=E(69357),k=E(2432),W=E(76457),re=E(10914),Q=E(87266),ue=E(46679),he=E(29840),fe=E(78241),pe=E(12874);const K=ee.Z.getLogger("esri.renderers.UniqueValueRenderer"),de=(0,j.se)(Q.Z);let le=oe=class extends((0,k.W)(F.Z)){constructor(ce){super(ce),this._valueInfoMap={},this._isDefaultSymbolDerived=!1,this.type="unique-value",this.backgroundFillSymbol=null,this.field=null,this.field2=null,this.field3=null,this.valueExpression=null,this.valueExpressionTitle=null,this.legendOptions=null,this.defaultLabel=null,this.fieldDelimiter=null,this.portal=null,this.styleOrigin=null,this.diff={uniqueValueInfos(ge,J){if(!ge&&!J)return;if(!ge||!J)return{type:"complete",oldValue:ge,newValue:J};let ie=!1;const De={type:"collection",added:[],removed:[],changed:[],unchanged:[]};for(let _e=0;_e<J.length;_e++){const Ie=ge.find(xe=>xe.value===J[_e].value);Ie?(0,ne.Hg)(Ie,J[_e])?(De.changed.push({type:"complete",oldValue:Ie,newValue:J[_e]}),ie=!0):De.unchanged.push({oldValue:Ie,newValue:J[_e]}):(De.added.push(J[_e]),ie=!0)}for(let _e=0;_e<ge.length;_e++)J.find(Ie=>Ie.value===ge[_e].value)||(De.removed.push(ge[_e]),ie=!0);return ie?De:void 0}},this._set("uniqueValueInfos",[])}get _cache(){return{compiledFunc:null}}castField(ce){return null==ce||"function"==typeof ce?ce:(0,j.Zs)(ce)}writeField(ce,ge,J,ie){"string"==typeof ce?ge[J]=ce:ie&&ie.messages?ie.messages.push(new B.Z("property:unsupported","UniqueValueRenderer.field set to a function cannot be written to JSON")):K.error(".field: cannot write field to JSON since it's not a string value")}set defaultSymbol(ce){this._isDefaultSymbolDerived=!1,this._set("defaultSymbol",ce)}readPortal(ce,ge,J){return J.portal||w.Z.getDefault()}readStyleOrigin(ce,ge,J){if(ge.styleName)return Object.freeze({styleName:ge.styleName});if(ge.styleUrl){const ie=(0,he.f)(ge.styleUrl,J);return Object.freeze({styleUrl:ie})}}writeStyleOrigin(ce,ge,J,ie){ce.styleName?ge.styleName=ce.styleName:ce.styleUrl&&(ge.styleUrl=(0,he.t)(ce.styleUrl,ie))}set uniqueValueInfos(ce){this.styleOrigin?K.error("#uniqueValueInfos=","Cannot modify unique value infos of a UniqueValueRenderer created from a web style"):(this._set("uniqueValueInfos",ce),this._updateValueInfoMap())}addUniqueValueInfo(ce,ge){if(this.styleOrigin)return void K.error("#addUniqueValueInfo()","Cannot modify unique value infos of a UniqueValueRenderer created from a web style");let J;J="object"==typeof ce?de(ce):new Q.Z({value:ce,symbol:(0,X.se)(ge)}),this.uniqueValueInfos.push(J),this._valueInfoMap[J.value]=J}removeUniqueValueInfo(ce){if(this.styleOrigin)K.error("#removeUniqueValueInfo()","Cannot modify unique value infos of a UniqueValueRenderer created from a web style");else for(let ge=0;ge<this.uniqueValueInfos.length;ge++)if(this.uniqueValueInfos[ge].value===ce+""){delete this._valueInfoMap[ce],this.uniqueValueInfos.splice(ge,1);break}}getUniqueValueInfo(ce,ge){var J=this;return(0,M.Z)(function*(){let ie=ge;return J.valueExpression&&((0,z.Wi)(ge)||(0,z.Wi)(ge.arcade))&&(ie=Bn(Ct({},ie),{arcade:yield(0,ue.LC)()})),J._getUniqueValueInfo(ce,ie)})()}getSymbol(ce,ge){if(this.valueExpression&&((0,z.Wi)(ge)||(0,z.Wi)(ge.arcade)))return void K.error("#getSymbol()","Please use getSymbolAsync if valueExpression is used");const J=this._getUniqueValueInfo(ce,ge);return J&&J.symbol||this.defaultSymbol}getSymbolAsync(ce,ge){var J=this;return(0,M.Z)(function*(){let ie=ge;if(J.valueExpression&&((0,z.Wi)(ie)||(0,z.Wi)(ie.arcade))){const _e=yield(0,ue.LC)(),{arcadeUtils:Ie}=_e;Ie.hasGeometryOperations(J.valueExpression)&&(yield Ie.enableGeometryOperations()),ie=Bn(Ct({},ie),{arcade:_e})}const De=J._getUniqueValueInfo(ce,ie);return De&&De.symbol||J.defaultSymbol})()}getSymbols(){const ce=[];for(const ge of this.uniqueValueInfos)ge.symbol&&ce.push(ge.symbol);return this.defaultSymbol&&ce.push(this.defaultSymbol),ce}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce((ce,ge)=>ce+ge.getAttributeHash(),"")}getMeshHash(){return`${JSON.stringify(this.backgroundFillSymbol)}.${JSON.stringify(this.defaultSymbol)}.${this.uniqueValueInfos.reduce((ce,ge)=>ce+ge.getMeshHash(),"")}.${this.field}.${this.field2}.${this.field3}.${this.fieldDelimiter}.${this.valueExpression}`}clone(){const ce=new oe({field:this.field,field2:this.field2,field3:this.field3,defaultLabel:this.defaultLabel,defaultSymbol:(0,N.d9)(this.defaultSymbol),valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,fieldDelimiter:this.fieldDelimiter,visualVariables:(0,N.d9)(this.visualVariables),legendOptions:(0,N.d9)(this.legendOptions),authoringInfo:this.authoringInfo&&this.authoringInfo.clone(),backgroundFillSymbol:(0,N.d9)(this.backgroundFillSymbol)});this._isDefaultSymbolDerived&&(ce._isDefaultSymbolDerived=!0),ce._set("portal",this.portal);const ge=(0,N.d9)(this.uniqueValueInfos);return this.styleOrigin&&(ce._set("styleOrigin",Object.freeze((0,N.d9)(this.styleOrigin))),Object.freeze(ge)),ce._set("uniqueValueInfos",ge),ce._updateValueInfoMap(),ce}get arcadeRequired(){return this.arcadeRequiredForVisualVariables||!!this.valueExpression}collectRequiredFields(ce,ge){var J=this;return(0,M.Z)(function*(){const ie=[J.collectVVRequiredFields(ce,ge),J.collectSymbolFields(ce,ge)];yield Promise.all(ie)})()}collectSymbolFields(ce,ge){var J=this;return(0,M.Z)(function*(){const ie=[...J.getSymbols().map(De=>De.collectRequiredFields(ce,ge)),(0,I.io)(ce,ge,J.valueExpression)];(0,I.AB)(ce,ge,J.field),(0,I.AB)(ce,ge,J.field2),(0,I.AB)(ce,ge,J.field3),yield Promise.all(ie)})()}populateFromStyle(){return(0,fe.n2)(this.styleOrigin,{portal:this.portal}).then(ce=>{const ge=[];return this._valueInfoMap={},ce&&ce.data&&Array.isArray(ce.data.items)&&ce.data.items.forEach(J=>{const ie=new pe.Z({styleUrl:ce.styleUrl,styleName:ce.styleName,portal:this.portal,name:J.name});this.defaultSymbol||J.name!==ce.data.defaultItem||(this.defaultSymbol=ie,this._isDefaultSymbolDerived=!0);const De=new Q.Z({value:J.name,symbol:ie});ge.push(De),this._valueInfoMap[J.name]=De}),this._set("uniqueValueInfos",Object.freeze(ge)),!this.defaultSymbol&&this.uniqueValueInfos.length&&(this.defaultSymbol=this.uniqueValueInfos[0].symbol,this._isDefaultSymbolDerived=!0),this})}_updateValueInfoMap(){this._valueInfoMap={},this.uniqueValueInfos.forEach(ce=>this._valueInfoMap[ce.value+""]=ce)}_getUniqueValueInfo(ce,ge){return this.valueExpression?this._getUnqiueValueInfoForExpression(ce,ge):this._getUnqiueValueInfoForFields(ce)}_getUnqiueValueInfoForExpression(ce,ge){const{viewingMode:J,scale:ie,spatialReference:De,arcade:_e}=(0,z.Pt)(ge,{});let Ie=this._cache.compiledFunc;const xe=(0,z.Wg)(_e).arcadeUtils;if(!Ie){const Ve=xe.createSyntaxTree(this.valueExpression);Ie=xe.createFunction(Ve),this._cache.compiledFunc=Ie}const ke=xe.executeFunction(Ie,xe.createExecContext(ce,xe.getViewInfo({viewingMode:J,scale:ie,spatialReference:De})));return this._valueInfoMap[ke+""]}_getUnqiueValueInfoForFields(ce){const ge=this.field,J=ce.attributes;let ie;if("function"!=typeof ge&&this.field2){const De=this.field2,_e=this.field3,Ie=[];ge&&Ie.push(J[ge]),De&&Ie.push(J[De]),_e&&Ie.push(J[_e]),ie=Ie.join(this.fieldDelimiter||"")}else"function"==typeof ge?ie=ge(ce):ge&&(ie=J[ge]);return this._valueInfoMap[ie+""]}static fromPortalStyle(ce,ge){const J=new oe(ge&&ge.properties);J._set("styleOrigin",Object.freeze({styleName:ce})),J._set("portal",ge&&ge.portal||w.Z.getDefault());const ie=J.populateFromStyle();return ie.catch(De=>{K.error(`#fromPortalStyle('${ce}'[, ...])`,"Failed to create unique value renderer from style name",De)}),ie}static fromStyleUrl(ce,ge){const J=new oe(ge&&ge.properties);J._set("styleOrigin",Object.freeze({styleUrl:ce}));const ie=J.populateFromStyle();return ie.catch(De=>{K.error(`#fromStyleUrl('${ce}'[, ...])`,"Failed to create unique value renderer from style URL",De)}),ie}};(0,O._)([(0,T.Cb)({readOnly:!0})],le.prototype,"_cache",null),(0,O._)([(0,Z.J)({uniqueValue:"unique-value"})],le.prototype,"type",void 0),(0,O._)([(0,T.Cb)(W.K)],le.prototype,"backgroundFillSymbol",void 0),(0,O._)([(0,T.Cb)({json:{type:String,read:{source:"field1"},write:{target:"field1"}}})],le.prototype,"field",void 0),(0,O._)([(0,x.p)("field")],le.prototype,"castField",null),(0,O._)([(0,se.c)("field")],le.prototype,"writeField",null),(0,O._)([(0,T.Cb)({type:String,json:{write:!0}})],le.prototype,"field2",void 0),(0,O._)([(0,T.Cb)({type:String,json:{write:!0}})],le.prototype,"field3",void 0),(0,O._)([(0,T.Cb)({type:String,json:{write:!0}})],le.prototype,"valueExpression",void 0),(0,O._)([(0,T.Cb)({type:String,json:{write:!0}})],le.prototype,"valueExpressionTitle",void 0),(0,O._)([(0,T.Cb)({type:re.Z,json:{write:!0}})],le.prototype,"legendOptions",void 0),(0,O._)([(0,T.Cb)({type:String,json:{write:!0}})],le.prototype,"defaultLabel",void 0),(0,O._)([(0,T.Cb)((0,L.RH)(Ct({},W.G),{json:{write:{overridePolicy(){return{enabled:!this._isDefaultSymbolDerived}}},origins:{"web-scene":{write:{overridePolicy(){return{enabled:!this._isDefaultSymbolDerived}}}}}}}))],le.prototype,"defaultSymbol",null),(0,O._)([(0,T.Cb)({type:String,json:{write:!0}})],le.prototype,"fieldDelimiter",void 0),(0,O._)([(0,T.Cb)({type:w.Z,readOnly:!0})],le.prototype,"portal",void 0),(0,O._)([(0,Y.r)("portal",["styleName"])],le.prototype,"readPortal",null),(0,O._)([(0,T.Cb)({readOnly:!0,json:{write:{enabled:!1,overridePolicy:()=>({enabled:!0})}}})],le.prototype,"styleOrigin",void 0),(0,O._)([(0,Y.r)("styleOrigin",["styleName","styleUrl"])],le.prototype,"readStyleOrigin",null),(0,O._)([(0,se.c)("styleOrigin",{styleName:{type:String},styleUrl:{type:String}})],le.prototype,"writeStyleOrigin",null),(0,O._)([(0,T.Cb)({type:[Q.Z],json:{write:{overridePolicy(){return this.styleOrigin?{enabled:!1}:{enabled:!0}}}}})],le.prototype,"uniqueValueInfos",null),le=oe=(0,O._)([(0,$.j)("esri.renderers.UniqueValueRenderer")],le);const me=le},2432:(Qe,Me,E)=>{"use strict";E.d(Me,{W:()=>De});var $,M=E(15861),O=E(17626),X=E(77712),ee=(E(85931),E(8314),E(90912)),z=E(68653),L=E(76898),T=E(99433),x=E(36630),Z=E(17977),Y=E(8029);let se=$=class extends Z.Z{constructor(_e){super(_e),this.type="color",this.normalizationField=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null}}set stops(_e){_e&&Array.isArray(_e)&&(_e=_e.filter(Ie=>!!Ie)).sort((Ie,xe)=>Ie.value-xe.value),this._set("stops",_e)}clone(){return new $({field:this.field,normalizationField:this.normalizationField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,stops:this.stops&&this.stops.map(_e=>_e.clone()),legendOptions:this.legendOptions&&this.legendOptions.clone()})}getAttributeHash(){return`${super.getAttributeHash()}-${this.normalizationField}`}_interpolateData(){return this.stops&&this.stops.map(_e=>_e.value||0)}};(0,O._)([(0,X.Cb)({readOnly:!0})],se.prototype,"cache",null),(0,O._)([(0,X.Cb)({type:["color"],json:{type:["colorInfo"]}})],se.prototype,"type",void 0),(0,O._)([(0,X.Cb)({type:String,json:{write:!0}})],se.prototype,"normalizationField",void 0),(0,O._)([(0,X.Cb)({type:[Y.Z],json:{write:!0}})],se.prototype,"stops",null),se=$=(0,O._)([(0,L.j)("esri.renderers.visualVariables.ColorVariable")],se);const ne=se;var w,j=E(86810),I=E(92236);let F=w=class extends j.wq{constructor(_e){super(_e),this.label=null,this.opacity=null,this.value=null}readOpacity(_e,Ie){return(0,I.b)(Ie.transparency)}writeOpacity(_e,Ie,xe){Ie[xe]=(0,I.a)(_e)}clone(){return new w({label:this.label,opacity:this.opacity,value:this.value})}};(0,O._)([(0,X.Cb)({type:String,json:{write:!0}})],F.prototype,"label",void 0),(0,O._)([(0,X.Cb)({type:Number,json:{type:ee.z8,write:{target:"transparency"}}})],F.prototype,"opacity",void 0),(0,O._)([(0,z.r)("opacity",["transparency"])],F.prototype,"readOpacity",null),(0,O._)([(0,T.c)("opacity")],F.prototype,"writeOpacity",null),(0,O._)([(0,X.Cb)({type:Number,json:{write:!0}})],F.prototype,"value",void 0),F=w=(0,O._)([(0,L.j)("esri.renderers.visualVariables.support.OpacityStop")],F);const k=F;var W;let re=W=class extends Z.Z{constructor(_e){super(_e),this.type="opacity",this.normalizationField=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null}}set stops(_e){_e&&Array.isArray(_e)&&(_e=_e.filter(Ie=>!!Ie)).sort((Ie,xe)=>Ie.value-xe.value),this._set("stops",_e)}clone(){return new W({field:this.field,normalizationField:this.normalizationField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,stops:this.stops&&this.stops.map(_e=>_e.clone()),legendOptions:this.legendOptions&&this.legendOptions.clone()})}getAttributeHash(){return`${super.getAttributeHash()}-${this.normalizationField}`}_interpolateData(){return this.stops&&this.stops.map(_e=>_e.value||0)}};(0,O._)([(0,X.Cb)({readOnly:!0})],re.prototype,"cache",null),(0,O._)([(0,X.Cb)({type:["opacity"],json:{type:["transparencyInfo"]}})],re.prototype,"type",void 0),(0,O._)([(0,X.Cb)({type:String,json:{write:!0}})],re.prototype,"normalizationField",void 0),(0,O._)([(0,X.Cb)({type:[k],json:{write:!0}})],re.prototype,"stops",null),re=W=(0,O._)([(0,L.j)("esri.renderers.visualVariables.OpacityVariable")],re);const Q=re;var ue=E(13398),he=E(68598),fe=E(14517),pe=E(2076),oe=E(63290),K=E(14889);const de=oe.Z.getLogger("esri.renderers.visualVariables.VisualVariableFactory"),le={color:ne,size:he.Z,opacity:Q,rotation:ue.Z},me=new pe.X({colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation",sizeInfo:"size"}),ce=/^\[([^\]]+)\]$/i;let ge=class extends fe.Z{constructor(){super(...arguments),this.colorVariables=null,this.opacityVariables=null,this.rotationVariables=null,this.sizeVariables=null}set visualVariables(_e){if(this._resetVariables(),(_e=_e&&_e.filter(Ie=>!!Ie))&&_e.length){for(const Ie of _e)switch(Ie.type){case"color":this.colorVariables.push(Ie);break;case"opacity":this.opacityVariables.push(Ie);break;case"rotation":this.rotationVariables.push(Ie);break;case"size":this.sizeVariables.push(Ie)}this.sizeVariables.length&&this.sizeVariables.some(Ie=>!!Ie.target)&&_e.sort((Ie,xe)=>{let ke=null;return ke=Ie.target===xe.target?0:Ie.target?1:-1,ke});for(let Ie=0;Ie<_e.length;Ie++)_e[Ie].index=Ie;this._set("visualVariables",_e)}else this._set("visualVariables",_e)}readVariables(_e,Ie,xe){const{rotationExpression:ke,rotationType:Ve}=Ie,ve=ke&&ke.match(ce),we=ve&&ve[1];if(we&&(_e||(_e=[]),_e.push({type:"rotationInfo",rotationType:Ve,field:we})),_e)return _e.map(We=>{const nt=me.read(We.type),Te=le[nt];Te||(de.warn(`Unknown variable type: ${nt}`),xe&&xe.messages&&xe.messages.push(new K.Z("visual-variable:unsupported",`visualVariable of type '${nt}' is not supported`,{definition:We,context:xe})));const Ze=new Te;return Ze.read(We,xe),Ze})}writeVariables(_e,Ie){const xe=[];for(const ke of _e){const Ve=ke.toJSON(Ie);Ve&&xe.push(Ve)}return xe}_resetVariables(){this.colorVariables=[],this.opacityVariables=[],this.rotationVariables=[],this.sizeVariables=[]}};(0,O._)([(0,X.Cb)()],ge.prototype,"visualVariables",null),ge=(0,O._)([(0,L.j)("esri.renderers.visualVariables.VisualVariableFactory")],ge);const J=ge,ie={base:Z.Z,key:"type",typeMap:{opacity:Q,color:ne,rotation:ue.Z,size:he.Z}},De=_e=>{let Ie=class extends _e{constructor(){super(...arguments),this._vvFactory=new J}set visualVariables(xe){this._vvFactory.visualVariables=xe,this._set("visualVariables",this._vvFactory.visualVariables)}readVisualVariables(xe,ke,Ve){return this._vvFactory.readVariables(xe,ke,Ve)}writeVisualVariables(xe,ke,Ve,ve){ke[Ve]=this._vvFactory.writeVariables(xe,ve)}get arcadeRequiredForVisualVariables(){if(!this.visualVariables)return!1;for(const xe of this.visualVariables)if(xe.arcadeRequired)return!0;return!1}hasVisualVariables(xe,ke){return xe?this.getVisualVariablesForType(xe,ke).length>0:this.getVisualVariablesForType("size",ke).length>0||this.getVisualVariablesForType("color",ke).length>0||this.getVisualVariablesForType("opacity",ke).length>0||this.getVisualVariablesForType("rotation",ke).length>0}getVisualVariablesForType(xe,ke){const Ve=this.visualVariables;return Ve?Ve.filter(ve=>ve.type===xe&&("string"==typeof ke?ve.target===ke:!1!==ke||!ve.target)):[]}collectVVRequiredFields(xe,ke){var Ve=this;return(0,M.Z)(function*(){let ve=[];Ve.visualVariables&&(ve=ve.concat(Ve.visualVariables));for(const we of ve)we&&(we.field&&(0,x.AB)(xe,ke,we.field),we.normalizationField&&(0,x.AB)(xe,ke,we.normalizationField),we.valueExpression&&(yield(0,x.io)(xe,ke,we.valueExpression)))})()}};return(0,O._)([(0,X.Cb)({types:[ie],value:null,json:{write:!0}})],Ie.prototype,"visualVariables",null),(0,O._)([(0,z.r)("visualVariables",["visualVariables","rotationType","rotationExpression"])],Ie.prototype,"readVisualVariables",null),(0,O._)([(0,T.c)("visualVariables")],Ie.prototype,"writeVisualVariables",null),Ie=(0,O._)([(0,L.j)("esri.renderers.mixins.VisualVariablesMixin")],Ie),Ie}},15312:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>De});var Z,M=E(17626),O=E(2076),X=E(86810),B=E(58817),N=E(77712),ee=E(90912),z=E(68653),L=E(76898);E(85931),E(8314);let Y=Z=class extends X.wq{constructor(_e){super(_e),this.minValue=0,this.maxValue=0}clone(){return new Z({minValue:this.minValue,maxValue:this.maxValue})}};(0,M._)([(0,N.Cb)({type:Number,json:{write:!0}})],Y.prototype,"minValue",void 0),(0,M._)([(0,N.Cb)({type:Number,json:{write:!0}})],Y.prototype,"maxValue",void 0),Y=Z=(0,M._)([(0,L.j)("esri.renderer.support.AuthoringInfoClassBreakInfo")],Y);const $=Y;var se;let ne=se=class extends X.wq{constructor(_e){super(_e),this.field="",this.normalizationField="",this.label="",this.classBreakInfos=[]}clone(){return new se({field:this.field,normalizationField:this.normalizationField,label:this.label,classBreakInfos:(0,B.d9)(this.classBreakInfos)})}};(0,M._)([(0,N.Cb)({type:String,json:{write:!0}})],ne.prototype,"field",void 0),(0,M._)([(0,N.Cb)({type:String,json:{write:!0}})],ne.prototype,"normalizationField",void 0),(0,M._)([(0,N.Cb)({type:String,json:{write:!0}})],ne.prototype,"label",void 0),(0,M._)([(0,N.Cb)({type:[$],json:{write:!0}})],ne.prototype,"classBreakInfos",void 0),ne=se=(0,M._)([(0,L.j)("esri.renderers.support.AuthoringInfoFieldInfo")],ne);const j=ne;var w,I=E(66656);const F=new O.X({percentTotal:"percent-of-total",ratio:"ratio",percent:"percent"}),k=new O.X({sizeInfo:"size",colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation"}),W={key:_e=>"number"==typeof _e?"number":"string",typeMap:{number:Number,string:String},base:null},re=["high-to-low","above-and-below","centered-on","extremes"],Q=[...new Set(["high-to-low","above-and-below","centered-on","extremes","90-10","above","below","high-to-low","above-and-below","90-10","above","below"])],ue=["seconds","minutes","hours","days","months","years"];let he=w=class extends X.wq{constructor(_e){super(_e),this.endTime=null,this.field=null,this.maxSliderValue=null,this.minSliderValue=null,this.startTime=null,this.type=null,this.units=null}castEndTime(_e){return"string"==typeof _e||"number"==typeof _e?_e:null}castStartTime(_e){return"string"==typeof _e||"number"==typeof _e?_e:null}get style(){return"color"===this.type?this._get("style"):null}set style(_e){this._set("style",_e)}get theme(){return"color"===this.type||"size"===this.type?this._get("theme")||"high-to-low":null}set theme(_e){this._set("theme",_e)}clone(){return new w({endTime:this.endTime,field:this.field,maxSliderValue:this.maxSliderValue,minSliderValue:this.minSliderValue,startTime:this.startTime,style:this.style,theme:this.theme,type:this.type,units:this.units})}};(0,M._)([(0,N.Cb)({types:W,json:{write:!0}})],he.prototype,"endTime",void 0),(0,M._)([(0,I.p)("endTime")],he.prototype,"castEndTime",null),(0,M._)([(0,N.Cb)({type:String,json:{write:!0}})],he.prototype,"field",void 0),(0,M._)([(0,N.Cb)({type:Number,json:{write:!0}})],he.prototype,"maxSliderValue",void 0),(0,M._)([(0,N.Cb)({type:Number,json:{write:!0}})],he.prototype,"minSliderValue",void 0),(0,M._)([(0,N.Cb)({types:W,json:{write:!0}})],he.prototype,"startTime",void 0),(0,M._)([(0,I.p)("startTime")],he.prototype,"castStartTime",null),(0,M._)([(0,N.Cb)({type:F.apiValues,value:null,json:{type:F.jsonValues,read:F.read,write:F.write}})],he.prototype,"style",null),(0,M._)([(0,N.Cb)({type:Q,value:null,json:{type:Q,origins:{"web-scene":{type:re,write:{writer:(_e,Ie)=>{re.indexOf(_e)>-1&&(Ie.theme=_e)}}}},write:!0}})],he.prototype,"theme",null),(0,M._)([(0,N.Cb)({type:k.apiValues,json:{type:k.jsonValues,read:k.read,write:k.write}})],he.prototype,"type",void 0),(0,M._)([(0,N.Cb)({type:ue,json:{type:ue,write:!0}})],he.prototype,"units",void 0),he=w=(0,M._)([(0,L.j)("esri.renderers.support.AuthoringInfoVisualVariable")],he);const fe=he;var oe,pe=E(79023);const K=new O.X({esriClassifyDefinedInterval:"defined-interval",esriClassifyEqualInterval:"equal-interval",esriClassifyManual:"manual",esriClassifyNaturalBreaks:"natural-breaks",esriClassifyQuantile:"quantile",esriClassifyStandardDeviation:"standard-deviation"}),de=new O.X({classedSize:"class-breaks-size",classedColor:"class-breaks-color",univariateColorSize:"univariate-color-size",relationship:"relationship",predominance:"predominance",dotDensity:"dot-density",flow:"flow"}),le=new O.X({classedSize:"class-breaks-size",classedColor:"class-breaks-color",univariateColorSize:"univariate-color-size",relationship:"relationship",predominance:"predominance",dotDensity:"dot-density"}),me=["inches","feet","yards","miles","nautical-miles","millimeters","centimeters","decimeters","meters","kilometers","decimal-degrees"];let ie=oe=class extends X.wq{constructor(_e){super(_e),this.colorRamp=null,this.lengthUnit=null,this.maxSliderValue=null,this.minSliderValue=null,this.visualVariables=null}get classificationMethod(){const _e=this._get("classificationMethod"),Ie=this.type;return Ie&&"relationship"!==Ie?"class-breaks-size"===Ie||"class-breaks-color"===Ie?_e||"manual":null:_e}set classificationMethod(_e){this._set("classificationMethod",_e)}readColorRamp(_e){if(_e)return(0,pe.i)(_e)}get fields(){return this.type&&"predominance"!==this.type?null:this._get("fields")}set fields(_e){this._set("fields",_e)}get field1(){return this.type&&"relationship"!==this.type?null:this._get("field1")}set field1(_e){this._set("field1",_e)}get field2(){return this.type&&"relationship"!==this.type?null:this._get("field2")}set field2(_e){this._set("field2",_e)}get flowTheme(){return"flow"===this.type?this._get("flowTheme"):null}set flowTheme(_e){this._set("flowTheme",_e)}get focus(){return this.type&&"relationship"!==this.type?null:this._get("focus")}set focus(_e){this._set("focus",_e)}get numClasses(){return this.type&&"relationship"!==this.type?null:this._get("numClasses")}set numClasses(_e){this._set("numClasses",_e)}get statistics(){return"univariate-color-size"===this.type&&"above-and-below"===this.univariateTheme?this._get("statistics"):null}set statistics(_e){this._set("statistics",_e)}get standardDeviationInterval(){const _e=this.type;return _e&&"relationship"!==_e&&"class-breaks-size"!==_e&&"class-breaks-color"!==_e||this.classificationMethod&&"standard-deviation"!==this.classificationMethod?null:this._get("standardDeviationInterval")}set standardDeviationInterval(_e){this._set("standardDeviationInterval",_e)}get type(){return this._get("type")}set type(_e){let Ie=_e;"classed-size"===_e?Ie="class-breaks-size":"classed-color"===_e&&(Ie="class-breaks-color"),this._set("type",Ie)}get univariateSymbolStyle(){return"univariate-color-size"===this.type&&"above-and-below"===this.univariateTheme?this._get("univariateSymbolStyle"):null}set univariateSymbolStyle(_e){this._set("univariateSymbolStyle",_e)}get univariateTheme(){return"univariate-color-size"===this.type?this._get("univariateTheme"):null}set univariateTheme(_e){this._set("univariateTheme",_e)}clone(){return new oe({classificationMethod:this.classificationMethod,colorRamp:(0,B.d9)(this.colorRamp),fields:this.fields&&this.fields.slice(0),field1:(0,B.d9)(this.field1),field2:(0,B.d9)(this.field2),focus:this.focus,numClasses:this.numClasses,maxSliderValue:this.maxSliderValue,minSliderValue:this.minSliderValue,lengthUnit:this.lengthUnit,statistics:this.statistics,standardDeviationInterval:this.standardDeviationInterval,type:this.type,visualVariables:this.visualVariables&&this.visualVariables.map(_e=>_e.clone()),univariateSymbolStyle:this.univariateSymbolStyle,univariateTheme:this.univariateTheme,flowTheme:this.flowTheme})}};(0,M._)([(0,N.Cb)({type:K.apiValues,value:null,json:{type:K.jsonValues,read:K.read,write:K.write,origins:{"web-document":{default:"manual",type:K.jsonValues,read:K.read,write:K.write}}}})],ie.prototype,"classificationMethod",null),(0,M._)([(0,N.Cb)({types:pe.V,json:{write:!0}})],ie.prototype,"colorRamp",void 0),(0,M._)([(0,z.r)("colorRamp")],ie.prototype,"readColorRamp",null),(0,M._)([(0,N.Cb)({type:[String],value:null,json:{write:!0}})],ie.prototype,"fields",null),(0,M._)([(0,N.Cb)({type:j,value:null,json:{write:!0}})],ie.prototype,"field1",null),(0,M._)([(0,N.Cb)({type:j,value:null,json:{write:!0}})],ie.prototype,"field2",null),(0,M._)([(0,N.Cb)({type:["flow-line","wave-front"],value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],ie.prototype,"flowTheme",null),(0,M._)([(0,N.Cb)({type:["HH","HL","LH","LL"],value:null,json:{write:!0}})],ie.prototype,"focus",null),(0,M._)([(0,N.Cb)({type:Number,value:null,json:{type:ee.z8,write:!0}})],ie.prototype,"numClasses",null),(0,M._)([(0,N.Cb)({type:me,json:{type:me,read:!1,write:!1,origins:{"web-scene":{read:!0,write:!0}}}})],ie.prototype,"lengthUnit",void 0),(0,M._)([(0,N.Cb)({type:Number,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],ie.prototype,"maxSliderValue",void 0),(0,M._)([(0,N.Cb)({type:Number,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],ie.prototype,"minSliderValue",void 0),(0,M._)([(0,N.Cb)({type:Object,value:null,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],ie.prototype,"statistics",null),(0,M._)([(0,N.Cb)({type:[.25,.33,.5,1],value:null,json:{type:[.25,.33,.5,1],write:!0}})],ie.prototype,"standardDeviationInterval",null),(0,M._)([(0,N.Cb)({type:de.apiValues,value:null,json:{type:de.jsonValues,read:de.read,write:de.write,origins:{"web-scene":{type:le.jsonValues,write:{writer:le.write,overridePolicy:_e=>({enabled:"flow"!==_e})}}}}})],ie.prototype,"type",null),(0,M._)([(0,N.Cb)({type:[fe],json:{write:!0}})],ie.prototype,"visualVariables",void 0),(0,M._)([(0,N.Cb)({type:["caret","circle-caret","arrow","circle-arrow","plus-minus","circle-plus-minus","square","circle","triangle","happy-sad","thumb","custom"],value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],ie.prototype,"univariateSymbolStyle",null),(0,M._)([(0,N.Cb)({type:["high-to-low","above-and-below","above","below","90-10"],value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],ie.prototype,"univariateTheme",null),ie=oe=(0,M._)([(0,L.j)("esri.renderers.support.AuthoringInfo")],ie);const De=ie},74400:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>Z});var T,M=E(17626),O=E(86810),X=E(77712),z=(E(85931),E(8314),E(90912),E(76898)),L=E(76457);let x=T=class extends O.wq{constructor(Y){super(Y),this.description=null,this.label=null,this.minValue=null,this.maxValue=0,this.symbol=null}clone(){return new T({description:this.description,label:this.label,minValue:this.minValue,maxValue:this.maxValue,symbol:this.symbol?this.symbol.clone():null})}getMeshHash(){const Y=JSON.stringify(this.symbol);return`${this.minValue}.${this.maxValue}.${Y}`}};(0,M._)([(0,X.Cb)({type:String,json:{write:!0}})],x.prototype,"description",void 0),(0,M._)([(0,X.Cb)({type:String,json:{write:!0}})],x.prototype,"label",void 0),(0,M._)([(0,X.Cb)({type:Number,json:{read:{source:"classMinValue"},write:{target:"classMinValue"}}})],x.prototype,"minValue",void 0),(0,M._)([(0,X.Cb)({type:Number,json:{read:{source:"classMaxValue"},write:{target:"classMaxValue"}}})],x.prototype,"maxValue",void 0),(0,M._)([(0,X.Cb)(L.G)],x.prototype,"symbol",void 0),x=T=(0,M._)([(0,z.j)("esri.renderers.support.ClassBreakInfo")],x);const Z=x},29996:(Qe,Me,E)=>{"use strict";E.r(Me),E.d(Me,{DictionaryLoader:()=>se});var M=E(15861),O=E(91558),X=E(84792),B=E(26584),N=E(63290),ee=E(93961),z=E(62208),L=E(10699),T=E(77275),x=E(46679),Z=E(94398);const Y=N.Z.getLogger("esri.renderers.support.DictionaryLoader"),$={type:"CIMSimpleLineCallout",lineSymbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMSolidStroke",width:.5,color:[0,0,0,255]}]}};class se{constructor(w,F,k){this.config=null,this.fieldMap=null,this.url=null,this._ongoingRequests=new Map,this._symbolCache=new ee.Z(100),this.url=w,this.config=F,this.fieldMap=k}getSymbolFields(){return this._symbolFields}getSymbolAsync(w,F){var k=this;return(0,M.Z)(function*(){let W;k._dictionaryPromise||(k._dictionaryPromise=k.fetchResources(F));try{W=yield k._dictionaryPromise}catch(le){if((0,L.D_)(le))return k._dictionaryPromise=null,null}const re={};if(k.fieldMap)for(const le of k._symbolFields){const me=k.fieldMap[le];re[le]=me&&null!=w.attributes[me]?""+w.attributes[me]:""}const Q=W(re,F);if(!Q||"string"!=typeof Q)return null;const ue=(0,T.hP)(Q).toString(),he=k._symbolCache.get(ue);if(he)return he.catch(()=>{k._symbolCache.pop(ue)}),he;const fe=Q.split(";"),pe=[],oe=[];for(const le of fe)if(le)if(le.includes("po:")){const me=le.substr(3).split("|");if(3===me.length){const ce=me[0],ge=me[1];let J=me[2];if("DashTemplate"===ge)J=J.split(" ").map(ie=>Number(ie));else if("Color"===ge){const ie=new O.Z(J).toRgba();J=[ie[0],ie[1],ie[2],255*ie[3]]}else J=Number(J);oe.push({primitiveName:ce,propertyName:ge,value:J})}}else if(le.includes("|")){for(const me of le.split("|"))if(k._itemNames.has(me)){pe.push(me);break}}else k._itemNames.has(le)&&pe.push(le);const K=!(0,z.pC)(w.geometry)||!w.geometry.hasZ&&"point"===w.geometry.type,de=k._cimPartsToCIMSymbol(pe,oe,K,F);return k._symbolCache.put(ue,de,1),de})()}fetchResources(w){var F=this;return(0,M.Z)(function*(){if(F._dictionaryPromise)return F._dictionaryPromise;if(!F.url)return void Y.error("no valid URL!");const k=(0,z.pC)(w)?w.abortOptions:null,W=(0,X.default)(F.url+"/resources/styles/dictionary-info.json",Ct({responseType:"json",query:{f:"json"}},k)),[{data:re}]=yield Promise.all([W,(0,x.LC)()]);if(!re)throw F._dictionaryPromise=null,new B.Z("esri.renderers.DictionaryRenderer","Bad dictionary data!");const Q=re.expression,ue=re.authoringInfo;F._refSymbolUrlTemplate=F.url+"/"+re.cimRefTemplateUrl,F._itemNames=new Set(re.itemsNames),F._symbolFields=ue.symbol;const he={};if(F.config){const pe=F.config;for(const oe in pe)he[oe]=pe[oe]}if(ue.configuration)for(const pe of ue.configuration)he.hasOwnProperty(pe.name)||(he[pe.name]=pe.value);const fe=[];if((0,z.pC)(w)&&w.fields&&F.fieldMap)for(const pe of F._symbolFields){const oe=F.fieldMap[pe],K=w.fields.filter(de=>de.name===oe);K.length>0&&fe.push(Bn(Ct({},K[0]),{name:pe}))}return F._dictionaryPromise=(0,x.pp)(Q,(0,z.pC)(w)?w.spatialReference:null,fe,he).then(pe=>{const oe={scale:0};return(K,de)=>{const le=pe.repurposeFeature({geometry:null,attributes:K});return oe.scale=(0,z.pC)(de)?de.scale:void 0,pe.evaluate({$feature:le,$view:oe})}}).catch(pe=>(Y.error("Creating dictinoary expression failed:",pe),null)),F._dictionaryPromise})()}_cimPartsToCIMSymbol(w,F,k,W){var re=this;return(0,M.Z)(function*(){const Q=new Array(w.length);for(let fe=0;fe<w.length;fe++)Q[fe]=re._getSymbolPart(w[fe],W);const ue=yield Promise.all(Q),he=re.fieldMap;for(const fe of ue)ne(fe,he);return new Z.Z({data:re._combineSymbolParts(ue,F,k)})})()}_getSymbolPart(w,F){var k=this;return(0,M.Z)(function*(){if(k._ongoingRequests.has(w))return k._ongoingRequests.get(w).then(Q=>Q.data);const W=k._refSymbolUrlTemplate.replace(/\{itemName\}/gi,w),re=(0,X.default)(W,Ct({responseType:"json",query:{f:"json"}},F));k._ongoingRequests.set(w,re);try{return(yield re).data}catch(Q){return k._ongoingRequests.delete(w),Promise.reject(Q)}})()}_combineSymbolParts(w,F,k){if(!w||0===w.length)return null;const W=Ct({},w[0]);if(w.length>1){W.symbolLayers=[];for(const re of w)W.symbolLayers.unshift(...re.symbolLayers)}return k&&(W.callout=$),{type:"CIMSymbolReference",symbol:W,primitiveOverrides:F}}}function ne(I,w){if(!I)return;const F=I.symbolLayers;if(!F)return;let k=F.length;for(;k--;){const W=F[k];W&&!1!==W.enable&&"CIMVectorMarker"===W.type&&j(W,w)}}function j(I,w){const F=I.markerGraphics;if(F)for(const k of F){if(!k)continue;const W=k.symbol;if(W)switch(W.type){case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":ne(W,w);break;case"CIMTextSymbol":W.fieldMap=w}}}},10914:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>x});var L,M=E(17626),O=E(86810),X=E(77712),z=(E(85931),E(8314),E(90912),E(76898));let T=L=class extends O.wq{constructor(){super(...arguments),this.title=null}clone(){return new L({title:this.title})}};(0,M._)([(0,X.Cb)({type:String,json:{write:!0}})],T.prototype,"title",void 0),T=L=(0,M._)([(0,z.j)("esri.renderers.support.LegendOptions")],T);const x=T},87266:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>Z});var T,M=E(17626),O=E(86810),X=E(77712),ee=(E(85931),E(8314),E(66656)),z=E(76898),L=E(76457);let x=T=class extends O.wq{constructor(Y){super(Y),this.description=null,this.label=null,this.symbol=null,this.value=null}castValue(Y){return null==Y||"string"==typeof Y||"number"==typeof Y?Y:`${Y}`}clone(){return new T({value:this.value,description:this.description,label:this.label,symbol:this.symbol?this.symbol.clone():null})}getMeshHash(){const Y=JSON.stringify(this.symbol&&this.symbol.toJSON());return`${this.value}.${Y}`}};(0,M._)([(0,X.Cb)({type:String,json:{write:!0}})],x.prototype,"description",void 0),(0,M._)([(0,X.Cb)({type:String,json:{write:!0}})],x.prototype,"label",void 0),(0,M._)([(0,X.Cb)(L.G)],x.prototype,"symbol",void 0),(0,M._)([(0,X.Cb)({json:{type:String,write:{writer:(Y,$)=>{$.value=null==Y?void 0:Y.toString()}}}})],x.prototype,"value",void 0),(0,M._)([(0,ee.p)("value")],x.prototype,"castValue",null),x=T=(0,M._)([(0,z.j)("esri.renderers.support.UniqueValueInfo")],x);const Z=x},76457:(Qe,Me,E)=>{"use strict";E.d(Me,{G:()=>ee,K:()=>z});var M=E(65787),O=E(383),X=E(65270),B=E(10012),N=E(89673);const ee={types:M.QT,json:{write:{writer:X.cW},origins:{"web-scene":{types:M.f_,write:{writer:X.cW},read:{reader:(0,O.d)({types:M.f_})}}}}},z={types:{base:B.Z,key:"type",typeMap:{"simple-fill":M.LB.typeMap["simple-fill"],"picture-fill":M.LB.typeMap["picture-fill"],"polygon-3d":M.LB.typeMap["polygon-3d"]}},json:{write:{writer:X.cW},origins:{"web-scene":{type:N.Z,write:{writer:X.cW}}}}}},33474:(Qe,Me,E)=>{"use strict";E.d(Me,{a:()=>ee,i:()=>B});var M=E(14889),O=E(383),X=E(32088);function B(z,L){return ee(z,null,L)}const N=(0,O.d)({types:X.A});function ee(z,L,T){return z?z&&(z.styleName||z.styleUrl)&&"uniqueValue"!==z.type?(T&&T.messages&&T.messages.push(new M.Z("renderer:unsupported","Only UniqueValueRenderer can be referenced from a web style, but found '"+z.type+"'",{definition:z,context:T})),null):N(z,L,T):null}},21254:(Qe,Me,E)=>{"use strict";E.d(Me,{a:()=>X});var M=E(16730),O=E(94425);const X={inches:(0,M.En)(1,"meters","inches"),feet:(0,M.En)(1,"meters","feet"),"us-feet":(0,M.En)(1,"meters","us-feet"),yards:(0,M.En)(1,"meters","yards"),miles:(0,M.En)(1,"meters","miles"),"nautical-miles":(0,M.En)(1,"meters","nautical-miles"),millimeters:(0,M.En)(1,"meters","millimeters"),centimeters:(0,M.En)(1,"meters","centimeters"),decimeters:(0,M.En)(1,"meters","decimeters"),meters:(0,M.En)(1,"meters","meters"),kilometers:(0,M.En)(1,"meters","kilometers"),"decimal-degrees":1/(0,M.ty)(1,"meters",O.sv.radius)}},39683:(Qe,Me,E)=>{"use strict";E.d(Me,{y:()=>N});var M=E(15861),O=E(59213),X=E(10699),B=E(14889);function N(z,L,T){return ee.apply(this,arguments)}function ee(){return(ee=(0,M.Z)(function*(z,L,T){const x=z&&z.getAtOrigin&&z.getAtOrigin("renderer",L.origin);if(x&&"unique-value"===x.type&&x.styleOrigin){const Z=yield(0,O.q6)(x.populateFromStyle());if((0,X.k_)(T),!1===Z.ok){const Y=Z.error;L&&L.messages&&L.messages.push(new B.Z("renderer:style-reference",`Failed to create unique value renderer from style reference: ${Y.message}`,{error:Y,context:L})),z.clear("renderer",L.origin)}}})).apply(this,arguments)}},32088:(Qe,Me,E)=>{"use strict";E.d(Me,{A:()=>L,o:()=>T});var M=E(4832),O=E(49067),X=E(26284),B=E(54928),N=E(69357),ee=E(40342),z=E(14726);const L={key:"type",base:N.Z,typeMap:{heatmap:B.Z,simple:ee.Z,"unique-value":z.Z,"class-breaks":M.Z,"dot-density":X.Z,dictionary:O.Z},errorContext:"renderer"},T={key:"type",base:N.Z,typeMap:{simple:ee.Z,"unique-value":z.Z,"class-breaks":M.Z},errorContext:"renderer"}},13398:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>Y});var x,M=E(17626),O=E(26584),X=E(77712),z=(E(85931),E(8314),E(90912),E(76898)),L=E(99433),T=E(17977);let Z=x=class extends T.Z{constructor($){super($),this.axis=null,this.type="rotation",this.rotationType="geographic",this.valueExpressionTitle=null}get cache(){return{hasExpression:!!this.valueExpression,compiledFunc:null}}writeValueExpressionTitleWebScene($,se,ne,j){j&&j.messages&&j.messages.push(new O.Z("property:unsupported",this.type+"VisualVariable.valueExpressionTitle is not supported in Web Scene. Please remove this property to save the Web Scene.",{instance:this,propertyName:`visualVariables[${this.index}].valueExpressionTitle`,context:j}))}clone(){return new x({axis:this.axis,rotationType:this.rotationType,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,legendOptions:this.legendOptions&&this.legendOptions.clone()})}};(0,M._)([(0,X.Cb)({readOnly:!0})],Z.prototype,"cache",null),(0,M._)([(0,X.Cb)({type:["heading","tilt","roll"],json:{origins:{"web-scene":{default:"heading",write:!0}}}})],Z.prototype,"axis",void 0),(0,M._)([(0,X.Cb)({type:["rotation"],json:{type:["rotationInfo"]}})],Z.prototype,"type",void 0),(0,M._)([(0,X.Cb)({type:["geographic","arithmetic"],json:{write:!0,origins:{"web-document":{write:!0,default:"geographic"}}}})],Z.prototype,"rotationType",void 0),(0,M._)([(0,X.Cb)({type:String,json:{write:!0}})],Z.prototype,"valueExpressionTitle",void 0),(0,M._)([(0,L.c)("web-scene","valueExpressionTitle")],Z.prototype,"writeValueExpressionTitleWebScene",null),Z=x=(0,M._)([(0,z.j)("esri.renderers.visualVariables.RotationVariable")],Z);const Y=Z},68598:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>K});var I,M=E(17626),O=E(26584),X=E(2076),B=E(63290),N=E(23841),ee=E(77712),T=(E(85931),E(8314),E(66656)),x=E(68653),Z=E(76898),Y=E(99433),$=E(17977),se=E(64902),j=(E(90912),E(11333));let w=I=class extends j.Z{constructor(){super(...arguments),this.customValues=null}clone(){return new I({title:this.title,showLegend:this.showLegend,customValues:this.customValues&&this.customValues.slice(0)})}};(0,M._)([(0,ee.Cb)({type:[Number],json:{write:!0}})],w.prototype,"customValues",void 0),w=I=(0,M._)([(0,Z.j)("esri.renderers.visualVariables.support.SizeVariableLegendOptions")],w);const F=w;var re,k=E(86971),W=E(81808);const Q=B.Z.getLogger("esri.renderers.visualVariables.SizeVariable"),ue=new X.X({width:"width",depth:"depth",height:"height",widthAndDepth:"width-and-depth",all:"all"}),he=new X.X({unknown:"unknown",inch:"inches",foot:"feet",yard:"yards",mile:"miles","nautical-mile":"nautical-miles",millimeter:"millimeters",centimeter:"centimeters",decimeter:"decimeters",meter:"meters",kilometer:"kilometers","decimal-degree":"decimal-degrees"});function fe(de){if(null!=de)return"string"==typeof de||"number"==typeof de?(0,N.t_)(de):"size"===de.type?(0,k.iY)(de)?de:(delete(de=Ct({},de)).type,new oe(de)):void 0}function pe(de,le,me){if("object"!=typeof de)return de;const ce=new oe;return ce.read(de,me),ce}let oe=re=class extends $.Z{constructor(de){super(de),this.axis=null,this.legendOptions=null,this.normalizationField=null,this.scaleBy=null,this.target=null,this.type="size",this.useSymbolValue=null,this.valueExpression=null,this.valueRepresentation=null,this.valueUnit=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null,isScaleDriven:W.viewScaleRE.test(this.valueExpression)}}set expression(de){Q.warn("'expression' is deprecated since version 4.2. Use 'valueExpression' instead. The only supported expression is 'view.scale'."),"view.scale"===de?(this.valueExpression="$view.scale",this._set("expression",de)):this._set("expression",null)}set index(de){(0,k.iY)(this.maxSize)&&(this.maxSize.index=`visualVariables[${de}].maxSize`),(0,k.iY)(this.minSize)&&(this.minSize.index=`visualVariables[${de}].minSize`),this._set("index",de)}get inputValueType(){return(0,k.PS)(this)}set maxDataValue(de){de&&this.stops&&(Q.warn("cannot set maxDataValue when stops is not null."),de=null),this._set("maxDataValue",de)}set maxSize(de){de&&this.stops&&(Q.warn("cannot set maxSize when stops is not null."),de=null),this._set("maxSize",de)}castMaxSize(de){return fe(de)}readMaxSize(de,le,me){return pe(de,0,me)}set minDataValue(de){de&&this.stops&&(Q.warn("cannot set minDataValue when stops is not null."),de=null),this._set("minDataValue",de)}set minSize(de){de&&this.stops&&(Q.warn("cannot set minSize when stops is not null."),de=null),this._set("minSize",de)}castMinSize(de){return fe(de)}readMinSize(de,le,me){return pe(de,0,me)}get arcadeRequired(){return!!this.valueExpression||this.minSize&&"object"==typeof this.minSize&&this.minSize.arcadeRequired||this.maxSize&&"object"==typeof this.maxSize&&this.maxSize.arcadeRequired}set stops(de){null==this.minDataValue&&null==this.maxDataValue&&null==this.minSize&&null==this.maxSize?de&&Array.isArray(de)&&(de=de.filter(le=>!!le)).sort((le,me)=>le.value-me.value):de&&(Q.warn("cannot set stops when one of minDataValue, maxDataValue, minSize or maxSize is not null."),de=null),this._set("stops",de)}get transformationType(){return(0,k.QW)(this,this.inputValueType)}readValueExpression(de,le){return de||le.expression&&"$view.scale"}writeValueExpressionWebScene(de,le,me,ce){if("$view.scale"===de){if(ce&&ce.messages){const ge=this.index;ce.messages.push(new O.Z("property:unsupported",this.type+"VisualVariable.valueExpression = '$view.scale' is not supported in Web Scene. Please remove this property to save the Web Scene.",{instance:this,propertyName:("string"==typeof ge?ge:`visualVariables[${ge}]`)+".valueExpression",context:ce}))}}else le[me]=de}readValueUnit(de){return de?he.read(de):null}clone(){return new re({axis:this.axis,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,maxDataValue:this.maxDataValue,maxSize:(0,k.iY)(this.maxSize)?this.maxSize.clone():this.maxSize,minDataValue:this.minDataValue,minSize:(0,k.iY)(this.minSize)?this.minSize.clone():this.minSize,normalizationField:this.normalizationField,stops:this.stops&&this.stops.map(de=>de.clone()),target:this.target,useSymbolValue:this.useSymbolValue,valueRepresentation:this.valueRepresentation,valueUnit:this.valueUnit,legendOptions:this.legendOptions&&this.legendOptions.clone()})}flipSizes(){if(this.transformationType===k.hL.ClampedLinear){const{minSize:de,maxSize:le}=this;return this.minSize=le,this.maxSize=de,this}if(this.transformationType===k.hL.Stops){const de=this.stops,le=de.map(ce=>ce.size).reverse(),me=de.length;for(let ce=0;ce<me;ce++)de[ce].size=le[ce];return this}return this}getAttributeHash(){return`${super.getAttributeHash()}-${this.target}-${this.normalizationField}`}_interpolateData(){return this.stops&&this.stops.map(de=>de.value||0)}};(0,M._)([(0,ee.Cb)({readOnly:!0})],oe.prototype,"cache",null),(0,M._)([(0,ee.Cb)({type:ue.apiValues,json:{type:ue.jsonValues,origins:{"web-map":{read:!1}},read:ue.read,write:ue.write}})],oe.prototype,"axis",void 0),(0,M._)([(0,ee.Cb)({type:String,value:null,json:{read:!1}})],oe.prototype,"expression",null),(0,M._)([(0,ee.Cb)()],oe.prototype,"index",null),(0,M._)([(0,ee.Cb)({type:String,readOnly:!0})],oe.prototype,"inputValueType",null),(0,M._)([(0,ee.Cb)({type:F,json:{write:!0}})],oe.prototype,"legendOptions",void 0),(0,M._)([(0,ee.Cb)({type:Number,value:null,json:{write:!0}})],oe.prototype,"maxDataValue",null),(0,M._)([(0,ee.Cb)({type:Number,value:null,json:{write:!0}})],oe.prototype,"maxSize",null),(0,M._)([(0,T.p)("maxSize")],oe.prototype,"castMaxSize",null),(0,M._)([(0,x.r)("maxSize")],oe.prototype,"readMaxSize",null),(0,M._)([(0,ee.Cb)({type:Number,value:null,json:{write:!0}})],oe.prototype,"minDataValue",null),(0,M._)([(0,ee.Cb)({type:Number,value:null,json:{write:!0}})],oe.prototype,"minSize",null),(0,M._)([(0,T.p)("minSize")],oe.prototype,"castMinSize",null),(0,M._)([(0,x.r)("minSize")],oe.prototype,"readMinSize",null),(0,M._)([(0,ee.Cb)({type:String,json:{write:!0}})],oe.prototype,"normalizationField",void 0),(0,M._)([(0,ee.Cb)({readOnly:!0})],oe.prototype,"arcadeRequired",null),(0,M._)([(0,ee.Cb)({type:String})],oe.prototype,"scaleBy",void 0),(0,M._)([(0,ee.Cb)({type:[se.Z],value:null,json:{write:!0}})],oe.prototype,"stops",null),(0,M._)([(0,ee.Cb)({type:["outline"],json:{write:!0}})],oe.prototype,"target",void 0),(0,M._)([(0,ee.Cb)({type:String,readOnly:!0})],oe.prototype,"transformationType",null),(0,M._)([(0,ee.Cb)({type:["size"],json:{type:["sizeInfo"]}})],oe.prototype,"type",void 0),(0,M._)([(0,ee.Cb)({type:Boolean,json:{write:!0,origins:{"web-map":{read:!1}}}})],oe.prototype,"useSymbolValue",void 0),(0,M._)([(0,ee.Cb)({type:String,json:{write:!0}})],oe.prototype,"valueExpression",void 0),(0,M._)([(0,x.r)("valueExpression",["valueExpression","expression"])],oe.prototype,"readValueExpression",null),(0,M._)([(0,Y.c)("web-scene","valueExpression")],oe.prototype,"writeValueExpressionWebScene",null),(0,M._)([(0,ee.Cb)({type:["radius","diameter","area","width","distance"],json:{write:!0}})],oe.prototype,"valueRepresentation",void 0),(0,M._)([(0,ee.Cb)({type:he.apiValues,json:{write:he.write,origins:{"web-map":{read:!1},"web-scene":{write:!0}}}})],oe.prototype,"valueUnit",void 0),(0,M._)([(0,x.r)("valueUnit")],oe.prototype,"readValueUnit",null),oe=re=(0,M._)([(0,Z.j)("esri.renderers.visualVariables.SizeVariable")],oe);const K=oe},17977:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>ne});var M=E(17626),O=E(2076),X=E(86810),B=E(63290),N=E(77712),L=(E(85931),E(8314),E(66656)),T=E(76898),x=E(90912),Z=E(11333);const Y=B.Z.getLogger("esri.renderers.visualVariables.VisualVariable"),$=new O.X({colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation",sizeInfo:"size"});let se=class extends X.wq{constructor(j){super(j),this.index=null,this.type=null,this.field=null,this.valueExpression=null,this.valueExpressionTitle=null,this.legendOptions=null}castField(j){return null==j?j:"function"==typeof j?(Y.error(".field: field must be a string value"),null):(0,x.Zs)(j)}get arcadeRequired(){return!!this.valueExpression}clone(){}getAttributeHash(){return`${this.type}-${this.field}-${this.valueExpression}`}};(0,M._)([(0,N.Cb)()],se.prototype,"index",void 0),(0,M._)([(0,N.Cb)({type:$.apiValues,readOnly:!0,json:{read:$.read,write:$.write}})],se.prototype,"type",void 0),(0,M._)([(0,N.Cb)({type:String,json:{write:!0}})],se.prototype,"field",void 0),(0,M._)([(0,L.p)("field")],se.prototype,"castField",null),(0,M._)([(0,N.Cb)({type:String,json:{write:!0}})],se.prototype,"valueExpression",void 0),(0,M._)([(0,N.Cb)({type:String,json:{write:!0}})],se.prototype,"valueExpressionTitle",void 0),(0,M._)([(0,N.Cb)({readOnly:!0})],se.prototype,"arcadeRequired",null),(0,M._)([(0,N.Cb)({type:Z.Z,json:{write:!0}})],se.prototype,"legendOptions",void 0),se=(0,M._)([(0,T.j)("esri.renderers.visualVariables.VisualVariable")],se);const ne=se},8029:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>Y});var x,M=E(17626),O=E(91558),X=E(86810),B=E(77712),z=(E(85931),E(8314),E(90912)),L=E(76898),T=E(99433);let Z=x=class extends X.wq{constructor($){super($),this.color=null,this.label=null,this.value=null}writeValue($,se,ne){se[ne]=null==$?0:$}clone(){return new x({color:this.color&&this.color.clone(),label:this.label,value:this.value})}};(0,M._)([(0,B.Cb)({type:O.Z,json:{type:[z.z8],write:!0}})],Z.prototype,"color",void 0),(0,M._)([(0,B.Cb)({type:String,json:{write:!0}})],Z.prototype,"label",void 0),(0,M._)([(0,B.Cb)({type:Number,json:{write:{writerEnsuresNonNull:!0}}})],Z.prototype,"value",void 0),(0,M._)([(0,T.c)("value")],Z.prototype,"writeValue",null),Z=x=(0,M._)([(0,L.j)("esri.renderers.visualVariables.support.ColorStop")],Z);const Y=Z},64902:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>Z});var T,M=E(17626),O=E(86810),X=E(23841),B=E(77712),L=(E(85931),E(8314),E(90912),E(76898));let x=T=class extends O.wq{constructor(Y){super(Y),this.label=null,this.size=null,this.value=null}clone(){return new T({label:this.label,size:this.size,value:this.value})}};(0,M._)([(0,B.Cb)({type:String,json:{write:!0}})],x.prototype,"label",void 0),(0,M._)([(0,B.Cb)({type:Number,cast:X.t_,json:{write:!0}})],x.prototype,"size",void 0),(0,M._)([(0,B.Cb)({type:Number,json:{write:!0}})],x.prototype,"value",void 0),x=T=(0,M._)([(0,L.j)("esri.renderers.visualVariables.support.SizeStop")],x);const Z=x},11333:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>x});var L,M=E(17626),O=E(77712),ee=(E(85931),E(8314),E(90912),E(76898)),z=E(10914);let T=L=class extends z.Z{constructor(){super(...arguments),this.showLegend=null}clone(){return new L({title:this.title,showLegend:this.showLegend})}};(0,M._)([(0,O.Cb)({type:Boolean,json:{write:!0}})],T.prototype,"showLegend",void 0),T=L=(0,M._)([(0,ee.j)("esri.renderers.visualVariables.support.VisualVariableLegendOptions")],T);const x=T},86971:(Qe,Me,E)=>{"use strict";var M,O,z;function X(z){return z&&"esri.renderers.visualVariables.SizeVariable"===z.declaredClass}function B(z){return null!=z&&!isNaN(z)&&isFinite(z)}function N(z){return z.valueExpression?M.Expression:z.field&&"string"==typeof z.field?M.Field:M.Unknown}function ee(z,L){return(L||N(z))===M.Unknown?O.Constant:z.stops?O.Stops:null!=z.minSize&&null!=z.maxSize&&null!=z.minDataValue&&null!=z.maxDataValue?O.ClampedLinear:"unknown"===(z.valueUnit||"unknown")?null!=z.minSize&&null!=z.minDataValue?z.minSize&&z.minDataValue?O.Proportional:O.Additive:O.Identity:O.RealWorldSize}E.d(Me,{PS:()=>N,QW:()=>ee,RY:()=>M,hL:()=>O,iY:()=>X,qh:()=>B}),(z=M||(M={})).Unknown="unknown",z.Expression="expression",z.Field="field",function(z){z.Unknown="unknown",z.Stops="stops",z.ClampedLinear="clamped-linear",z.Proportional="proportional",z.Additive="additive",z.Constant="constant",z.Identity="identity",z.RealWorldSize="real-world-size"}(O||(O={}))},81808:(Qe,Me,E)=>{"use strict";E.r(Me),E.d(Me,{getAllSizes:()=>le,getColor:()=>Y,getOpacity:()=>$,getRotationAngle:()=>se,getSize:()=>I,getSizeForValue:()=>pe,getSizeFromNumberOrVariable:()=>w,getSizeRangeAtScale:()=>oe,getVisualVariableValues:()=>K,viewScaleRE:()=>Z});var M=E(91558),O=E(88879),X=E(94573),B=E(63290),N=E(62208),ee=E(21254),z=E(86971);const L=B.Z.getLogger("esri.renderers.visualVariables.support.visualVariableUtils"),T=new O.Z,x=Math.PI,Z=/^\s*(return\s+)?\$view\.scale\s*(;)?\s*$/i;function Y(me,ce,ge){const J="visualVariables"in me&&me.visualVariables?me.visualVariables.find(nt=>"color"===nt.type):me;if(!J)return;if("esri.renderers.visualVariables.ColorVariable"!==J.declaredClass)return void L.warn("The visualVariable should be an instance of esri.renderers.visualVariables.ColorVariable");const ie="number"==typeof ce,De=ie?null:ce,_e=De&&De.attributes;let Ie=ie?ce:null;const xe=J.field,{ipData:ke,hasExpression:Ve}=J.cache;let ve=J.cache.compiledFunc;if(!xe&&!Ve){const nt=J.stops;return nt&&nt[0]&&nt[0].color}if("number"!=typeof Ie)if(Ve){if(!(0,N.pC)(ge)||!(0,N.pC)(ge.arcade))return void L.error("Use of arcade expressions requires an arcade context");const Te=ge.arcade.arcadeUtils,Ze=Te.getViewInfo({viewingMode:ge.viewingMode,scale:ge.scale,spatialReference:ge.spatialReference}),He=Te.createExecContext(De,Ze);if(!ve){const te=Te.createSyntaxTree(J.valueExpression);ve=Te.createFunction(te),J.cache.compiledFunc=ve}Ie=Te.executeFunction(ve,He)}else _e&&(Ie=_e[xe]);const we=J.normalizationField,We=_e?parseFloat(_e[we]):void 0;if(null!=Ie&&(!we||ie||!isNaN(We)&&0!==We)){isNaN(We)||ie||(Ie/=We);const nt=de(Ie,ke);if(nt){const Te=nt[0],Ze=nt[1],He=Te===Ze?J.stops[Te].color:M.Z.blendColors(J.stops[Te].color,J.stops[Ze].color,nt[2],(0,N.pC)(ge)?ge.color:void 0);return new M.Z(He)}}}function $(me,ce,ge){const J="visualVariables"in me&&me.visualVariables?me.visualVariables.find(nt=>"opacity"===nt.type):me;if(!J)return;if("esri.renderers.visualVariables.OpacityVariable"!==J.declaredClass)return void L.warn("The visualVariable should be an instance of esri.renderers.visualVariables.OpacityVariable");const ie="number"==typeof ce,De=ie?null:ce,_e=De&&De.attributes;let Ie=ie?ce:null;const xe=J.field,{ipData:ke,hasExpression:Ve}=J.cache;let ve=J.cache.compiledFunc;if(!xe&&!Ve){const nt=J.stops;return nt&&nt[0]&&nt[0].opacity}if("number"!=typeof Ie)if(Ve){if((0,N.Wi)(ge)||(0,N.Wi)(ge.arcade))return void L.error("Use of arcade expressions requires an arcade context");const Te=ge.arcade.arcadeUtils,Ze=Te.getViewInfo({viewingMode:ge.viewingMode,scale:ge.scale,spatialReference:ge.spatialReference}),He=Te.createExecContext(De,Ze);if(!ve){const te=Te.createSyntaxTree(J.valueExpression);ve=Te.createFunction(te),J.cache.compiledFunc=ve}Ie=Te.executeFunction(ve,He)}else _e&&(Ie=_e[xe]);const we=J.normalizationField,We=_e?parseFloat(_e[we]):void 0;if(null!=Ie&&(!we||ie||!isNaN(We)&&0!==We)){isNaN(We)||ie||(Ie/=We);const nt=de(Ie,ke);if(nt){const Te=nt[0],Ze=nt[1];if(Te===Ze)return J.stops[Te].opacity;{const He=J.stops[Te].opacity;return He+(J.stops[Ze].opacity-He)*nt[2]}}}}function se(me,ce,ge){const J="visualVariables"in me&&me.visualVariables?me.visualVariables.find(We=>"rotation"===We.type):me;if(!J)return;if("esri.renderers.visualVariables.RotationVariable"!==J.declaredClass)return void L.warn("The visualVariable should be an instance of esri.renderers.visualVariables.RotationVariable");const ie=J.axis||"heading",De="heading"===ie&&"arithmetic"===J.rotationType?90:0,_e="heading"===ie&&"arithmetic"===J.rotationType?-1:1,Ie="number"==typeof ce?null:ce,xe=Ie&&Ie.attributes,ke=J.field,{hasExpression:Ve}=J.cache;let ve=J.cache.compiledFunc,we=0;if(!ke&&!Ve)return we;if(Ve){if((0,N.Wi)(ge)||(0,N.Wi)(ge.arcade))return void L.error("Use of arcade expressions requires an arcade context");const nt=ge.arcade.arcadeUtils,Te=nt.getViewInfo({viewingMode:ge.viewingMode,scale:ge.scale,spatialReference:ge.spatialReference}),Ze=nt.createExecContext(Ie,Te);if(!ve){const He=nt.createSyntaxTree(J.valueExpression);ve=nt.createFunction(He),J.cache.compiledFunc=ve}we=nt.executeFunction(ve,Ze)}else xe&&(we=xe[ke]||0);return we="number"!=typeof we||isNaN(we)?null:De+_e*we,we}function I(me,ce,ge){const J="visualVariables"in me&&me.visualVariables?me.visualVariables.find(De=>"size"===De.type):me;if(!J)return;if("esri.renderers.visualVariables.SizeVariable"!==J.declaredClass)return void L.warn("The visualVariable should be an instance of esri.renderers.visualVariables.SizeVariable");const ie=pe(function ne(me,ce,ge){const J="number"==typeof ce,ie=J?null:ce,De=ie&&ie.attributes;let _e=J?ce:null;const{isScaleDriven:Ie}=me.cache;let xe=me.cache.compiledFunc;if(Ie){const Ve=(0,N.pC)(ge)?ge.scale:void 0,ve=(0,N.pC)(ge)?ge.view:void 0;_e=null==Ve||"3d"===ve?function j(me){let ce=null,ge=null;const J=me.stops;return J?(ce=J[0].value,ge=J[J.length-1].value):(ce=me.minDataValue||0,ge=me.maxDataValue||0),(ce+ge)/2}(me):Ve}else if(!J)switch(me.inputValueType){case z.RY.Expression:{if((0,N.Wi)(ge)||(0,N.Wi)(ge.arcade))return void L.error("Use of arcade expressions requires an arcade context");const ve=ge.arcade.arcadeUtils,we=ve.getViewInfo({viewingMode:ge.viewingMode,scale:ge.scale,spatialReference:ge.spatialReference}),We=ve.createExecContext(ie,we);if(!xe){const nt=ve.createSyntaxTree(me.valueExpression);xe=ve.createFunction(nt),me.cache.compiledFunc=xe}_e=ve.executeFunction(xe,We);break}case z.RY.Field:De&&(_e=De[me.field]);break;case z.RY.Unknown:_e=null}if(!(0,z.qh)(_e))return null;if(J||!me.normalizationField)return _e;const ke=De?parseFloat(De[me.normalizationField]):null;return(0,z.qh)(ke)&&0!==ke?_e/ke:null}(J,ce,ge),J,ce,ge,J.cache.ipData);return null==ie||isNaN(ie)?0:ie}function w(me,ce,ge){return null==me?null:(0,z.iY)(me)?I(me,ce,ge):(0,z.qh)(me)?me:null}function F(me,ce,ge){return(0,z.qh)(ge)&&me>ge?ge:(0,z.qh)(ce)&&me<ce?ce:me}function pe(me,ce,ge,J,ie){switch(ce.transformationType){case z.hL.Additive:return function k(me,ce,ge,J){return me+(w(ce.minSize,ge,J)||ce.minDataValue)}(me,ce,ge,J);case z.hL.Constant:return function W(me,ce,ge){const J=me.stops;let ie=J&&J.length&&J[0].size;return null==ie&&(ie=me.minSize),w(ie,ce,ge)}(ce,ge,J);case z.hL.ClampedLinear:return function re(me,ce,ge,J){const ie=(me-ce.minDataValue)/(ce.maxDataValue-ce.minDataValue),De=w(ce.minSize,ge,J),_e=w(ce.maxSize,ge,J),Ie=(0,N.pC)(J)?J.shape:void 0;if(me<=ce.minDataValue)return De;if(me>=ce.maxDataValue)return _e;if("area"===ce.scaleBy&&Ie){const xe="circle"===Ie,ke=xe?x*(De/2)**2:De*De,Ve=ke+ie*((xe?x*(_e/2)**2:_e*_e)-ke);return xe?2*Math.sqrt(Ve/x):Math.sqrt(Ve)}return De+ie*(_e-De)}(me,ce,ge,J);case z.hL.Proportional:return function Q(me,ce,ge,J){const ie=(0,N.pC)(J)?J.shape:void 0,De=me/ce.minDataValue,_e=w(ce.minSize,ge,J),Ie=w(ce.maxSize,ge,J);let xe=null;return xe="circle"===ie?2*Math.sqrt(De*(_e/2)**2):"square"===ie||"diamond"===ie||"image"===ie?Math.sqrt(De*_e**2):De*_e,F(xe,_e,Ie)}(me,ce,ge,J);case z.hL.Stops:return function ue(me,ce,ge,J,ie){const[De,_e,Ie]=de(me,ie);if(De===_e)return w(ce.stops[De].size,ge,J);{const xe=w(ce.stops[De].size,ge,J);return xe+(w(ce.stops[_e].size,ge,J)-xe)*Ie}}(me,ce,ge,J,ie);case z.hL.RealWorldSize:return function he(me,ce,ge,J){const ie=((0,N.pC)(J)&&J.resolution?J.resolution:1)*ee.a[ce.valueUnit],De=w(ce.minSize,ge,J),_e=w(ce.maxSize,ge,J),{valueRepresentation:Ie}=ce;let xe=null;return xe="area"===Ie?2*Math.sqrt(me/x)/ie:"radius"===Ie||"distance"===Ie?2*me/ie:me/ie,F(xe,De,_e)}(me,ce,ge,J);case z.hL.Identity:return me;case z.hL.Unknown:return null}}function oe(me,ce,ge){const{isScaleDriven:J}=me.cache;if(!(J&&"3d"===ge||ce))return null;const ie={scale:ce,view:ge};let De=w(me.minSize,T,ie),_e=w(me.maxSize,T,ie);if(null!=De||null!=_e){if(De>_e){const Ie=_e;_e=De,De=Ie}return{minSize:De,maxSize:_e}}}function K(me,ce,ge){if(!me.visualVariables)return;const J=[],ie=[],De=[],_e=[],Ie=[];for(const xe of me.visualVariables)switch(xe.type){case"color":ie.push(xe);break;case"opacity":De.push(xe);break;case"rotation":Ie.push(xe);break;case"size":_e.push(xe)}return ie.forEach(xe=>{const ke=Y(xe,ce,ge);J.push({variable:xe,value:ke})}),De.forEach(xe=>{const ke=$(xe,ce,ge);J.push({variable:xe,value:ke})}),Ie.forEach(xe=>{const ke=se(xe,ce,ge);J.push({variable:xe,value:ke})}),_e.forEach(xe=>{const ke=I(xe,ce,ge);J.push({variable:xe,value:ke})}),J.filter(xe=>null!=xe.value)}function de(me,ce){if(!ce)return;let ge=0,J=ce.length-1;return ce.some((ie,De)=>me<ie?(J=De,!0):(ge=De,!1)),[ge,J,(me-ce[ge])/(ce[J]-ce[ge])]}function le(me,ce,ge){const J=["proportional","proportional","proportional"];for(const ie of me){const De=ie.useSymbolValue?"symbol-value":I(ie,ce,ge);switch(ie.axis){case"width":J[0]=De;break;case"depth":J[1]=De;break;case"height":J[2]=De;break;case"width-and-depth":J[0]=De,J[1]=De;break;case"all":case void 0:case null:J[0]=De,J[1]=De,J[2]=De;break;default:(0,X.Bg)(ie.axis)}}return J}},84792:(Qe,Me,E)=>{"use strict";E.r(Me),E.d(Me,{default:()=>Y});var M=E(15861),O=E(59318),X=E(24263),B=E(26584),N=E(8314),ee=E(58817),z=E(62208),L=E(10699),T=E(21726),x=E(12680),Z=E(33899);function Y(ve,we){return $.apply(this,arguments)}function $(){return($=(0,M.Z)(function*(ve,we){var We;const nt=(0,T.HK)(ve),Te=(0,T.jc)(ve);Te||nt||(ve=(0,T.Fv)(ve));const Ze={url:ve,requestOptions:Ct({},(0,z.Wg)(we))};let He=(0,T.oh)(ve);if(He){const Ye=yield ge(He,Ze);if(null!=Ye)return{data:Ye,getHeader:k,requestOptions:Ze.requestOptions,url:Ze.url};He.after||He.error||(He=null)}if(ve=Ze.url,"image"===(we=Ze.requestOptions).responseType){if((0,N.Z)("host-webworker")||(0,N.Z)("host-node"))throw ue("request:invalid-parameters",new Error("responseType 'image' is not supported in Web Workers or Node environment"),Ze)}else if(nt)throw ue("request:invalid-parameters",new Error("Data URLs are not supported for responseType = "+we.responseType),Ze);if("head"===we.method){if(we.body)throw ue("request:invalid-parameters",new Error("body parameter cannot be set when method is 'head'"),Ze);if(nt||Te)throw ue("request:invalid-parameters",new Error("data and blob URLs are not supported for method 'head'"),Ze)}if(yield he(),se)return se.execute(ve,we);const te=new AbortController;(0,L.fu)(we,()=>te.abort());const Ee={controller:te,credential:null,credentialToken:null,fetchOptions:null,hasToken:!1,interceptor:He,params:Ze,redoRequest:!1,useIdentity:ne.useIdentity,useProxy:!1,useSSL:!1,withCredentials:!1},je=yield _e(Ee);return null==(We=He)||null==We.after||We.after(je),je})).apply(this,arguments)}let se;const ne=O.Z.request,j="FormData"in globalThis,I=[499,498,403,401],w=["COM_0056","COM_0057","SB_0008"],F=[/\/arcgis\/tokens/i,/\/sharing(\/rest)?\/generatetoken/i,/\/rest\/info/i],k=()=>null,W=Symbol();function re(ve){const we=(0,T.P$)(ve);we&&!Y._corsServers.includes(we)&&Y._corsServers.push(we)}function Q(ve){const we=(0,T.P$)(ve);return!we||we.endsWith(".arcgis.com")||Y._corsServers.includes(we)||(0,T.kl)(we)}function ue(ve,we,We,nt){let Te="Error";const Ze={url:We.url,requestOptions:We.requestOptions,getHeader:k,ssl:!1};if(we instanceof B.Z)return we.details?(we.details=(0,ee.d9)(we.details),we.details.url=We.url,we.details.requestOptions=We.requestOptions):we.details=Ze,we;if(we){const He=nt&&(je=>nt.headers.get(je)),te=nt&&nt.status,Ee=we.message;Ee&&(Te=Ee),He&&(Ze.getHeader=He),Ze.httpStatus=(null!=we.httpCode?we.httpCode:we.code)||te||0,Ze.subCode=we.subcode,Ze.messageCode=we.messageCode,Ze.messages="string"==typeof we.details?[we.details]:we.details,Ze.raw=W in we?we[W]:we}return(0,L.D_)(we)?(0,L.zE)():new B.Z(ve,Te,Ze)}function he(){return fe.apply(this,arguments)}function fe(){return(fe=(0,M.Z)(function*(){(0,N.Z)("host-webworker")?se||(se=yield E.e(3358).then(E.bind(E,23358))):Y._abortableFetch||(Y._abortableFetch=globalThis.fetch.bind(globalThis))})).apply(this,arguments)}function pe(){return oe.apply(this,arguments)}function oe(){return(oe=(0,M.Z)(function*(){X.id||(yield E.e(9058).then(E.bind(E,59058)))})).apply(this,arguments)}function K(ve){return de.apply(this,arguments)}function de(){return(de=(0,M.Z)(function*(ve){const we=ve.params.url,We=ve.params.requestOptions,nt=ve.controller.signal,Te=We.body;let Ze=null,He=null,te=null;if(j&&"HTMLFormElement"in globalThis&&(Te instanceof FormData?Ze=Te:Te instanceof HTMLFormElement&&(He=Te,Ze=new FormData(He))),"string"==typeof Te&&(te=Te),ve.fetchOptions={cache:We.cacheBust&&!Y._abortableFetch.polyfill?"no-cache":"default",credentials:"same-origin",headers:We.headers||{},method:"head"===We.method?"HEAD":"GET",mode:"cors",redirect:"follow",signal:nt},(Ze||te)&&(ve.fetchOptions.body=Ze||te),"anonymous"===We.authMode&&(ve.useIdentity=!1),ve.hasToken=!!(/token=/i.test(we)||We.query&&We.query.token||Ze&&Ze.get&&Ze.get("token")||He&&He.elements.token),!ve.hasToken&&O.Z.apiKey&&(0,x.r)(we)&&(We.query||(We.query={}),We.query.token=O.Z.apiKey,ve.hasToken=!0),ve.useIdentity&&!ve.hasToken&&!ve.credentialToken&&!le(we)&&!(0,L.Hc)(nt)){let Ee;"immediate"===We.authMode?(yield pe(),Ee=yield X.id.getCredential(we,{signal:nt}),ve.credential=Ee):"no-prompt"===We.authMode?(yield pe(),Ee=yield X.id.getCredential(we,{prompt:!1,signal:nt}).catch(()=>{}),ve.credential=Ee):X.id&&(Ee=X.id.findCredential(we)),Ee&&(ve.credentialToken=Ee.token,ve.useSSL=!!Ee.ssl)}})).apply(this,arguments)}function le(ve){return F.some(we=>we.test(ve))}function me(ve){return ce.apply(this,arguments)}function ce(){return(ce=(0,M.Z)(function*(ve){let we=ve.params.url;const We=ve.params.requestOptions,nt=ve.fetchOptions,Te=(0,T.jc)(we)||(0,T.HK)(we),Ze=We.responseType||"json",He=Te?0:null!=We.timeout?We.timeout:ne.timeout;let te=!1;if(!Te){ve.useSSL&&(we=(0,T.hO)(we)),We.cacheBust&&"default"===nt.cache&&(we=(0,T.ZN)(we,"request.preventCache",Date.now()));let ot=Ct({},We.query);ve.credentialToken&&(ot.token=ve.credentialToken);let at=(0,T.B7)(ot);(0,N.Z)("esri-url-encodes-apostrophe")&&(at=at.replace(/'/g,"%27"));const lt=we.length+1+at.length;let tt;te="delete"===We.method||"post"===We.method||"put"===We.method||!!We.body||lt>ne.maxUrlLength;const vt=We.useProxy||!!(0,T.ed)(we);if(vt){const Ke=(0,T.b7)(we);tt=Ke.path,!te&&tt.length+1+lt>ne.maxUrlLength&&(te=!0),Ke.query&&(ot=Ct(Ct({},Ke.query),ot))}if("HEAD"===nt.method&&(te||vt)){if(te)throw ue("request:invalid-parameters",lt>ne.maxUrlLength?new Error("URL exceeds maximum length"):new Error("cannot use POST request when method is 'head'"),ve.params);if(vt)throw ue("request:invalid-parameters",new Error("cannot use proxy when method is 'head'"),ve.params)}if(te?(nt.method="delete"===We.method?"DELETE":"put"===We.method?"PUT":"POST",We.body?we=(0,T.fl)(we,ot):(nt.body=(0,T.B7)(ot),nt.headers["Content-Type"]="application/x-www-form-urlencoded")):we=(0,T.fl)(we,ot),vt&&(ve.useProxy=!0,we=`${tt}?${we}`),ot.token&&j&&nt.body instanceof FormData){const Ke=nt.body;Ke.set?Ke.set("token",ot.token):Ke.append("token",ot.token)}if(We.hasOwnProperty("withCredentials"))ve.withCredentials=We.withCredentials;else if(!(0,T.D6)(we,(0,T.TI)()))if((0,T.kl)(we))ve.withCredentials=!0;else if(X.id){const Ke=X.id.findServerInfo(we);Ke&&Ke.webTierAuth&&(ve.withCredentials=!0)}ve.withCredentials&&(nt.credentials="include")}let Ee,je,Ye=0,ht=!1;He>0&&(Ye=setTimeout(()=>{ht=!0,ve.controller.abort()},He));try{if("native-request-init"===We.responseType)je=nt,je.url=we;else if("image"!==We.responseType||"default"!==nt.cache||"GET"!==nt.method||te||ie(We.headers)||!Te&&!ve.useProxy&&ne.proxyUrl&&!Q(we)){if(Ee=yield Y._abortableFetch(we,nt),ve.useProxy||re(we),"native"===We.responseType)je=Ee;else if("HEAD"!==nt.method)if(Ee.ok){switch(Ze){case"array-buffer":je=yield Ee.arrayBuffer();break;case"blob":case"image":je=yield Ee.blob();break;default:je=yield Ee.text()}if(Ye&&(clearTimeout(Ye),Ye=0),"json"===Ze||"xml"===Ze||"document"===Ze)if(je)switch(Ze){case"json":je=JSON.parse(je);break;case"xml":je=De(je,"application/xml");break;case"document":je=De(je,"text/html")}else je=null;if(je){if("array-buffer"===Ze||"blob"===Ze){const ot=Ee.headers.get("Content-Type");if(/application\/json|text\/plain/i.test(ot)&&je["blob"===Ze?"size":"byteLength"]<=750)try{const at=yield new Response(je).json();at.error&&(je=at)}catch(at){}}"image"===Ze&&je instanceof Blob&&(je=yield Ve(URL.createObjectURL(je),ve,!0))}}else je=yield Ee.text()}else je=yield Ve(we,ve)}catch(ot){if("AbortError"===ot.name)throw ht?new Error("Timeout exceeded"):(0,L.zE)("Request canceled");if(!(!Ee&&ot instanceof TypeError&&ne.proxyUrl)||We.body||"delete"===We.method||"head"===We.method||"post"===We.method||"put"===We.method||ve.useProxy||Q(we))throw ot;ve.redoRequest=!0,(0,T.tD)({proxyUrl:ne.proxyUrl,urlPrefix:(0,T.P$)(we)})}finally{Ye&&clearTimeout(Ye)}return[Ee,je]})).apply(this,arguments)}function ge(ve,we){return J.apply(this,arguments)}function J(){return(J=(0,M.Z)(function*(ve,we){if(null!=ve.responseData)return ve.responseData;if(ve.headers&&(we.requestOptions.headers=Ct(Ct({},we.requestOptions.headers),ve.headers)),ve.query&&(we.requestOptions.query=Ct(Ct({},we.requestOptions.query),ve.query)),ve.before){let We,nt;try{nt=yield ve.before(we)}catch(Te){We=ue("request:interceptor",Te,we)}if((nt instanceof Error||nt instanceof B.Z)&&(We=ue("request:interceptor",nt,we)),We)throw ve.error&&ve.error(We),We;return nt}})).apply(this,arguments)}function ie(ve){if(ve)for(const we of Object.getOwnPropertyNames(ve))if(ve[we])return!0;return!1}function De(ve,we){let We;try{We=(new DOMParser).parseFromString(ve,we)}catch(nt){}if(!We||We.getElementsByTagName("parsererror").length)throw new SyntaxError("XML Parse error");return We}function _e(ve){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,M.Z)(function*(ve){var we,We;let nt,Te;yield K(ve);try{do{[nt,Te]=yield me(ve)}while(!(yield xe(ve,nt,Te)))}catch(te){const Ee=ue("request:server",te,ve.params,nt);throw Ee.details.ssl=ve.useSSL,ve.interceptor&&ve.interceptor.error&&ve.interceptor.error(Ee),Ee}const Ze=ve.params.url;if(/\/sharing\/rest\/(accounts|portals)\/self/i.test(Ze)&&!ve.hasToken&&!ve.credentialToken&&null!=(we=Te)&&null!=(We=we.user)&&We.username&&!(0,T.kl)(Ze)){const te=(0,T.P$)(Ze,!0);te&&ne.trustedServers.push(te)}const He=ve.credential;if(He&&X.id){const te=X.id.findServerInfo(He.server);let Ee=te&&te.owningSystemUrl;if(Ee){Ee=Ee.replace(/\/?$/,"/sharing");const je=X.id.findCredential(Ee,He.userId);je&&-1===X.id._getIdenticalSvcIdx(Ee,je)&&je.resources.unshift(Ee)}}return{data:Te,getHeader:nt?te=>nt.headers.get(te):k,requestOptions:ve.params.requestOptions,ssl:ve.useSSL,url:ve.params.url}})).apply(this,arguments)}function xe(ve,we,We){return ke.apply(this,arguments)}function ke(){return(ke=(0,M.Z)(function*(ve,we,We){if(ve.redoRequest)return ve.redoRequest=!1,!1;const nt=ve.params.requestOptions;if(!we||"native"===nt.responseType||"native-request-init"===nt.responseType)return!0;let Te,Ze,He,te;if(!we.ok)throw Te=new Error(`Unable to load ${we.url} status: ${we.status}`),Te[W]=We,Te;null!=We&&We.error&&(Te=We.error),Te&&(Ze=Number(Te.code),He=Te.hasOwnProperty("subcode")?Number(Te.subcode):null,te=Te.messageCode,te=te&&te.toUpperCase());const Ee=nt.authMode;if(403===Ze&&(4===He||Te.message&&Te.message.toLowerCase().indexOf("ssl")>-1&&-1===Te.message.toLowerCase().indexOf("permission"))){if(!ve.useSSL)return ve.useSSL=!0,!1}else if(!ve.hasToken&&ve.useIdentity&&("no-prompt"!==Ee||498===Ze)&&-1!==I.indexOf(Ze)&&!le(ve.params.url)&&(403!==Ze||-1===w.indexOf(te)&&(null==He||2===He&&ve.credentialToken))){yield pe();try{const je=yield X.id.getCredential(ve.params.url,{error:ue("request:server",Te,ve.params),prompt:"no-prompt"!==Ee,signal:ve.controller.signal,token:ve.credentialToken});return ve.credential=je,ve.credentialToken=je.token,ve.useSSL=ve.useSSL||je.ssl,!1}catch(je){if("no-prompt"===Ee)return ve.credential=null,ve.credentialToken=null,!1;Te=je}}if(Te)throw Te;return!0})).apply(this,arguments)}function Ve(ve,we,We=!1){const nt=we.controller.signal,Te=new Image;return Te.crossOrigin=we.withCredentials?"use-credentials":"anonymous",Te.alt="",Te.src=ve,(0,Z.f)(Te,ve,We,nt)}Y._abortableFetch=null,Y._corsServers=["https://server.arcgisonline.com","https://services.arcgisonline.com"]},39636:(Qe,Me,E)=>{"use strict";E.d(Me,{i:()=>T});var M=E(15861),O=E(84792),X=E(90912),B=E(91179),N=E(2618),ee=E(10920),z=E(77294);const L=(0,X.se)(z.Z);function T(Z,Y,$){return x.apply(this,arguments)}function x(){return(x=(0,M.Z)(function*(Z,Y,$){Y=L(Y);const se=(0,N.en)(Z),ne=Ct(Bn(Ct({},se.query),{f:"json"}),Y.toJSON()),j=Y.outSpatialReference,I=(0,B.Ji)(Y.geometries[0]),w=(0,N.lA)(ne,$);return(0,O.default)(se.path+"/project",w).then(({data:{geometries:F}})=>(0,ee.o)(F,I,j))})).apply(this,arguments)}},47856:(Qe,Me,E)=>{"use strict";E.d(Me,{s:()=>O});const O=new(E(2076).X)({MGRS:"mgrs",USNG:"usng",UTM:"utm",GeoRef:"geo-ref",GARS:"gars",DMS:"dms",DDM:"ddm",DD:"dd"})},10920:(Qe,Me,E)=>{"use strict";E.d(Me,{F:()=>O,o:()=>X});var M=E(91179);function O(B){return{geometryType:(0,M.Ji)(B[0]),geometries:B.map(N=>N.toJSON())}}function X(B,N,ee){const z=(0,M.q9)(N);return B.map(L=>{const T=z.fromJSON(L);return T.spatialReference=ee,T})}},17232:(Qe,Me,E)=>{"use strict";E.d(Me,{G:()=>B});var M=E(2076),O=E(91179);const X=new M.X({109006:"centimeters",9102:"decimal-degrees",109005:"decimeters",9002:"feet",109009:"inches",9036:"kilometers",9001:"meters",9035:"miles",109007:"millimeters",109012:"nautical-miles",9096:"yards"});function B(N){const{geometries:ee,deviationUnit:z,maxDeviation:L}=N.toJSON(),T={maxDeviation:L};return ee&&ee.length&&(T.geometries=JSON.stringify({geometryType:(0,O.Ji)(ee[0]),geometries:ee}),T.sr=JSON.stringify(ee[0].spatialReference)),X.write(z,T,"deviationUnit"),T}},29293:(Qe,Me,E)=>{"use strict";E.d(Me,{u:()=>X});const O=new(E(2076).X)({preserveShape:"preserve-shape"});function X(B){const{polylines:N,lengthUnit:ee,geodesic:z,calculationType:L}=B.toJSON(),T={};T.polylines=JSON.stringify(N);const x=B.polylines[0].spatialReference;return T.sr=x.wkid?x.wkid:JSON.stringify(x.toJSON()),ee&&(T.lengthUnit=ee),z&&(T.geodesic=z),L&&(T.calculationType=O.toJSON(L)),T}},22501:(Qe,Me,E)=>{"use strict";E.d(Me,{l:()=>N});var M=E(2076),O=E(91179);const X=new M.X({esriGeometryOffsetBevelled:"bevelled",esriGeometryOffsetMitered:"mitered",esriGeometryOffsetRounded:"rounded"}),B=new M.X({9001:"meters",9002:"feet",9036:"kilometers",9093:"miles",109012:"nautical-miles",109001:"yards"});function N(ee){const{geometries:z,bevelRatio:L,offsetDistance:T,offsetHow:x,offsetUnit:Z}=ee.toJSON(),Y={bevelRatio:L,offsetDistance:T};return z&&z.length&&(Y.geometries=JSON.stringify({geometryType:(0,O.Ji)(z[0]),geometries:z}),Y.sr=JSON.stringify(z[0].spatialReference)),x&&(Y.offsetHow=X.toJSON(x)),Z&&(Y.offsetUnit=B.toJSON(Z)),Y}},51342:(Qe,Me,E)=>{"use strict";E.d(Me,{c:()=>B});var M=E(2076),O=E(91179);const X=new M.X({esriGeometryRelationCross:"cross",esriGeometryRelationDisjoint:"disjoint",esriGeometryRelationIn:"in",esriGeometryRelationInteriorIntersection:"interior-intersection",esriGeometryRelationIntersection:"intersection",esriGeometryRelationLineCoincidence:"line-coincidence",esriGeometryRelationLineTouch:"line-touch",esriGeometryRelationOverlap:"overlap",esriGeometryRelationPointTouch:"point-touch",esriGeometryRelationTouch:"touch",esriGeometryRelationWithin:"within",esriGeometryRelationRelation:"relation"});function B(N){const{geometries1:ee,geometries2:z,relation:L,relationParameter:T}=N.toJSON(),x={};if(ee&&ee.length){x.geometries1=JSON.stringify({geometryType:(0,O.Ji)(ee[0]),geometries:ee});const Z=ee[0].spatialReference;x.sr=Z.wkid?Z.wkid:JSON.stringify(Z)}return z&&z.length>0&&(x.geometries2=JSON.stringify({geometryType:(0,O.Ji)(z[0]),geometries:z})),L&&(x.relation=X.toJSON(L)),T&&(x.relationParam=T),x}},18646:(Qe,Me,E)=>{"use strict";E.d(Me,{n:()=>X});const O=new(E(2076).X)({0:"default-curve-extension",1:"relocate-ends",2:"keep-end-attributes",4:"no-end-attributes",8:"no-extend-at-from",16:"no-extend-at-to"});function X(B){const{extendHow:N,polylines:ee,trimExtendTo:z}=B.toJSON(),L={};return L.extendHow=O.toJSON(N),ee&&ee.length&&(L.polylines=JSON.stringify(ee),L.sr=JSON.stringify(ee[0].spatialReference)),z&&(L.trimExtendTo=JSON.stringify(z)),L}},76391:(Qe,Me,E)=>{"use strict";function M(O){const X={};for(const B in O){if("declaredClass"===B)continue;const N=O[B];if(null!=N&&"function"!=typeof N)if(Array.isArray(N)){X[B]=[];for(let ee=0;ee<N.length;ee++)X[B][ee]=M(N[ee])}else"object"==typeof N?N.toJSON&&(X[B]=JSON.stringify(N)):X[B]=N}return X}E.d(Me,{A:()=>M})},90463:(Qe,Me,E)=>{"use strict";E.d(Me,{P:()=>N});var M=E(15861),O=E(2618),X=E(20477),B=E(84952);function N(z,L,T){return ee.apply(this,arguments)}function ee(){return(ee=(0,M.Z)(function*(z,L,T){const x=(0,O.en)(z);return(0,X.executeQueryForCount)(x,B.Z.from(L),Ct({},T)).then(Z=>Z.data.count)})).apply(this,arguments)}},24865:(Qe,Me,E)=>{"use strict";E.d(Me,{G:()=>N});var M=E(15861),O=E(2618),X=E(20477),B=E(84952);function N(z,L,T){return ee.apply(this,arguments)}function ee(){return(ee=(0,M.Z)(function*(z,L,T){const x=(0,O.en)(z);return(0,X.executeQueryForIds)(x,B.Z.from(L),Ct({},T)).then(Z=>Z.data.objectIds)})).apply(this,arguments)}},2865:(Qe,Me,E)=>{"use strict";E.d(Me,{F:()=>L,e:()=>ee});var M=E(15861),O=E(2618),X=E(20477),B=E(17253),N=E(84952);function ee(x,Z,Y){return z.apply(this,arguments)}function z(){return(z=(0,M.Z)(function*(x,Z,Y){const $=yield L(x,Z,Y);return B.default.fromJSON($)})).apply(this,arguments)}function L(x,Z,Y){return T.apply(this,arguments)}function T(){return(T=(0,M.Z)(function*(x,Z,Y){const $=(0,O.en)(x),se=Ct({},Y),ne=N.Z.from(Z),{data:j}=yield(0,X.executeQuery)($,ne,ne.sourceSpatialReference,se);return j})).apply(this,arguments)}},20514:(Qe,Me,E)=>{"use strict";E.d(Me,{P:()=>N});var M=E(62208),O=E(16730),X=E(37053);function B(L,T,x){if(null==L.hasM||L.hasZ)for(const Z of T)for(const Y of Z)Y.length>2&&(Y[2]*=x)}function N(L,T,x){if(!L&&!T||!x)return;const Z=(0,O._R)(x);ee(L,x,Z),ee(T,x,Z)}function ee(L,T,x){if(L)for(const Z of L)z(Z.geometry,T,x)}function z(L,T,x){if((0,M.Wi)(L)||!L.spatialReference||(0,X.fS)(L.spatialReference,T))return;const Z=(0,O._R)(L.spatialReference)/x;if(1!==Z)if("x"in L)null!=L.z&&(L.z*=Z);else if("rings"in L)B(L,L.rings,Z);else if("paths"in L)B(L,L.paths,Z);else if("points"in L&&(null==L.hasM||L.hasZ))for(const Y of L.points)Y.length>2&&(Y[2]*=Z)}},71260:(Qe,Me,E)=>{"use strict";E.d(Me,{G$:()=>re,K9:()=>pe,O7:()=>T});var M=E(26584),O=E(62208),X=E(24192),B=E(88071),N=E(98558);const ee=["esriFieldTypeSmallInteger","esriFieldTypeInteger","esriFieldTypeSingle","esriFieldTypeDouble","esriFieldTypeString","esriFieldTypeDate","esriFieldTypeOID","esriFieldTypeGeometry","esriFieldTypeBlob","esriFieldTypeRaster","esriFieldTypeGUID","esriFieldTypeGlobalID","esriFieldTypeXML"],z=["sqlTypeBigInt","sqlTypeBinary","sqlTypeBit","sqlTypeChar","sqlTypeDate","sqlTypeDecimal","sqlTypeDouble","sqlTypeFloat","sqlTypeGeometry","sqlTypeGUID","sqlTypeInteger","sqlTypeLongNVarchar","sqlTypeLongVarbinary","sqlTypeLongVarchar","sqlTypeNChar","sqlTypeNVarchar","sqlTypeOther","sqlTypeReal","sqlTypeSmallInt","sqlTypeSqlXml","sqlTypeTime","sqlTypeTimestamp","sqlTypeTimestamp2","sqlTypeTinyInt","sqlTypeVarbinary","sqlTypeVarchar"],L=["upperLeft","lowerLeft"];function T(oe){return oe>=ee.length?null:ee[oe]}function x(oe){return oe>=z.length?null:z[oe]}function Z(oe){return oe>=L.length?null:L[oe]}function Y(oe,K){return K>=oe.geometryTypes.length?null:oe.geometryTypes[K]}function $(oe,K,de){const me=K.createPointGeometry(de);for(;oe.next();)switch(oe.tag()){case 3:{const ce=oe.getUInt32(),ge=oe.pos()+ce;let J=0;for(;oe.pos()<ge;)K.addCoordinatePoint(me,oe.getSInt64(),J++);break}default:oe.skip()}return me}function se(oe,K,de){const ce=K.createGeometry(de),ge=2+(de.hasZ?1:0)+(de.hasM?1:0);for(;oe.next();)switch(oe.tag()){case 2:{const J=oe.getUInt32(),ie=oe.pos()+J;let De=0;for(;oe.pos()<ie;)K.addLength(ce,oe.getUInt32(),De++);break}case 3:{const J=oe.getUInt32(),ie=oe.pos()+J;let De=0;for(K.allocateCoordinates(ce);oe.pos()<ie;)K.addCoordinate(ce,oe.getSInt64(),De),De++,De===ge&&(De=0);break}default:oe.skip()}return ce}function ne(oe){const me=new B.Z;let ce="esriGeometryPoint";for(;oe.next();)switch(oe.tag()){case 2:{const ge=oe.getUInt32(),J=oe.pos()+ge;for(;oe.pos()<J;)me.lengths.push(oe.getUInt32());break}case 3:{const ge=oe.getUInt32(),J=oe.pos()+ge;for(;oe.pos()<J;)me.coords.push(oe.getSInt64());break}case 1:ce=N.A[oe.getEnum()];break;default:oe.skip()}return{queryGeometry:me,queryGeometryType:ce}}function j(oe){for(;oe.next();)switch(oe.tag()){case 1:return oe.getString();case 2:return oe.getFloat();case 3:return oe.getDouble();case 4:return oe.getSInt32();case 5:return oe.getUInt32();case 6:return oe.getInt64();case 7:return oe.getUInt64();case 8:return oe.getSInt64();case 9:return oe.getBool();default:return oe.skip(),null}return null}function I(oe){const J={type:T(0)};for(;oe.next();)switch(oe.tag()){case 1:J.name=oe.getString();break;case 2:J.type=T(oe.getEnum());break;case 3:J.alias=oe.getString();break;case 4:J.sqlType=x(oe.getEnum());break;case 5:default:oe.skip();break;case 6:J.defaultValue=oe.getString()}return J}function w(oe){const le={};for(;oe.next();)switch(oe.tag()){case 1:le.name=oe.getString();break;case 2:le.isSystemMaintained=oe.getBool();break;default:oe.skip()}return le}function F(oe,K,de,le){const J=K.createFeature(de);let ie=0;for(;oe.next();)switch(oe.tag()){case 1:{const De=le[ie++].name;J.attributes[De]=oe.processMessage(j);break}case 2:J.geometry=oe.processMessageWithArgs(se,K,de);break;case 4:J.centroid=oe.processMessageWithArgs($,K,de);break;default:oe.skip()}return J}function k(oe){const ce=[1,1,1,1];for(;oe.next();)switch(oe.tag()){case 1:ce[0]=oe.getDouble();break;case 2:ce[1]=oe.getDouble();break;case 4:ce[2]=oe.getDouble();break;case 3:ce[3]=oe.getDouble();break;default:oe.skip()}return ce}function W(oe){const ce=[0,0,0,0];for(;oe.next();)switch(oe.tag()){case 1:ce[0]=oe.getDouble();break;case 2:ce[1]=oe.getDouble();break;case 4:ce[2]=oe.getDouble();break;case 3:ce[3]=oe.getDouble();break;default:oe.skip()}return ce}function re(oe){const me={originPosition:Z(0)};for(;oe.next();)switch(oe.tag()){case 1:me.originPosition=Z(oe.getEnum());break;case 2:me.scale=oe.processMessage(k);break;case 3:me.translate=oe.processMessage(W);break;default:oe.skip()}return me}function Q(oe){const me={};for(;oe.next();)switch(oe.tag()){case 1:me.shapeAreaFieldName=oe.getString();break;case 2:me.shapeLengthFieldName=oe.getString();break;case 3:me.units=oe.getString();break;default:oe.skip()}return me}function ue(oe,K){const J=K.createSpatialReference();for(;oe.next();)switch(oe.tag()){case 1:J.wkid=oe.getUInt32();break;case 5:J.wkt=oe.getString();break;case 2:J.latestWkid=oe.getUInt32();break;case 3:J.vcsWkid=oe.getUInt32();break;case 4:J.latestVcsWkid=oe.getUInt32();break;default:oe.skip()}return J}function he(oe,K){const ve=K.createFeatureResult();ve.geometryType=Y(K,0);let we=!1;for(;oe.next();)switch(oe.tag()){case 1:ve.objectIdFieldName=oe.getString();break;case 3:ve.globalIdFieldName=oe.getString();break;case 4:ve.geohashFieldName=oe.getString();break;case 5:ve.geometryProperties=oe.processMessage(Q);break;case 7:ve.geometryType=Y(K,oe.getEnum());break;case 8:ve.spatialReference=oe.processMessageWithArgs(ue,K);break;case 10:ve.hasZ=oe.getBool();break;case 11:ve.hasM=oe.getBool();break;case 12:ve.transform=oe.processMessage(re);break;case 9:{const We=oe.getBool();ve.exceededTransferLimit=We;break}case 13:K.addField(ve,oe.processMessage(I));break;case 15:we||(K.prepareFeatures(ve),we=!0),K.addFeature(ve,oe.processMessageWithArgs(F,K,ve,ve.fields));break;case 2:ve.uniqueIdField=oe.processMessage(w);break;default:oe.skip()}return K.finishFeatureResult(ve),ve}function fe(oe,K){const me={};let ce=null;for(;oe.next();)switch(oe.tag()){case 4:ce=oe.processMessageWithArgs(ne);break;case 1:me.featureResult=oe.processMessageWithArgs(he,K);break;default:oe.skip()}return(0,O.pC)(ce)&&me.featureResult&&K.addQueryGeometry(me,ce),me}function pe(oe,K){try{const le=new X.Z(new Uint8Array(oe),new DataView(oe)),me={};for(;le.next();)2===le.tag()?me.queryResult=le.processMessageWithArgs(fe,K):le.skip();return me}catch(de){throw new M.Z("query:parsing-pbf","Error while parsing FeatureSet PBF payload",{error:de})}}},98558:(Qe,Me,E)=>{"use strict";E.d(Me,{A:()=>ee,J:()=>z});var M=E(16730),O=E(37053),X=E(66385),B=E(95786),N=E(88071);const ee=["esriGeometryPoint","esriGeometryMultipoint","esriGeometryPolyline","esriGeometryPolygon"];class z{constructor(T){this.options=T,this.geometryTypes=ee,this._coordinatePtr=0,this._vertexDimension=0}createFeatureResult(){return new B.Z}prepareFeatures(T){this._vertexDimension=2,T.hasZ&&this._vertexDimension++,T.hasM&&this._vertexDimension++}finishFeatureResult(T){if(!T||!T.features||!T.hasZ||!this.options.sourceSpatialReference||!T.spatialReference||(0,O.fS)(T.spatialReference,this.options.sourceSpatialReference)||T.spatialReference.vcsWkid)return;const x=(0,M._R)(this.options.sourceSpatialReference)/(0,M._R)(T.spatialReference);if(1!==x)for(const Z of T.features){if(!(0,X.S6)(Z))continue;const Y=Z.geometry.coords;for(let $=2;$<Y.length;$+=3)Y[$]*=x}}addFeature(T,x){T.features.push(x)}createFeature(){return new X.u_}createSpatialReference(){return{wkid:0}}createGeometry(){return new N.Z}addField(T,x){T.fields.push(x)}allocateCoordinates(T){T.coords.length=T.lengths.reduce((x,Z)=>x+Z,0)*this._vertexDimension,this._coordinatePtr=0}addCoordinate(T,x){T.coords[this._coordinatePtr++]=x}addCoordinatePoint(T,x){T.coords.push(x)}addLength(T,x){T.lengths.push(x)}addQueryGeometry(T,x){T.queryGeometry=x.queryGeometry,T.queryGeometryType=x.queryGeometryType}createPointGeometry(){return new N.Z}}},85262:(Qe,Me,E)=>{"use strict";E.d(Me,{C:()=>O});var M=E(71260);function O(X,B){const N=(0,M.K9)(X,B),ee=N.queryResult.featureResult,z=N.queryResult.queryGeometry,L=N.queryResult.queryGeometryType;if(ee&&ee.features&&ee.features.length&&ee.objectIdFieldName){const T=ee.objectIdFieldName;for(const x of ee.features)x.attributes&&(x.objectId=x.attributes[T])}return ee&&(ee.queryGeometry=z,ee.queryGeometryType=L),ee}},20477:(Qe,Me,E)=>{"use strict";E.r(Me),E.d(Me,{encodeGeometry:()=>Z,executeQuery:()=>$,executeQueryForCount:()=>F,executeQueryForExtent:()=>k,executeQueryForIds:()=>w,executeQueryPBF:()=>ne,executeQueryPBFBuffer:()=>I,queryToQueryStringParameters:()=>Y,runQuery:()=>W});var M=E(15861),O=E(84792),X=E(62208),B=E(21726),N=E(91179),ee=E(13924),z=E(76391),L=E(85262),T=E(61515);const x="Layer does not support extent calculation.";function Z(re,Q){if(Q&&"extent"===re.type)return`${re.xmin},${re.ymin},${re.xmax},${re.ymax}`;if(Q&&"point"===re.type)return`${re.x},${re.y}`;const ue=re.toJSON();return delete ue.spatialReference,JSON.stringify(ue)}function Y(re,Q){const ue=re.geometry,he=re.toJSON();delete he.compactGeometryEnabled,delete he.defaultSpatialReferenceEnabled;const fe=he,pe=re.outSpatialReference;let oe,K;if((0,X.pC)(ue)&&(oe=ue.spatialReference,K=ue.spatialReference.wkid||JSON.stringify(ue.spatialReference),fe.geometryType=(0,N.Ji)(ue),fe.geometry=Z(ue,re.compactGeometryEnabled),fe.inSR=K),he.groupByFieldsForStatistics&&(fe.groupByFieldsForStatistics=he.groupByFieldsForStatistics.join(",")),he.objectIds&&(fe.objectIds=he.objectIds.join(",")),he.orderByFields&&(fe.orderByFields=he.orderByFields.join(",")),!he.outFields||!he.returnDistinctValues&&(null!=Q&&Q.returnCountOnly||null!=Q&&Q.returnExtentOnly||null!=Q&&Q.returnIdsOnly)?delete fe.outFields:fe.outFields=-1!==he.outFields.indexOf("*")?"*":he.outFields.join(","),he.outSR?fe.outSR=he.outSR.wkid||JSON.stringify(he.outSR):ue&&(he.returnGeometry||he.returnCentroid)&&(fe.outSR=fe.inSR),he.returnGeometry&&delete he.returnGeometry,he.outStatistics&&(fe.outStatistics=JSON.stringify(he.outStatistics)),he.pixelSize&&(fe.pixelSize=JSON.stringify(he.pixelSize)),he.quantizationParameters&&(re.defaultSpatialReferenceEnabled&&(0,X.pC)(oe)&&(0,X.pC)(re.quantizationParameters)&&(0,X.pC)(re.quantizationParameters.extent)&&oe.equals(re.quantizationParameters.extent.spatialReference)&&delete he.quantizationParameters.extent.spatialReference,fe.quantizationParameters=JSON.stringify(he.quantizationParameters)),he.parameterValues&&(fe.parameterValues=JSON.stringify(he.parameterValues)),he.rangeValues&&(fe.rangeValues=JSON.stringify(he.rangeValues)),he.dynamicDataSource&&(fe.layer=JSON.stringify({source:he.dynamicDataSource}),delete he.dynamicDataSource),he.timeExtent){const de=he.timeExtent,{start:le,end:me}=de;null==le&&null==me||(fe.time=le===me?le:`${null==le?"null":le},${null==me?"null":me}`),delete he.timeExtent}return re.defaultSpatialReferenceEnabled&&(0,X.pC)(oe)&&(0,X.pC)(pe)&&oe.equals(pe)&&(fe.defaultSR=fe.inSR,delete fe.inSR,delete fe.outSR),fe}function $(re,Q,ue,he){return se.apply(this,arguments)}function se(){return(se=(0,M.Z)(function*(re,Q,ue,he){const fe=(0,X.pC)(Q.timeExtent)&&Q.timeExtent.isEmpty?{data:{features:[]}}:yield W(re,Q,"json",he);return(0,T.p)(Q,ue,fe.data),fe})).apply(this,arguments)}function ne(re,Q,ue,he){return j.apply(this,arguments)}function j(){return(j=(0,M.Z)(function*(re,Q,ue,he){if((0,X.pC)(Q.timeExtent)&&Q.timeExtent.isEmpty)return Promise.resolve({data:ue.createFeatureResult()});const fe=yield I(re,Q,he),pe=fe;return pe.data=(0,L.C)(fe.data,ue),pe})).apply(this,arguments)}function I(re,Q,ue){return W(re,Q,"pbf",ue)}function w(re,Q,ue){return(0,X.pC)(Q.timeExtent)&&Q.timeExtent.isEmpty?Promise.resolve({data:{objectIds:[]}}):W(re,Q,"json",ue,{returnIdsOnly:!0})}function F(re,Q,ue){return(0,X.pC)(Q.timeExtent)&&Q.timeExtent.isEmpty?Promise.resolve({data:{count:0}}):W(re,Q,"json",ue,{returnIdsOnly:!0,returnCountOnly:!0})}function k(re,Q,ue){return(0,X.pC)(Q.timeExtent)&&Q.timeExtent.isEmpty?Promise.resolve({data:{count:0,extent:null}}):W(re,Q,"json",ue,{returnExtentOnly:!0,returnCountOnly:!0}).then(he=>{const fe=he.data;if(fe.hasOwnProperty("extent"))return he;if(fe.features)throw new Error(x);if(fe.hasOwnProperty("count"))throw new Error(x);return he})}function W(re,Q,ue,he={},fe={}){const pe="string"==typeof re?(0,B.mN)(re):re,oe=Q.geometry?[Q.geometry]:[];return he.responseType="pbf"===ue?"array-buffer":"json",(0,ee.aX)(oe,null,he).then(K=>{const de=K&&K[0];(0,X.pC)(de)&&((Q=Q.clone()).geometry=de);const le=(0,z.A)(Ct(Ct(Bn(Ct({},pe.query),{f:ue}),fe),Y(Q,fe)));return(0,O.default)((0,B.v_)(pe.path,"query"),Bn(Ct({},he),{query:Ct(Ct({},le),he.query)}))})}},85531:(Qe,Me,E)=>{"use strict";E.d(Me,{O:()=>z,X:()=>L});var M=E(24263),O=E(84792),X=E(21726),B=E(76391),N=E(87183);function ee(T){const x=T.toJSON();return x.attachmentTypes&&(x.attachmentTypes=x.attachmentTypes.join(",")),x.keywords&&(x.keywords=x.keywords.join(",")),x.globalIds&&(x.globalIds=x.globalIds.join(",")),x.objectIds&&(x.objectIds=x.objectIds.join(",")),x.size&&(x.size=x.size.join(",")),x}function z(T,x){const Z={};for(const Y of T){const{parentObjectId:$,parentGlobalId:se,attachmentInfos:ne}=Y;for(const j of ne){const{id:I}=j,w=(0,X.qg)((0,M.Dp)(`${x}/${$}/attachments/${I}`)),F=N.Z.fromJSON(j);F.set({url:w,parentObjectId:$,parentGlobalId:se}),Z[$]?Z[$].push(F):Z[$]=[F]}}return Z}function L(T,x,Z){let Y={query:(0,B.A)(Ct(Bn(Ct({},T.query),{f:"json"}),ee(x)))};return Z&&(Y=Bn(Ct(Ct({},Z),Y),{query:Ct(Ct({},Z.query),Y.query)})),(0,O.default)(T.path+"/queryAttachments",Y)}},61515:(Qe,Me,E)=>{"use strict";E.d(Me,{p:()=>X});var M=E(62208),O=E(33696);function X(B,N,ee){if(!ee||!ee.features||!ee.hasZ)return;const z=(0,O.k)(ee.geometryType,N,B.outSpatialReference);if(!(0,M.Wi)(z))for(const L of ee.features)z(L.geometry)}},87183:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>$});var x,M=E(17626),O=E(86810),X=E(77712),ee=(E(85931),E(8314),E(90912)),z=E(76898);const Z={1:{id:1,rotation:0,mirrored:!1},2:{id:2,rotation:0,mirrored:!0},3:{id:3,rotation:180,mirrored:!1},4:{id:4,rotation:180,mirrored:!0},5:{id:5,rotation:-90,mirrored:!0},6:{id:6,rotation:90,mirrored:!1},7:{id:7,rotation:90,mirrored:!0},8:{id:8,rotation:-90,mirrored:!1}};let Y=x=class extends O.wq{constructor(se){super(se),this.contentType=null,this.exifInfo=null,this.id=null,this.globalId=null,this.keywords=null,this.name=null,this.parentGlobalId=null,this.parentObjectId=null,this.size=null,this.url=null}get orientationInfo(){const{exifInfo:se}=this,ne=function L(se){const{exifInfo:ne,exifName:j,tagName:I}=se;if(!ne||!j||!I)return null;const w=ne.find(F=>F.name===j);return w?function T(se){const{tagName:ne,tags:j}=se;if(!j||!ne)return null;const I=j.find(w=>w.name===ne);return I&&I.value||null}({tagName:I,tags:w.tags}):null}({exifName:"Exif IFD0",tagName:"Orientation",exifInfo:se});return Z[ne]||null}clone(){return new x({contentType:this.contentType,exifInfo:this.exifInfo,id:this.id,globalId:this.globalId,keywords:this.keywords,name:this.name,parentGlobalId:this.parentGlobalId,parentObjectId:this.parentObjectId,size:this.size,url:this.url})}};(0,M._)([(0,X.Cb)({type:String})],Y.prototype,"contentType",void 0),(0,M._)([(0,X.Cb)()],Y.prototype,"exifInfo",void 0),(0,M._)([(0,X.Cb)({readOnly:!0})],Y.prototype,"orientationInfo",null),(0,M._)([(0,X.Cb)({type:ee.z8})],Y.prototype,"id",void 0),(0,M._)([(0,X.Cb)({type:String})],Y.prototype,"globalId",void 0),(0,M._)([(0,X.Cb)({type:String})],Y.prototype,"keywords",void 0),(0,M._)([(0,X.Cb)({type:String})],Y.prototype,"name",void 0),(0,M._)([(0,X.Cb)({json:{read:!1}})],Y.prototype,"parentGlobalId",void 0),(0,M._)([(0,X.Cb)({json:{read:!1}})],Y.prototype,"parentObjectId",void 0),(0,M._)([(0,X.Cb)({type:ee.z8})],Y.prototype,"size",void 0),(0,M._)([(0,X.Cb)({json:{read:!1}})],Y.prototype,"url",void 0),Y=x=(0,M._)([(0,z.j)("esri.layers.support.AttachmentInfo")],Y);const $=Y},40251:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>Z});var T,M=E(17626),O=E(91558),X=E(58817),B=E(77712),N=E(90912),ee=E(55342),z=E(76898),L=E(61661);let x=T=class extends L.Z{constructor(Y){super(Y),this.algorithm=null,this.fromColor=null,this.toColor=null,this.type="algorithmic"}clone(){return new T({fromColor:(0,X.d9)(this.fromColor),toColor:(0,X.d9)(this.toColor),algorithm:this.algorithm})}};(0,M._)([(0,ee.J)({esriCIELabAlgorithm:"cie-lab",esriHSVAlgorithm:"hsv",esriLabLChAlgorithm:"lab-lch"})],x.prototype,"algorithm",void 0),(0,M._)([(0,B.Cb)({type:O.Z,json:{type:[N.z8],write:!0}})],x.prototype,"fromColor",void 0),(0,M._)([(0,B.Cb)({type:O.Z,json:{type:[N.z8],write:!0}})],x.prototype,"toColor",void 0),(0,M._)([(0,B.Cb)({type:["algorithmic"]})],x.prototype,"type",void 0),x=T=(0,M._)([(0,z.j)("esri.rest.support.AlgorithmicColorRamp")],x);const Z=x},67736:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>x});var L,M=E(17626),O=E(86810),X=E(58817),B=E(77712),N=E(90912),ee=E(76898),z=E(99433);let T=L=class extends O.wq{constructor(Z){super(Z),this.attachmentTypes=null,this.attachmentsWhere=null,this.keywords=null,this.globalIds=null,this.name=null,this.num=null,this.objectIds=null,this.returnMetadata=!1,this.size=null,this.start=null,this.where=null}writeStart(Z,Y){Y.resultOffset=this.start,Y.resultRecordCount=this.num||10}clone(){return new L((0,X.d9)({attachmentTypes:this.attachmentTypes,attachmentsWhere:this.attachmentsWhere,keywords:this.keywords,where:this.where,globalIds:this.globalIds,name:this.name,num:this.num,objectIds:this.objectIds,returnMetadata:this.returnMetadata,size:this.size,start:this.start}))}};(0,M._)([(0,B.Cb)({type:[String],json:{write:!0}})],T.prototype,"attachmentTypes",void 0),(0,M._)([(0,B.Cb)({type:String,json:{read:{source:"attachmentsDefinitionExpression"},write:{target:"attachmentsDefinitionExpression"}}})],T.prototype,"attachmentsWhere",void 0),(0,M._)([(0,B.Cb)({type:[String],json:{write:!0}})],T.prototype,"keywords",void 0),(0,M._)([(0,B.Cb)({type:[Number],json:{write:!0}})],T.prototype,"globalIds",void 0),(0,M._)([(0,B.Cb)({json:{write:!0}})],T.prototype,"name",void 0),(0,M._)([(0,B.Cb)({type:Number,json:{read:{source:"resultRecordCount"}}})],T.prototype,"num",void 0),(0,M._)([(0,B.Cb)({type:[Number],json:{write:!0}})],T.prototype,"objectIds",void 0),(0,M._)([(0,B.Cb)({type:Boolean,json:{default:!1,write:!0}})],T.prototype,"returnMetadata",void 0),(0,M._)([(0,B.Cb)({type:[Number],json:{write:!0}})],T.prototype,"size",void 0),(0,M._)([(0,B.Cb)({type:Number,json:{read:{source:"resultOffset"}}})],T.prototype,"start",void 0),(0,M._)([(0,z.c)("start"),(0,z.c)("num")],T.prototype,"writeStart",null),(0,M._)([(0,B.Cb)({type:String,json:{read:{source:"definitionExpression"},write:{target:"definitionExpression"}}})],T.prototype,"where",void 0),T=L=(0,M._)([(0,ee.j)("esri.rest.support.AttachmentQuery")],T),T.from=(0,N.se)(T);const x=T},61661:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>T});var M=E(17626),O=E(86810),X=E(77712),z=(E(85931),E(8314),E(90912),E(76898));let L=class extends O.wq{constructor(x){super(x),this.type=null}};(0,M._)([(0,X.Cb)({readOnly:!0,json:{read:!1,write:!0}})],L.prototype,"type",void 0),L=(0,M._)([(0,z.j)("esri.rest.support.ColorRamp")],L);const T=L},17253:(Qe,Me,E)=>{"use strict";E.r(Me),E.d(Me,{default:()=>F});var j,M=E(17626),O=E(29132),X=E(88879),B=E(2076),N=E(86810),ee=E(58817),z=E(62208),L=E(77712),x=(E(90912),E(68653)),Z=E(76898),Y=E(99433),$=E(65234),se=E(91179),ne=E(36255);const I=new B.X({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh","":null});let w=j=class extends N.wq{constructor(k){super(k),this.displayFieldName=null,this.exceededTransferLimit=!1,this.features=[],this.fields=null,this.geometryType=null,this.hasM=!1,this.hasZ=!1,this.queryGeometry=null,this.spatialReference=null}readFeatures(k,W){const re=$.Z.fromJSON(W.spatialReference),Q=[];for(let ue=0;ue<k.length;ue++){const he=k[ue],fe=X.Z.fromJSON(he),pe=he.geometry&&he.geometry.spatialReference;(0,z.pC)(fe.geometry)&&!pe&&(fe.geometry.spatialReference=re);const oe=he.aggregateGeometries,K=fe.aggregateGeometries;if(oe&&(0,z.pC)(K))for(const de in K){const le=K[de],me=oe[de],ce=null==me?void 0:me.spatialReference;(0,z.pC)(le)&&!ce&&(le.spatialReference=re)}Q.push(fe)}return Q}writeGeometryType(k,W,re,Q){if(k)return void I.write(k,W,re,Q);const{features:ue}=this;if(ue)for(const he of ue)if(he&&(0,z.pC)(he.geometry))return void I.write(he.geometry.type,W,re,Q)}readQueryGeometry(k,W){if(!k)return null;const re=!!k.spatialReference,Q=(0,se.im)(k);return!re&&W.spatialReference&&(Q.spatialReference=$.Z.fromJSON(W.spatialReference)),Q}writeSpatialReference(k,W){if(k)return void(W.spatialReference=k.toJSON());const{features:re}=this;if(re)for(const Q of re)if(Q&&(0,z.pC)(Q.geometry)&&Q.geometry.spatialReference)return void(W.spatialReference=Q.geometry.spatialReference.toJSON())}clone(){return new j(this.cloneProperties())}cloneProperties(){return(0,ee.d9)({displayFieldName:this.displayFieldName,exceededTransferLimit:this.exceededTransferLimit,features:this.features,fields:this.fields,geometryType:this.geometryType,hasM:this.hasM,hasZ:this.hasZ,queryGeometry:this.queryGeometry,spatialReference:this.spatialReference,transform:this.transform})}toJSON(k){const W=this.write();if(W.features&&Array.isArray(k)&&k.length>0)for(let re=0;re<W.features.length;re++){const Q=W.features[re];if(Q.geometry){const ue=k&&k[re];Q.geometry=ue&&ue.toJSON()||Q.geometry}}return W}quantize(k){const{scale:[W,re],translate:[Q,ue]}=k,pe=this.features,oe=this._getQuantizationFunction(this.geometryType,K=>Math.round((K-Q)/W),K=>Math.round((ue-K)/re));for(let K=0,de=pe.length;K<de;K++)oe((0,z.Wg)(pe[K].geometry))||(pe.splice(K,1),K--,de--);return this.transform=k,this}unquantize(){const{geometryType:k,features:W,transform:re}=this;if(!re)return this;const{translate:[Q,ue],scale:[he,fe]}=re,K=this._getHydrationFunction(k,de=>de*he+Q,de=>ue-de*fe);for(const{geometry:de}of W)(0,z.pC)(de)&&K(de);return this.transform=null,this}_quantizePoints(k,W,re){let Q,ue;const he=[];for(let fe=0,pe=k.length;fe<pe;fe++){const oe=k[fe];if(fe>0){const K=W(oe[0]),de=re(oe[1]);K===Q&&de===ue||(he.push([K-Q,de-ue]),Q=K,ue=de)}else Q=W(oe[0]),ue=re(oe[1]),he.push([Q,ue])}return he.length>0?he:null}_getQuantizationFunction(k,W,re){return"point"===k?Q=>(Q.x=W(Q.x),Q.y=re(Q.y),Q):"polyline"===k||"polygon"===k?Q=>{const ue=(0,se.oU)(Q)?Q.rings:Q.paths,he=[];for(let fe=0,pe=ue.length;fe<pe;fe++){const K=this._quantizePoints(ue[fe],W,re);K&&he.push(K)}return he.length>0?((0,se.oU)(Q)?Q.rings=he:Q.paths=he,Q):null}:"multipoint"===k?Q=>{const ue=this._quantizePoints(Q.points,W,re);return ue.length>0?(Q.points=ue,Q):null}:"extent"===k?Q=>Q:null}_getHydrationFunction(k,W,re){return"point"===k?Q=>{Q.x=W(Q.x),Q.y=re(Q.y)}:"polyline"===k||"polygon"===k?Q=>{const ue=(0,se.oU)(Q)?Q.rings:Q.paths;let he,fe;for(let pe=0,oe=ue.length;pe<oe;pe++){const K=ue[pe];for(let de=0,le=K.length;de<le;de++){const me=K[de];de>0?(he+=me[0],fe+=me[1]):(he=me[0],fe=me[1]),me[0]=W(he),me[1]=re(fe)}}}:"extent"===k?Q=>{Q.xmin=W(Q.xmin),Q.ymin=re(Q.ymin),Q.xmax=W(Q.xmax),Q.ymax=re(Q.ymax)}:"multipoint"===k?Q=>{const ue=Q.points;let he,fe;for(let pe=0,oe=ue.length;pe<oe;pe++){const K=ue[pe];pe>0?(he+=K[0],fe+=K[1]):(he=K[0],fe=K[1]),K[0]=W(he),K[1]=re(fe)}}:void 0}};(0,M._)([(0,L.Cb)({type:String,json:{write:!0}})],w.prototype,"displayFieldName",void 0),(0,M._)([(0,L.Cb)({type:Boolean,json:{write:{overridePolicy:k=>({enabled:k})}}})],w.prototype,"exceededTransferLimit",void 0),(0,M._)([(0,L.Cb)({type:[X.Z],json:{write:!0}})],w.prototype,"features",void 0),(0,M._)([(0,x.r)("features")],w.prototype,"readFeatures",null),(0,M._)([(0,L.Cb)({type:[ne.Z],json:{write:!0}})],w.prototype,"fields",void 0),(0,M._)([(0,L.Cb)({type:["point","multipoint","polyline","polygon","extent","mesh"],json:{read:{reader:I.read}}})],w.prototype,"geometryType",void 0),(0,M._)([(0,Y.c)("geometryType")],w.prototype,"writeGeometryType",null),(0,M._)([(0,L.Cb)({type:Boolean,json:{write:{overridePolicy:k=>({enabled:k})}}})],w.prototype,"hasM",void 0),(0,M._)([(0,L.Cb)({type:Boolean,json:{write:{overridePolicy:k=>({enabled:k})}}})],w.prototype,"hasZ",void 0),(0,M._)([(0,L.Cb)({types:O.qM,json:{write:!0}})],w.prototype,"queryGeometry",void 0),(0,M._)([(0,x.r)("queryGeometry")],w.prototype,"readQueryGeometry",null),(0,M._)([(0,L.Cb)({type:$.Z,json:{write:!0}})],w.prototype,"spatialReference",void 0),(0,M._)([(0,Y.c)("spatialReference")],w.prototype,"writeSpatialReference",null),(0,M._)([(0,L.Cb)({json:{write:!0}})],w.prototype,"transform",void 0),w=j=(0,M._)([(0,Z.j)("esri.rest.support.FeatureSet")],w),w.prototype.toJSON.isDefaultToJSON=!0;const F=w},96109:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>x});var M=E(17626),O=E(86810),X=E(77712),ee=(E(85931),E(8314),E(90912)),z=E(76898),L=E(91179);let T=class extends O.wq{constructor(Z){super(Z),this.deviationUnit=null,this.geometries=null,this.maxDeviation=null}};(0,M._)([(0,X.Cb)({type:String,json:{write:!0}})],T.prototype,"deviationUnit",void 0),(0,M._)([(0,X.Cb)({json:{read:{reader:Z=>Z?Z.map(Y=>(0,L.im)(Y)):null},write:{writer:(Z,Y)=>{Y.geometries=Z.map($=>$.toJSON())}}}})],T.prototype,"geometries",void 0),(0,M._)([(0,X.Cb)({type:Number,json:{write:!0}})],T.prototype,"maxDeviation",void 0),T=(0,M._)([(0,z.j)("esri.rest.support.GeneralizeParameters")],T),T.from=(0,ee.se)(T);const x=T},75499:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>Y});var M=E(17626),X=(E(29132),E(86810)),B=E(77712),z=(E(85931),E(8314),E(90912)),L=E(76898),T=E(91179),x=E(55214);let Z=class extends X.wq{constructor($){super($),this.calculationType=null,this.geodesic=null,this.lengthUnit=null,this.polylines=null}};(0,M._)([(0,B.Cb)({type:String,json:{write:!0}})],Z.prototype,"calculationType",void 0),(0,M._)([(0,B.Cb)({type:Boolean,json:{write:!0}})],Z.prototype,"geodesic",void 0),(0,M._)([(0,B.Cb)({json:{write:!0}})],Z.prototype,"lengthUnit",void 0),(0,M._)([(0,B.Cb)({type:[x.Z],json:{read:{reader:$=>$?$.map(se=>(0,T.im)(se)):null},write:{writer:($,se)=>{se.polylines=$.map(ne=>ne.toJSON())}}}})],Z.prototype,"polylines",void 0),Z=(0,M._)([(0,L.j)("esri.rest.support.LengthsParameters")],Z),Z.from=(0,z.se)(Z);const Y=Z},75414:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>x});var L,M=E(17626),O=E(58817),X=E(77712),N=(E(90912),E(76898)),ee=E(40251),z=E(61661);let T=L=class extends z.Z{constructor(Z){super(Z),this.colorRamps=null,this.type="multipart"}clone(){return new L({colorRamps:(0,O.d9)(this.colorRamps)})}};(0,M._)([(0,X.Cb)({type:[ee.Z],json:{write:!0}})],T.prototype,"colorRamps",void 0),(0,M._)([(0,X.Cb)({type:["multipart"]})],T.prototype,"type",void 0),T=L=(0,M._)([(0,N.j)("esri.rest.support.MultipartColorRamp")],T);const x=T},80640:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>x});var M=E(17626),O=E(86810),X=E(77712),ee=(E(85931),E(8314),E(90912)),z=E(76898),L=E(91179);let T=class extends O.wq{constructor(Z){super(Z),this.bevelRatio=null,this.geometries=null,this.offsetDistance=null,this.offsetHow=null,this.offsetUnit=null}};(0,M._)([(0,X.Cb)({type:Number,json:{write:!0}})],T.prototype,"bevelRatio",void 0),(0,M._)([(0,X.Cb)({json:{read:{reader:Z=>Z?Z.map(Y=>(0,L.im)(Y)):null},write:{writer:(Z,Y)=>{Y.geometries=Z.map($=>$.toJSON())}}}})],T.prototype,"geometries",void 0),(0,M._)([(0,X.Cb)({type:Number,json:{write:!0}})],T.prototype,"offsetDistance",void 0),(0,M._)([(0,X.Cb)({type:String,json:{write:!0}})],T.prototype,"offsetHow",void 0),(0,M._)([(0,X.Cb)({type:String,json:{write:!0}})],T.prototype,"offsetUnit",void 0),T=(0,M._)([(0,z.j)("esri.rest.support.OffsetParameters")],T),T.from=(0,ee.se)(T);const x=T},77294:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>x});var M=E(17626),O=E(86810),X=E(77712),z=(E(85931),E(8314),E(90912),E(76898)),L=E(91179);let T=class extends O.wq{constructor(Z){super(Z),this.geometries=null,this.outSpatialReference=null,this.transformation=null,this.transformForward=null}toJSON(){const Z=this.geometries.map(function(se){return se.toJSON()}),Y=this.geometries[0],$={};return $.outSR=this.outSpatialReference.wkid||JSON.stringify(this.outSpatialReference.toJSON()),$.inSR=Y.spatialReference.wkid||JSON.stringify(Y.spatialReference.toJSON()),$.geometries=JSON.stringify({geometryType:(0,L.Ji)(Y),geometries:Z}),this.transformation&&($.transformation=this.transformation.wkid||JSON.stringify(this.transformation)),null!=this.transformForward&&($.transformForward=this.transformForward),$}};(0,M._)([(0,X.Cb)()],T.prototype,"geometries",void 0),(0,M._)([(0,X.Cb)({json:{read:{source:"outSR"}}})],T.prototype,"outSpatialReference",void 0),(0,M._)([(0,X.Cb)()],T.prototype,"transformation",void 0),(0,M._)([(0,X.Cb)()],T.prototype,"transformForward",void 0),T=(0,M._)([(0,z.j)("esri.rest.support.ProjectParameters")],T);const x=T},89621:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>$});var x,M=E(17626),X=(E(29132),E(2076)),B=E(86810),N=E(58817),ee=E(77712),L=(E(90912),E(76898)),T=E(2004);const Z=new X.X({upperLeft:"upper-left",lowerLeft:"lower-left"});let Y=x=class extends B.wq{constructor(se){super(se),this.extent=null,this.mode="view",this.originPosition="upper-left",this.tolerance=1}clone(){return new x((0,N.d9)({extent:this.extent,mode:this.mode,originPosition:this.originPosition,tolerance:this.tolerance}))}};(0,M._)([(0,ee.Cb)({type:T.Z,json:{write:{overridePolicy(){return{enabled:"view"===this.mode}}}}})],Y.prototype,"extent",void 0),(0,M._)([(0,ee.Cb)({type:["view","edit"],json:{write:!0}})],Y.prototype,"mode",void 0),(0,M._)([(0,ee.Cb)({type:String,json:{read:Z.read,write:Z.write}})],Y.prototype,"originPosition",void 0),(0,M._)([(0,ee.Cb)({type:Number,json:{write:{overridePolicy(){return{enabled:"view"===this.mode}}}}})],Y.prototype,"tolerance",void 0),Y=x=(0,M._)([(0,L.j)("esri.rest.support.QuantizationParameters")],Y);const $=Y},84952:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>ue});var k,M=E(17626),O=E(29132),X=E(97478),B=E(2076),N=E(86810),ee=E(58817),z=E(62208),L=E(77712),T=E(66656),x=E(55342),Z=E(76898),Y=E(99433),$=E(90912),se=E(91179),ne=E(15283),j=E(89621),I=E(60776),w=E(65234),F=E(49672);const W=new B.X({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"}),re=new B.X({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});let Q=k=class extends N.wq{constructor(he){super(he),this.aggregateIds=null,this.cacheHint=void 0,this.compactGeometryEnabled=!1,this.datumTransformation=null,this.defaultSpatialReferenceEnabled=!1,this.distance=void 0,this.dynamicDataSource=void 0,this.formatOf3DObjects=null,this.gdbVersion=null,this.geometry=null,this.geometryPrecision=void 0,this.groupByFieldsForStatistics=null,this.having=null,this.historicMoment=null,this.maxAllowableOffset=void 0,this.maxRecordCountFactor=1,this.multipatchOption=null,this.num=void 0,this.objectIds=null,this.orderByFields=null,this.outFields=null,this.outSpatialReference=null,this.outStatistics=null,this.parameterValues=null,this.pixelSize=null,this.quantizationParameters=null,this.rangeValues=null,this.relationParameter=null,this.resultType=null,this.returnCentroid=!1,this.returnDistinctValues=!1,this.returnExceededLimitFeatures=!0,this.returnGeometry=!1,this.returnQueryGeometry=!1,this.returnM=void 0,this.returnZ=void 0,this.sourceSpatialReference=null,this.spatialRelationship="intersects",this.start=void 0,this.sqlFormat=null,this.text=null,this.timeExtent=null,this.timeReferenceUnknownClient=!1,this.units=null,this.where=null}static from(he){return(0,$.TJ)(k,he)}castDatumTransformation(he){return"number"==typeof he||"object"==typeof he?he:null}writeHistoricMoment(he,fe){fe.historicMoment=he&&he.getTime()}writeParameterValues(he,fe){if(he){const pe={};for(const oe in he){const K=he[oe];pe[oe]=Array.isArray(K)?K.map(de=>de instanceof Date?de.getTime():de):K instanceof Date?K.getTime():K}fe.parameterValues=pe}}writeStart(he,fe){fe.resultOffset=this.start,fe.resultRecordCount=this.num||10,fe.where="1=1"}writeWhere(he,fe){fe.where=he||"1=1"}clone(){return new k((0,ee.d9)({aggregateIds:this.aggregateIds,cacheHint:this.cacheHint,compactGeometryEnabled:this.compactGeometryEnabled,datumTransformation:this.datumTransformation,defaultSpatialReferenceEnabled:this.defaultSpatialReferenceEnabled,distance:this.distance,gdbVersion:this.gdbVersion,geometry:this.geometry,geometryPrecision:this.geometryPrecision,groupByFieldsForStatistics:this.groupByFieldsForStatistics,having:this.having,historicMoment:(0,z.pC)(this.historicMoment)?new Date(this.historicMoment.getTime()):null,maxAllowableOffset:this.maxAllowableOffset,maxRecordCountFactor:this.maxRecordCountFactor,multipatchOption:this.multipatchOption,num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,outStatistics:this.outStatistics,parameterValues:this.parameterValues,pixelSize:this.pixelSize,quantizationParameters:this.quantizationParameters,rangeValues:this.rangeValues,relationParameter:this.relationParameter,resultType:this.resultType,returnDistinctValues:this.returnDistinctValues,returnGeometry:this.returnGeometry,returnCentroid:this.returnCentroid,returnExceededLimitFeatures:this.returnExceededLimitFeatures,returnQueryGeometry:this.returnQueryGeometry,returnM:this.returnM,returnZ:this.returnZ,dynamicDataSource:this.dynamicDataSource,sourceSpatialReference:this.sourceSpatialReference,spatialRelationship:this.spatialRelationship,start:this.start,sqlFormat:this.sqlFormat,text:this.text,timeExtent:this.timeExtent,timeReferenceUnknownClient:this.timeReferenceUnknownClient,units:this.units,where:this.where}))}};Q.MAX_MAX_RECORD_COUNT_FACTOR=5,(0,M._)([(0,L.Cb)({json:{write:!0}})],Q.prototype,"aggregateIds",void 0),(0,M._)([(0,L.Cb)({type:Boolean,json:{write:!0}})],Q.prototype,"cacheHint",void 0),(0,M._)([(0,L.Cb)({type:Boolean,json:{default:!1,write:!0}})],Q.prototype,"compactGeometryEnabled",void 0),(0,M._)([(0,L.Cb)({json:{write:!0}})],Q.prototype,"datumTransformation",void 0),(0,M._)([(0,T.p)("datumTransformation")],Q.prototype,"castDatumTransformation",null),(0,M._)([(0,L.Cb)({type:Boolean,json:{default:!1,write:!0}})],Q.prototype,"defaultSpatialReferenceEnabled",void 0),(0,M._)([(0,L.Cb)({type:Number,json:{write:{overridePolicy:he=>({enabled:he>0})}}})],Q.prototype,"distance",void 0),(0,M._)([(0,L.Cb)({type:ne.n,json:{write:!0}})],Q.prototype,"dynamicDataSource",void 0),(0,M._)([(0,L.Cb)({type:String,json:{write:!0}})],Q.prototype,"formatOf3DObjects",void 0),(0,M._)([(0,L.Cb)({type:String,json:{write:!0}})],Q.prototype,"gdbVersion",void 0),(0,M._)([(0,L.Cb)({types:O.qM,json:{read:se.im,write:!0}})],Q.prototype,"geometry",void 0),(0,M._)([(0,L.Cb)({type:Number,json:{write:!0}})],Q.prototype,"geometryPrecision",void 0),(0,M._)([(0,L.Cb)({type:[String],json:{write:!0}})],Q.prototype,"groupByFieldsForStatistics",void 0),(0,M._)([(0,L.Cb)({type:String,json:{write:!0}})],Q.prototype,"having",void 0),(0,M._)([(0,L.Cb)({type:Date})],Q.prototype,"historicMoment",void 0),(0,M._)([(0,Y.c)("historicMoment")],Q.prototype,"writeHistoricMoment",null),(0,M._)([(0,L.Cb)({type:Number,json:{write:!0}})],Q.prototype,"maxAllowableOffset",void 0),(0,M._)([(0,L.Cb)({type:Number,cast:he=>he<1?1:he>k.MAX_MAX_RECORD_COUNT_FACTOR?k.MAX_MAX_RECORD_COUNT_FACTOR:he,json:{write:{overridePolicy:he=>({enabled:he>1})}}})],Q.prototype,"maxRecordCountFactor",void 0),(0,M._)([(0,L.Cb)({type:["xyFootprint"],json:{write:!0}})],Q.prototype,"multipatchOption",void 0),(0,M._)([(0,L.Cb)({type:Number,json:{read:{source:"resultRecordCount"}}})],Q.prototype,"num",void 0),(0,M._)([(0,L.Cb)({json:{write:!0}})],Q.prototype,"objectIds",void 0),(0,M._)([(0,L.Cb)({type:[String],json:{write:!0}})],Q.prototype,"orderByFields",void 0),(0,M._)([(0,L.Cb)({type:[String],json:{write:!0}})],Q.prototype,"outFields",void 0),(0,M._)([(0,L.Cb)({type:w.Z,json:{name:"outSR",write:!0}})],Q.prototype,"outSpatialReference",void 0),(0,M._)([(0,L.Cb)({type:[I.Z],json:{write:{enabled:!0,overridePolicy(){return{enabled:(0,z.pC)(this.outStatistics)&&this.outStatistics.length>0}}}}})],Q.prototype,"outStatistics",void 0),(0,M._)([(0,L.Cb)({json:{write:!0}})],Q.prototype,"parameterValues",void 0),(0,M._)([(0,Y.c)("parameterValues")],Q.prototype,"writeParameterValues",null),(0,M._)([(0,L.Cb)({type:F.Z,json:{write:!0}})],Q.prototype,"pixelSize",void 0),(0,M._)([(0,L.Cb)({type:j.Z,json:{write:!0}})],Q.prototype,"quantizationParameters",void 0),(0,M._)([(0,L.Cb)({type:[Object],json:{write:!0}})],Q.prototype,"rangeValues",void 0),(0,M._)([(0,L.Cb)({type:String,json:{read:{source:"relationParam"},write:{target:"relationParam",overridePolicy(){return{enabled:"relation"===this.spatialRelationship}}}}})],Q.prototype,"relationParameter",void 0),(0,M._)([(0,L.Cb)({type:String,json:{write:!0}})],Q.prototype,"resultType",void 0),(0,M._)([(0,L.Cb)({type:Boolean,json:{default:!1,write:!0}})],Q.prototype,"returnCentroid",void 0),(0,M._)([(0,L.Cb)({type:Boolean,json:{default:!1,write:!0}})],Q.prototype,"returnDistinctValues",void 0),(0,M._)([(0,L.Cb)({type:Boolean,json:{default:!0,write:!0}})],Q.prototype,"returnExceededLimitFeatures",void 0),(0,M._)([(0,L.Cb)({type:Boolean,json:{write:!0}})],Q.prototype,"returnGeometry",void 0),(0,M._)([(0,L.Cb)({type:Boolean,json:{default:!1,write:!0}})],Q.prototype,"returnQueryGeometry",void 0),(0,M._)([(0,L.Cb)({type:Boolean,json:{default:!1,write:!0}})],Q.prototype,"returnM",void 0),(0,M._)([(0,L.Cb)({type:Boolean,json:{write:{overridePolicy:he=>({enabled:he})}}})],Q.prototype,"returnZ",void 0),(0,M._)([(0,L.Cb)({type:w.Z,json:{write:!0}})],Q.prototype,"sourceSpatialReference",void 0),(0,M._)([(0,x.J)(W,{ignoreUnknown:!1,name:"spatialRel"})],Q.prototype,"spatialRelationship",void 0),(0,M._)([(0,L.Cb)({type:Number,json:{read:{source:"resultOffset"}}})],Q.prototype,"start",void 0),(0,M._)([(0,Y.c)("start"),(0,Y.c)("num")],Q.prototype,"writeStart",null),(0,M._)([(0,L.Cb)({type:String,json:{write:!0}})],Q.prototype,"sqlFormat",void 0),(0,M._)([(0,L.Cb)({type:String,json:{write:!0}})],Q.prototype,"text",void 0),(0,M._)([(0,L.Cb)({type:X.Z,json:{write:!0}})],Q.prototype,"timeExtent",void 0),(0,M._)([(0,L.Cb)({type:Boolean,json:{default:!1,write:!0}})],Q.prototype,"timeReferenceUnknownClient",void 0),(0,M._)([(0,x.J)(re,{ignoreUnknown:!1}),(0,L.Cb)({json:{write:{overridePolicy(he){return{enabled:he&&this.distance>0}}}}})],Q.prototype,"units",void 0),(0,M._)([(0,L.Cb)({type:String,json:{write:{overridePolicy(he){return{enabled:null!=he||this.start>0}}}}})],Q.prototype,"where",void 0),(0,M._)([(0,Y.c)("where")],Q.prototype,"writeWhere",null),Q=k=(0,M._)([(0,Z.j)("esri.rest.support.Query")],Q);const ue=Q},27414:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>x});var M=E(17626),O=E(86810),X=E(77712),ee=(E(85931),E(8314),E(90912)),z=E(76898),L=E(91179);let T=class extends O.wq{constructor(Z){super(Z),this.geometries1=null,this.geometries2=null,this.relation=null,this.relationParameter=null}};(0,M._)([(0,X.Cb)({json:{read:{reader:Z=>Z?Z.map(Y=>(0,L.im)(Y)):null},write:{writer:(Z,Y)=>{Y.geometries1=Z.map($=>$.toJSON())}}}})],T.prototype,"geometries1",void 0),(0,M._)([(0,X.Cb)({json:{read:{reader:Z=>Z?Z.map(Y=>(0,L.im)(Y)):null},write:{writer:(Z,Y)=>{Y.geometries2=Z.map($=>$.toJSON())}}}})],T.prototype,"geometries2",void 0),(0,M._)([(0,X.Cb)({type:String,json:{write:!0}})],T.prototype,"relation",void 0),(0,M._)([(0,X.Cb)({type:String,json:{write:!0}})],T.prototype,"relationParameter",void 0),T=(0,M._)([(0,z.j)("esri.rest.support.RelationParameters")],T),T.from=(0,ee.se)(T);const x=T},67010:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>$});var Z,M=E(17626),X=(E(29132),E(86810)),B=E(58817),N=E(77712),ee=E(90912),z=E(76898),L=E(99433),T=E(15283),x=E(65234);let Y=Z=class extends X.wq{constructor(se){super(se),this.dynamicDataSource=void 0,this.gdbVersion=null,this.geometryPrecision=void 0,this.historicMoment=null,this.maxAllowableOffset=void 0,this.objectIds=null,this.orderByFields=null,this.outFields=null,this.outSpatialReference=null,this.relationshipId=void 0,this.start=void 0,this.num=void 0,this.returnGeometry=!1,this.returnM=void 0,this.returnZ=void 0,this.where=null}_writeHistoricMoment(se,ne){ne.historicMoment=se&&se.getTime()}writeStart(se,ne){ne.resultOffset=this.start,ne.resultRecordCount=this.num||10,this.start>0&&null==this.where&&(ne.definitionExpression="1=1")}clone(){return new Z((0,B.d9)({dynamicDataSource:this.dynamicDataSource,gdbVersion:this.gdbVersion,geometryPrecision:this.geometryPrecision,historicMoment:this.historicMoment&&new Date(this.historicMoment.getTime()),maxAllowableOffset:this.maxAllowableOffset,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,relationshipId:this.relationshipId,start:this.start,num:this.num,returnGeometry:this.returnGeometry,where:this.where,returnZ:this.returnZ,returnM:this.returnM}))}};(0,M._)([(0,N.Cb)({type:T.n,json:{write:!0}})],Y.prototype,"dynamicDataSource",void 0),(0,M._)([(0,N.Cb)({type:String,json:{write:!0}})],Y.prototype,"gdbVersion",void 0),(0,M._)([(0,N.Cb)({type:Number,json:{write:!0}})],Y.prototype,"geometryPrecision",void 0),(0,M._)([(0,N.Cb)({type:Date})],Y.prototype,"historicMoment",void 0),(0,M._)([(0,L.c)("historicMoment")],Y.prototype,"_writeHistoricMoment",null),(0,M._)([(0,N.Cb)({type:Number,json:{write:!0}})],Y.prototype,"maxAllowableOffset",void 0),(0,M._)([(0,N.Cb)({type:[Number],json:{write:!0}})],Y.prototype,"objectIds",void 0),(0,M._)([(0,N.Cb)({type:[String],json:{write:!0}})],Y.prototype,"orderByFields",void 0),(0,M._)([(0,N.Cb)({type:[String],json:{write:!0}})],Y.prototype,"outFields",void 0),(0,M._)([(0,N.Cb)({type:x.Z,json:{read:{source:"outSR"},write:{target:"outSR"}}})],Y.prototype,"outSpatialReference",void 0),(0,M._)([(0,N.Cb)({json:{write:!0}})],Y.prototype,"relationshipId",void 0),(0,M._)([(0,N.Cb)({type:Number,json:{read:{source:"resultOffset"}}})],Y.prototype,"start",void 0),(0,M._)([(0,L.c)("start"),(0,L.c)("num")],Y.prototype,"writeStart",null),(0,M._)([(0,N.Cb)({type:Number,json:{read:{source:"resultRecordCount"}}})],Y.prototype,"num",void 0),(0,M._)([(0,N.Cb)({json:{write:!0}})],Y.prototype,"returnGeometry",void 0),(0,M._)([(0,N.Cb)({type:Boolean,json:{write:{overridePolicy:se=>({enabled:se})}}})],Y.prototype,"returnM",void 0),(0,M._)([(0,N.Cb)({type:Boolean,json:{write:{overridePolicy:se=>({enabled:se})}}})],Y.prototype,"returnZ",void 0),(0,M._)([(0,N.Cb)({type:String,json:{read:{source:"definitionExpression"},write:{target:"definitionExpression"}}})],Y.prototype,"where",void 0),Y=Z=(0,M._)([(0,z.j)("esri.rest.support.RelationshipQuery")],Y),Y.from=(0,ee.se)(Y);const $=Y},60776:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>Y});var T,M=E(17626),O=E(2076),X=E(86810),B=E(58817),N=E(77712),z=(E(90912),E(76898)),L=E(99433);const x=new O.X({count:"count",sum:"sum",min:"min",max:"max",avg:"avg",stddev:"stddev",var:"var",exceedslimit:"exceedslimit",percentile_cont:"percentile-continuous",percentile_disc:"percentile-discrete",EnvelopeAggregate:"envelope-aggregate",CentroidAggregate:"centroid-aggregate",ConvexHullAggregate:"convex-hull-aggregate"});let Z=T=class extends X.wq{constructor($){super($),this.maxPointCount=void 0,this.maxRecordCount=void 0,this.maxVertexCount=void 0,this.onStatisticField=null,this.outStatisticFieldName=null,this.statisticType=null,this.statisticParameters=null}writeStatisticParameters($,se){"percentile-continuous"!==this.statisticType&&"percentile-discrete"!==this.statisticType||(se.statisticParameters=(0,B.d9)($))}clone(){return new T({maxPointCount:this.maxPointCount,maxRecordCount:this.maxRecordCount,maxVertexCount:this.maxVertexCount,onStatisticField:this.onStatisticField,outStatisticFieldName:this.outStatisticFieldName,statisticType:this.statisticType,statisticParameters:(0,B.d9)(this.statisticParameters)})}};(0,M._)([(0,N.Cb)({type:Number,json:{write:!0}})],Z.prototype,"maxPointCount",void 0),(0,M._)([(0,N.Cb)({type:Number,json:{write:!0}})],Z.prototype,"maxRecordCount",void 0),(0,M._)([(0,N.Cb)({type:Number,json:{write:!0}})],Z.prototype,"maxVertexCount",void 0),(0,M._)([(0,N.Cb)({type:String,json:{write:!0}})],Z.prototype,"onStatisticField",void 0),(0,M._)([(0,N.Cb)({type:String,json:{write:!0}})],Z.prototype,"outStatisticFieldName",void 0),(0,M._)([(0,N.Cb)({type:String,json:{read:{source:"statisticType",reader:x.read},write:{target:"statisticType",writer:x.write}}})],Z.prototype,"statisticType",void 0),(0,M._)([(0,N.Cb)({type:Object})],Z.prototype,"statisticParameters",void 0),(0,M._)([(0,L.c)("statisticParameters")],Z.prototype,"writeStatisticParameters",null),Z=T=(0,M._)([(0,z.j)("esri.rest.support.StatisticDefinition")],Z);const Y=Z},6871:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>re});var se,M=E(17626),O=E(29132),X=E(97478),B=E(2076),N=E(86810),ee=E(58817),z=E(77712),L=E(90912),T=E(76898),x=E(99433),Z=E(91179);E(85931),E(8314);let ne=se=class extends N.wq{constructor(Q){super(Q),this.groupByFields=void 0,this.topCount=void 0,this.orderByFields=void 0}clone(){return new se({groupByFields:this.groupByFields,topCount:this.topCount,orderByFields:this.orderByFields})}};(0,M._)([(0,z.Cb)({type:[String],json:{write:!0}})],ne.prototype,"groupByFields",void 0),(0,M._)([(0,z.Cb)({type:Number,json:{write:!0}})],ne.prototype,"topCount",void 0),(0,M._)([(0,z.Cb)({type:[String],json:{write:!0}})],ne.prototype,"orderByFields",void 0),ne=se=(0,M._)([(0,T.j)("esri.rest.support.TopFilter")],ne);const j=ne;var w,I=E(65234);const F=new B.X({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"}),k=new B.X({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});let W=w=class extends N.wq{constructor(Q){super(Q),this.cacheHint=void 0,this.distance=void 0,this.geometry=null,this.geometryPrecision=void 0,this.maxAllowableOffset=void 0,this.num=void 0,this.objectIds=null,this.orderByFields=null,this.outFields=null,this.outSpatialReference=null,this.resultType=null,this.returnGeometry=!1,this.returnM=void 0,this.returnZ=void 0,this.start=void 0,this.spatialRelationship="intersects",this.timeExtent=null,this.topFilter=void 0,this.units=null,this.where="1=1"}writeStart(Q,ue){ue.resultOffset=this.start,ue.resultRecordCount=this.num||10}clone(){return new w((0,ee.d9)({cacheHint:this.cacheHint,distance:this.distance,geometry:this.geometry,geometryPrecision:this.geometryPrecision,maxAllowableOffset:this.maxAllowableOffset,num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,resultType:this.resultType,returnGeometry:this.returnGeometry,returnZ:this.returnZ,returnM:this.returnM,start:this.start,spatialRelationship:this.spatialRelationship,timeExtent:this.timeExtent,topFilter:this.topFilter,units:this.units,where:this.where}))}};(0,M._)([(0,z.Cb)({type:Boolean,json:{write:!0}})],W.prototype,"cacheHint",void 0),(0,M._)([(0,z.Cb)({type:Number,json:{write:{overridePolicy:Q=>({enabled:Q>0})}}})],W.prototype,"distance",void 0),(0,M._)([(0,z.Cb)({types:O.qM,json:{read:Z.im,write:!0}})],W.prototype,"geometry",void 0),(0,M._)([(0,z.Cb)({type:Number,json:{write:!0}})],W.prototype,"geometryPrecision",void 0),(0,M._)([(0,z.Cb)({type:Number,json:{write:!0}})],W.prototype,"maxAllowableOffset",void 0),(0,M._)([(0,z.Cb)({type:Number,json:{read:{source:"resultRecordCount"}}})],W.prototype,"num",void 0),(0,M._)([(0,z.Cb)({json:{write:!0}})],W.prototype,"objectIds",void 0),(0,M._)([(0,z.Cb)({type:[String],json:{write:!0}})],W.prototype,"orderByFields",void 0),(0,M._)([(0,z.Cb)({type:[String],json:{write:!0}})],W.prototype,"outFields",void 0),(0,M._)([(0,z.Cb)({type:I.Z,json:{read:{source:"outSR"},write:{target:"outSR"}}})],W.prototype,"outSpatialReference",void 0),(0,M._)([(0,z.Cb)({type:String,json:{write:!0}})],W.prototype,"resultType",void 0),(0,M._)([(0,z.Cb)({json:{write:!0}})],W.prototype,"returnGeometry",void 0),(0,M._)([(0,z.Cb)({type:Boolean,json:{write:{overridePolicy:Q=>({enabled:Q})}}})],W.prototype,"returnM",void 0),(0,M._)([(0,z.Cb)({type:Boolean,json:{write:{overridePolicy:Q=>({enabled:Q})}}})],W.prototype,"returnZ",void 0),(0,M._)([(0,z.Cb)({type:Number,json:{read:{source:"resultOffset"}}})],W.prototype,"start",void 0),(0,M._)([(0,x.c)("start"),(0,x.c)("num")],W.prototype,"writeStart",null),(0,M._)([(0,z.Cb)({type:String,json:{read:{source:"spatialRel",reader:F.read},write:{target:"spatialRel",writer:F.write}}})],W.prototype,"spatialRelationship",void 0),(0,M._)([(0,z.Cb)({type:X.Z,json:{write:!0}})],W.prototype,"timeExtent",void 0),(0,M._)([(0,z.Cb)({type:j,json:{write:!0}})],W.prototype,"topFilter",void 0),(0,M._)([(0,z.Cb)({type:String,json:{read:k.read,write:{writer:k.write,overridePolicy(Q){return{enabled:Q&&this.distance>0}}}}})],W.prototype,"units",void 0),(0,M._)([(0,z.Cb)({type:String,json:{write:!0}})],W.prototype,"where",void 0),W=w=(0,M._)([(0,T.j)("esri.rest.support.TopFeaturesQuery")],W),W.from=(0,L.se)(W);const re=W},58245:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>Y});var M=E(17626),X=(E(29132),E(86810)),B=E(77712),z=(E(85931),E(8314),E(90912)),L=E(76898),T=E(91179),x=E(55214);let Z=class extends X.wq{constructor($){super($),this.extendHow="default-curve-extension",this.polylines=null,this.trimExtendTo=null}};(0,M._)([(0,B.Cb)({type:String,json:{write:!0}})],Z.prototype,"extendHow",void 0),(0,M._)([(0,B.Cb)({type:[x.Z],json:{read:{reader:$=>$?$.map(se=>(0,T.im)(se)):null},write:{writer:($,se)=>{se.polylines=$.map(ne=>ne.toJSON())}}}})],Z.prototype,"polylines",void 0),(0,M._)([(0,B.Cb)({json:{read:{reader:$=>$?(0,T.im)($):null},write:{writer:($,se)=>{se.trimExtendTo=$.toJSON()}}}})],Z.prototype,"trimExtendTo",void 0),Z=(0,M._)([(0,L.j)("esri.rest.support.TrimExtendParameters")],Z),Z.from=(0,z.se)(Z);const Y=Z},79023:(Qe,Me,E)=>{"use strict";E.d(Me,{V:()=>B,i:()=>N});var M=E(40251),O=E(61661),X=E(75414);const B={key:"type",base:O.Z,typeMap:{algorithmic:M.Z,multipart:X.Z}};function N(ee){return ee&&ee.type?"algorithmic"===ee.type?M.Z.fromJSON(ee):"multipart"===ee.type?X.Z.fromJSON(ee):null:null}},74722:(Qe,Me,E)=>{"use strict";E.d(Me,{q:()=>M});const M={type:String,json:{read:{source:"token"},write:{target:"token"}}}},2618:(Qe,Me,E)=>{"use strict";E.d(Me,{cv:()=>N,en:()=>B,lA:()=>X});var M=E(21726);function X(L,T){return T?Bn(Ct({},T),{query:Ct(Ct({},L),T.query)}):{query:L}}function B(L){return"string"==typeof L?(0,M.mN)(L):L}function N(L,T,x){const Z={};for(const Y in L){if("declaredClass"===Y)continue;const $=L[Y];if(null!=$&&"function"!=typeof $)if(Array.isArray($)){Z[Y]=[];for(let se=0;se<$.length;se++)Z[Y][se]=N($[se])}else if("object"==typeof $)if($.toJSON){const se=$.toJSON(x&&x[Y]);Z[Y]=T?se:JSON.stringify(se)}else Z[Y]=T?$:JSON.stringify($);else Z[Y]=$}return Z}E(83137)},51815:(Qe,Me,E)=>{"use strict";E.d(Me,{J:()=>Z});var M=E(17626),O=E(88879),B=(E(63290),E(90912)),L=(E(85931),E(8314),E(82255),E(61039)),T=E(76898),x=E(28705);let Z=class extends x.a{_own(Y){Y.layer&&"remove"in Y.layer&&Y.layer!==this.owner&&Y.layer.remove(Y),Y.layer=this.owner}_release(Y){Y.layer===this.owner&&(Y.layer=null)}};(0,M._)([(0,L.c)({Type:O.Z,ensureType:(0,B.se)(O.Z)})],Z.prototype,"itemType",void 0),Z=(0,M._)([(0,T.j)("esri.support.GraphicsCollection")],Z)},6432:(Qe,Me,E)=>{"use strict";E.d(Me,{K:()=>ne});var M=E(17626),O=E(48701),X=E(89726),B=E(63290),N=E(10699),ee=E(77712),x=(E(85931),E(8314),E(90912),E(76898)),Z=E(63602);function Y(j){return j&&"group"===j.type}function $(j,I,w){let F,k;if(j)for(let W=0,re=j.length;W<re;W++){if(F=j.getItemAt(W),F[I]===w)return F;if(Y(F)&&(k=$(F.layers,I,w),k))return k}}const se=B.Z.getLogger("esri.support.LayersMixin"),ne=j=>{let I=class extends j{constructor(...w){super(...w),this.layers=new O.Z;const k=re=>{re.parent=this,this.layerAdded(re),"elevation"!==re.type&&"base-elevation"!==re.type||se.error(`Layer 'title:${re.title}, id:${re.id}' of type '${re.type}' is not supported as an operational layer and will therefore be ignored.`)},W=re=>{re.parent=null,this.layerRemoved(re)};this.layers.on("before-add",re=>(re=>{re.parent&&"remove"in re.parent&&re.parent.remove(re)})(re.item)),this.layers.on("after-add",re=>k(re.item)),this.layers.on("after-remove",re=>W(re.item))}destroy(){const w=this.layers.removeAll();for(const F of w)this.layerRemoved(F),F.destroy();this.layers.destroy()}set layers(w){this._set("layers",(0,X.Z)(w,this._get("layers")))}add(w,F){const k=this.layers;if(F=k.getNextIndex(F),w instanceof Z.Z){const W=w;W.parent===this?this.reorder(W,F):k.add(W,F)}else(0,N.y8)(w)?w.then(W=>{this.destroyed||this.add(W,F)}):se.error("#add()","The item being added is not a Layer or a Promise that resolves to a Layer.")}addMany(w,F){const k=this.layers;F=k.getNextIndex(F),w.slice().forEach(W=>{W.parent!==this?(k.add(W,F),F+=1):this.reorder(W,F)})}findLayerById(w){return $(this.layers,"id",w)}findLayerByUid(w){return $(this.layers,"uid",w)}remove(w){return this.layers.remove(w)}removeMany(w){return this.layers.removeMany(w)}removeAll(){return this.layers.removeAll()}reorder(w,F){return this.layers.reorder(w,F)}layerAdded(w){}layerRemoved(w){}};return(0,M._)([(0,ee.Cb)()],I.prototype,"layers",null),I=(0,M._)([(0,x.j)("esri.support.LayersMixin")],I),I}},6119:(Qe,Me,E)=>{"use strict";E.d(Me,{Q:()=>se});var M=E(17626),O=E(48701),X=E(89726),B=E(63290),N=E(77712),T=(E(85931),E(8314),E(90912),E(76898));const x="esri.support.TablesMixin",Z=B.Z.getLogger(x);function Y(ne){return ne&&"group"===ne.type}function $(ne,j,I){if(ne)for(let w=0,F=ne.length;w<F;w++){const k=ne.getItemAt(w);if(k[j]===I)return k;if(Y(k)){const W=$(k.tables,j,I);if(W)return W}}}const se=ne=>{let j=class extends ne{constructor(...I){super(...I),this.tables=new O.Z,this.tables.on("after-add",w=>{const F=w.item;F.parent&&F.parent!==this&&"tables"in F.parent&&F.parent.tables.remove(F),F.parent=this,"feature"!==F.type&&Z.error(`Layer 'title:${F.title}, id:${F.id}' of type '${F.type}' is not supported as a table and will therefore be ignored.`)}),this.tables.on("after-remove",w=>{w.item.parent=null})}destroy(){const I=this.tables.removeAll();for(const w of I)w.destroy();this.tables.destroy()}set tables(I){this._set("tables",(0,X.Z)(I,this._get("tables")))}findTableById(I){return $(this.tables,"id",I)}findTableByUid(I){return $(this.tables,"uid",I)}};return(0,M._)([(0,N.Cb)()],j.prototype,"tables",null),j=(0,M._)([(0,T.j)(x)],j),j}},59397:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>Z});var T,M=E(17626),O=E(14517),X=E(61996),B=E(77712),L=(E(85931),E(8314),E(90912),E(76898));let x=T=class extends((0,X.I)(O.Z)){constructor(Y){super(Y),this.active=!1,this.className=null,this.disabled=!1,this.id=null,this.indicator=!1,this.title=null,this.type=null,this.visible=!0}clone(){return new T({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible})}};(0,M._)([(0,B.Cb)()],x.prototype,"active",void 0),(0,M._)([(0,B.Cb)()],x.prototype,"className",void 0),(0,M._)([(0,B.Cb)()],x.prototype,"disabled",void 0),(0,M._)([(0,B.Cb)()],x.prototype,"id",void 0),(0,M._)([(0,B.Cb)()],x.prototype,"indicator",void 0),(0,M._)([(0,B.Cb)()],x.prototype,"title",void 0),(0,M._)([(0,B.Cb)()],x.prototype,"type",void 0),(0,M._)([(0,B.Cb)()],x.prototype,"visible",void 0),x=T=(0,M._)([(0,L.j)("esri.support.actions.ActionBase")],x);const Z=x},48753:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>x});var L,M=E(17626),O=E(77712),ee=(E(85931),E(8314),E(90912),E(76898)),z=E(59397);let T=L=class extends z.Z{constructor(Z){super(Z),this.image=null,this.type="button"}clone(){return new L({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image})}};(0,M._)([(0,O.Cb)()],T.prototype,"image",void 0),T=L=(0,M._)([(0,ee.j)("esri.support.Action.ActionButton")],T);const x=T},10671:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>x});var L,M=E(17626),O=E(77712),ee=(E(85931),E(8314),E(90912),E(76898)),z=E(59397);let T=L=class extends z.Z{constructor(Z){super(Z),this.image=null,this.type="toggle",this.value=!1}clone(){return new L({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image,value:this.value})}};(0,M._)([(0,O.Cb)()],T.prototype,"image",void 0),(0,M._)([(0,O.Cb)()],T.prototype,"value",void 0),T=L=(0,M._)([(0,ee.j)("esri.support.Action.ActionToggle")],T);const x=T},12680:(Qe,Me,E)=>{"use strict";E.d(Me,{r:()=>B});var M=E(21726);const O=["elevation3d.arcgis.com","js.arcgis.com","jsdev.arcgis.com","jsqa.arcgis.com","static.arcgis.com"];function B(N){const ee=(0,M.P$)(N,!0);return ee&&ee.endsWith(".arcgis.com")&&!O.includes(ee)&&!N.endsWith("/sharing/rest/generateToken")}},46679:(Qe,Me,E)=>{"use strict";E.d(Me,{LC:()=>ee,WW:()=>z,Yi:()=>L,mz:()=>Z,pp:()=>x});var M=E(15861),X=(E(29132),E(62208)),B=E(65234);let N;function ee(){return N||(N=(0,M.Z)(function*(){const Y=yield E.e(5068).then(E.bind(E,75068));return{arcade:Y.arcade,arcadeUtils:Y,Dictionary:Y.Dictionary,Feature:Y.arcadeFeature}})()),N}const z=(Y,$,se)=>Z.create(Y,$,se,null,["$feature"]),L=(Y,$,se)=>Z.create(Y,$,se,null,["$feature","$view"]),x=(Y,$,se,ne)=>Z.create(Y,$,se,ne,["$feature","$view"]);class Z{constructor($,se,ne,j,I,w,F,k){this.script=$,this.evaluate=I;const W=Array.isArray(F)?F:F.fields;this.fields=W,this._syntaxTree=j,this._arcade=se,this._arcadeDictionary=ne,this._arcadeFeature=w,this._spatialReference=k,this._referencesGeometry=se.scriptTouchesGeometry(this._syntaxTree),this._referencesScale=this._arcade.referencesMember(this._syntaxTree,"scale")}static create($,se,ne,j,I,w){return(0,M.Z)(function*(){const{arcade:F,Feature:k,Dictionary:W}=yield ee(),re=B.Z.fromJSON(se),Q=F.parseScript($,w),ue=I.reduce((ce,ge)=>Bn(Ct({},ce),{[ge]:null}),{});let he=null;(0,X.pC)(j)&&(he=new W(j),he.immutable=!0,ue.$config=null);const fe=F.scriptUsesGeometryEngine(Q)&&F.enableGeometrySupport(),pe=F.scriptUsesFeatureSet(Q)&&F.enableFeatureSetSupport(),oe=F.scriptIsAsync(Q)&&F.enableAsyncSupport(),K={vars:ue,spatialReference:re,useAsync:!!oe},de=new W;de.immutable=!1,de.setField("scale",0);const le=F.compileScript(Q,K);return yield Promise.all([fe,pe,oe]),new Z($,F,W,Q,ce=>("$view"in ce&&ce.$view&&(de.setField("scale",ce.$view.scale),ce.$view=de),he&&(ce.$config=he),le({vars:ce,spatialReference:re})),new k,ne,re)})()}repurposeFeature($){return $.geometry&&!$.geometry.spatialReference&&($.geometry.spatialReference=this._spatialReference),this._arcadeFeature.repurposeFromGraphicLikeObject($.geometry,$.attributes,{fields:this.fields}),this._arcadeFeature}createDictionary(){return new this._arcadeDictionary}referencesMember($){return this._arcade.referencesMember(this._syntaxTree,$)}referencesFunction($){return this._arcade.referencesFunction(this._syntaxTree,$)}referencesGeometry(){return this._referencesGeometry}referencesScale(){return this._referencesScale}extractFieldLiterals(){return this._arcade.extractExpectedFieldLiterals(this._syntaxTree)}}},33954:(Qe,Me,E)=>{"use strict";E.d(Me,{g:()=>B,s:()=>ee});var M=E(15861),O=E(54346),X=E(41840);function B(z){return N.apply(this,arguments)}function N(){return(N=(0,M.Z)(function*(z){if(!z)return;const L=z.indexOf("-vector")>-1?z.slice(0,z.indexOf("-vector")):z,T=yield(0,X.ME)("esri/t9n/basemaps");return T[z]||T[L]})).apply(this,arguments)}const ee={streets:{id:"streets",classic:!0,deprecated:!0,get thumbnailUrl(){return(0,O.V)("esri/images/basemap/streets.jpg")},baseMapLayers:[{id:"streets-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Street Map",showLegend:!1,visibility:!0,opacity:1}]},satellite:{id:"satellite",classic:!0,get thumbnailUrl(){return(0,O.V)("esri/images/basemap/satellite.jpg")},baseMapLayers:[{id:"satellite-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1}]},hybrid:{id:"hybrid",classic:!0,get thumbnailUrl(){return(0,O.V)("esri/images/basemap/hybrid.jpg")},baseMapLayers:[{id:"hybrid-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1},{id:"hybrid-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Reference/World_Boundaries_and_Places/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Boundaries and Places",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},terrain:{id:"terrain",classic:!0,get thumbnailUrl(){return(0,O.V)("esri/images/basemap/terrain.jpg")},baseMapLayers:[{id:"terrain-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Terrain_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Terrain Base",showLegend:!1,visibility:!0,opacity:1},{id:"terrain-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Reference/World_Reference_Overlay/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Reference Overlay",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},topo:{id:"topo",classic:!0,deprecated:!0,get thumbnailUrl(){return(0,O.V)("esri/images/basemap/topo.jpg")},baseMapLayers:[{id:"topo-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Topo Map",showLegend:!1,visibility:!0,opacity:1}]},gray:{id:"gray",classic:!0,deprecated:!0,get thumbnailUrl(){return(0,O.V)("esri/images/basemap/gray.jpg")},baseMapLayers:[{id:"gray-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Light Gray Base",showLegend:!1,visibility:!0,opacity:1},{id:"gray-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Reference/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Light Gray Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},"dark-gray":{id:"dark-gray",classic:!0,deprecated:!0,get thumbnailUrl(){return(0,O.V)("esri/images/basemap/dark-gray.jpg")},baseMapLayers:[{id:"dark-gray-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Dark_Gray_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Dark Gray Base",showLegend:!1,visibility:!0,opacity:1},{id:"dark-gray-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Dark_Gray_Reference/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Dark Gray Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},oceans:{id:"oceans",classic:!0,get thumbnailUrl(){return(0,O.V)("esri/images/basemap/oceans.jpg")},baseMapLayers:[{id:"oceans-base-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Base",showLegend:!1,visibility:!0,opacity:1},{id:"oceans-reference-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Reference/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},"national-geographic":{id:"national-geographic",classic:!0,deprecated:!0,get thumbnailUrl(){return(0,O.V)("esri/images/basemap/national-geographic.jpg")},baseMapLayers:[{id:"national-geographic-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/NatGeo_World_Map/MapServer",title:"NatGeo World Map",showLegend:!1,layerType:"ArcGISTiledMapServiceLayer",visibility:!0,opacity:1}]},osm:{id:"osm",classic:!0,get thumbnailUrl(){return(0,O.V)("esri/images/basemap/osm.jpg")},baseMapLayers:[{id:"osm-base-layer",layerType:"OpenStreetMap",title:"Open Street Map",showLegend:!1,visibility:!0,opacity:1}]},"dark-gray-vector":{id:"dark-gray-vector",classic:!0,get thumbnailUrl(){return(0,O.V)("esri/images/basemap/dark-gray-vector.jpg")},baseMapLayers:[{id:"dark-gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/5e9b3685f4c24d8781073dd928ebda50/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Base",visibility:!0,opacity:1},{id:"dark-gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/747cb7a5329c478cbe6981076cc879c5/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Reference",isReference:!0,visibility:!0,opacity:1}]},"gray-vector":{id:"gray-vector",classic:!0,get thumbnailUrl(){return(0,O.V)("esri/images/basemap/gray-vector.jpg")},baseMapLayers:[{id:"gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/291da5eab3a0412593b66d384379f89f/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Base",visibility:!0,opacity:1},{id:"gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/1768e8369a214dfab4e2167d5c5f2454/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Reference",isReference:!0,visibility:!0,opacity:1}]},"streets-vector":{id:"streets-vector",classic:!0,get thumbnailUrl(){return(0,O.V)("esri/images/basemap/streets-vector.jpg")},baseMapLayers:[{id:"streets-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/de26a3cf4cc9451298ea173c4b324736/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets",visibility:!0,opacity:1}]},"topo-vector":{id:"topo-vector",classic:!0,get thumbnailUrl(){return(0,O.V)("esri/images/basemap/topo-vector.jpg")},baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"topo-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/7dc6cea0b1764a1f9af2e679f642f0f5/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Topo",visibility:!0,opacity:1}]},"streets-night-vector":{id:"streets-night-vector",classic:!0,get thumbnailUrl(){return(0,O.V)("esri/images/basemap/streets-night.jpg")},baseMapLayers:[{id:"streets-night-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/86f556a2d1fd468181855a35e344567f/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Night",visibility:!0,opacity:1}]},"streets-relief-vector":{id:"streets-relief-vector",classic:!0,get thumbnailUrl(){return(0,O.V)("esri/images/basemap/streets-relief.jpg")},baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"streets-relief-vector-base-layer",styleUrl:"//www.arcgis.com/sharing/rest/content/items/b266e6d17fc345b498345613930fbd76/resources/styles/root.json",title:"World Streets Relief",layerType:"VectorTileLayer",visibility:!0,opacity:1}]},"streets-navigation-vector":{id:"streets-navigation-vector",classic:!0,get thumbnailUrl(){return(0,O.V)("esri/images/basemap/streets-navigation.jpg")},baseMapLayers:[{id:"streets-navigation-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/63c47b7177f946b49902c24129b87252/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Navigation",visibility:!0,opacity:1}]},"arcgis-imagery":{get thumbnailUrl(){return(0,O.V)("esri/images/basemap/hybrid.jpg")},title:"Imagery Hybrid",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Imagery",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/World_Imagery/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Imagery:Labels",title:"Hybrid Reference Layer",isReference:!0}]},"arcgis-imagery-standard":{get thumbnailUrl(){return(0,O.V)("esri/images/basemap/satellite.jpg")},title:"Imagery",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Imagery",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/World_Imagery/MapServer"}]},"arcgis-imagery-labels":{title:"Hybrid [Reference]",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Imagery:Labels",title:"Hybrid Reference Layer",isReference:!0}]},"arcgis-light-gray":{get thumbnailUrl(){return(0,O.V)("esri/images/basemap/gray-vector.jpg")},title:"Light Gray Canvas",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:LightGray:Base",title:"Light Gray Canvas Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:LightGray:Labels",title:"Light Gray Canvas Labels",isReference:!0}]},"arcgis-dark-gray":{get thumbnailUrl(){return(0,O.V)("esri/images/basemap/dark-gray.jpg")},title:"Dark Gray Canvas",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:DarkGray:Base",title:"Dark Gray Canvas Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:DarkGray:Labels",title:"Dark Gray Canvas Labels",isReference:!0}]},"arcgis-navigation":{get thumbnailUrl(){return(0,O.V)("esri/images/basemap/streets-navigation.jpg")},title:"Navigation",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Navigation",title:"World Navigation Map"}]},"arcgis-navigation-night":{title:"Navigation (Dark Mode)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:NavigationNight",title:"World Navigation Map (Dark Mode)"}]},"arcgis-streets":{get thumbnailUrl(){return(0,O.V)("esri/images/basemap/streets-vector.jpg")},title:"Streets",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Streets",title:"World Street Map"}]},"arcgis-streets-night":{get thumbnailUrl(){return(0,O.V)("esri/images/basemap/streets-night.jpg")},title:"Streets (Night)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:StreetsNight",title:"World Street Map (Night)"}]},"arcgis-streets-relief":{get thumbnailUrl(){return(0,O.V)("esri/images/basemap/streets-relief.jpg")},title:"Streets (with Relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:StreetsRelief:Base",title:"World Street Map (with Relief)"}]},"arcgis-topographic":{get thumbnailUrl(){return(0,O.V)("esri/images/basemap/topo.jpg")},title:"Topographic",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Topographic:Base",title:"World Topographic Map"}]},"arcgis-oceans":{get thumbnailUrl(){return(0,O.V)("esri/images/basemap/oceans.jpg")},title:"Oceans",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Ocean Base",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Oceans:Labels",title:"World Ocean Reference",isReference:!0}]},"osm-standard":{title:"OpenStreetMap",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:Standard",title:"OpenStreetMap"}]},"osm-standard-relief":{title:"OpenStreetMap (with relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:StandardRelief:Base",layerType:"VectorTileLayer",title:"OpenStreetMap Relief Base"}]},"osm-streets":{title:"OpenStreetMap (Streets)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:Streets",title:"OpenStreetMap (Streets)"}]},"osm-streets-relief":{title:"OpenStreetMap (Streets with relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:StreetsRelief:Base",layerType:"VectorTileLayer",title:"OpenStreetMap Relief Base"}]},"osm-light-gray":{title:"OpenStreetMap (Light Gray Canvas)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:LightGray:Base",title:"OSM (Light Gray Base)"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:LightGray:Labels",title:"OSM (Light Gray Reference)",isReference:!0}]},"osm-dark-gray":{title:"OpenStreetMap (Dark Gray Canvas)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:DarkGray:Base",title:"OSM (Dark Gray Base)"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:DarkGray:Labels",title:"OSM (Dark Gray Reference)",isReference:!0}]},"arcgis-terrain":{title:"Terrain with Labels",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Terrain:Base",title:"World Terrain Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Terrain:Detail",title:"World Terrain Reference",isReference:!0}]},"arcgis-community":{title:"Community",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Community",title:"Community"}]},"arcgis-charted-territory":{title:"Charted Territory",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ChartedTerritory:Base",title:"Charted Territory"}]},"arcgis-colored-pencil":{title:"Colored Pencil",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ColoredPencil",title:"Colored Pencil"}]},"arcgis-nova":{title:"Nova",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Nova",title:"Nova"}]},"arcgis-modern-antique":{title:"Modern Antique",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ModernAntique:Base",title:"Modern Antique"}]},"arcgis-midcentury":{title:"Mid-Century",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Midcentury",title:"Mid-Century"}]},"arcgis-newspaper":{title:"Newspaper",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Newspaper",title:"Newspaper"}]},"arcgis-hillshade-light":{title:"Hillshade",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"}]},"arcgis-hillshade-dark":{title:"Hillshade (Dark)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade (Dark)",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade_Dark/MapServer"}]}}},49430:(Qe,Me,E)=>{"use strict";E.d(Me,{eZ:()=>se});var M=E(73281),O=E(36630),X=E(55664),z=(E(55013),E(16615),E(82561),E(75484)),x=(E(64531),E(501),E(25621)),Z=E(66845);const Y=["oid","global-id"],$=["oid","global-id","guid"];function se({displayField:oe,editFieldsInfo:K,fields:de,objectIdField:le,title:me},ce){if(!de)return null;const ge=function re({editFieldsInfo:oe,fields:K,objectIdField:de},le){return function I(oe,K){const de=oe;return K&&(oe=oe.filter(le=>-1===K.indexOf(le.type))),oe===de&&(oe=oe.slice()),oe.sort(w),oe}(K,(null==le?void 0:le.ignoreFieldTypes)||pe).map(me=>new x.Z({fieldName:me.name,isEditable:k(me,oe),label:me.alias,format:Q(me),visible:j(me,{editFieldsInfo:oe,objectIdField:de,visibleFieldNames:null==le?void 0:le.visibleFieldNames})}))}({editFieldsInfo:K,fields:de,objectIdField:le},ce);if(!ge.length)return null;const J=function he(oe){const K=(0,O.O5)(oe),{titleBase:de}=oe;return K?`${de}: {${K.trim()}}`:de}({titleBase:me,fields:de,displayField:oe}),ie=function ue(){return[new z.Z,new X.Z]}();return new M.Z({title:J,content:ie,fieldInfos:ge})}const ne=[/^fnode_$/i,/^tnode_$/i,/^lpoly_$/i,/^rpoly_$/i,/^poly_$/i,/^subclass$/i,/^subclass_$/i,/^rings_ok$/i,/^rings_nok$/i,/shape/i,/perimeter/i,/objectid/i,/_i$/i],j=(oe,{editFieldsInfo:K,objectIdField:de,visibleFieldNames:le})=>le?le.has(oe.name):!(F(oe.name,K)||de&&oe.name===de||Y.indexOf(oe.type)>-1||ne.some(me=>me.test(oe.name)));function w(oe,K){return"oid"===oe.type?-1:"oid"===K.type?1:fe(oe)?-1:fe(K)?1:(oe.alias||oe.name).toLocaleLowerCase().localeCompare((K.alias||K.name).toLocaleLowerCase())}function F(oe,K){if(!oe||!K)return!1;const{creationDateField:de,creatorField:le,editDateField:me,editorField:ce}=K;return-1!==[de&&de.toLowerCase(),le&&le.toLowerCase(),me&&me.toLowerCase(),ce&&ce.toLowerCase()].indexOf(oe.toLowerCase())}function k(oe,K){return oe.editable&&-1===$.indexOf(oe.type)&&!F(oe.name,K)}function Q(oe){switch(oe.type){case"small-integer":case"integer":case"single":return new Z.Z({digitSeparator:!0,places:0});case"double":return new Z.Z({digitSeparator:!0,places:2});case"date":return new Z.Z({dateFormat:"long-month-day-year"});default:return null}}function fe(oe){return"name"===(oe.name&&oe.name.toLowerCase())||"name"===(oe.alias&&oe.alias.toLowerCase())||void 0}const pe=["geometry","blob","raster","guid","xml"]},33899:(Qe,Me,E)=>{"use strict";E.d(Me,{f:()=>B});var M=E(8314),O=E(62208),X=E(10699);function B(ee,z,L=!1,T){return new Promise((x,Z)=>{if((0,X.Hc)(T))return void Z(N());let Y=()=>{ne(),Z(new Error(`Unable to load ${z}`))},$=()=>{const j=ee;ne(),x(j)},se=()=>{if(!ee)return;const j=ee;ne(),j.src="",Z(N())};const ne=()=>{(0,M.Z)("esri-image-decode")||(ee.removeEventListener("error",Y),ee.removeEventListener("load",$)),Y=null,$=null,ee=null,(0,O.pC)(T)&&T.removeEventListener("abort",se),se=null,L&&URL.revokeObjectURL(z)};(0,O.pC)(T)&&T.addEventListener("abort",se),(0,M.Z)("esri-image-decode")?ee.decode().then($,Y):(ee.addEventListener("error",Y),ee.addEventListener("load",$))})}function N(){try{return new DOMException("Aborted","AbortError")}catch(ee){const z=new Error;return z.name="AbortError",z}}},38365:(Qe,Me,E)=>{"use strict";E.d(Me,{$:()=>O,r:()=>M});const M="20220404",O="ecb69ff5e08a61c162de0ddc0b1f397ed5d4071b"},65787:(Qe,Me,E)=>{"use strict";E.d(Me,{se:()=>at,cT:()=>nt,dU:()=>Te,S9:()=>te,LB:()=>Ze,AH:()=>He,yK:()=>je,S6:()=>ot,QT:()=>Ee,f_:()=>ht});var k,M=E(90912),O=E(383),X=E(94398),N=(E(65499),E(48575)),ee=E(9260),T=(E(11472),E(26531),E(22490)),x=E(40445),$=(E(21068),E(46735),E(17626)),se=E(48701),ne=E(58817),j=E(77712),I=E(55342),w=E(76898),F=E(39368);const W=se.Z.ofType({base:null,key:"type",typeMap:{fill:ee.Z}});let re=k=class extends F.Z{constructor(lt){super(lt),this.symbolLayers=new W,this.type="mesh-3d"}clone(){return new k({styleOrigin:(0,ne.d9)(this.styleOrigin),symbolLayers:(0,ne.d9)(this.symbolLayers),thumbnail:(0,ne.d9)(this.thumbnail)})}};(0,$._)([(0,j.Cb)({type:W})],re.prototype,"symbolLayers",void 0),(0,$._)([(0,I.J)({MeshSymbol3D:"mesh-3d"},{readOnly:!0})],re.prototype,"type",void 0),re=k=(0,$._)([(0,w.j)("esri.symbols.MeshSymbol3D")],re);const Q=re;E(2066),E(69147);var oe,fe=E(23841),pe=E(69738);let K=oe=class extends N.Z{constructor(...lt){super(...lt),this.type="picture-fill",this.url=null,this.xscale=1,this.yscale=1,this.width=12,this.height=12,this.xoffset=0,this.yoffset=0,this.source=null}normalizeCtorArgs(lt,tt,vt,Ke){if(lt&&"string"!=typeof lt&&null==lt.imageData)return lt;const ut={};return lt&&(ut.url=lt),tt&&(ut.outline=tt),null!=vt&&(ut.width=(0,fe.t_)(vt)),null!=Ke&&(ut.height=(0,fe.t_)(Ke)),ut}clone(){const lt=new oe({color:(0,ne.d9)(this.color),height:this.height,outline:this.outline&&this.outline.clone(),url:this.url,width:this.width,xoffset:this.xoffset,xscale:this.xscale,yoffset:this.yoffset,yscale:this.yscale});return lt._set("source",(0,ne.d9)(this.source)),lt}hash(){var lt;return`${super.hash()}.${null==(lt=this.color)?void 0:lt.hash()}.${this.height}.${this.url}.${this.width}.${this.xoffset}.${this.xscale}.${this.yoffset}.${this.yscale}`}};(0,$._)([(0,I.J)({esriPFS:"picture-fill"},{readOnly:!0})],K.prototype,"type",void 0),(0,$._)([(0,j.Cb)(pe.KA)],K.prototype,"url",void 0),(0,$._)([(0,j.Cb)({type:Number,json:{write:!0}})],K.prototype,"xscale",void 0),(0,$._)([(0,j.Cb)({type:Number,json:{write:!0}})],K.prototype,"yscale",void 0),(0,$._)([(0,j.Cb)({type:Number,cast:fe.t_,json:{write:!0}})],K.prototype,"width",void 0),(0,$._)([(0,j.Cb)({type:Number,cast:fe.t_,json:{write:!0}})],K.prototype,"height",void 0),(0,$._)([(0,j.Cb)({type:Number,cast:fe.t_,json:{write:!0}})],K.prototype,"xoffset",void 0),(0,$._)([(0,j.Cb)({type:Number,cast:fe.t_,json:{write:!0}})],K.prototype,"yoffset",void 0),(0,$._)([(0,j.Cb)(pe.Ds)],K.prototype,"source",void 0),K=oe=(0,$._)([(0,w.j)("esri.symbols.PictureFillSymbol")],K);const de=K;var le=E(13546),me=E(69852),ce=E(89673),ge=E(88493),J=E(52068),ie=E(57213),De=E(10012),Ie=(E(97665),E(35540)),Ve=(E(21716),E(72622),E(12874));function nt(lt){if(!lt)return!1;switch(lt.type){case"picture-fill":case"picture-marker":case"simple-fill":case"simple-line":case"simple-marker":case"text":case"cim":return!0;default:return!1}}function Te(lt){if(!lt)return!1;switch(lt.type){case"label-3d":case"line-3d":case"mesh-3d":case"point-3d":case"polygon-3d":return!0;default:return!1}}E(17497),E(71530);const Ze={base:De.Z,key:"type",typeMap:{"simple-fill":ge.Z,"picture-fill":de,"picture-marker":le.Z,"simple-line":J.Z,"simple-marker":ie.Z,text:Ie.Z,"label-3d":T.Z,"line-3d":x.Z,"mesh-3d":Q,"point-3d":me.Z,"polygon-3d":ce.Z,"web-style":Ve.Z,cim:X.Z},errorContext:"symbol"},He={base:De.Z,key:"type",typeMap:{"picture-marker":le.Z,"simple-marker":ie.Z,text:Ie.Z,"web-style":Ve.Z,cim:X.Z},errorContext:"symbol"},te=(0,O.d)({types:Ze}),Ee={base:De.Z,key:"type",typeMap:{"simple-fill":ge.Z,"picture-fill":de,"picture-marker":le.Z,"simple-line":J.Z,"simple-marker":ie.Z,text:Ie.Z,"line-3d":x.Z,"mesh-3d":Q,"point-3d":me.Z,"polygon-3d":ce.Z,"web-style":Ve.Z,cim:X.Z},errorContext:"symbol"},je={base:De.Z,key:"type",typeMap:{text:Ie.Z,"label-3d":T.Z},errorContext:"symbol"},ht={base:De.Z,key:"type",typeMap:{"line-3d":x.Z,"mesh-3d":Q,"point-3d":me.Z,"polygon-3d":ce.Z,"web-style":Ve.Z,cim:X.Z},errorContext:"symbol"},ot={base:De.Z,key:"type",typeMap:{"label-3d":T.Z},errorContext:"symbol"},at=(0,M.N7)(Ze)},94398:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>ne});var $,M=E(15861),O=E(17626),X=E(58817),B=E(77275),N=E(77712),z=(E(90912),E(55342)),L=E(68653),T=E(76898),x=E(99433),Z=E(36630),Y=E(10012);let se=$=class extends Y.Z{constructor(j){super(j),this.data=null,this.type="cim"}readData(j,I){return I}writeData(j,I){if(j)for(const w in j)I[w]=j[w]}collectRequiredFields(j,I){var w=this;return(0,M.Z)(function*(){if("CIMSymbolReference"===w.data.type){const F=w.data.primitiveOverrides;if(F){const k=F.map(W=>(0,Z.io)(j,I,W.valueExpressionInfo.expression));yield Promise.all(k)}}})()}clone(){return new $({data:(0,X.d9)(this.data)})}hash(){return(0,B.hP)(JSON.stringify(this.data)).toString()}};(0,O._)([(0,N.Cb)({json:{write:!1}})],se.prototype,"color",void 0),(0,O._)([(0,N.Cb)({json:{write:!0}})],se.prototype,"data",void 0),(0,O._)([(0,L.r)("data",["symbol"])],se.prototype,"readData",null),(0,O._)([(0,x.c)("data",{})],se.prototype,"writeData",null),(0,O._)([(0,z.J)({CIMSymbolReference:"cim"},{readOnly:!0})],se.prototype,"type",void 0),se=$=(0,O._)([(0,T.j)("esri.symbols.CIMSymbol")],se);const ne=se},65499:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>se});var Y,M=E(17626),O=E(62208),X=E(77712),z=(E(85931),E(8314),E(90912),E(55342)),L=E(76898),T=E(97665),x=E(89441),Z=E(64830);let $=Y=class extends T.Z{constructor(ne){super(ne),this.type="extrude",this.size=1,this.material=null,this.castShadows=!0,this.edges=null}clone(){return new Y({edges:this.edges&&this.edges.clone(),enabled:this.enabled,material:(0,O.pC)(this.material)?this.material.clone():null,castShadows:this.castShadows,size:this.size})}};(0,M._)([(0,z.J)({Extrude:"extrude"},{readOnly:!0})],$.prototype,"type",void 0),(0,M._)([(0,X.Cb)({type:Number,json:{write:{enabled:!0,isRequired:!0}},nonNullable:!0})],$.prototype,"size",void 0),(0,M._)([(0,X.Cb)({type:Z.b,json:{write:!0}})],$.prototype,"material",void 0),(0,M._)([(0,X.Cb)({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],$.prototype,"castShadows",void 0),(0,M._)([(0,X.Cb)(x.Z)],$.prototype,"edges",void 0),$=Y=(0,M._)([(0,L.j)("esri.symbols.ExtrudeSymbol3DLayer")],$);const se=$},48575:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>x});var M=E(17626),O=E(77712),ee=(E(85931),E(8314),E(90912),E(76898)),z=E(52068),L=E(10012);let T=class extends L.Z{constructor(Z){super(Z),this.outline=null,this.type=null}hash(){return`${this.type}.${this.outline&&this.outline.hash()}`}};(0,M._)([(0,O.Cb)({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":z.Z}},json:{default:null,write:!0}})],T.prototype,"outline",void 0),(0,M._)([(0,O.Cb)({type:["simple-fill","picture-fill"],readOnly:!0})],T.prototype,"type",void 0),T=(0,M._)([(0,ee.j)("esri.symbols.FillSymbol")],T);const x=T},9260:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>K});var w,M=E(17626),O=E(62208),X=E(77712),z=(E(85931),E(8314),E(90912),E(55342)),L=E(76898),T=E(97665),x=E(89441),Z=E(63743),Y=E(153),$=E(99255),se=E(12948),I=(E(63290),E(82255),E(64830));let F=w=class extends I.b{constructor(de){super(de),this.colorMixMode=null}clone(){const de={color:(0,O.pC)(this.color)?this.color.clone():null,colorMixMode:this.colorMixMode};return new w(de)}};(0,M._)([(0,z.J)({multiply:"multiply",replace:"replace",tint:"tint"})],F.prototype,"colorMixMode",void 0),F=w=(0,M._)([(0,L.j)("esri.symbols.support.Symbol3DFillMaterial")],F);var he,k=E(91558),W=E(86810),re=E(23841),Q=E(60958),ue=E(43652);let fe=he=class extends W.wq{constructor(de){super(de),this.color=new k.Z([0,0,0,1]),this.size=(0,re.Wz)(1),this.pattern=null,this.patternCap="butt"}clone(){const de={color:(0,O.pC)(this.color)?this.color.clone():null,size:this.size,pattern:(0,O.pC)(this.pattern)?this.pattern.clone():null,patternCap:this.patternCap};return new he(de)}};var pe;(0,M._)([(0,X.Cb)(Q.a)],fe.prototype,"color",void 0),(0,M._)([(0,X.Cb)(Q.y)],fe.prototype,"size",void 0),(0,M._)([(0,X.Cb)($.D)],fe.prototype,"pattern",void 0),(0,M._)([(0,X.Cb)({type:ue.Hc,json:{default:"butt",write:{overridePolicy(){return{enabled:(0,O.pC)(this.pattern)}}}}})],fe.prototype,"patternCap",void 0),fe=he=(0,M._)([(0,L.j)("esri.symbols.support.Symbol3DOutline")],fe);let oe=pe=class extends T.Z{constructor(de){super(de),this.type="fill",this.material=null,this.pattern=null,this.castShadows=!0,this.outline=null,this.edges=null}clone(){const de={edges:(0,O.pC)(this.edges)?this.edges.clone():null,enabled:this.enabled,material:(0,O.pC)(this.material)?this.material.clone():null,pattern:(0,O.pC)(this.pattern)?this.pattern.clone():null,castShadows:this.castShadows,outline:(0,O.pC)(this.outline)?this.outline.clone():null};return new pe(de)}static fromSimpleFillSymbol(de){var le,me,ce,ge,J,ie;const De=de.outline&&de.outline.style&&"inside-frame"!==de.outline.style&&"solid"!==de.outline.style?new Z.Z({style:de.outline.style}):null,_e={size:null!=(le=null==(me=de.outline)?void 0:me.width)?le:0,color:(null!=(ce=null==(ge=de.outline)?void 0:ge.color)?ce:se.ix).clone(),pattern:De};return De&&null!=(J=de.outline)&&J.cap&&(_e.patternCap=de.outline.cap),new pe({material:new F({color:(null!=(ie=de.color)?ie:se.l9).clone()}),pattern:de.style&&"solid"!==de.style?new Y.Z({style:de.style}):null,outline:_e})}};(0,M._)([(0,z.J)({Fill:"fill"},{readOnly:!0})],oe.prototype,"type",void 0),(0,M._)([(0,X.Cb)({type:F,json:{write:!0}})],oe.prototype,"material",void 0),(0,M._)([(0,X.Cb)($.q)],oe.prototype,"pattern",void 0),(0,M._)([(0,X.Cb)({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],oe.prototype,"castShadows",void 0),(0,M._)([(0,X.Cb)({type:fe,json:{write:!0}})],oe.prototype,"outline",void 0),(0,M._)([(0,X.Cb)(x.Z)],oe.prototype,"edges",void 0),oe=pe=(0,M._)([(0,L.j)("esri.symbols.FillSymbol3DLayer")],oe);const K=oe},11472:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>Y});var x,M=E(17626),O=E(86810),X=E(23841),B=E(77712),z=(E(85931),E(8314),E(66656)),L=E(76898),T=E(50369);let Z=x=class extends O.wq{constructor($){super($),this.decoration="none",this.family="sans-serif",this.size=9,this.style="normal",this.weight="normal"}castSize($){return(0,X.t_)($)}clone(){return new x({decoration:this.decoration,family:this.family,size:this.size,style:this.style,weight:this.weight})}hash(){return`${this.decoration}.${this.family}.${this.size}.${this.style}.${this.weight}`}};(0,M._)([(0,B.Cb)({type:T.uC,json:{default:"none",write:!0}})],Z.prototype,"decoration",void 0),(0,M._)([(0,B.Cb)({type:String,json:{write:!0}})],Z.prototype,"family",void 0),(0,M._)([(0,B.Cb)({type:Number,json:{write:{overridePolicy:($,se,ne)=>({enabled:!ne||!ne.textSymbol3D})}}})],Z.prototype,"size",void 0),(0,M._)([(0,z.p)("size")],Z.prototype,"castSize",null),(0,M._)([(0,B.Cb)({type:T.hR,json:{default:"normal",write:!0}})],Z.prototype,"style",void 0),(0,M._)([(0,B.Cb)({type:T.Xw,json:{default:"normal",write:!0}})],Z.prototype,"weight",void 0),Z=x=(0,M._)([(0,L.j)("esri.symbols.Font")],Z);const Y=Z},26531:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>K});var F,M=E(17626),O=E(63290),X=E(62208),B=E(21726),N=E(77712),T=(E(85931),E(8314),E(90912),E(55342)),x=E(76898),Z=E(97665),Y=E(12948),$=E(33215),se=E(60958),ne=E(37519),j=E(91558),I=E(86810),w=E(23841);let k=F=class extends I.wq{constructor(de){super(de),this.color=new j.Z([0,0,0,1]),this.size=(0,w.Wz)(1)}clone(){const de={color:(0,X.pC)(this.color)?this.color.clone():null,size:this.size};return new F(de)}};(0,M._)([(0,N.Cb)(se.a)],k.prototype,"color",void 0),(0,M._)([(0,N.Cb)(se.y)],k.prototype,"size",void 0),k=F=(0,M._)([(0,x.j)("esri.symbols.support.Symbol3DIconOutline")],k);var re,W=E(64830);const Q=O.Z.getLogger("esri.symbols.IconSymbol3DLayer");let ue=re=class extends Z.Z{constructor(de){super(de),this.material=null,this.resource=null,this.type="icon",this.size=12,this.anchor="center",this.anchorPosition=void 0,this.outline=void 0}clone(){return new re({anchor:this.anchor,anchorPosition:this.anchorPosition&&this.anchorPosition.clone(),enabled:this.enabled,material:(0,X.pC)(this.material)?this.material.clone():null,outline:(0,X.pC)(this.outline)?this.outline.clone():null,resource:this.resource&&this.resource.clone(),size:this.size})}static fromSimpleMarkerSymbol(de){const le=de.color||Y.ix,me=he(de),ce=de.outline&&de.outline.width>0?{size:de.outline.width,color:(de.outline.color||Y.ix).clone()}:null;return new re({size:de.size,resource:{primitive:oe(de.style)},material:{color:le},outline:ce,anchor:me?"relative":void 0,anchorPosition:me})}static fromPictureMarkerSymbol(de){const le=!de.color||(0,Y.rx)(de.color)?Y.ix:de.color,me=he(de);return new re({size:de.width<=de.height?de.height:de.width,resource:{href:de.url},material:{color:le.clone()},anchor:me?"relative":void 0,anchorPosition:me})}static fromCIMSymbol(de){return new re({resource:{href:(0,B._l)({mediaType:"application/json",data:JSON.stringify(de.data)})}})}};function he(de){const le="width"in de?de.width:de.size,me="height"in de?de.height:de.size,ce=fe(de.xoffset),ge=fe(de.yoffset);return(ce||ge)&&le&&me?{x:-ce/le,y:ge/me}:null}function fe(de){return isFinite(de)?de:0}(0,M._)([(0,N.Cb)({type:W.b,json:{write:!0}})],ue.prototype,"material",void 0),(0,M._)([(0,N.Cb)({type:$.b,json:{write:!0}})],ue.prototype,"resource",void 0),(0,M._)([(0,T.J)({Icon:"icon"},{readOnly:!0})],ue.prototype,"type",void 0),(0,M._)([(0,N.Cb)(se.y)],ue.prototype,"size",void 0),(0,M._)([(0,T.J)({center:"center",left:"left",right:"right",top:"top",bottom:"bottom",topLeft:"top-left",topRight:"top-right",bottomLeft:"bottom-left",bottomRight:"bottom-right",relative:"relative"}),(0,N.Cb)({json:{default:"center"}})],ue.prototype,"anchor",void 0),(0,M._)([(0,N.Cb)({type:ne.e,json:{type:[Number],read:{reader:de=>new ne.e({x:de[0],y:de[1]})},write:{writer:(de,le)=>{le.anchorPosition=[de.x,de.y]},overridePolicy(){return{enabled:"relative"===this.anchor}}}}})],ue.prototype,"anchorPosition",void 0),(0,M._)([(0,N.Cb)({type:k,json:{write:!0}})],ue.prototype,"outline",void 0),ue=re=(0,M._)([(0,x.j)("esri.symbols.IconSymbol3DLayer")],ue);const pe={circle:"circle",cross:"cross",diamond:"kite",square:"square",x:"x",triangle:"triangle",path:null};function oe(de){return pe[de]||(Q.warn(`${de} cannot be mapped to Icon symbol. Fallback to "circle"`),"circle")}const K=ue},22490:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>ne});var Y,M=E(17626),O=E(48701),X=E(58817),B=E(77712),ee=(E(90912),E(55342)),z=E(76898),L=E(39368),T=E(21716),x=E(9824),Z=E(97595);const $=O.Z.ofType({base:null,key:"type",typeMap:{text:T.Z}});let se=Y=class extends L.Z{constructor(j){super(j),this.verticalOffset=null,this.callout=null,this.styleOrigin=null,this.symbolLayers=new $,this.type="label-3d"}supportsCallout(){return!0}hasVisibleCallout(){return(0,x.gv)(this)}hasVisibleVerticalOffset(){return(0,x.Uy)(this)}clone(){return new Y({styleOrigin:(0,X.d9)(this.styleOrigin),symbolLayers:(0,X.d9)(this.symbolLayers),thumbnail:(0,X.d9)(this.thumbnail),callout:(0,X.d9)(this.callout),verticalOffset:(0,X.d9)(this.verticalOffset)})}static fromTextSymbol(j){return new Y({symbolLayers:[T.Z.fromTextSymbol(j)]})}};(0,M._)([(0,B.Cb)({type:Z._,json:{write:!0}})],se.prototype,"verticalOffset",void 0),(0,M._)([(0,B.Cb)(x.Y2)],se.prototype,"callout",void 0),(0,M._)([(0,B.Cb)({json:{read:!1,write:!1}})],se.prototype,"styleOrigin",void 0),(0,M._)([(0,B.Cb)({type:$})],se.prototype,"symbolLayers",void 0),(0,M._)([(0,ee.J)({LabelSymbol3D:"label-3d"},{readOnly:!0})],se.prototype,"type",void 0),se=Y=(0,M._)([(0,z.j)("esri.symbols.LabelSymbol3D")],se);const ne=se},40445:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>ne});var Z,M=E(17626),O=E(48701),X=E(58817),B=E(77712),ee=(E(90912),E(55342)),z=E(76898),L=E(21068),T=E(69147),x=E(39368);const Y=O.Z.ofType({base:null,key:"type",typeMap:{line:L.Z,path:T.Z}}),$=O.Z.ofType({base:null,key:"type",typeMap:{line:L.Z,path:T.Z}});let se=Z=class extends x.Z{constructor(j){super(j),this.symbolLayers=new Y,this.type="line-3d"}clone(){return new Z({styleOrigin:(0,X.d9)(this.styleOrigin),symbolLayers:(0,X.d9)(this.symbolLayers),thumbnail:(0,X.d9)(this.thumbnail)})}static fromSimpleLineSymbol(j){return new Z({symbolLayers:[L.Z.fromSimpleLineSymbol(j)]})}};(0,M._)([(0,B.Cb)({type:Y,json:{type:$}})],se.prototype,"symbolLayers",void 0),(0,M._)([(0,ee.J)({LineSymbol3D:"line-3d"},{readOnly:!0})],se.prototype,"type",void 0),se=Z=(0,M._)([(0,z.j)("esri.symbols.LineSymbol3D")],se);const ne=se},21068:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>he});var M=E(17626),O=E(62208),X=E(23841),B=E(77712),z=(E(85931),E(8314),E(90912)),L=E(55342),T=E(76898),x=E(91558),Z=E(79608),Y=E(86810),$=E(67866);let se=class extends((0,Z.J)(Y.wq)){constructor(fe){super(fe),this.type="style",this.placement="begin-end",this.style="arrow",this.color=null}equals(fe){return(0,O.pC)(fe)&&fe.placement===this.placement&&fe.style===this.style&&((0,O.Wi)(this.color)&&(0,O.Wi)(fe.color)||(0,O.pC)(this.color)&&(0,O.pC)(fe.color)&&this.color.toJSON()===fe.color.toJSON())}};(0,M._)([(0,B.Cb)({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],se.prototype,"type",void 0),(0,M._)([(0,B.Cb)({type:$.J,json:{default:"begin-end",write:!0}})],se.prototype,"placement",void 0),(0,M._)([(0,B.Cb)({type:$.k,json:{default:"arrow",write:!0}})],se.prototype,"style",void 0),(0,M._)([(0,B.Cb)({type:x.Z,json:{type:[z.z8],default:null,write:!0}})],se.prototype,"color",void 0),se=(0,M._)([(0,T.j)("esri.symbols.LineStyleMarker3D")],se);const ne=se;var Q,j=E(97665),I=E(63743),w=E(99255),F=E(12948),k=E(60958),W=E(64830),re=E(43652);let ue=Q=class extends j.Z{constructor(fe){super(fe),this.material=null,this.type="line",this.join="miter",this.cap="butt",this.size=(0,X.Wz)(1),this.pattern=null,this.marker=null}clone(){const fe={enabled:this.enabled,material:(0,O.pC)(this.material)?this.material.clone():null,size:this.size,join:this.join,cap:this.cap,pattern:(0,O.pC)(this.pattern)?this.pattern.clone():null,marker:(0,O.pC)(this.marker)?this.marker.clone():null};return new Q(fe)}static fromSimpleLineSymbol(fe){var pe,oe,K;const de={enabled:!0,size:null!=(pe=fe.width)?pe:(0,X.Wz)(1),cap:fe.cap||"butt",join:fe.join||"miter",pattern:fe.style&&"inside-frame"!==fe.style?new I.Z({style:fe.style}):null,material:new W.b({color:(fe.color||F.ix).clone()}),marker:fe.marker?new ne({placement:fe.marker.placement,style:fe.marker.style,color:null!=(oe=null==(K=fe.marker.color)?void 0:K.clone())?oe:null}):null};return new Q(de)}};(0,M._)([(0,B.Cb)({type:W.b,json:{write:!0}})],ue.prototype,"material",void 0),(0,M._)([(0,L.J)({Line:"line"},{readOnly:!0})],ue.prototype,"type",void 0),(0,M._)([(0,B.Cb)({type:re.w2,json:{write:!0,default:"miter"}})],ue.prototype,"join",void 0),(0,M._)([(0,B.Cb)({type:re.Hc,json:{write:!0,default:"butt"}})],ue.prototype,"cap",void 0),(0,M._)([(0,B.Cb)(k.y)],ue.prototype,"size",void 0),(0,M._)([(0,B.Cb)(w.D)],ue.prototype,"pattern",void 0),(0,M._)([(0,B.Cb)({types:{key:"type",base:ne,typeMap:{style:ne}},json:{write:!0}})],ue.prototype,"marker",void 0),ue=Q=(0,M._)([(0,T.j)("esri.symbols.LineSymbol3DLayer")],ue);const he=ue},46735:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>x});var M=E(17626),O=E(23841),X=E(77712),z=(E(85931),E(8314),E(90912),E(76898)),L=E(10012);let T=class extends L.Z{constructor(Z){super(Z),this.angle=0,this.type=null,this.xoffset=0,this.yoffset=0,this.size=9}hash(){return`${this.type}.${this.angle}.${this.size}.${this.xoffset}.${this.yoffset}`}};(0,M._)([(0,X.Cb)({type:Number,json:{read:Z=>Z&&-1*Z,write:(Z,Y)=>Y.angle=Z&&-1*Z}})],T.prototype,"angle",void 0),(0,M._)([(0,X.Cb)({type:["simple-marker","picture-marker"],readOnly:!0})],T.prototype,"type",void 0),(0,M._)([(0,X.Cb)({type:Number,cast:O.t_,json:{write:!0}})],T.prototype,"xoffset",void 0),(0,M._)([(0,X.Cb)({type:Number,cast:O.t_,json:{write:!0}})],T.prototype,"yoffset",void 0),(0,M._)([(0,X.Cb)({type:Number,cast:Z=>"auto"===Z?Z:(0,O.t_)(Z),json:{write:!0}})],T.prototype,"size",void 0),T=(0,M._)([(0,z.j)("esri.symbols.MarkerSymbol")],T);const x=T},2066:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>I});var Y,M=E(17626),O=E(62208),X=E(77712),z=(E(85931),E(8314),E(90912),E(55342)),L=E(76898),T=E(97665),x=E(48521),Z=E(14517);let $=Y=class extends Z.Z{constructor(){super(...arguments),this.x=0,this.y=0,this.z=0}clone(){return new Y({x:this.x,y:this.y,z:this.z})}};(0,M._)([(0,X.Cb)({type:Number})],$.prototype,"x",void 0),(0,M._)([(0,X.Cb)({type:Number})],$.prototype,"y",void 0),(0,M._)([(0,X.Cb)({type:Number})],$.prototype,"z",void 0),$=Y=(0,M._)([(0,L.j)("esri.symbols.support.Symbol3DAnchorPosition3D")],$);var ne,se=E(64830);let j=ne=class extends T.Z{constructor(w){super(w),this.material=null,this.castShadows=!0,this.resource=null,this.type="object",this.width=void 0,this.height=void 0,this.depth=void 0,this.anchor=void 0,this.anchorPosition=void 0,this.heading=void 0,this.tilt=void 0,this.roll=void 0}clone(){return new ne({heading:this.heading,tilt:this.tilt,roll:this.roll,anchor:this.anchor,anchorPosition:this.anchorPosition&&this.anchorPosition.clone(),depth:this.depth,enabled:this.enabled,height:this.height,material:(0,O.pC)(this.material)?this.material.clone():null,castShadows:this.castShadows,resource:this.resource&&this.resource.clone(),width:this.width})}get isPrimitive(){return!this.resource||"string"!=typeof this.resource.href}};(0,M._)([(0,X.Cb)({type:se.b,json:{write:!0}})],j.prototype,"material",void 0),(0,M._)([(0,X.Cb)({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],j.prototype,"castShadows",void 0),(0,M._)([(0,X.Cb)({type:x.k,json:{write:!0}})],j.prototype,"resource",void 0),(0,M._)([(0,z.J)({Object:"object"},{readOnly:!0})],j.prototype,"type",void 0),(0,M._)([(0,X.Cb)({type:Number,json:{write:!0}})],j.prototype,"width",void 0),(0,M._)([(0,X.Cb)({type:Number,json:{write:!0}})],j.prototype,"height",void 0),(0,M._)([(0,X.Cb)({type:Number,json:{write:!0}})],j.prototype,"depth",void 0),(0,M._)([(0,z.J)({center:"center",top:"top",bottom:"bottom",origin:"origin",relative:"relative"}),(0,X.Cb)({json:{default:"origin"}})],j.prototype,"anchor",void 0),(0,M._)([(0,X.Cb)({type:$,json:{type:[Number],read:{reader:w=>new $({x:w[0],y:w[1],z:w[2]})},write:{writer:(w,F)=>{F.anchorPosition=[w.x,w.y,w.z]},overridePolicy(){return{enabled:"relative"===this.anchor}}}}})],j.prototype,"anchorPosition",void 0),(0,M._)([(0,X.Cb)({type:Number,json:{write:!0}})],j.prototype,"heading",void 0),(0,M._)([(0,X.Cb)({type:Number,json:{write:!0}})],j.prototype,"tilt",void 0),(0,M._)([(0,X.Cb)({type:Number,json:{write:!0}})],j.prototype,"roll",void 0),(0,M._)([(0,X.Cb)({readOnly:!0})],j.prototype,"isPrimitive",null),j=ne=(0,M._)([(0,L.j)("esri.symbols.ObjectSymbol3DLayer")],j);const I=j},69147:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>ne});var $,M=E(17626),O=E(62208),X=E(77712),z=(E(85931),E(8314),E(90912),E(55342)),L=E(68653),T=E(76898),x=E(97665),Z=E(64830),Y=E(43652);let se=$=class extends x.Z{constructor(j){super(j),this.material=null,this.castShadows=!0,this.type="path",this.profile="circle",this.join="miter",this.cap="butt",this.width=void 0,this.height=void 0,this.anchor="center",this.profileRotation="all"}readWidth(j,I){return null!=j?j:null==I.height&&null!=I.size?I.size:void 0}readHeight(j,I){return null!=j?j:null==I.width&&null!=I.size?I.size:void 0}clone(){return new $({enabled:this.enabled,material:(0,O.pC)(this.material)?this.material.clone():null,castShadows:this.castShadows,profile:this.profile,join:this.join,cap:this.cap,width:this.width,height:this.height,profileRotation:this.profileRotation,anchor:this.anchor})}};(0,M._)([(0,X.Cb)({type:Z.b,json:{write:!0}})],se.prototype,"material",void 0),(0,M._)([(0,X.Cb)({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],se.prototype,"castShadows",void 0),(0,M._)([(0,z.J)({Path:"path"},{readOnly:!0})],se.prototype,"type",void 0),(0,M._)([(0,X.Cb)({type:["circle","quad"],json:{write:!0,default:"circle"}})],se.prototype,"profile",void 0),(0,M._)([(0,X.Cb)({type:Y.w2,json:{write:!0,default:"miter"}})],se.prototype,"join",void 0),(0,M._)([(0,X.Cb)({type:Y.KW,json:{write:!0,default:"butt"}})],se.prototype,"cap",void 0),(0,M._)([(0,X.Cb)({type:Number,json:{write:{enabled:!0,target:{width:{type:Number},size:{type:Number}}}}})],se.prototype,"width",void 0),(0,M._)([(0,L.r)("width",["width","size","height"])],se.prototype,"readWidth",null),(0,M._)([(0,X.Cb)({type:Number,json:{write:!0}})],se.prototype,"height",void 0),(0,M._)([(0,L.r)("height",["height","size","width"])],se.prototype,"readHeight",null),(0,M._)([(0,X.Cb)({type:["center","bottom","top"],json:{write:!0,default:"center"}})],se.prototype,"anchor",void 0),(0,M._)([(0,X.Cb)({type:["heading","all"],json:{write:!0,default:"all"}})],se.prototype,"profileRotation",void 0),se=$=(0,M._)([(0,T.j)("esri.symbols.PathSymbol3DLayer")],se);const ne=se},13546:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>$});var Z,M=E(17626),O=E(58817),X=E(23841),B=E(77712),ee=(E(90912),E(55342)),z=E(68653),L=E(76898),T=E(46735),x=E(69738);let Y=Z=class extends T.Z{constructor(...se){super(...se),this.color=null,this.type="picture-marker",this.url=null,this.source=null,this.height=12,this.width=12,this.size=null}normalizeCtorArgs(se,ne,j){if(se&&"string"!=typeof se&&null==se.imageData)return se;const I={};return se&&(I.url=se),null!=ne&&(I.width=(0,X.t_)(ne)),null!=j&&(I.height=(0,X.t_)(j)),I}readHeight(se,ne){return ne.size||se}readWidth(se,ne){return ne.size||se}clone(){const se=new Z({angle:this.angle,height:this.height,url:this.url,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset});return se._set("source",(0,O.d9)(this.source)),se}hash(){return`${super.hash()}.${this.height}.${this.url}.${this.width}`}};(0,M._)([(0,B.Cb)({json:{write:!1}})],Y.prototype,"color",void 0),(0,M._)([(0,ee.J)({esriPMS:"picture-marker"},{readOnly:!0})],Y.prototype,"type",void 0),(0,M._)([(0,B.Cb)(x.KA)],Y.prototype,"url",void 0),(0,M._)([(0,B.Cb)(x.Ds)],Y.prototype,"source",void 0),(0,M._)([(0,B.Cb)({type:Number,cast:X.t_,json:{write:!0}})],Y.prototype,"height",void 0),(0,M._)([(0,z.r)("height",["height","size"])],Y.prototype,"readHeight",null),(0,M._)([(0,B.Cb)({type:Number,cast:X.t_,json:{write:!0}})],Y.prototype,"width",void 0),(0,M._)([(0,B.Cb)({json:{write:!1}})],Y.prototype,"size",void 0),Y=Z=(0,M._)([(0,L.j)("esri.symbols.PictureMarkerSymbol")],Y);const $=Y},69852:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>I});var se,M=E(17626),O=E(48701),X=E(58817),B=E(77712),ee=(E(90912),E(55342)),z=E(76898),L=E(26531),T=E(2066),x=E(39368),Z=E(21716),Y=E(9824),$=E(97595);const ne=O.Z.ofType({base:null,key:"type",typeMap:{icon:L.Z,object:T.Z,text:Z.Z}});let j=se=class extends x.Z{constructor(w){super(w),this.verticalOffset=null,this.callout=null,this.symbolLayers=new ne,this.type="point-3d"}supportsCallout(){if((this.symbolLayers?this.symbolLayers.length:0)<1)return!1;for(const w of this.symbolLayers.items)switch(w.type){case"icon":case"text":case"object":continue;default:return!1}return!0}hasVisibleCallout(){return(0,Y.gv)(this)}hasVisibleVerticalOffset(){return(0,Y.Uy)(this)}clone(){return new se({verticalOffset:(0,X.d9)(this.verticalOffset),callout:(0,X.d9)(this.callout),styleOrigin:(0,X.d9)(this.styleOrigin),symbolLayers:(0,X.d9)(this.symbolLayers),thumbnail:(0,X.d9)(this.thumbnail)})}static fromSimpleMarkerSymbol(w){return new se({symbolLayers:[L.Z.fromSimpleMarkerSymbol(w)]})}static fromPictureMarkerSymbol(w){return new se({symbolLayers:[L.Z.fromPictureMarkerSymbol(w)]})}static fromCIMSymbol(w){var F,k;return"CIMPointSymbol"!==(null==(F=w.data)||null==(k=F.symbol)?void 0:k.type)?null:new se(w.data.symbol.callout?{symbolLayers:[L.Z.fromCIMSymbol(w)],callout:{type:"line",size:.5,color:[0,0,0]},verticalOffset:{screenLength:40}}:{symbolLayers:[L.Z.fromCIMSymbol(w)]})}static fromTextSymbol(w){return new se({symbolLayers:[Z.Z.fromTextSymbol(w)]})}};(0,M._)([(0,B.Cb)({type:$._,json:{write:!0}})],j.prototype,"verticalOffset",void 0),(0,M._)([(0,B.Cb)(Y.Y2)],j.prototype,"callout",void 0),(0,M._)([(0,B.Cb)({type:ne,json:{origins:{"web-scene":{write:!0}}}})],j.prototype,"symbolLayers",void 0),(0,M._)([(0,ee.J)({PointSymbol3D:"point-3d"},{readOnly:!0})],j.prototype,"type",void 0),j=se=(0,M._)([(0,z.j)("esri.symbols.PointSymbol3D")],j);const I=j},89673:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>Q});var F,M=E(17626),O=E(48701),X=E(26584),B=E(58817),N=E(62208),ee=E(77712),L=(E(90912),E(55342)),T=E(76898),x=E(99433),Z=E(65499),Y=E(9260),$=E(26531),se=E(21068),ne=E(2066),j=E(39368),I=E(21716),w=E(72622);const k=O.Z.ofType({base:null,key:"type",typeMap:{extrude:Z.Z,fill:Y.Z,icon:$.Z,line:se.Z,object:ne.Z,text:I.Z,water:w.Z}}),W=O.Z.ofType({base:null,key:"type",typeMap:{extrude:Z.Z,fill:Y.Z,icon:$.Z,line:se.Z,object:ne.Z,water:w.Z}});let re=F=class extends j.Z{constructor(ue){super(ue),this.symbolLayers=new k,this.type="polygon-3d"}writeSymbolLayers(ue,he,fe,pe){const oe=ue.filter(K=>"text"!==K.type);if(pe&&pe.messages&&oe.length<ue.length){const K=ue.find(de=>"text"===de.type);pe.messages.push(new X.Z("symbol-layer:unsupported","Symbol layers of type 'text' cannot be persisted in PolygonSymbol3D",{symbolLayer:K}))}he[fe]=oe.map(K=>K.write({},pe)).toArray()}clone(){return new F({styleOrigin:(0,B.d9)(this.styleOrigin),symbolLayers:(0,B.d9)(this.symbolLayers),thumbnail:(0,B.d9)(this.thumbnail)})}static fromJSON(ue){const he=new F;if(he.read(ue),2===he.symbolLayers.length&&"fill"===he.symbolLayers.getItemAt(0).type&&"line"===he.symbolLayers.getItemAt(1).type){const fe=he.symbolLayers.getItemAt(0),pe=he.symbolLayers.getItemAt(1);!pe.enabled||ue.symbolLayers&&ue.symbolLayers[1]&&!1===ue.symbolLayers[1].enable||(fe.outline={size:pe.size,color:(0,N.pC)(pe.material)?pe.material.color:null}),he.symbolLayers.removeAt(1)}return he}static fromSimpleFillSymbol(ue){return new F({symbolLayers:[Y.Z.fromSimpleFillSymbol(ue)]})}};(0,M._)([(0,ee.Cb)({type:k,json:{type:W}})],re.prototype,"symbolLayers",void 0),(0,M._)([(0,x.c)("web-scene","symbolLayers")],re.prototype,"writeSymbolLayers",null),(0,M._)([(0,L.J)({PolygonSymbol3D:"polygon-3d"},{readOnly:!0})],re.prototype,"type",void 0),re=F=(0,M._)([(0,T.j)("esri.symbols.PolygonSymbol3D")],re);const Q=re},88493:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>se});var Z,M=E(17626),O=E(91558),X=E(2076),B=E(58817),N=E(77712),z=(E(90912),E(55342)),L=E(76898),T=E(48575),x=E(52068);const Y=new X.X({esriSFSSolid:"solid",esriSFSNull:"none",esriSFSHorizontal:"horizontal",esriSFSVertical:"vertical",esriSFSForwardDiagonal:"forward-diagonal",esriSFSBackwardDiagonal:"backward-diagonal",esriSFSCross:"cross",esriSFSDiagonalCross:"diagonal-cross"});let $=Z=class extends T.Z{constructor(...ne){super(...ne),this.color=new O.Z([0,0,0,.25]),this.outline=new x.Z,this.type="simple-fill",this.style="solid"}normalizeCtorArgs(ne,j,I){if(ne&&"string"!=typeof ne)return ne;const w={};return ne&&(w.style=ne),j&&(w.outline=j),I&&(w.color=I),w}clone(){return new Z({color:(0,B.d9)(this.color),outline:this.outline&&this.outline.clone(),style:this.style})}hash(){return`${super.hash()}${this.style}.${this.color&&this.color.hash()}`}};(0,M._)([(0,N.Cb)()],$.prototype,"color",void 0),(0,M._)([(0,N.Cb)()],$.prototype,"outline",void 0),(0,M._)([(0,z.J)({esriSFS:"simple-fill"},{readOnly:!0})],$.prototype,"type",void 0),(0,M._)([(0,N.Cb)({type:Y.apiValues,json:{read:Y.read,write:Y.write}})],$.prototype,"style",void 0),$=Z=(0,M._)([(0,L.j)("esri.symbols.SimpleFillSymbol")],$);const se=$},52068:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>he});var M=E(17626),O=E(2076),X=E(58817),B=E(23841),N=E(77712),z=(E(90912),E(55342)),L=E(76898),Z=(E(85931),E(8314),E(10012));let Y=class extends Z.Z{constructor(fe){super(fe),this.type="simple-line",this.width=.75}hash(){return`${this.type}.${this.width}`}};(0,M._)([(0,z.J)({esriSLS:"simple-line"},{readOnly:!0})],Y.prototype,"type",void 0),(0,M._)([(0,N.Cb)({type:Number,cast:B.t_,json:{write:!0}})],Y.prototype,"width",void 0),Y=(0,M._)([(0,L.j)("esri.symbols.LineSymbol")],Y);const $=Y;var F,se=E(91558),ne=E(86810),j=E(68653),I=E(99433),w=E(67866);let k=F=class extends ne.wq{constructor(fe){super(fe),this.placement="begin-end",this.type="line-marker",this.style="arrow"}writeStyle(fe,pe,oe,K){pe[oe]="web-map"===(null==K?void 0:K.origin)?"arrow":fe}set color(fe){this._set("color",fe)}readColor(fe){return fe&&null!=fe[0]?[fe[0],fe[1],fe[2],fe[3]/255]:fe}writeColor(fe,pe,oe,K){"web-map"===(null==K?void 0:K.origin)||(pe[oe]=fe)}clone(){return new F({color:(0,X.d9)(this.color),placement:this.placement,style:this.style})}hash(){var fe;return`${this.placement}.${null==(fe=this.color)?void 0:fe.hash()}.${this.style}`}};(0,M._)([(0,N.Cb)({type:["begin","end","begin-end"],json:{write:!0}})],k.prototype,"placement",void 0),(0,M._)([(0,z.J)({"line-marker":"line-marker"},{readOnly:!0}),(0,N.Cb)({json:{origins:{"web-map":{write:!1}}}})],k.prototype,"type",void 0),(0,M._)([(0,N.Cb)({type:w.k})],k.prototype,"style",void 0),(0,M._)([(0,I.c)("style")],k.prototype,"writeStyle",null),(0,M._)([(0,N.Cb)({type:se.Z,value:null,json:{write:{allowNull:!0}}})],k.prototype,"color",null),(0,M._)([(0,j.r)("color")],k.prototype,"readColor",null),(0,M._)([(0,I.c)("color")],k.prototype,"writeColor",null),k=F=(0,M._)([(0,L.j)("esri.symbols.LineSymbolMarker")],k);const W=k;var re;const Q=new O.X({esriSLSSolid:"solid",esriSLSDash:"dash",esriSLSDot:"dot",esriSLSDashDot:"dash-dot",esriSLSDashDotDot:"long-dash-dot-dot",esriSLSNull:"none",esriSLSInsideFrame:"inside-frame",esriSLSShortDash:"short-dash",esriSLSShortDot:"short-dot",esriSLSShortDashDot:"short-dash-dot",esriSLSShortDashDotDot:"short-dash-dot-dot",esriSLSLongDash:"long-dash",esriSLSLongDashDot:"long-dash-dot"});let ue=re=class extends ${constructor(...fe){super(...fe),this.type="simple-line",this.style="solid",this.cap="round",this.join="round",this.marker=null,this.miterLimit=2}normalizeCtorArgs(fe,pe,oe,K,de,le){if(fe&&"string"!=typeof fe)return fe;const me={};return null!=fe&&(me.style=fe),null!=pe&&(me.color=pe),null!=oe&&(me.width=(0,B.t_)(oe)),null!=K&&(me.cap=K),null!=de&&(me.join=de),null!=le&&(me.miterLimit=(0,B.t_)(le)),me}clone(){var fe;return new re({color:(0,X.d9)(this.color),style:this.style,width:this.width,cap:this.cap,join:this.join,miterLimit:this.miterLimit,marker:null==(fe=this.marker)?void 0:fe.clone()})}hash(){var fe,pe;return`${super.hash()}.${null==(fe=this.color)?void 0:fe.hash()}.${this.style}.${this.cap}.${this.join}.${this.miterLimit}.${null==(pe=this.marker)?void 0:pe.hash()}`}};(0,M._)([(0,z.J)({esriSLS:"simple-line"},{readOnly:!0})],ue.prototype,"type",void 0),(0,M._)([(0,N.Cb)({type:Q.apiValues,json:{read:Q.read,write:Q.write}})],ue.prototype,"style",void 0),(0,M._)([(0,N.Cb)({type:["butt","round","square"],json:{write:{overridePolicy:(fe,pe,oe)=>({enabled:"round"!==fe&&(null==oe||null==oe.origin)})}}})],ue.prototype,"cap",void 0),(0,M._)([(0,N.Cb)({type:["miter","round","bevel"],json:{write:{overridePolicy:(fe,pe,oe)=>({enabled:"round"!==fe&&(null==oe||null==oe.origin)})}}})],ue.prototype,"join",void 0),(0,M._)([(0,N.Cb)({types:{key:"type",base:null,defaultKeyValue:"line-marker",typeMap:{"line-marker":W}},json:{write:!0,origins:{"web-scene":{write:!1}}}})],ue.prototype,"marker",void 0),(0,M._)([(0,N.Cb)({type:Number,json:{read:!1,write:!1}})],ue.prototype,"miterLimit",void 0),ue=re=(0,M._)([(0,L.j)("esri.symbols.SimpleLineSymbol")],ue);const he=ue},57213:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>j});var $,M=E(17626),O=E(91558),X=E(2076),B=E(58817),N=E(23841),ee=E(77712),L=(E(90912),E(55342)),T=E(76898),x=E(99433),Z=E(46735),Y=E(52068);const se=new X.X({esriSMSCircle:"circle",esriSMSSquare:"square",esriSMSCross:"cross",esriSMSX:"x",esriSMSDiamond:"diamond",esriSMSTriangle:"triangle",esriSMSPath:"path"});let ne=$=class extends Z.Z{constructor(...I){super(...I),this.color=new O.Z([255,255,255,.25]),this.type="simple-marker",this.size=12,this.style="circle",this.outline=new Y.Z}normalizeCtorArgs(I,w,F,k){if(I&&"string"!=typeof I)return I;const W={};return I&&(W.style=I),null!=w&&(W.size=(0,N.t_)(w)),F&&(W.outline=F),k&&(W.color=k),W}writeColor(I,w){I&&"x"!==this.style&&"cross"!==this.style&&(w.color=I.toJSON()),null===I&&(w.color=null)}set path(I){this.style="path",this._set("path",I)}clone(){return new $({angle:this.angle,color:(0,B.d9)(this.color),outline:this.outline&&this.outline.clone(),path:this.path,size:this.size,style:this.style,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){var I;return`${super.hash()}.${this.color&&this.color.hash()}.${this.path}.${this.style}.${null==(I=this.outline)?void 0:I.hash()}`}};(0,M._)([(0,ee.Cb)()],ne.prototype,"color",void 0),(0,M._)([(0,x.c)("color")],ne.prototype,"writeColor",null),(0,M._)([(0,L.J)({esriSMS:"simple-marker"},{readOnly:!0})],ne.prototype,"type",void 0),(0,M._)([(0,ee.Cb)()],ne.prototype,"size",void 0),(0,M._)([(0,ee.Cb)({type:se.apiValues,json:{read:se.read,write:se.write}})],ne.prototype,"style",void 0),(0,M._)([(0,ee.Cb)({type:String,json:{write:!0}})],ne.prototype,"path",null),(0,M._)([(0,ee.Cb)({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":Y.Z}},json:{default:null,write:!0}})],ne.prototype,"outline",void 0),ne=$=(0,M._)([(0,T.j)("esri.symbols.SimpleMarkerSymbol")],ne);const j=ne},10012:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>ne});var M=E(15861),O=E(17626),X=E(91558),B=E(2076),N=E(86810),ee=E(77712),x=(E(85931),E(8314),E(90912),E(68653)),Z=E(76898);const Y=new B.X({esriSMS:"simple-marker",esriPMS:"picture-marker",esriSLS:"simple-line",esriSFS:"simple-fill",esriPFS:"picture-fill",esriTS:"text",esriSHD:"shield-label-symbol",PointSymbol3D:"point-3d",LineSymbol3D:"line-3d",PolygonSymbol3D:"polygon-3d",WebStyleSymbol:"web-style",MeshSymbol3D:"mesh-3d",LabelSymbol3D:"label-3d",CIMSymbolReference:"cim"});let $=0,se=class extends N.wq{constructor(j){super(j),this.id="sym"+$++,this.type=null,this.color=new X.Z([0,0,0,1])}readColor(j){return j&&null!=j[0]?[j[0],j[1],j[2],j[3]/255]:j}collectRequiredFields(j,I){return(0,M.Z)(function*(){})()}hash(){return JSON.stringify(this.toJSON())}clone(){}};(0,O._)([(0,ee.Cb)({type:Y.apiValues,readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,writer:Y.write}}})],se.prototype,"type",void 0),(0,O._)([(0,ee.Cb)({type:X.Z,json:{write:{allowNull:!0}}})],se.prototype,"color",void 0),(0,O._)([(0,x.r)("color")],se.prototype,"readColor",null),se=(0,O._)([(0,Z.j)("esri.symbols.Symbol")],se);const ne=se},39368:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>me});var M=E(17626),O=E(48701),X=E(89726),B=E(63290),N=E(21726),ee=E(14889),z=E(77712),x=(E(85931),E(8314),E(66656)),Z=E(68653),Y=E(76898),$=E(99433),se=E(84687),ne=E(29840),j=E(65499),I=E(9260),w=E(26531),F=E(21068),k=E(2066),W=E(69147),re=E(10012),Q=E(97665),ue=E(21716),he=E(72622),fe=E(77345),pe=E(96296);const oe={icon:w.Z,object:k.Z,line:F.Z,path:W.Z,fill:I.Z,extrude:j.Z,text:ue.Z,water:he.Z},K=O.Z.ofType({base:Q.Z,key:"type",typeMap:oe,errorContext:"symbol-layer"}),de=B.Z.getLogger("esri.symbols.Symbol3D");let le=class extends re.Z{constructor(ce){super(ce),this.styleOrigin=null,this.thumbnail=null,this.type=null;const ge=this.__accessor__&&this.__accessor__.metadatas&&this.__accessor__.metadatas.symbolLayers;this._set("symbolLayers",new(ge&&ge.type||O.Z))}get color(){return null}set color(ce){this.initialized&&de.error("Symbol3D does not support colors on the symbol level. Colors may be set on individual symbol layer materials instead.")}set symbolLayers(ce){(0,X.Z)(ce,this._get("symbolLayers"))}readStyleOrigin(ce,ge,J){if(ce.styleUrl&&ce.name){const ie=(0,ne.f)(ce.styleUrl,J);return new fe.Z({styleUrl:ie,name:ce.name})}if(ce.styleName&&ce.name)return new fe.Z({portal:J&&J.portal||se.Z.getDefault(),styleName:ce.styleName,name:ce.name});J&&J.messages&&J.messages.push(new ee.Z("symbol3d:incomplete-style-origin","Style origin requires either a 'styleUrl' or 'styleName' and a 'name' property",{context:J,definition:ce}))}writeStyleOrigin(ce,ge,J,ie){if(ce.styleUrl&&ce.name){let De=(0,ne.t)(ce.styleUrl,ie);(0,N.YP)(De)&&(De=(0,N.Fv)(De)),ge.styleOrigin={styleUrl:De,name:ce.name}}else ce.styleName&&ce.name&&(ce.portal&&ie&&ie.portal&&!(0,N.tm)(ce.portal.restUrl,ie.portal.restUrl)?ie&&ie.messages&&ie.messages.push(new ee.Z("symbol:cross-portal","The symbol style origin cannot be persisted because it refers to an item on a different portal than the one being saved to.",{symbol:this})):ge.styleOrigin={styleName:ce.styleName,name:ce.name})}normalizeCtorArgs(ce){return ce instanceof Q.Z||ce&&oe[ce.type]?{symbolLayers:[ce]}:Array.isArray(ce)?{symbolLayers:ce}:ce}};(0,M._)([(0,z.Cb)({json:{read:!1,write:!1}})],le.prototype,"color",null),(0,M._)([(0,z.Cb)({type:K,nonNullable:!0,json:{write:!0}}),(0,x.p)(X.R)],le.prototype,"symbolLayers",null),(0,M._)([(0,z.Cb)({type:fe.Z})],le.prototype,"styleOrigin",void 0),(0,M._)([(0,Z.r)("styleOrigin")],le.prototype,"readStyleOrigin",null),(0,M._)([(0,$.c)("styleOrigin",{"styleOrigin.styleUrl":{type:String},"styleOrigin.styleName":{type:String},"styleOrigin.name":{type:String}})],le.prototype,"writeStyleOrigin",null),(0,M._)([(0,z.Cb)({type:pe.p,json:{read:!1}})],le.prototype,"thumbnail",void 0),(0,M._)([(0,z.Cb)({type:["point-3d","line-3d","polygon-3d","mesh-3d","label-3d"],readOnly:!0})],le.prototype,"type",void 0),le=(0,M._)([(0,Y.j)("esri.symbols.Symbol3D")],le);const me=le},97665:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>x});var M=E(17626),O=E(86810),X=E(77712),z=(E(85931),E(8314),E(90912),E(76898)),L=E(99433);let T=class extends O.wq{constructor(Z){super(Z),this.enabled=!0,this.type=null}writeEnabled(Z,Y,$){Z||(Y[$]=Z)}};(0,M._)([(0,X.Cb)({type:Boolean,json:{read:{source:"enable"},write:{target:"enable"}}})],T.prototype,"enabled",void 0),(0,M._)([(0,L.c)("enabled")],T.prototype,"writeEnabled",null),(0,M._)([(0,X.Cb)({type:["icon","object","line","path","fill","water","extrude","text"],readOnly:!0})],T.prototype,"type",void 0),T=(0,M._)([(0,z.j)("esri.symbols.Symbol3DLayer")],T);const x=T},35540:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>ne});var $,M=E(17626),O=E(91558),X=E(58817),B=E(23841),N=E(77712),ee=E(66656),z=E(55342),L=E(76898),T=E(99433),x=E(11472),Z=E(10012),Y=E(50369);let se=$=class extends Z.Z{constructor(...j){super(...j),this.backgroundColor=null,this.borderLineColor=null,this.borderLineSize=null,this.font=new x.Z,this.horizontalAlignment="center",this.kerning=!0,this.haloColor=null,this.haloSize=null,this.rightToLeft=null,this.rotated=!1,this.text="",this.type="text",this.verticalAlignment="baseline",this.xoffset=0,this.yoffset=0,this.angle=0,this.width=null,this.lineWidth=192,this.lineHeight=1}normalizeCtorArgs(j,I,w){if(j&&"string"!=typeof j)return j;const F={};return j&&(F.text=j),I&&(F.font=I),w&&(F.color=w),F}writeLineWidth(j,I,w,F){F&&"string"!=typeof F||(I[w]=j)}castLineWidth(j){return(0,B.t_)(j)}writeLineHeight(j,I,w,F){F&&"string"!=typeof F||(I[w]=j)}clone(){return new $({angle:this.angle,backgroundColor:(0,X.d9)(this.backgroundColor),borderLineColor:(0,X.d9)(this.borderLineColor),borderLineSize:this.borderLineSize,color:(0,X.d9)(this.color),font:this.font&&this.font.clone(),haloColor:(0,X.d9)(this.haloColor),haloSize:this.haloSize,horizontalAlignment:this.horizontalAlignment,kerning:this.kerning,lineHeight:this.lineHeight,lineWidth:this.lineWidth,rightToLeft:this.rightToLeft,rotated:this.rotated,text:this.text,verticalAlignment:this.verticalAlignment,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){return`${this.backgroundColor&&this.backgroundColor.hash()}.${this.borderLineColor}.${this.borderLineSize}.${this.color.hash()}.${this.font&&this.font.hash()}.${this.haloColor&&this.haloColor.hash()}.${this.haloSize}.${this.horizontalAlignment}.${this.kerning}.${this.rightToLeft}.${this.rotated}.${this.text}.${this.verticalAlignment}.${this.width}.${this.xoffset}.${this.yoffset}.${this.lineHeight}.${this.lineWidth}.${this.angle}`}};(0,M._)([(0,N.Cb)({type:O.Z,json:{write:!0}})],se.prototype,"backgroundColor",void 0),(0,M._)([(0,N.Cb)({type:O.Z,json:{write:!0}})],se.prototype,"borderLineColor",void 0),(0,M._)([(0,N.Cb)({type:Number,json:{write:!0}})],se.prototype,"borderLineSize",void 0),(0,M._)([(0,N.Cb)({type:x.Z,json:{write:!0}})],se.prototype,"font",void 0),(0,M._)([(0,N.Cb)(Bn(Ct({},Y.x0),{json:{write:!0}}))],se.prototype,"horizontalAlignment",void 0),(0,M._)([(0,N.Cb)({type:Boolean,json:{write:!0}})],se.prototype,"kerning",void 0),(0,M._)([(0,N.Cb)({type:O.Z,json:{write:!0}})],se.prototype,"haloColor",void 0),(0,M._)([(0,N.Cb)({type:Number,cast:B.t_,json:{write:!0}})],se.prototype,"haloSize",void 0),(0,M._)([(0,N.Cb)({type:Boolean,json:{write:!0}})],se.prototype,"rightToLeft",void 0),(0,M._)([(0,N.Cb)({type:Boolean,json:{write:!0}})],se.prototype,"rotated",void 0),(0,M._)([(0,N.Cb)({type:String,json:{write:!0}})],se.prototype,"text",void 0),(0,M._)([(0,z.J)({esriTS:"text"},{readOnly:!0})],se.prototype,"type",void 0),(0,M._)([(0,N.Cb)(Bn(Ct({},Y.Nj),{json:{write:!0}}))],se.prototype,"verticalAlignment",void 0),(0,M._)([(0,N.Cb)({type:Number,cast:B.t_,json:{write:!0}})],se.prototype,"xoffset",void 0),(0,M._)([(0,N.Cb)({type:Number,cast:B.t_,json:{write:!0}})],se.prototype,"yoffset",void 0),(0,M._)([(0,N.Cb)({type:Number,json:{read:j=>j&&-1*j,write:(j,I)=>I.angle=j&&-1*j}})],se.prototype,"angle",void 0),(0,M._)([(0,N.Cb)({type:Number,json:{write:!0}})],se.prototype,"width",void 0),(0,M._)([(0,N.Cb)({type:Number})],se.prototype,"lineWidth",void 0),(0,M._)([(0,T.c)("lineWidth")],se.prototype,"writeLineWidth",null),(0,M._)([(0,ee.p)("lineWidth")],se.prototype,"castLineWidth",null),(0,M._)([(0,N.Cb)(Y.Ck)],se.prototype,"lineHeight",void 0),(0,M._)([(0,T.c)("lineHeight")],se.prototype,"writeLineHeight",null),se=$=(0,M._)([(0,L.j)("esri.symbols.TextSymbol")],se);const ne=se},21716:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>he});var se,M=E(17626),O=E(58817),X=E(62208),B=E(77712),ee=(E(90912),E(55342)),z=E(76898),L=E(99433),T=E(11472),x=E(97665),Z=E(60958),Y=E(91558),$=E(86810);let ne=se=class extends $.wq{constructor(){super(...arguments),this.color=new Y.Z([0,0,0,1]),this.size=0}clone(){const fe={color:(0,O.d9)(this.color),size:this.size};return new se(fe)}};(0,M._)([(0,B.Cb)(Z.a)],ne.prototype,"color",void 0),(0,M._)([(0,B.Cb)(Z.y)],ne.prototype,"size",void 0),ne=se=(0,M._)([(0,z.j)("esri.symbols.support.Symbol3DHalo")],ne);var j=E(64830),I=E(79608);E(85931),E(8314);let k=class extends((0,I.J)($.wq)){constructor(fe){super(fe),this.color=null}};(0,M._)([(0,B.Cb)(Z.a)],k.prototype,"color",void 0),k=(0,M._)([(0,z.j)("esri.symbols.support.Symbol3DTextBackground")],k);var re,W=E(50369);let Q=re=class extends x.Z{constructor(fe){super(fe),this._userSize=void 0,this.halo=null,this.horizontalAlignment="center",this.lineHeight=1,this.material=null,this.background=null,this.text=null,this.type="text",this.verticalAlignment="baseline"}get font(){return this._get("font")||null}set font(fe){(0,X.pC)(fe)&&(0,X.pC)(this._userSize)&&(fe.size=this._userSize),this._set("font",fe)}writeFont(fe,pe,oe,K){const de=Bn(Ct({},K),{textSymbol3D:!0});pe.font=fe.write({},de),delete pe.font.size}get size(){return(0,X.pC)(this._userSize)?this._userSize:(0,X.pC)(this.font)&&null!=this.font.size?this.font.size:9}set size(fe){this._userSize=fe,(0,X.pC)(this.font)&&(this.font.size=this._userSize),this.notifyChange("size")}clone(){const fe=new re({enabled:this.enabled,font:this.font&&(0,O.d9)(this.font),halo:this.halo&&(0,O.d9)(this.halo),horizontalAlignment:this.horizontalAlignment,lineHeight:this.lineHeight,material:(0,X.pC)(this.material)?this.material.clone():null,text:this.text,verticalAlignment:this.verticalAlignment,background:(0,O.d9)(this.background)});return fe._userSize=this._userSize,fe}static fromTextSymbol(fe){return new re({font:(0,X.pC)(fe.font)?fe.font.clone():new T.Z,halo:ue(fe.haloColor,fe.haloSize),horizontalAlignment:fe.horizontalAlignment,lineHeight:fe.lineHeight,material:fe.color?new j.b({color:fe.color.clone()}):null,text:fe.text,verticalAlignment:fe.verticalAlignment,background:fe.backgroundColor?new k({color:fe.backgroundColor.clone()}):null})}};function ue(fe,pe){return fe&&pe>0?new ne({color:(0,O.d9)(fe),size:pe}):null}(0,M._)([(0,B.Cb)({type:T.Z,json:{write:!0}})],Q.prototype,"font",null),(0,M._)([(0,L.c)("font")],Q.prototype,"writeFont",null),(0,M._)([(0,B.Cb)({type:ne,json:{write:!0}})],Q.prototype,"halo",void 0),(0,M._)([(0,B.Cb)(Bn(Ct({},W.OJ),{json:{default:"center",write:!0}}))],Q.prototype,"horizontalAlignment",void 0),(0,M._)([(0,B.Cb)(Bn(Ct({},W.Ck),{json:{default:1,write:!0}}))],Q.prototype,"lineHeight",void 0),(0,M._)([(0,B.Cb)({type:j.b,json:{write:!0}})],Q.prototype,"material",void 0),(0,M._)([(0,B.Cb)({type:k,json:{write:!0}})],Q.prototype,"background",void 0),(0,M._)([(0,B.Cb)(Z.y)],Q.prototype,"size",null),(0,M._)([(0,B.Cb)({type:String,json:{write:!0}})],Q.prototype,"text",void 0),(0,M._)([(0,ee.J)({Text:"text"},{readOnly:!0})],Q.prototype,"type",void 0),(0,M._)([(0,B.Cb)(Bn(Ct({},W.Nj),{json:{default:"baseline",write:!0}}))],Q.prototype,"verticalAlignment",void 0),Q=re=(0,M._)([(0,z.j)("esri.symbols.TextSymbol3DLayer")],Q);const he=Q},72622:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>Y});var T,M=E(17626),O=E(91558),X=E(58817),B=E(77712),N=E(90912),ee=E(55342),z=E(76898),L=E(97665);let x=T=class extends L.Z{constructor($){super($),this.color=Z.clone(),this.type="water",this.waterbodySize="medium",this.waveDirection=null,this.waveStrength="moderate"}clone(){return new T({color:(0,X.d9)(this.color),waterbodySize:this.waterbodySize,waveDirection:this.waveDirection,waveStrength:this.waveStrength})}};(0,M._)([(0,B.Cb)({type:O.Z,nonNullable:!0,json:{type:[N.z8],write:($,se,ne)=>se[ne]=$.toArray(O.Z.AlphaMode.UNLESS_OPAQUE),default:()=>Z.clone(),defaultEquals:$=>$.toCss(!0)===Z.toCss(!0)}})],x.prototype,"color",void 0),(0,M._)([(0,ee.J)({Water:"water"},{readOnly:!0})],x.prototype,"type",void 0),(0,M._)([(0,B.Cb)({type:["small","medium","large"],json:{write:!0,default:"medium"}})],x.prototype,"waterbodySize",void 0),(0,M._)([(0,B.Cb)({type:Number,json:{write:!0,default:null}})],x.prototype,"waveDirection",void 0),(0,M._)([(0,B.Cb)({type:["calm","rippled","slight","moderate"],json:{write:!0,default:"moderate"}})],x.prototype,"waveStrength",void 0),x=T=(0,M._)([(0,z.j)("esri.symbols.WaterSymbol3DLayer")],x);const Z=new O.Z([0,119,190]),Y=x},12874:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>F});var ne,M=E(15861),O=E(17626),X=E(63290),B=E(10699),N=E(77712),T=(E(85931),E(8314),E(90912),E(55342)),x=E(76898),Z=E(84687),Y=E(29840),$=E(10012),se=E(96296);const j=X.Z.getLogger("esri.symbols.WebStyleSymbol");let I=ne=class extends $.Z{constructor(k){super(k),this.styleName=null,this.portal=null,this.styleUrl=null,this.thumbnail=null,this.name=null,this.type="web-style"}read(k,W){this.portal=W?W.portal:void 0,super.read(k,W)}clone(){return new ne({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}fetchSymbol(k){return this._fetchSymbol("webRef",k)}fetchCIMSymbol(k){return this._fetchSymbol("cimRef",k)}_fetchSymbol(k,W){var re=this;return(0,M.Z)(function*(){const Q=yield function w(){return Promise.all([E.e(8592),E.e(3100)]).then(E.bind(E,50998))}();(0,B.k_)(W);const ue=Q.resolveWebStyleSymbol(re,{portal:re.portal},k,W);return ue.catch(he=>{j.error("#fetchSymbol()","Failed to create symbol from style",he)}),ue})()}};(0,O._)([(0,N.Cb)({json:{write:!1}})],I.prototype,"color",void 0),(0,O._)([(0,N.Cb)({type:String,json:{write:!0}})],I.prototype,"styleName",void 0),(0,O._)([(0,N.Cb)({type:Z.Z,json:{write:!1}})],I.prototype,"portal",void 0),(0,O._)([(0,N.Cb)({type:String,json:{read:Y.r,write:Y.w}})],I.prototype,"styleUrl",void 0),(0,O._)([(0,N.Cb)({type:se.p,json:{read:!1}})],I.prototype,"thumbnail",void 0),(0,O._)([(0,N.Cb)({type:String,json:{write:!0}})],I.prototype,"name",void 0),(0,O._)([(0,T.J)({styleSymbolReference:"web-style"},{readOnly:!0})],I.prototype,"type",void 0),I=ne=(0,O._)([(0,x.j)("esri.symbols.WebStyleSymbol")],I);const F=I},21779:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>T});var M=E(17626),O=E(86810),X=E(77712),z=(E(85931),E(8314),E(90912),E(76898));let L=class extends O.wq{constructor(x){super(x),this.visible=!0}clone(){}};(0,M._)([(0,X.Cb)({type:["line"],readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0}}})],L.prototype,"type",void 0),(0,M._)([(0,X.Cb)({readOnly:!0})],L.prototype,"visible",void 0),L=(0,M._)([(0,z.j)("esri.symbols.callouts.Callout3D")],L);const T=L},17497:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>ne});var $,M=E(17626),O=E(91558),X=E(58817),B=E(62208),N=E(23841),ee=E(77712),L=(E(90912),E(55342)),T=E(76898),x=E(21779),Z=E(71530),Y=E(60958);let se=$=class extends x.Z{constructor(j){super(j),this.type="line",this.color=new O.Z([0,0,0,1]),this.size=(0,N.Wz)(1),this.border=null}get visible(){return this.size>0&&(0,B.pC)(this.color)&&this.color.a>0}clone(){return new $({color:(0,X.d9)(this.color),size:this.size,border:(0,X.d9)(this.border)})}};(0,M._)([(0,L.J)({line:"line"},{readOnly:!0})],se.prototype,"type",void 0),(0,M._)([(0,ee.Cb)(Y.a)],se.prototype,"color",void 0),(0,M._)([(0,ee.Cb)(Y.y)],se.prototype,"size",void 0),(0,M._)([(0,ee.Cb)({type:Z.a,json:{write:!0}})],se.prototype,"border",void 0),(0,M._)([(0,ee.Cb)({readOnly:!0})],se.prototype,"visible",null),se=$=(0,M._)([(0,T.j)("esri.symbols.callouts.LineCallout3D")],se);const ne=se},9824:(Qe,Me,E)=>{"use strict";E.d(Me,{Uy:()=>X,Y2:()=>z,gv:()=>B});var M=E(21779),O=E(17497);function X(L){if(!L)return!1;const T=L.verticalOffset;return!!T&&!(T.screenLength<=0||T.maxWorldLength<=0)}function B(L){if(!L||!L.supportsCallout||!L.supportsCallout())return!1;const T=L.callout;return!!T&&!!T.visible&&!!X(L)}const z={types:{key:"type",base:M.Z,typeMap:{line:O.Z}},json:{write:!0}}},80991:(Qe,Me,E)=>{"use strict";function O(j,I,w,F){return function M(j){return"function"==typeof j}(j)?j(I,w,F):j}function X(j){return[j.r,j.g,j.b,j.a]}function B(j,I,w){const k=ue=>{let he=ue.length;for(;he--;)if(-1===" /-,\n".indexOf(ue.charAt(he)))return!1;return!0},W=[];let re=0,Q=-1;do{if(Q=I.indexOf("[",re),Q>=re){if(Q>re){const ue=I.substr(re,Q-re);W.push([ue,null,k(ue)])}if(re=Q+1,Q=I.indexOf("]",re),Q>=re){if(Q>re){const ue=j[I.substr(re,Q-re)];ue&&W.push([null,ue,!1])}re=Q+1}}}while(-1!==Q);if(re<I.length-1){const ue=I.substr(re);W.push([ue,null,k(ue)])}return ue=>{let he="",fe=null;for(const pe of W){const[oe,K,de]=pe;if(oe)de?fe=oe:(fe&&(he+=fe,fe=null),he+=oe);else{const le=ue.attributes[K];le&&(fe&&(he+=fe,fe=null),he+=le)}}return N(he,w)}}function N(j,I){switch("string"!=typeof j&&(j=String(j)),I){case"LowerCase":return j.toLowerCase();case"Allcaps":return j.toUpperCase();default:return j}}function ee(j,I,w,F,k,W,re=!0){const Q=I/k,ue=w/W,he=Math.ceil(Q/2),fe=Math.ceil(ue/2);for(let pe=0;pe<W;pe++)for(let oe=0;oe<k;oe++){const K=4*(oe+(re?W-pe-1:pe)*k);let de=0,le=0,me=0,ce=0,ge=0,J=0,ie=0;const De=(pe+.5)*ue;for(let _e=Math.floor(pe*ue);_e<(pe+1)*ue;_e++){const Ie=Math.abs(De-(_e+.5))/fe,xe=(oe+.5)*Q,ke=Ie*Ie;for(let Ve=Math.floor(oe*Q);Ve<(oe+1)*Q;Ve++){let ve=Math.abs(xe-(Ve+.5))/he;const we=Math.sqrt(ke+ve*ve);we>=-1&&we<=1&&(de=2*we*we*we-3*we*we+1,de>0&&(ve=4*(Ve+_e*I),ie+=de*j[ve+3],me+=de,j[ve+3]<255&&(de=de*j[ve+3]/250),ce+=de*j[ve],ge+=de*j[ve+1],J+=de*j[ve+2],le+=de))}}F[K]=ce/le,F[K+1]=ge/le,F[K+2]=J/le,F[K+3]=ie/me}}function z(j){return j?{r:j[0],g:j[1],b:j[2],a:j[3]/255}:{r:0,g:0,b:0,a:0}}function L(j){var I;return null==(I=j.data)?void 0:I.symbol}function T(j){return"CIMVectorMarker"===j.type||"CIMPictureMarker"===j.type||"CIMBarChartMarker"===j.type||"CIMCharacterMarker"===j.type||"CIMPieChartMarker"===j.type||"CIMStackedBarChartMarker"===j.type}function x(j){return"CIMGradientStroke"===j.type||"CIMPictureStroke"===j.type||"CIMSolidStroke"===j.type}function Z(j){return"CIMGradientFill"===j.type||"CIMHatchFill"===j.type||"CIMPictureFill"===j.type||"CIMSolidFill"===j.type||"CIMWaterFill"===j.type}function Y(j){return"CIMMarkerPlacementAlongLineRandomSize"===j.type||"CIMMarkerPlacementAlongLineSameSize"===j.type||"CIMMarkerPlacementAlongLineVariableSize"===j.type||"CIMMarkerPlacementAtExtremities"===j.type||"CIMMarkerPlacementAtMeasuredUnits"===j.type||"CIMMarkerPlacementAtRatioPositions"===j.type||"CIMMarkerPlacementOnLine"===j.type||"CIMMarkerPlacementOnVertices"===j.type}E.d(Me,{Cc:()=>se,NA:()=>$,NO:()=>z,Qs:()=>B,RI:()=>ne,TT:()=>ee,X3:()=>N,be:()=>L,gJ:()=>Y,hf:()=>O,k5:()=>Z,nn:()=>X,yL:()=>x,zL:()=>T});const $=j=>isNaN(j)||!j?0:j,se=j=>{if(!j)return!1;for(const I of j)switch(I.type){case"CIMGeometricEffectBuffer":case"CIMGeometricEffectOffset":return!0}return!1};function ne(){return Promise.all([E.e(4918),E.e(8592),E.e(5994)]).then(E.bind(E,32825))}},89441:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>Q});var M=E(17626),O=E(91558),X=E(86810),B=E(58817),N=E(23841),ee=E(77712),L=(E(90912),E(76898)),T=E(60958);let x=class extends X.wq{constructor(ue){super(ue),this.color=new O.Z([0,0,0,1]),this.extensionLength=0,this.size=(0,N.Wz)(1)}clone(){}cloneProperties(){return{color:(0,B.d9)(this.color),size:this.size,extensionLength:this.extensionLength}}};(0,M._)([(0,ee.Cb)({type:["solid","sketch"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],x.prototype,"type",void 0),(0,M._)([(0,ee.Cb)(T.a)],x.prototype,"color",void 0),(0,M._)([(0,ee.Cb)(Bn(Ct({},T.y),{json:{write:{overridePolicy:ue=>({enabled:!!ue})}}}))],x.prototype,"extensionLength",void 0),(0,M._)([(0,ee.Cb)(T.y)],x.prototype,"size",void 0),x=(0,M._)([(0,L.j)("esri.symbols.edges.Edges3D")],x);const Z=x;E(63290),E(85931),E(8314),E(82255);var I,j=E(55342);let w=I=class extends Z{constructor(ue){super(ue),this.type="sketch"}clone(){return new I(this.cloneProperties())}};(0,M._)([(0,j.J)({sketch:"sketch"},{readOnly:!0})],w.prototype,"type",void 0),w=I=(0,M._)([(0,L.j)("esri.symbols.edges.SketchEdges3D")],w);const F=w;var k;let W=k=class extends Z{constructor(ue){super(ue),this.type="solid"}clone(){return new k(this.cloneProperties())}};(0,M._)([(0,j.J)({solid:"solid"},{readOnly:!0})],W.prototype,"type",void 0),W=k=(0,M._)([(0,L.j)("esri.symbols.support.SolidEdges3D")],W);const Q={types:{key:"type",base:Z,typeMap:{solid:W,sketch:F}},json:{write:!0}}},38861:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>T});var M=E(17626),O=E(86810),X=E(77712),z=(E(85931),E(8314),E(90912),E(76898));let L=class extends O.wq{constructor(x){super(x)}clone(){}};(0,M._)([(0,X.Cb)({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],L.prototype,"type",void 0),L=(0,M._)([(0,z.j)("esri.symbols.patterns.LinePattern3D")],L);const T=L},63743:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>se});var Z,M=E(17626),O=E(2076),X=E(77712),z=(E(85931),E(8314),E(90912),E(55342)),L=E(76898),T=E(38861);const Y=(0,O.w)()({dash:"dash","dash-dot":"dash-dot","dash-dot-dot":"long-dash-dot-dot",dot:"dot","long-dash":"long-dash","long-dash-dot":"long-dash-dot",null:"none","short-dash":"short-dash","short-dash-dot":"short-dash-dot","short-dash-dot-dot":"short-dash-dot-dot","short-dot":"short-dot",solid:"solid"});let $=Z=class extends T.Z{constructor(ne){super(ne),this.type="style",this.style="solid"}clone(){return new Z({style:this.style})}};(0,M._)([(0,X.Cb)({type:["style"]})],$.prototype,"type",void 0),(0,M._)([(0,z.J)(Y),(0,X.Cb)({type:["dash","dash-dot","dot","long-dash","long-dash-dot","long-dash-dot-dot","none","short-dash","short-dash-dot","short-dash-dot-dot","short-dot","solid"]})],$.prototype,"style",void 0),$=Z=(0,M._)([(0,L.j)("esri.symbols.patterns.LineStylePattern3D")],$);const se=$},40249:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>T});var M=E(17626),O=E(86810),X=E(77712),z=(E(85931),E(8314),E(90912),E(76898));let L=class extends O.wq{constructor(x){super(x)}clone(){}};(0,M._)([(0,X.Cb)({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],L.prototype,"type",void 0),L=(0,M._)([(0,z.j)("esri.symbols.patterns.Pattern3D")],L);const T=L},153:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>Z});var T,M=E(17626),O=E(77712),ee=(E(85931),E(8314),E(90912),E(76898)),z=E(40249);let x=T=class extends z.Z{constructor(Y){super(Y),this.type="style",this.style="solid"}clone(){return new T({style:this.style})}};(0,M._)([(0,O.Cb)({type:["style"]})],x.prototype,"type",void 0),(0,M._)([(0,O.Cb)({type:["backward-diagonal","cross","diagonal-cross","forward-diagonal","horizontal","none","solid","vertical"],json:{read:!0,write:!0}})],x.prototype,"style",void 0),x=T=(0,M._)([(0,ee.j)("esri.symbols.patterns.StylePattern3D")],x);const Z=x},99255:(Qe,Me,E)=>{"use strict";E.d(Me,{D:()=>ee,q:()=>N});var M=E(38861),O=E(63743),X=E(40249),B=E(153);const N={types:{key:"type",base:X.Z,typeMap:{style:B.Z}},json:{write:!0}},ee={types:{key:"type",base:M.Z,typeMap:{style:O.Z}},json:{write:!0}}},26540:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>fe});var se,M=E(17626),O=E(2076),X=E(86810),B=E(62208),N=E(77712),T=(E(85931),E(8314),E(90912),E(68653)),x=E(76898),Z=E(99433),Y=E(15861),$=E(36630);let ne=se=class extends X.wq{collectRequiredFields(pe,oe){var K=this;return(0,Y.Z)(function*(){return(0,$.io)(pe,oe,K.expression)})()}clone(){return new se({expression:this.expression,title:this.title})}};(0,M._)([(0,N.Cb)({type:String,json:{write:!0}})],ne.prototype,"expression",void 0),(0,M._)([(0,N.Cb)({type:String,json:{write:!0}})],ne.prototype,"title",void 0),ne=se=(0,M._)([(0,x.j)("esri.layers.support.FeatureExpressionInfo")],ne);const j=ne;var I=E(21254);const W=function k(){const pe=Object.keys(I.a);return pe.sort(),pe}();var re;const Q=(0,O.w)()({onTheGround:"on-the-ground",relativeToGround:"relative-to-ground",relativeToScene:"relative-to-scene",absoluteHeight:"absolute-height"}),ue=new O.X({foot:"feet",kilometer:"kilometers",meter:"meters",mile:"miles","us-foot":"us-feet",yard:"yards"});let he=re=class extends X.wq{constructor(){super(...arguments),this.offset=null}readFeatureExpressionInfo(pe,oe){return null!=pe?pe:oe.featureExpression&&0===oe.featureExpression.value?{expression:"0"}:void 0}writeFeatureExpressionInfo(pe,oe,K,de){oe[K]=pe.write({},de),"0"===pe.expression&&(oe.featureExpression={value:0})}get mode(){const{offset:pe,featureExpressionInfo:oe}=this;return this._isOverridden("mode")?this._get("mode"):(0,B.pC)(pe)||oe?"relative-to-ground":"on-the-ground"}set mode(pe){this._override("mode",pe)}set unit(pe){this._set("unit",pe)}write(pe,oe){return this.offset||this.mode||this.featureExpressionInfo||this.unit?super.write(pe,oe):null}clone(){return new re({mode:this.mode,offset:this.offset,featureExpressionInfo:this.featureExpressionInfo?this.featureExpressionInfo.clone():void 0,unit:this.unit})}};(0,M._)([(0,N.Cb)({type:j,json:{write:!0}})],he.prototype,"featureExpressionInfo",void 0),(0,M._)([(0,T.r)("featureExpressionInfo",["featureExpressionInfo","featureExpression"])],he.prototype,"readFeatureExpressionInfo",null),(0,M._)([(0,Z.c)("featureExpressionInfo",{featureExpressionInfo:{type:j},"featureExpression.value":{type:[0]}})],he.prototype,"writeFeatureExpressionInfo",null),(0,M._)([(0,N.Cb)({type:Q.apiValues,nonNullable:!0,json:{type:Q.jsonValues,read:Q.read,write:{writer:Q.write,isRequired:!0}}})],he.prototype,"mode",null),(0,M._)([(0,N.Cb)({type:Number,json:{write:!0}})],he.prototype,"offset",void 0),(0,M._)([(0,N.Cb)({type:W,json:{type:String,read:ue.read,write:ue.write}})],he.prototype,"unit",null),he=re=(0,M._)([(0,x.j)("esri.layers.support.ElevationInfo")],he);const fe=he},33215:(Qe,Me,E)=>{"use strict";E.d(Me,{S:()=>I,b:()=>j});var se,M=E(17626),O=E(2076),X=E(86810),B=E(21726),N=E(77712),T=(E(85931),E(8314),E(90912),E(55342)),x=E(68653),Z=E(76898),Y=E(99433),$=E(29840);const ne=(0,O.w)()({circle:"circle",square:"square",cross:"cross",x:"x",kite:"kite",triangle:"triangle"});let j=se=class extends X.wq{constructor(w){super(w)}readHref(w,F,k){return w?(0,$.f)(w,k):F.dataURI}writeHref(w,F,k,W){w&&((0,B.HK)(w)?F.dataURI=w:(F.href=(0,$.t)(w,W),(0,B.YP)(F.href)&&(F.href=(0,B.Fv)(F.href))))}clone(){return new se({href:this.href,primitive:this.primitive})}};(0,M._)([(0,N.Cb)({type:String,json:{write:!0,read:{source:["href","dataURI"]}}})],j.prototype,"href",void 0),(0,M._)([(0,x.r)("href")],j.prototype,"readHref",null),(0,M._)([(0,Y.c)("href",{href:{type:String},dataURI:{type:String}})],j.prototype,"writeHref",null),(0,M._)([(0,T.J)(ne)],j.prototype,"primitive",void 0),j=se=(0,M._)([(0,Z.j)("esri.symbols.support.IconSymbol3DLayerResource")],j);const I="circle"},48521:(Qe,Me,E)=>{"use strict";E.d(Me,{S:()=>se,k:()=>$});var Z,M=E(17626),O=E(2076),X=E(86810),B=E(77712),L=(E(85931),E(8314),E(90912),E(55342)),T=E(76898),x=E(29840);const Y=(0,O.w)()({sphere:"sphere",cylinder:"cylinder",cube:"cube",cone:"cone",diamond:"diamond",tetrahedron:"tetrahedron",invertedCone:"inverted-cone"});let $=Z=class extends X.wq{clone(){return new Z({href:this.href,primitive:this.primitive})}};(0,M._)([(0,B.Cb)({type:String,json:{read:x.r,write:x.w}})],$.prototype,"href",void 0),(0,M._)([(0,L.J)(Y)],$.prototype,"primitive",void 0),$=Z=(0,M._)([(0,T.j)("esri.symbols.support.ObjectSymbol3DLayerResource")],$);const se="sphere"},77345:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>Z});var T,M=E(17626),O=E(14517),X=E(77712),z=(E(85931),E(8314),E(90912),E(76898)),L=E(84687);let x=T=class extends O.Z{constructor(){super(...arguments),this.portal=null}clone(){return new T({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}};(0,M._)([(0,X.Cb)({type:String})],x.prototype,"name",void 0),(0,M._)([(0,X.Cb)({type:String})],x.prototype,"styleUrl",void 0),(0,M._)([(0,X.Cb)({type:String})],x.prototype,"styleName",void 0),(0,M._)([(0,X.Cb)({type:L.Z})],x.prototype,"portal",void 0),x=T=(0,M._)([(0,z.j)("esri.symbols.support.StyleOrigin")],x);const Z=x},37519:(Qe,Me,E)=>{"use strict";E.d(Me,{e:()=>T});var L,M=E(17626),O=E(14517),X=E(77712),z=(E(85931),E(8314),E(90912),E(76898));let T=L=class extends O.Z{constructor(){super(...arguments),this.x=0,this.y=0}clone(){return new L({x:this.x,y:this.y})}};(0,M._)([(0,X.Cb)({type:Number})],T.prototype,"x",void 0),(0,M._)([(0,X.Cb)({type:Number})],T.prototype,"y",void 0),T=L=(0,M._)([(0,z.j)("esri.symbols.support.Symbol3DAnchorPosition2D")],T)},64830:(Qe,Me,E)=>{"use strict";E.d(Me,{b:()=>Z});var x,M=E(17626),O=E(86810),X=E(62208),B=E(77712),L=(E(85931),E(8314),E(90912),E(76898)),T=E(60958);let Z=x=class extends O.wq{constructor(Y){super(Y),this.color=null}clone(){const Y={color:(0,X.pC)(this.color)?this.color.clone():null};return new x(Y)}};(0,M._)([(0,B.Cb)(T.a)],Z.prototype,"color",void 0),Z=x=(0,M._)([(0,L.j)("esri.symbols.support.Symbol3DMaterial")],Z)},97595:(Qe,Me,E)=>{"use strict";E.d(Me,{_:()=>x});var T,M=E(17626),O=E(86810),X=E(77712),z=(E(85931),E(8314),E(90912),E(76898)),L=E(60958);let x=T=class extends O.wq{constructor(){super(...arguments),this.screenLength=0,this.minWorldLength=0}clone(){return new T({screenLength:this.screenLength,minWorldLength:this.minWorldLength,maxWorldLength:this.maxWorldLength})}};(0,M._)([(0,X.Cb)(L.y)],x.prototype,"screenLength",void 0),(0,M._)([(0,X.Cb)({type:Number,json:{write:!0,default:0}})],x.prototype,"minWorldLength",void 0),(0,M._)([(0,X.Cb)({type:Number,json:{write:!0}})],x.prototype,"maxWorldLength",void 0),x=T=(0,M._)([(0,z.j)("esri.symbols.support.Symbol3DVerticalOffset")],x)},96296:(Qe,Me,E)=>{"use strict";E.d(Me,{p:()=>T});var L,M=E(17626),O=E(14517),X=E(77712),z=(E(85931),E(8314),E(90912),E(76898));let T=L=class extends O.Z{clone(){return new L({url:this.url})}};(0,M._)([(0,X.Cb)({type:String})],T.prototype,"url",void 0),T=L=(0,M._)([(0,z.j)("esri.symbols.support.Thumbnail")],T)},56445:(Qe,Me,E)=>{"use strict";E.d(Me,{FW:()=>z,PI:()=>B,iW:()=>x,kW:()=>X});var M=E(91558),O=E(80991);function X(I){const w=(0,O.be)(I);if("CIMTextSymbol"===w.type)return w.height;let F=0;if(w.symbolLayers)for(const k of w.symbolLayers)(0,O.zL)(k)&&k.size>F?F=k.size:(0,O.yL)(k)&&k.width>F?F=k.width:(0,O.k5)(k);return F}function B(I,w,F){const k=(0,O.be)(I),W=X(I);0!==W?ee(k,w/W,!1,F):function N(I,w){if("CIMTextSymbol"!==I.type){if(I.symbolLayers)for(const F of I.symbolLayers)switch(F.type){case"CIMPictureMarker":case"CIMVectorMarker":F.size=w;break;case"CIMPictureStroke":case"CIMSolidStroke":F.width=w}}else I.height=w}(k,w)}function ee(I,w,F,k){if("CIMTextSymbol"!==I.type){if(F&&I.effects)for(const W of I.effects)T(W,w);if(I.symbolLayers)for(const W of I.symbolLayers)switch(W.type){case"CIMPictureMarker":case"CIMVectorMarker":z(W,w,k);break;case"CIMPictureStroke":case"CIMSolidStroke":null!=k&&k.preserveOutlineWidth||!W.width||(W.width*=w);break;case"CIMPictureFill":W.height&&(W.height*=w),W.offsetX&&(W.offsetX*=w),W.offsetY&&(W.offsetY*=w);break;case"CIMHatchFill":ee(W.lineSymbol,w,!0,Bn(Ct({},k),{preserveOutlineWidth:!1})),W.offsetX&&(W.offsetX*=w),W.offsetY&&(W.offsetY*=w),W.separation&&(W.separation*=w)}}else I.height*=w}function z(I,w,F){if(I.markerPlacement&&function L(I,w){switch((0,O.gJ)(I)&&I.offset&&(I.offset*=w),I.type){case"CIMMarkerPlacementAlongLineRandomSize":case"CIMMarkerPlacementAlongLineSameSize":if(I.customEndingOffset&&(I.customEndingOffset*=w),I.offsetAlongLine&&(I.offsetAlongLine*=w),I.placementTemplate&&I.placementTemplate.length){const F=I.placementTemplate.map(k=>k*w);I.placementTemplate=F}break;case"CIMMarkerPlacementAlongLineVariableSize":if(I.maxRandomOffset&&(I.maxRandomOffset*=w),I.placementTemplate&&I.placementTemplate.length){const F=I.placementTemplate.map(k=>k*w);I.placementTemplate=F}break;case"CIMMarkerPlacementOnLine":I.startPointOffset&&(I.startPointOffset*=w);break;case"CIMMarkerPlacementAtExtremities":I.offsetAlongLine&&(I.offsetAlongLine*=w);break;case"CIMMarkerPlacementAtMeasuredUnits":case"CIMMarkerPlacementOnVertices":break;case"CIMMarkerPlacementAtRatioPositions":I.beginPosition&&(I.beginPosition*=w),I.endPosition&&(I.endPosition*=w);break;case"CIMMarkerPlacementPolygonCenter":I.offsetX&&(I.offsetX*=w),I.offsetY&&(I.offsetY*=w);break;case"CIMMarkerPlacementInsidePolygon":I.offsetX&&(I.offsetX*=w),I.offsetY&&(I.offsetY*=w),I.stepX&&(I.stepX*=w),I.stepY&&(I.stepY*=w)}}(I.markerPlacement,w),I.offsetX&&(I.offsetX*=w),I.offsetY&&(I.offsetY*=w),I.anchorPoint&&"Absolute"===I.anchorPointUnits&&(I.anchorPoint={x:I.anchorPoint.x*w,y:I.anchorPoint.y*w}),I.size*=w,"CIMVectorMarker"===I.type&&I.markerGraphics)for(const k of I.markerGraphics)I.scaleSymbolsProportionally||ee(k.symbol,w,!0,F)}function T(I,w){switch(I.type){case"CIMGeometricEffectArrow":case"CIMGeometricEffectDonut":I.width&&(I.width*=w);break;case"CIMGeometricEffectBuffer":I.size&&(I.size*=w);break;case"CIMGeometricEffectCut":I.beginCut&&(I.beginCut*=w),I.endCut&&(I.endCut*=w),I.middleCut&&(I.middleCut*=w);break;case"CIMGeometricEffectDashes":if(I.customEndingOffset&&(I.customEndingOffset*=w),I.offsetAlongLine&&(I.offsetAlongLine*=w),I.dashTemplate&&I.dashTemplate.length){const F=I.dashTemplate.map(k=>k*w);I.dashTemplate=F}break;case"CIMGeometricEffectExtension":case"CIMGeometricEffectJog":case"CIMGeometricEffectRadial":I.length&&(I.length*=w);break;case"CIMGeometricEffectMove":I.offsetX&&(I.offsetX*=w),I.offsetY&&(I.offsetY*=w);break;case"CIMGeometricEffectOffset":case"CIMGeometricEffectOffsetTangent":I.offset&&(I.offset*=w);break;case"CIMGeometricEffectRegularPolygon":I.radius&&(I.radius*=w);break;case"CIMGeometricEffectTaperedPolygon":I.fromWidth&&(I.fromWidth*=w),I.length&&(I.length*=w),I.toWidth&&(I.toWidth*=w);break;case"CIMGeometricEffectWave":I.amplitude&&(I.amplitude*=w),I.period&&(I.period*=w)}}function x(I){const w=[];return Z((0,O.be)(I),w),w.length?new M.Z((0,O.NO)(w[0])):null}function Z(I,w){let F;F="CIMTextSymbol"===I.type?I.symbol:I;const k="CIMPolygonSymbol"===I.type;if(F.symbolLayers)for(const W of F.symbolLayers)if(!(W.colorLocked||k&&((0,O.yL)(W)||(0,O.zL)(W)&&W.markerPlacement&&(0,O.gJ)(W.markerPlacement))))switch(W.type){case"CIMPictureMarker":case"CIMPictureStroke":case"CIMPictureFill":W.tintColor&&Y(w,W.tintColor);break;case"CIMVectorMarker":W.markerGraphics.forEach(re=>{Z(re.symbol,w)});break;case"CIMSolidStroke":case"CIMSolidFill":Y(w,W.color);break;case"CIMHatchFill":Z(W.lineSymbol,w)}}function Y(I,w){for(const F of I)if(F.join(".")===w.join("."))return;I.push(w)}},12948:(Qe,Me,E)=>{"use strict";E.d(Me,{ix:()=>O,l9:()=>B,rx:()=>N});var M=E(91558);const O=new M.Z("white"),B=(new M.Z("black"),new M.Z([255,255,255,0]));function N(ee){return 0===ee.r&&0===ee.g&&0===ee.b}},8080:(Qe,Me,E)=>{"use strict";E.d(Me,{G:()=>Y,Rz:()=>x,kD:()=>se,mW:()=>$}),E(8314);var O=E(88493),X=E(52068),B=E(57213),N=E(35540),ee=E(24837);B.Z.fromJSON(ee.I4),X.Z.fromJSON(ee.ET),O.Z.fromJSON(ee.lF);const x=N.Z.fromJSON(ee.qP),Y=B.Z.fromJSON(ee.eG),$=X.Z.fromJSON(ee.wW),se=O.Z.fromJSON(ee.lj)},24837:(Qe,Me,E)=>{"use strict";E.d(Me,{ET:()=>B,I4:()=>X,eG:()=>z,lF:()=>N,lj:()=>T,qP:()=>ee,wW:()=>L});const M=[252,146,31,255],X={type:"esriSMS",style:"esriSMSCircle",size:6,color:M,outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[153,153,153,255]}},B={type:"esriSLS",style:"esriSLSSolid",width:.75,color:M},N={type:"esriSFS",style:"esriSFSSolid",color:[252,146,31,196],outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[255,255,255,191]}},ee={type:"esriTS",color:[255,255,255,255],font:{family:"arial-unicode-ms",size:10,weight:"bold"},horizontalAlignment:"center",kerning:!0,haloColor:[0,0,0,255],haloSize:1,rotated:!1,text:"",xoffset:0,yoffset:0,angle:0},z={type:"esriSMS",style:"esriSMSCircle",color:[0,0,0,255],outline:null,size:10.5},L={type:"esriSLS",style:"esriSLSSolid",color:[0,0,0,255],width:1.5},T={type:"esriSFS",style:"esriSFSSolid",color:[0,0,0,255],outline:null}},74741:(Qe,Me,E)=>{"use strict";E.d(Me,{Ne:()=>Q,Od:()=>k,Sp:()=>re,_M:()=>F,mx:()=>W});var M=E(54346),O=E(91558),X=E(84792),B=E(78498),N=E(23841),ee=E(56445);const z="picture-fill",L="simple-fill",x="simple-marker",ne=new B.Z(1e3);function F(ue){const he=ue.style;let fe=null;if(ue)switch(ue.type){case x:"cross"!==he&&"x"!==he&&(fe=ue.color);break;case L:"solid"===he?fe=ue.color:"none"!==he&&(fe={type:"pattern",x:0,y:0,src:(0,M.V)(`esri/symbols/patterns/${he}.png`),width:5,height:5});break;case z:fe={type:"pattern",src:ue.url,width:(0,N.F2)(ue.width)*ue.xscale,height:(0,N.F2)(ue.height)*ue.yscale,x:(0,N.F2)(ue.xoffset),y:(0,N.F2)(ue.yoffset)};break;case"text":fe=ue.color;break;case"cim":fe=(0,ee.iW)(ue)}return fe}function k(ue,he){const fe=ue+"-"+he;return void 0!==ne.get(fe)?Promise.resolve(ne.get(fe)):(0,X.default)(ue,{responseType:"image"}).then(pe=>{const oe=pe.data,K=oe.naturalWidth,de=oe.naturalHeight,le=document.createElement("canvas");le.width=K,le.height=de;const me=le.getContext("2d");me.fillStyle=he,me.fillRect(0,0,K,de),me.globalCompositeOperation="destination-in",me.drawImage(oe,0,0);const ce=le.toDataURL();return ne.put(fe,ce),ce})}function W(ue){if(!ue)return null;let he;switch(ue.type){case L:case z:case x:he=W(ue.outline);break;case"simple-line":{const fe=(0,N.F2)(ue.width);"none"!==ue.style&&0!==fe&&(he={color:ue.color,style:re(ue.style),width:fe,cap:ue.cap,join:"miter"===ue.join?(0,N.F2)(ue.miterLimit):ue.join});break}default:he=null}return he}const re=function(){const ue={};return function(he){if(ue[he])return ue[he];const fe=he.replace(/-/g,"");return ue[he]=fe,fe}}(),Q=new O.Z([128,128,128])},65270:(Qe,Me,E)=>{"use strict";E.d(Me,{im:()=>k,cW:()=>I,vX:()=>w});var M=E(65787),O=E(26584),X=E(62208),B=E(39368),N=E(12874),ee=E(69852),z=E(52068),L=E(40445),T=E(57213),x=E(13546),Z=E(88493),Y=E(89673),$=E(35540),se=E(22490);const ne={retainId:!1,ignoreDrivers:!1,hasLabelingContext:!0};function I(W,re,Q,ue){const he=F(W,{},{context:ue,isLabelSymbol:!1});(0,X.pC)(he)&&(re[Q]=he)}function w(W,re,Q,ue){const he=F(W,{},{context:ue,isLabelSymbol:!0});(0,X.pC)(he)&&(re[Q]=he)}function F(W,re,Q){if((0,X.Wi)(W))return null;const{context:ue,isLabelSymbol:he}=Q;if(ue&&"web-scene"===ue.origin&&!(W instanceof B.Z)&&!(W instanceof N.Z)){const fe=function j(W,re=ne){if(!W)return{symbol:null};const{retainId:Q=ne.retainId,ignoreDrivers:ue=ne.ignoreDrivers,hasLabelingContext:he=ne.hasLabelingContext,retainCIM:fe=ne.retainCIM}=re;let pe;if((0,M.dU)(W)||W instanceof N.Z)pe=W.clone();else if("cim"===W.type){var oe,K;const de=null==(oe=W.data)||null==(K=oe.symbol)?void 0:K.type;if("CIMPointSymbol"!==de)return{error:new O.Z("symbol-conversion:unsupported-cim-symbol",`CIM symbol of type '${de||"unknown"}' is unsupported in 3D`,{symbol:W})};pe=fe?W.clone():ee.Z.fromCIMSymbol(W)}else if(W instanceof z.Z)pe=L.Z.fromSimpleLineSymbol(W);else if(W instanceof T.Z)pe=ee.Z.fromSimpleMarkerSymbol(W);else if(W instanceof x.Z)pe=ee.Z.fromPictureMarkerSymbol(W);else if(W instanceof Z.Z)pe=Y.Z.fromSimpleFillSymbol(W);else{if(!(W instanceof $.Z))return{error:new O.Z("symbol-conversion:unsupported-2d-symbol",`2D symbol of type '${W.type||W.declaredClass}' is unsupported in 3D`,{symbol:W})};pe=he?se.Z.fromTextSymbol(W):ee.Z.fromTextSymbol(W)}if(Q&&"cim"!==pe.type&&(pe.id=W.id),ue&&(0,M.dU)(pe))for(let de=0;de<pe.symbolLayers.length;++de)pe.symbolLayers.getItemAt(de)._ignoreDrivers=!0;return{symbol:pe}}(W,{retainCIM:!0,hasLabelingContext:he});return(0,X.pC)(fe.symbol)?fe.symbol.write(re,ue):(ue.messages&&ue.messages.push(new O.Z("symbol:unsupported",`Symbols of type '${W.declaredClass}' are not supported in scenes. Use 3D symbology instead when working with WebScene and SceneView`,{symbol:W,context:ue,error:fe.error})),null)}return ue&&"web-map"===ue.origin&&"web-style"===W.type?(ue.messages&&ue.messages.push(new O.Z("symbol:unsupported",`Symbols of type '${W.declaredClass}' are not supported in webmaps. Use CIMSymbol instead when working with WebMap in MapView.`,{symbol:W,context:ue})),null):W.write(re,ue)}function k(W,re){return(0,M.S9)(W,null,re)}},67866:(Qe,Me,E)=>{"use strict";E.d(Me,{J:()=>M,k:()=>O});const M=["begin","end","begin-end"],O=["arrow","circle","square","diamond","cross","x"]},60958:(Qe,Me,E)=>{"use strict";E.d(Me,{a:()=>z,y:()=>L});var M=E(91558),O=E(23841),X=E(90912),B=E(92236);const z={type:M.Z,json:{type:[X.z8],default:null,read:{source:["color","transparency"],reader:function N(T,x){const Z=null!=x.transparency?(0,B.b)(x.transparency):1,Y=x.color;return Y&&Array.isArray(Y)?new M.Z([Y[0]||0,Y[1]||0,Y[2]||0,Z]):null}},write:{target:{color:{type:[X.z8]},transparency:{type:X.z8}},writer:function ee(T,x){x.color=T.toJSON().slice(0,3);const Z=(0,B.a)(T.a);0!==Z&&(x.transparency=Z)}}}},L={type:Number,cast:O.t_,json:{write:!0}}},71131:(Qe,Me,E)=>{"use strict";E.d(Me,{DY:()=>x,EB:()=>L,EV:()=>N,JZ:()=>X,Pc:()=>z,TE:()=>T,XX:()=>Z,b_:()=>O,dc:()=>se,eb:()=>B,ht:()=>ee,tp:()=>Y,uH:()=>$});var O,ne,M=E(91558);(ne=O||(O={}))[ne.size=22]="size",ne[ne.lineWidth=50]="lineWidth",ne[ne.maxSize=120]="maxSize",ne[ne.maxOutlineSize=80]="maxOutlineSize",ne[ne.tallSymbolWidth=20]="tallSymbolWidth";const X={fill:[{type:"path",path:"M -10,-10 L 10,0 L 10,10 L -10,10 L -10,-10 Z"}],squareFill:[{type:"path",path:"M -10,-10 L 10,-10 L 10,10 L -10,10 L -10,-10 Z"}],pathSymbol3DLayer:[{type:"path",path:"M 3,12 L 12,0 L 11,-2 L -4,5 L -1,5 L 1,7 L 3,10 L 3,12 Z"},{type:"circle",cx:-2,cy:10,r:5}],extrudeSymbol3DLayer:[{type:"path",path:"M -7,-5 L -2,0 L -2,7 L -7,3 L -7,-5 Z"},{type:"path",path:"M -2,0 L -2,7 L 10,-3 L 10,-10 L -2,0 Z"},{type:"path",path:"M -7,-5 L -2,0 L 10,-10 L -2,-10 L -7,-5 Z"}],cone:[{type:"path",path:"M 0,-10 L -8,5 L -4,6.5 L 0,7 L 4,6.5 L 8,5 Z"}],tallCone:[{type:"path",path:"M 0,-9 L -3.5,7 L -1.5,7.8 L 0,8 L 1.5,7.8 L 3.5,7 L 0,-9 Z"}],invertedCone:[{type:"path",path:"M 0,7 L -8,-8 L 8,-8 Z"},{type:"path",path:"M -8,-8 L -4,-9.5 L 0,-10 L 4,-9.5 L 8,-8 L 4,-6.5 L 0,-6 L -4,-6.5 Z"}],cube:[{type:"path",path:"M -10,-7 L 0,-12 L 10,-7 L 0,-2 L -10,-7 Z"},{type:"path",path:"M -10,-7 L 0,-2 L 0,12 L -10,7 L -10,-7 Z"},{type:"path",path:"M 0,-2 L 10,-7 L 10,7 L 0,12 L 0,-2 Z"}],tallCube:[{type:"path",path:"M -3.5,-8.5 L 0,-9.5 L 3.5,-8.5 L 0,-7.5 L -3.5,-8.5 Z"},{type:"path",path:"M -3.5,-8.5 L 0,-7.5 L 0,9 L -3.5,8 L -3.5,-8.5 Z"},{type:"path",path:"M 0,-7.5 L 3.5,-8.5 L 3.5,8 L 0,9 L 0,-7.5 Z"}],cylinder:[{type:"path",path:"M -8,-9 L -8,7 L -4,8.5 L 0,9 L 4,8.5 L 8,7 L 8,-9 Z"},{type:"ellipse",cx:0,cy:-9,rx:8,ry:2}],tallCylinder:[{type:"path",path:"M -3.5,-9 L -3.5,7 L -1.5,7.8 L 0,8 L 1.5,7.8 L 3.5,7 L 3.5,-9 Z"},{type:"ellipse",cx:0,cy:-9,rx:3.5,ry:1}],diamond:[{type:"path",path:"M 0,-10 L 10,-1 L -1,1 L 0,-10 Z"},{type:"path",path:"M 0,-10 L -1,1 L -8,-1 L 0,-10 Z"},{type:"path",path:"M -1,1 L 0,10 L -8,-1 L -1,1 Z"},{type:"path",path:"M -1,0 L 0,10 L 10,-1 L -1,1 Z"}],tetrahedron:[{type:"path",path:"M 0,-10 L 10,7 L 0,0 L 0,-10 Z"},{type:"path",path:"M 0,-10 L 0,0 L -8,7 L 0,-10 Z"},{type:"path",path:"M 10,7 L 0,0 L -8,7 L 10,7 Z"}]};function B(ne,j,I){const w=O.size;let F=w,k=w;ne<1?F*=.75:ne>1&&(k*=1.25);let Q=w,ue=w;return j&&I&&(F=k=Q=ue=0),[{type:"path",path:[{command:"M",values:[Q,0]},{command:"L",values:[I?Q:.875*Q,0]},{command:"L",values:[I?F-.5*Q:0,k-.5*ue]},{command:"L",values:[F-.5*Q,k-.5*ue]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[Q,0]},{command:"L",values:[Q,j?0:.125*ue]},{command:"L",values:[F-.5*Q,j?k-.5*ue:ue]},{command:"L",values:[F-.5*Q,k-.5*ue]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[F-.5*Q,k-.5*ue]},{command:"L",values:[I?F-.5*Q:0,k-.5*ue]},{command:"L",values:[I?F-.5*Q:0,j?k-.5*ue:ue]},{command:"L",values:[F-.5*Q,j?k-.5*ue:ue]},{command:"Z",values:[]}]}]}function N(ne){const j=O.size,I=.5*ne;return[{type:"path",path:[{command:"M",values:[0,.7*j*.5]},{command:"L",values:[.3*j,.7*j]},{command:"L",values:[.3*j,.7*j+I]},{command:"L",values:[0,.7*j+I-.7*j*.5]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[.3*j,.7*j]},{command:"L",values:[.3*j,.7*j+I]},{command:"L",values:[j,I]},{command:"L",values:[j,0]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[.3*j,0]},{command:"L",values:[j,0]},{command:"L",values:[.3*j,.7*j]},{command:"L",values:[0,.7*j*.5]},{command:"Z",values:[]}]}]}function ee(){return[{type:"path",path:"M80,80.2v-27c-1.5,0.7-2.8,1.6-3.9,2.8c-1.8,2.1-4.4,3.3-7.1,3.5c-2.7-0.1-5.3-1.4-7.1-3.4c-2.2-2.3-4.7-3.6-7.4-3.6s-5.1,1.3-7.3,3.6c-1.8,2.1-4.4,3.3-7.2,3.4c-2.7-0.1-5.3-1.4-7.1-3.4c-2.2-2.3-4.7-3.6-7.4-3.6s-5.1,1.3-7.4,3.6c-1.8,2.1-4.4,3.3-7.2,3.4C8.3,59.3,5.7,58,3.9,56c-1.1-1.2-2.4-2.1-3.9-2.8v27"},{type:"path",path:"M11,59.4c2.7-0.1,5.3-1.4,7.1-3.4c2.2-2.3,4.7-3.6,7.4-3.6s5.1,1.3,7.4,3.6c1.8,2,4.4,3.3,7.2,3.4c2.7-0.1,5.3-1.4,7.1-3.4c2.2-2.3,4.7-3.6,7.3-3.6s5.1,1.3,7.4,3.6c1.8,2.1,4.4,3.3,7.2,3.4c2.7-0.1,5.3-1.4,7.1-3.4c1.1-1.2,2.4-2.1,3.9-2.8v-24c-1.5,0.7-2.8,1.6-3.9,2.8c-1.8,2.1-4.4,3.3-7.1,3.5c-2.7-0.1-5.3-1.4-7.1-3.4c-2.2-2.3-4.7-3.6-7.4-3.6s-5.1,1.3-7.3,3.6c-1.8,2.1-4.4,3.3-7.2,3.4c-2.7-0.1-5.3-1.4-7.1-3.4c-2.2-2.3-4.7-3.6-7.4-3.6s-5.1,1.3-7.4,3.6c-1.8,2.1-4.4,3.3-7.2,3.4c-2.7-0.1-5.3-1.4-7.1-3.4c-1.1-1.2-2.4-2.1-3.9-2.8v24c1.5,0.7,2.8,1.6,3.9,2.8C5.7,58,8.3,59.3,11,59.4z"},{type:"path",path:"M11,35.4c2.7-0.1,5.3-1.4,7.1-3.4c2.2-2.3,4.7-3.6,7.4-3.6s5.1,1.3,7.4,3.6c1.8,2,4.4,3.3,7.2,3.4c2.7-0.1,5.3-1.4,7.1-3.4c2.2-2.3,4.7-3.6,7.3-3.6s5.1,1.3,7.4,3.6c1.8,2.1,4.4,3.3,7.2,3.4c2.7-0.1,5.3-1.4,7.1-3.4c1.1-1.2,2.4-2.1,3.9-2.8V3.6c-1.5,0.7-2.8,1.6-3.9,2.8c-2.2,2.1-4.6,3.4-7.1,3.4s-5-1.3-7.1-3.4s-4.7-3.6-7.4-3.6s-5.1,1.3-7.3,3.6S42.5,9.9,40,9.9s-5-1.3-7.1-3.4s-4.7-3.6-7.4-3.6s-5.1,1.3-7.3,3.6c-1.8,2.1-4.4,3.3-7.2,3.4c-2.5,0-5-1.3-7.1-3.4C2.8,5.3,1.4,4.3,0,3.6v25.6c1.5,0.7,2.8,1.6,3.9,2.8C5.7,34.1,8.3,35.3,11,35.4z"}]}function z(ne,j){let I=j?O.tallSymbolWidth:ne;const F=j?4:6;I-=I<=O.size?.5*F:F;const re=j?.35*I:.5*I;return[{type:"path",path:[{command:"M",values:[.5*I,0]},{command:"L",values:[I,.5*re]},{command:"L",values:[.5*I,re]},{command:"L",values:[0,.5*re]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[0,.5*re]},{command:"L",values:[.5*I,re]},{command:"L",values:[.5*I,ne]},{command:"L",values:[0,ne-.5*re]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[.5*I,re]},{command:"L",values:[.5*I,ne]},{command:"L",values:[I,ne-.5*re]},{command:"L",values:[I,.5*re]},{command:"Z",values:[]}]}]}function L(ne,j){let I=j?O.tallSymbolWidth:ne;const F=j?4:6;I-=I<=O.size?.5*F:F;const k=.5*I,W=.15*I,Q=ne-W;return[{type:"ellipse",cx:.5*I,cy:Q,rx:k,ry:W},{type:"path",path:[{command:"M",values:[0,W]},{command:"L",values:[0,Q]},{command:"L",values:[I,Q]},{command:"L",values:[I,W]},{command:"Z",values:[]}]},{type:"ellipse",cx:.5*I,cy:W,rx:k,ry:W}]}function T(ne,j){let I=j?O.tallSymbolWidth:ne;const F=j?4:6;I-=I<=O.size?.5*F:F;const k=.15*I,W=ne-k;return[{type:"ellipse",cx:.5*I,cy:W,rx:.5*I,ry:k},{type:"path",path:[{command:"M",values:[.5*I,0]},{command:"L",values:[I,W]},{command:"L",values:[0,W]},{command:"Z",values:[]}]}]}function x(ne){let j=ne;j-=j<O.size?3:6;const F=.15*j;return[{type:"path",path:[{command:"M",values:[0,0]},{command:"L",values:[j,0]},{command:"L",values:[.5*j,ne-F]},{command:"Z",values:[]}]},{type:"ellipse",cx:.5*j,cy:0,rx:.5*j,ry:F}]}function Z(ne){let j=ne;const I=ne;j-=j<O.size?2:4;const W=j,re=I,Q=Math.floor(ne/10)-1||1;return[{type:"path",path:[{command:"M",values:[.45*W,0]},{command:"L",values:[W,.5*re-Q]},{command:"L",values:[.45*W-Q,.5*re+Q]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[.45*W,0]},{command:"L",values:[.45*W-Q,.5*re+Q]},{command:"L",values:[0,.5*re-Q]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[0,.5*re-Q]},{command:"L",values:[.45*W-Q,.5*re+Q]},{command:"L",values:[.45*W,I]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[.45*W,I]},{command:"L",values:[W,.5*re-Q]},{command:"L",values:[.45*W-Q,.5*re+Q]},{command:"Z",values:[]}]}]}function Y(ne){let w=ne;return w-=w<O.size?1:2,[{type:"path",path:[{command:"M",values:[.45*ne,0]},{command:"L",values:[ne,w]},{command:"L",values:[.45*ne,.6*w]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[.45*ne,0]},{command:"L",values:[.45*ne,.6*w]},{command:"L",values:[0,w]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[0,w]},{command:"L",values:[.45*ne,.6*w]},{command:"L",values:[ne,w]},{command:"Z",values:[]}]}]}function $(ne,j){return Math.round(Math.min(Math.max(ne+255*j*.75,0),255))}function se(ne,j){if("type"in ne&&("linear"===ne.type||"pattern"===ne.type))return ne;const I=new M.Z(ne);return new M.Z([$(I.r,j),$(I.g,j),$(I.b,j),I.a])}},78241:(Qe,Me,E)=>{"use strict";E.d(Me,{wm:()=>ue,n2:()=>I,KV:()=>w,EJ:()=>W,v9:()=>F});var M=E(15861),O=E(84792),X=E(26584),B=E(10699),N=E(21726),ee=E(84687),z=E(6278),L=E(8314);const Y={};function se(){return(se=(0,M.Z)(function*(he,fe){try{return{data:(yield W(he,fe)).data,baseUrl:(0,N.Yd)(he),styleUrl:he}}catch(pe){return(0,B.r9)(pe),null}})).apply(this,arguments)}function I(he,fe,pe){return he.styleUrl?function $(he,fe){return se.apply(this,arguments)}(he.styleUrl,pe):he.styleName?function ne(he,fe,pe){const oe=fe&&fe.portal||ee.Z.getDefault();let K;const de=`${oe.url} - ${oe.user&&oe.user.username} - ${he}`;return Y[de]||(Y[de]=function j(he,fe,pe){return fe.load(pe).then(()=>{const oe=new z.Z({disableExtraQuery:!0,query:`owner:${re} AND type:${Q} AND typekeywords:"${he}"`});return fe.queryItems(oe,pe)}).then(({results:oe})=>{let K=null;const de=he.toLowerCase();if(oe&&Array.isArray(oe))for(const le of oe)if(le.typeKeywords.some(me=>me.toLowerCase()===de)&&le.type===Q&&le.owner===re){K=le;break}if(!K)throw new X.Z("symbolstyleutils:style-not-found",`The style '${he}' could not be found`,{styleName:he});return K.load(pe)})}(he,oe,pe).then(le=>(K=le,le.fetchData())).then(le=>({data:le,baseUrl:K.itemUrl,styleName:he}))),Y[de]}(he.styleName,fe,pe):Promise.reject(new X.Z("symbolstyleutils:style-url-and-name-missing","Either styleUrl or styleName is required to resolve a style"))}function w(he){return null===he||"CIMSymbolReference"===he.type?he:{type:"CIMSymbolReference",symbol:he}}function F(he,fe){if("cimRef"===fe)return he.cimRef;if(he.formatInfos&&!(0,L.Z)("enable-feature:force-wosr"))for(const pe of he.formatInfos)if("gltf"===pe.type)return pe.href;return he.webRef}function W(he,fe){const pe=Ct({responseType:"json",query:{f:"json"}},fe);return(0,O.default)((0,N.Fv)(he),pe)}const re="esri_en",Q="Style",ue="https://cdn.arcgis.com/sharing/rest/content/items/220936cc6ed342c9937abd8f180e7d1e/resources/styles/cim/{SymbolName}.json?f=json"},43652:(Qe,Me,E)=>{"use strict";E.d(Me,{$K:()=>B,Hc:()=>T,KW:()=>x,Uz:()=>L,w2:()=>Z}),E(8314);var O=E(28093),X=E(5548);function B(Y,{isPrimitive:$,width:se,depth:ne,height:j}){const I=$?10:1;if(null==se&&null==j&&null==ne)return[I*Y[0],I*Y[1],I*Y[2]];const w=(0,O.f)(se,ne,j);let F;for(let k=0;k<3;k++){const W=w[k];if(null!=W){F=W/Y[k];break}}for(let k=0;k<3;k++)null==w[k]&&(w[k]=Y[k]*F);return w}const N=(0,X.al)(-.5,-.5,-.5,.5,.5,.5),ee=(0,X.al)(-.5,-.5,0,.5,.5,1),z=(0,X.al)(-.5,-.5,0,.5,.5,.5);function L(Y){switch(Y){case"sphere":case"cube":case"diamond":return N;case"cylinder":case"cone":case"inverted-cone":return ee;case"tetrahedron":return z;default:return}}const T=["butt","square","round"],x=[...T,"none"],Z=["miter","bevel","round"]},50369:(Qe,Me,E)=>{"use strict";E.d(Me,{Ck:()=>ee,Nj:()=>Y,OJ:()=>Z,Xw:()=>N,hR:()=>B,uC:()=>X,x0:()=>x});var M=E(21286),O=E(90912);const X=["none","underline","line-through"],B=["normal","italic","oblique"],N=["normal","lighter","bold","bolder"],ee={type:Number,cast:$=>{const se=(0,O.q9)($);return 0===se?1:(0,M.uZ)(se,.1,4)},nonNullable:!0},x={type:["left","right","center","justify"],nonNullable:!0},Z={type:["left","right","center"],nonNullable:!0},Y={type:["baseline","top","middle","bottom"],nonNullable:!0}},69738:(Qe,Me,E)=>{"use strict";E.d(Me,{Ds:()=>z,KA:()=>ee});var M=E(21726),O=E(29840);function B(T,x){return function L(T){return T&&("service"===T.origin||"portal-item"===T.origin)&&T.layer&&("feature"===T.layer.type||"stream"===T.layer.type)}(x)&&!(0,M.YP)(T)&&x.layer.parsedUrl?(0,M.v_)(x.layer.parsedUrl.path,"images",T):(0,O.f)(T,x)}const ee={json:{read:{source:["imageData","url"],reader:function X(T,x,Z){return x.imageData?(0,M._l)({mediaType:x.contentType||"image/png",isBase64:!0,data:x.imageData}):B(x.url,Z)}},write:{writer(T,x,Z,Y){!function N(T,x,Z,Y){if((0,M.HK)(T)){const $=(0,M.sJ)(T);x.contentType=$.mediaType,x.imageData=$.data,Z&&Z.imageData===x.imageData&&Z.url&&(0,O.w)(Z.url,x,"url",Y)}else(0,O.w)(T,x,"url",Y)}(T,x,this.source,Y)}}}},z={readOnly:!0,json:{read:{source:["imageData","url"],reader(T,x,Z){const Y={};return x.imageData&&(Y.imageData=x.imageData),x.contentType&&(Y.contentType=x.contentType),x.url&&(Y.url=B(x.url,Z)),Y}}}}},86606:(Qe,Me,E)=>{"use strict";E.d(Me,{BR:()=>xe,YW:()=>ne,e3:()=>_e,nf:()=>j,tb:()=>re,wJ:()=>ke});var M=E(15861),O=E(91558),X=E(65787),B=E(59213),N=E(8314),ee=E(62208),z=E(28093),L=E(71149),x=(E(74741),E(64830));const Z=/\/resource\/(.*?)\.svg$/,Y=new O.Z("white");function ne(Ve){if((0,ee.Wi)(Ve)||!("symbolLayers"in Ve)||(0,ee.Wi)(Ve.symbolLayers))return!1;switch(Ve.type){case"point-3d":return Ve.symbolLayers.some(ve=>"object"===ve.type);case"line-3d":return Ve.symbolLayers.some(ve=>"path"===ve.type);case"polygon-3d":return Ve.symbolLayers.some(ve=>"object"===ve.type||"extrude"===ve.type);default:return!1}}function j(Ve,ve){const we=ve.resource.href;return!(0,N.Z)("esri-canvas-svg-support")&&Ve.styleOrigin&&Z.test(we)?we.replace(Z,"/resource/png/$1.png"):we}function F(Ve,ve){if(null==ve)return Ve;const we=Ve.toRgba();return we[3]=we[3]*ve,new O.Z(we)}function re(Ve,ve,we){Ve&&(ve||null!=we)&&(ve&&(ve=new O.Z(ve)),(0,X.dU)(Ve)?function k(Ve,ve,we){const We=Ve.symbolLayers;if(!We)return;const nt=Te=>{const Ze=(0,ee.pC)(Te)?Te:null;return F(ve=ve||Ze||null!=we&&Y,we)};We.forEach(Te=>{if("object"!==Te.type||null==Te.resource.href||ve)if("water"===Te.type)Te.color=nt(Te.color);else{const Ze=(0,ee.pC)(Te.material)?Te.material.color:null,He=nt(Ze);(0,ee.Wi)(Te.material)?Te.material=new x.b({color:He}):Te.material.color=He,null!=we&&"outline"in Te&&(0,ee.pC)(Te.outline)&&(0,ee.pC)(Te.outline.color)&&(Te.outline.color=F(Te.outline.color,we))}})}(Ve,ve,we):(0,X.cT)(Ve)&&function W(Ve,ve,we){(ve=ve||Ve.color)&&(Ve.color=F(ve,we)),null!=we&&"outline"in Ve&&Ve.outline&&Ve.outline.color&&(Ve.outline.color=F(Ve.outline.color,we))}(Ve,ve,we))}function Q(Ve,ve){return ue.apply(this,arguments)}function ue(){return ue=(0,M.Z)(function*(Ve,ve){const we=Ve.symbolLayers;we&&(yield(0,B.Ed)(we,function(){var We=(0,M.Z)(function*(nt){return he(nt,ve)});return function(nt){return We.apply(this,arguments)}}()))}),ue.apply(this,arguments)}function he(Ve,ve){return fe.apply(this,arguments)}function fe(){return(fe=(0,M.Z)(function*(Ve,ve){switch(Ve.type){case"extrude":K(Ve,ve);break;case"icon":case"line":case"text":pe(Ve,ve);break;case"path":me(Ve,ve);break;case"object":yield de(Ve,ve)}})).apply(this,arguments)}function pe(Ve,ve){const we=oe(ve);(0,ee.pC)(we)&&(Ve.size=we)}function oe(Ve){for(const ve of Ve)if("number"==typeof ve)return ve;return null}function K(Ve,ve){Ve.size="number"==typeof ve[2]?ve[2]:0}function de(Ve,ve){return le.apply(this,arguments)}function le(){return(le=(0,M.Z)(function*(Ve,ve){const{resourceSize:we,symbolSize:We}=yield ge(Ve),nt=ce(ve,we,We);Ve.width=ie(ve[0],We[0],we[0],nt),Ve.depth=ie(ve[1],We[1],we[1],nt),Ve.height=ie(ve[2],We[2],we[2],nt)})).apply(this,arguments)}function me(Ve,ve){const we=ce(ve,z.O,[Ve.width,void 0,Ve.height]);Ve.width=ie(ve[0],Ve.width,1,we),Ve.height=ie(ve[2],Ve.height,1,we)}function ce(Ve,ve,we){for(let We=0;We<3;We++){const nt=Ve[We];switch(nt){case"symbol-value":return null!=we[We]?we[We]/ve[We]:1;case"proportional":break;default:if(nt&&ve[We])return nt/ve[We]}}return 1}function ge(Ve){return J.apply(this,arguments)}function J(){return(J=(0,M.Z)(function*(Ve){const ve=yield E.e(1831).then(E.bind(E,91831)),we=yield ve.computeObjectLayerResourceSize(Ve,10),{width:We,height:nt,depth:Te}=Ve,Ze=[We,Te,nt];let He=1;for(let te=0;te<3;te++)if(null!=Ze[te]){He=Ze[te]/we[te];break}for(let te=0;te<3;te++)null==Ze[te]&&(Ze[te]=we[te]*He);return{resourceSize:we,symbolSize:Ze}})).apply(this,arguments)}function ie(Ve,ve,we,We){switch(Ve){case"proportional":return we*We;case"symbol-value":return null!=ve?ve:we;default:return Ve}}function De(Ve,ve){const we=oe(ve);if(!(0,ee.Wi)(we))switch(Ve.type){case"simple-marker":Ve.size=we;break;case"picture-marker":{const We=Ve.width/Ve.height;We>1?(Ve.width=we,Ve.height=we*We):(Ve.width=we*We,Ve.height=we);break}case"simple-line":Ve.width=we;break;case"text":Ve.font.size=we}}function _e(Ve,ve){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,M.Z)(function*(Ve,ve){if(Ve&&ve)return(0,X.dU)(Ve)?Q(Ve,ve):void((0,X.cT)(Ve)&&De(Ve,ve))})).apply(this,arguments)}function xe(Ve,ve,we){if(Ve&&null!=ve)if((0,X.dU)(Ve)){const We=Ve.symbolLayers;We&&We.forEach(nt=>{if(nt&&"object"===nt.type)switch(we){case"tilt":nt.tilt=ve;break;case"roll":nt.roll=ve;break;default:nt.heading=ve}})}else(0,X.cT)(Ve)&&("simple-marker"!==Ve.type&&"picture-marker"!==Ve.type&&"text"!==Ve.type||(Ve.angle=ve))}function ke(Ve){if(!Ve)return null;const ve=Ve.effects.filter(we=>"bloom"!==we.type).map(we=>we.toJSON());return(0,L.rM)(ve)}},4728:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>an});var M=E(15861),O=E(17626),X=E(26584),B=E(8314),N=E(62208),ee=E(10699),z=E(77712),x=(E(85931),E(90912),E(76898)),Z=E(15283),Y=E(2618),$=E(85531),se=E(67736);function j(){return(j=(0,M.Z)(function*(Ot,yt,ze){const mt=(0,Y.en)(Ot);return(0,$.X)(mt,se.Z.from(yt),Ct({},ze)).then(Ae=>(0,$.O)(Ae.data.attachmentGroups,mt.path))})).apply(this,arguments)}var I=E(90463),F=(E(29132),E(20477)),k=E(84952),W=E(2004);function Q(){return(Q=(0,M.Z)(function*(Ot,yt,ze){const mt=(0,Y.en)(Ot);return(0,F.executeQueryForExtent)(mt,k.Z.from(yt),Ct({},ze)).then(Ae=>({count:Ae.data.count,extent:W.Z.fromJSON(Ae.data.extent)}))})).apply(this,arguments)}var ue=E(24865),he=E(2865),fe=E(94573),pe=E(33696),oe=E(82054);function K(Ot,yt){return yt}function de(Ot,yt,ze,mt){switch(ze){case 0:return ge(Ot,yt+mt,0);case 1:return"lowerLeft"===Ot.originPosition?ge(Ot,yt+mt,1):function J({translate:Ot,scale:yt},ze,mt){return Ot[mt]-ze*yt[mt]}(Ot,yt+mt,1)}}function le(Ot,yt,ze,mt){return 2===ze?ge(Ot,yt,2):de(Ot,yt,ze,mt)}function me(Ot,yt,ze,mt){return 2===ze?ge(Ot,yt,3):de(Ot,yt,ze,mt)}function ce(Ot,yt,ze,mt){return 3===ze?ge(Ot,yt,3):le(Ot,yt,ze,mt)}function ge({translate:Ot,scale:yt},ze,mt){return Ot[mt]+ze*yt[mt]}class ie{constructor(yt){this.options=yt,this.geometryTypes=["esriGeometryPoint","esriGeometryMultipoint","esriGeometryPolyline","esriGeometryPolygon"],this.previousCoordinate=[0,0],this.transform=null,this.applyTransform=K,this.lengths=[],this.currentLengthIndex=0,this.toAddInCurrentPath=0,this.vertexDimension=0,this.coordinateBuffer=null,this.coordinateBufferPtr=0,this._attributesConstructor=function(){}}createFeatureResult(){return{fields:[],features:[]}}finishFeatureResult(yt){if(this.options.applyTransform&&(yt.transform=null),this._attributesConstructor=function(){},this.coordinateBuffer=null,this.lengths.length=0,!yt.hasZ)return;const ze=(0,pe.k)(yt.geometryType,this.options.sourceSpatialReference,yt.spatialReference);if(!(0,N.Wi)(ze))for(const mt of yt.features)ze(mt.geometry)}createSpatialReference(){return{}}addField(yt,ze){yt.fields.push(ze);const mt=yt.fields.map(Ae=>Ae.name);this._attributesConstructor=function(){for(const Ae of mt)this[Ae]=null}}addFeature(yt,ze){yt.features.push(ze)}prepareFeatures(yt){switch(this.transform=yt.transform,this.options.applyTransform&&yt.transform&&(this.applyTransform=this._deriveApplyTransform(yt)),this.vertexDimension=2,yt.hasZ&&this.vertexDimension++,yt.hasM&&this.vertexDimension++,yt.geometryType){case"esriGeometryPoint":this.addCoordinate=(ze,mt,Ae)=>this.addCoordinatePoint(ze,mt,Ae),this.createGeometry=ze=>this.createPointGeometry(ze);break;case"esriGeometryPolygon":this.addCoordinate=(ze,mt,Ae)=>this._addCoordinatePolygon(ze,mt,Ae),this.createGeometry=ze=>this._createPolygonGeometry(ze);break;case"esriGeometryPolyline":this.addCoordinate=(ze,mt,Ae)=>this._addCoordinatePolyline(ze,mt,Ae),this.createGeometry=ze=>this._createPolylineGeometry(ze);break;case"esriGeometryMultipoint":this.addCoordinate=(ze,mt,Ae)=>this._addCoordinateMultipoint(ze,mt,Ae),this.createGeometry=ze=>this._createMultipointGeometry(ze);break;default:(0,fe.Bg)(yt.geometryType)}}createFeature(){return this.lengths.length=0,this.currentLengthIndex=0,this.previousCoordinate[0]=0,this.previousCoordinate[1]=0,this.coordinateBuffer=null,this.coordinateBufferPtr=0,{attributes:new this._attributesConstructor}}allocateCoordinates(){}addLength(yt,ze,mt){0===this.lengths.length&&(this.toAddInCurrentPath=ze),this.lengths.push(ze)}addQueryGeometry(yt,ze){const{queryGeometry:mt,queryGeometryType:Ae}=ze,et=(0,oe.$g)(mt.clone(),mt,!1,!1,this.transform),Tt=(0,oe.di)(et,Ae,!1,!1);yt.queryGeometryType=Ae,yt.queryGeometry=Ct({},Tt)}createPointGeometry(yt){const ze={x:0,y:0,spatialReference:yt.spatialReference};return yt.hasZ&&(ze.z=0),yt.hasM&&(ze.m=0),ze}addCoordinatePoint(yt,ze,mt){switch(ze=this.applyTransform(this.transform,ze,mt,0),mt){case 0:yt.x=ze;break;case 1:yt.y=ze;break;case 2:"z"in yt?yt.z=ze:yt.m=ze;break;case 3:yt.m=ze}}_transformPathLikeValue(yt,ze){let mt=0;return ze<=1&&(mt=this.previousCoordinate[ze],this.previousCoordinate[ze]+=yt),this.applyTransform(this.transform,yt,ze,mt)}_addCoordinatePolyline(yt,ze,mt){this._dehydratedAddPointsCoordinate(yt.paths,ze,mt)}_addCoordinatePolygon(yt,ze,mt){this._dehydratedAddPointsCoordinate(yt.rings,ze,mt)}_addCoordinateMultipoint(yt,ze,mt){0===mt&&yt.points.push([]);const Ae=this._transformPathLikeValue(ze,mt);yt.points[yt.points.length-1].push(Ae)}_createPolygonGeometry(yt){return{rings:[[]],spatialReference:yt.spatialReference,hasZ:!!yt.hasZ,hasM:!!yt.hasM}}_createPolylineGeometry(yt){return{paths:[[]],spatialReference:yt.spatialReference,hasZ:!!yt.hasZ,hasM:!!yt.hasM}}_createMultipointGeometry(yt){return{points:[],spatialReference:yt.spatialReference,hasZ:!!yt.hasZ,hasM:!!yt.hasM}}_dehydratedAddPointsCoordinate(yt,ze,mt){0===mt&&0==this.toAddInCurrentPath--&&(yt.push([]),this.toAddInCurrentPath=this.lengths[++this.currentLengthIndex]-1,this.previousCoordinate[0]=0,this.previousCoordinate[1]=0);const Ae=this._transformPathLikeValue(ze,mt),et=yt[yt.length-1];0===mt&&(this.coordinateBufferPtr=0,this.coordinateBuffer=new Array(this.vertexDimension),et.push(this.coordinateBuffer)),this.coordinateBuffer[this.coordinateBufferPtr++]=Ae}_deriveApplyTransform(yt){const{hasZ:ze,hasM:mt}=yt;return ze&&mt?ce:ze?le:mt?me:de}}var De=E(17253);function ke(){return(ke=(0,M.Z)(function*(Ot,yt,ze){const mt=(0,Y.en)(Ot),Ae=Ct({},ze),et=k.Z.from(yt),Tt=!et.quantizationParameters,{data:Qt}=yield(0,F.executeQueryPBF)(mt,et,new ie({sourceSpatialReference:et.sourceSpatialReference,applyTransform:Tt}),Ae);return Qt})).apply(this,arguments)}var Ve=E(84792),ve=E(76391);function we(Ot,yt){const ze=Ot.toJSON();return ze.objectIds&&(ze.objectIds=ze.objectIds.join(",")),ze.orderByFields&&(ze.orderByFields=ze.orderByFields.join(",")),!ze.outFields||null!=yt&&yt.returnCountOnly?delete ze.outFields:ze.outFields=-1!==ze.outFields.indexOf("*")?"*":ze.outFields.join(","),ze.outSpatialReference&&(ze.outSR=ze.outSR.wkid||JSON.stringify(ze.outSR.toJSON()),delete ze.outSpatialReference),ze.dynamicDataSource&&(ze.layer=JSON.stringify({source:ze.dynamicDataSource}),delete ze.dynamicDataSource),ze}function We(Ot,yt,ze){return nt.apply(this,arguments)}function nt(){return(nt=(0,M.Z)(function*(Ot,yt,ze){const mt=yield He(Ot,yt,ze),Ae=mt.data,et=Ae.geometryType,Tt=Ae.spatialReference,Qt={};for(const on of Ae.relatedRecordGroups){const it={fields:void 0,objectIdFieldName:void 0,geometryType:et,spatialReference:Tt,hasZ:!!Ae.hasZ,hasM:!!Ae.hasM,features:on.relatedRecords};if(null!=on.objectId)Qt[on.objectId]=it;else for(const Vt in on)on.hasOwnProperty(Vt)&&"relatedRecords"!==Vt&&(Qt[on[Vt]]=it)}return Bn(Ct({},mt),{data:Qt})})).apply(this,arguments)}function Te(Ot,yt,ze){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,M.Z)(function*(Ot,yt,ze){const mt=yield He(Ot,yt,ze,{returnCountOnly:!0}),Ae=mt.data,et={};for(const Tt of Ae.relatedRecordGroups)null!=Tt.objectId&&(et[Tt.objectId]=Tt.count);return Bn(Ct({},mt),{data:et})})).apply(this,arguments)}function He(Ot,yt){return te.apply(this,arguments)}function te(){return(te=(0,M.Z)(function*(Ot,yt,ze={},mt){const Ae=(0,ve.A)(Ct(Ct(Bn(Ct({},Ot.query),{f:"json"}),mt),we(yt,mt)));return(0,Ve.default)(Ot.path+"/queryRelatedRecords",Bn(Ct({},ze),{query:Ct(Ct({},ze.query),Ae)}))})).apply(this,arguments)}var Ee=E(67010);function Ye(){return(Ye=(0,M.Z)(function*(Ot,yt,ze){return yt=Ee.Z.from(yt),We((0,Y.en)(Ot),yt,ze).then(Ae=>{const et=Ae.data,Tt={};return Object.keys(et).forEach(Qt=>Tt[Qt]=De.default.fromJSON(et[Qt])),Tt})})).apply(this,arguments)}function ot(){return(ot=(0,M.Z)(function*(Ot,yt,ze){return yt=Ee.Z.from(yt),Te((0,Y.en)(Ot),yt,Ct({},ze)).then(Ae=>Ae.data)})).apply(this,arguments)}var at=E(21726),lt=E(91179),tt=E(13924),vt=E(61515);const Ke="Layer does not support extent calculation.";function Et(Ot,yt,ze,mt){return St.apply(this,arguments)}function St(){return(St=(0,M.Z)(function*(Ot,yt,ze,mt){const Ae=yield yn(Ot,yt,"json",mt);return(0,vt.p)(yt,ze,Ae.data),Ae})).apply(this,arguments)}function kt(Ot,yt,ze){return zt.apply(this,arguments)}function zt(){return(zt=(0,M.Z)(function*(Ot,yt,ze){return(0,N.pC)(yt.timeExtent)&&yt.timeExtent.isEmpty?Promise.resolve({data:{objectIds:[]}}):yn(Ot,yt,"json",ze,{returnIdsOnly:!0})})).apply(this,arguments)}function qt(Ot,yt,ze){return dn.apply(this,arguments)}function dn(){return(dn=(0,M.Z)(function*(Ot,yt,ze){return(0,N.pC)(yt.timeExtent)&&yt.timeExtent.isEmpty?Promise.resolve({data:{count:0,extent:null}}):yn(Ot,yt,"json",ze,{returnExtentOnly:!0,returnCountOnly:!0}).then(mt=>{const Ae=mt.data;if(Ae.hasOwnProperty("extent"))return mt;if(Ae.features)throw new Error(Ke);if(Ae.hasOwnProperty("count"))throw new Error(Ke);return mt})})).apply(this,arguments)}function xn(Ot,yt,ze){return(0,N.pC)(yt.timeExtent)&&yt.timeExtent.isEmpty?Promise.resolve({data:{count:0}}):yn(Ot,yt,"json",ze,{returnIdsOnly:!0,returnCountOnly:!0})}function yn(Ot,yt,ze,mt={},Ae={}){const et="string"==typeof Ot?(0,at.mN)(Ot):Ot,Tt=yt.geometry?[yt.geometry]:[];return mt.responseType="pbf"===ze?"array-buffer":"json",(0,tt.aX)(Tt,null,mt).then(Qt=>{const on=Qt&&Qt[0];(0,N.pC)(on)&&((yt=yt.clone()).geometry=on);const it=(0,ve.A)(Ct(Ct(Bn(Ct({},et.query),{f:ze}),Ae),function ut(Ot,yt){var ze,mt;const Ae=Ot.geometry,et=Ot.toJSON(),Tt=et;if((0,N.pC)(Ae)&&(Tt.geometry=JSON.stringify(Ae),Tt.geometryType=(0,lt.Ji)(Ae),Tt.inSR=Ae.spatialReference.wkid||JSON.stringify(Ae.spatialReference)),null!=(ze=et.topFilter)&&ze.groupByFields&&(Tt.topFilter.groupByFields=et.topFilter.groupByFields.join(",")),null!=(mt=et.topFilter)&&mt.orderByFields&&(Tt.topFilter.orderByFields=et.topFilter.orderByFields.join(",")),et.topFilter&&(Tt.topFilter=JSON.stringify(Tt.topFilter)),et.objectIds&&(Tt.objectIds=et.objectIds.join(",")),et.orderByFields&&(Tt.orderByFields=et.orderByFields.join(",")),et.outFields&&!(null!=yt&&yt.returnCountOnly||null!=yt&&yt.returnExtentOnly||null!=yt&&yt.returnIdsOnly)?Tt.outFields=-1!==et.outFields.indexOf("*")?"*":et.outFields.join(","):delete Tt.outFields,et.outSR?Tt.outSR=et.outSR.wkid||JSON.stringify(et.outSR):Ae&&et.returnGeometry&&(Tt.outSR=Tt.inSR),et.returnGeometry&&delete et.returnGeometry,et.timeExtent){const Qt=et.timeExtent,{start:on,end:it}=Qt;null==on&&null==it||(Tt.time=on===it?on:`${null==on?"null":on},${null==it?"null":it}`),delete et.timeExtent}return Tt}(yt,Ae)));return(0,Ve.default)((0,at.v_)(et.path,"queryTopFeatures"),Bn(Ct({},mt),{query:Ct(Ct({},it),mt.query)}))})}var An=E(6871);function Dn(){return(Dn=(0,M.Z)(function*(Ot,yt,ze,mt){const Ae=(0,Y.en)(Ot),et=Ct({},mt),{data:Tt}=yield Et(Ae,An.Z.from(yt),ze,et);return De.default.fromJSON(Tt)})).apply(this,arguments)}function Dt(){return(Dt=(0,M.Z)(function*(Ot,yt,ze){const mt=(0,Y.en)(Ot);return(yield kt(mt,An.Z.from(yt),Ct({},ze))).data.objectIds})).apply(this,arguments)}function Wt(){return(Wt=(0,M.Z)(function*(Ot,yt,ze){const mt=(0,Y.en)(Ot),Ae=yield qt(mt,An.Z.from(yt),Ct({},ze));return{count:Ae.data.count,extent:W.Z.fromJSON(Ae.data.extent)}})).apply(this,arguments)}function Nt(){return(Nt=(0,M.Z)(function*(Ot,yt,ze){const mt=(0,Y.en)(Ot);return(yield xn(mt,An.Z.from(yt),Ct({},ze))).data.count})).apply(this,arguments)}var Yt=E(79308);let Jt=class extends Yt.Z{constructor(Ot){super(Ot),this.dynamicDataSource=null,this.fieldsIndex=null,this.format="json",this.gdbVersion=null,this.infoFor3D=null,this.sourceSpatialReference=null}execute(Ot,yt){return this.executeJSON(Ot,yt).then(ze=>this.featureSetFromJSON(Ot,ze,yt))}executeJSON(Ot,yt){var ze=this;return(0,M.Z)(function*(){var mt;const Ae=Ct(Ct({},ze.requestOptions),yt),et=ze._normalizeQuery(Ot),Tt=null!=(null==(mt=Ot.outStatistics)?void 0:mt[0]),Qt=(0,B.Z)("featurelayer-pbf-statistics"),on=!Tt||Qt;let it;if("pbf"===ze.format&&on)try{it=yield function xe(Ot,yt,ze){return ke.apply(this,arguments)}(ze.url,et,Ae)}catch(Vt){if("query:parsing-pbf"!==Vt.name)throw Vt;ze.format="json"}return"json"!==ze.format&&on||(it=yield(0,he.F)(ze.url,et,Ae)),ze._normalizeFields(it.fields),it})()}featureSetFromJSON(Ot,yt,ze){var mt=this;return(0,M.Z)(function*(){if(!(mt._queryIs3DObjectFormat(Ot)&&(0,N.pC)(mt.infoFor3D)&&yt.features&&yt.features.length))return De.default.fromJSON(yt);const{meshFeatureSetFromJSON:Ae}=yield(0,ee.Hl)(Promise.all([E.e(479),E.e(853),E.e(8592),E.e(5678)]).then(E.bind(E,25678)),ze);return Ae(Ot,mt.infoFor3D,yt)})()}executeForCount(Ot,yt){const ze=Ct(Ct({},this.requestOptions),yt),mt=this._normalizeQuery(Ot);return(0,I.P)(this.url,mt,ze)}executeForExtent(Ot,yt){const ze=Ct(Ct({},this.requestOptions),yt),mt=this._normalizeQuery(Ot);return function re(Ot,yt,ze){return Q.apply(this,arguments)}(this.url,mt,ze)}executeForIds(Ot,yt){const ze=Ct(Ct({},this.requestOptions),yt),mt=this._normalizeQuery(Ot);return(0,ue.G)(this.url,mt,ze)}executeRelationshipQuery(Ot,yt){Ot=Ee.Z.from(Ot);const ze=Ct(Ct({},this.requestOptions),yt);return(this.gdbVersion||this.dynamicDataSource)&&((Ot=Ot.clone()).gdbVersion=Ot.gdbVersion||this.gdbVersion,Ot.dynamicDataSource=Ot.dynamicDataSource||this.dynamicDataSource),function je(Ot,yt,ze){return Ye.apply(this,arguments)}(this.url,Ot,ze)}executeRelationshipQueryForCount(Ot,yt){Ot=Ee.Z.from(Ot);const ze=Ct(Ct({},this.requestOptions),yt);return(this.gdbVersion||this.dynamicDataSource)&&((Ot=Ot.clone()).gdbVersion=Ot.gdbVersion||this.gdbVersion,Ot.dynamicDataSource=Ot.dynamicDataSource||this.dynamicDataSource),function ht(Ot,yt,ze){return ot.apply(this,arguments)}(this.url,Ot,ze)}executeAttachmentQuery(Ot,yt){const ze=Ct(Ct({},this.requestOptions),yt);return function ne(Ot,yt,ze){return j.apply(this,arguments)}(this.url,Ot,ze)}executeTopFeaturesQuery(Ot,yt){const ze=Ct(Ct({},this.requestOptions),yt);return function In(Ot,yt,ze,mt){return Dn.apply(this,arguments)}(this.parsedUrl,Ot,this.sourceSpatialReference,ze)}executeForTopIds(Ot,yt){const ze=Ct(Ct({},this.requestOptions),yt);return function st(Ot,yt,ze){return Dt.apply(this,arguments)}(this.parsedUrl,Ot,ze)}executeForTopExtents(Ot,yt){const ze=Ct(Ct({},this.requestOptions),yt);return function jt(Ot,yt,ze){return Wt.apply(this,arguments)}(this.parsedUrl,Ot,ze)}executeForTopCount(Ot,yt){const ze=Ct(Ct({},this.requestOptions),yt);return function Ht(Ot,yt,ze){return Nt.apply(this,arguments)}(this.parsedUrl,Ot,ze)}_normalizeQuery(Ot){let yt=k.Z.from(Ot);if(yt.sourceSpatialReference=yt.sourceSpatialReference||this.sourceSpatialReference,(this.gdbVersion||this.dynamicDataSource)&&(yt=yt===Ot?yt.clone():yt,yt.gdbVersion=Ot.gdbVersion||this.gdbVersion,yt.dynamicDataSource=Ot.dynamicDataSource?Z.n.from(Ot.dynamicDataSource):this.dynamicDataSource),(0,N.pC)(this.infoFor3D)&&this._queryIs3DObjectFormat(Ot)){yt=yt===Ot?yt.clone():yt,yt.formatOf3DObjects=null;for(const ze of this.infoFor3D.queryFormats){if("3D_glb"===ze.id){yt.formatOf3DObjects=ze.id;break}"3D_gltf"!==ze.id||yt.formatOf3DObjects||(yt.formatOf3DObjects=ze.id)}if(!yt.formatOf3DObjects)throw new X.Z("query:unsupported-3d-query-formats","Could not find any supported 3D object query format. Only supported formats are 3D_glb and 3D_gltf");if((0,N.Wi)(yt.outFields)||!yt.outFields.includes("*")){yt=yt===Ot?yt.clone():yt,(0,N.Wi)(yt.outFields)&&(yt.outFields=[]);const{originX:ze,originY:mt,originZ:Ae,translationX:et,translationY:Tt,translationZ:Qt,scaleX:on,scaleY:it,scaleZ:Vt,rotationX:$t,rotationY:rn,rotationZ:gn,rotationDeg:Zn}=this.infoFor3D.transformFieldRoles;yt.outFields.push(ze,mt,Ae,et,Tt,Qt,on,it,Vt,$t,rn,gn,Zn)}}return yt}_normalizeFields(Ot){if((0,N.pC)(this.fieldsIndex)&&(0,N.pC)(Ot))for(const yt of Ot){const ze=this.fieldsIndex.get(yt.name);ze&&Object.assign(yt,ze.toJSON())}}_queryIs3DObjectFormat(Ot){return(0,N.pC)(this.infoFor3D)&&Ot.returnGeometry&&"xyFootprint"!==Ot.multipatchOption&&!Ot.outStatistics}};(0,O._)([(0,z.Cb)({type:Z.n})],Jt.prototype,"dynamicDataSource",void 0),(0,O._)([(0,z.Cb)()],Jt.prototype,"fieldsIndex",void 0),(0,O._)([(0,z.Cb)()],Jt.prototype,"format",void 0),(0,O._)([(0,z.Cb)()],Jt.prototype,"gdbVersion",void 0),(0,O._)([(0,z.Cb)()],Jt.prototype,"infoFor3D",void 0),(0,O._)([(0,z.Cb)()],Jt.prototype,"sourceSpatialReference",void 0),Jt=(0,O._)([(0,x.j)("esri.tasks.QueryTask")],Jt);const an=Jt},79308:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>x});var M=E(17626),O=E(14517),X=E(21726),B=E(77712),L=(E(85931),E(8314),E(90912),E(76898));let T=class extends O.Z{constructor(...Z){super(...Z),this.requestOptions=null,this.url=null}normalizeCtorArgs(Z,Y){return"string"!=typeof Z?Z:Ct({url:Z},Y)}get parsedUrl(){return this._parseUrl(this.url)}_parseUrl(Z){return Z?(0,X.mN)(Z):null}_encode(Z,Y,$){const se={};for(const ne in Z){if("declaredClass"===ne)continue;const j=Z[ne];if(null!=j&&"function"!=typeof j)if(Array.isArray(j)){se[ne]=[];for(let I=0;I<j.length;I++)se[ne][I]=this._encode(j[I])}else if("object"==typeof j)if(j.toJSON){const I=j.toJSON($&&$[ne]);se[ne]=Y?I:JSON.stringify(I)}else se[ne]=Y?j:JSON.stringify(j);else se[ne]=j}return se}};(0,M._)([(0,B.Cb)({readOnly:!0})],T.prototype,"parsedUrl",null),(0,M._)([(0,B.Cb)()],T.prototype,"requestOptions",void 0),(0,M._)([(0,B.Cb)({type:String})],T.prototype,"url",void 0),T=(0,M._)([(0,L.j)("esri.tasks.Task")],T);const x=T},81340:(Qe,Me,E)=>{"use strict";E.d(Me,{n:()=>ee});var M=E(35575),O=E(2004),X=E(65401),B=E(89621),N=E(58098);class ee{constructor(L,T){this.key=new N.Z(0,0,0,0),this.bounds=(0,X.Ue)(),this.objectIds=new Set,this.key.set(T);const x=L.getLODInfoAt(this.key);this.tileInfoView=L,this.tileInfoView.getTileBounds(this.bounds,this.key,!0),this.resolution=x.resolution,this.scale=x.scale,this.level=x.level}get id(){return this.key.id}get extent(){return O.Z.fromBounds(this.bounds,this.tileInfoView.tileInfo.spatialReference)}get transform(){return{originPosition:"upperLeft",scale:[this.resolution,this.resolution],translate:[this.bounds[0],this.bounds[3]]}}createChildTiles(){const L=this.key.getChildKeys(),T=M.Z.acquire();for(let x=0;x<L.length;x++)T[x]=new ee(this.tileInfoView,L[x]);return T}getQuantizationParameters(){return B.Z.fromJSON({mode:"view",originPosition:"upperLeft",tolerance:this.resolution,extent:{xmin:this.bounds[0],ymin:this.bounds[1],xmax:this.bounds[2],ymax:this.bounds[3],spatialReference:this.tileInfoView.tileInfo.spatialReference}})}}},56656:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>x});var M=E(61885),O=E(8314),X=E(76279),B=E(81340),N=E(84378),ee=E(58098);const z={added:[],removed:[]},L=new Set,T=new ee.Z(0,0,0,0);class x extends M.Z{constructor(Y){super(),this._tiles=new Map,this._index=(0,X.r)(9,(0,O.Z)("esri-csp-restrictions")?$=>({minX:$.bounds[0],minY:$.bounds[1],maxX:$.bounds[2],maxY:$.bounds[3]}):[".bounds[0]",".bounds[1]",".bounds[2]",".bounds[3]"]),this.tiles=[],this.tileScheme=Y}destroy(){this.clear()}clear(){this.tiles.length=0,this._tiles.clear(),this._index.clear()}has(Y){return this._tiles.has(Y)}get(Y){return this._tiles.get(Y)}boundsIntersections(Y){return this._index.search({minX:Y[0],minY:Y[1],maxX:Y[2],maxY:Y[3]})}updateTiles(Y){const $={added:[],removed:[]};for(const se of Y.added)if(!this.has(se)){const ne=new B.n(this.tileScheme,se);this._tiles.set(se,ne),this._index.insert(ne),$.added.push(ne)}for(const se of Y.removed)if(this.has(se)){const ne=this.get(se);this._tiles.delete(se),this._index.remove(ne),$.removed.push(ne)}this.tiles.length=0,this._tiles.forEach(se=>this.tiles.push(se)),($.added.length||$.removed.length)&&this.emit("update",$)}setViewState(Y){const $=this.tileScheme.getTileCoverage(Y,0);if(!$)return;const{spans:se,lodInfo:ne}=$,{level:j}=ne;if(se.length>0)for(const{row:I,colFrom:w,colTo:F}of se)for(let k=w;k<=F;k++){const W=T.set(j,I,ne.normalizeCol(k),ne.getWorldForColumn(k)).id;if(L.add(W),!this.has(W)){const re=new B.n(this.tileScheme,W);this._tiles.set(W,re),this._index.insert(re),this.tiles.push(re),z.added.push(re)}}for(let I=this.tiles.length-1;I>=0;I--){const w=this.tiles[I];L.has(w.id)||(this._tiles.delete(w.id),this.tiles.splice(I,1),this._index.remove(w),z.removed.push(w))}(z.added.length||z.removed.length)&&this.emit("update",z),N.Z.pool.release($),L.clear(),z.added.length=0,z.removed.length=0}}},33412:(Qe,Me,E)=>{"use strict";E.d(Me,{T:()=>O});class O{constructor(){this._names=new Map}begin(B){this._names.has(B)||(this._names.set(B,!1),-1!==B.indexOf("Brush")&&this.record("Esri.FirstDraw"),performance.mark(`Esri.${B}.Start`))}end(B){this._names.has(B)&&!this._names.get(B)&&(this._names.set(B,!0),performance.mark(`Esri.${B}.End`))}record(B){this._names.has(B)||(this._names.set(B,!0),performance.mark(`Esri.${B}`))}}},17083:(Qe,Me,E)=>{"use strict";var M=E(17626),O=E(14517),X=E(77712),z=(E(85931),E(8314),E(90912),E(76898)),L=E(67831),T=E(71251);const Z=new Set,Y=[],$=new Map,se=[0,0];let ne=class extends O.Z{constructor(I){super(I),this._keyToItem=new Map,this.concurrency=6,this.strategy="scale-first",this.tileInfoView=null}initialize(){const{concurrency:I,process:w}=this;this._queue=new T.e({concurrency:I,process:(F,k)=>{const W=this._keyToItem.get(F);return w(W,{signal:k})},peeker:F=>F.values().next().value})}destroy(){this.clear(),this._queue.destroy(),this._queue=null}get length(){return this._queue?this._queue.length:0}get onGoingCount(){return this._keyToItem.size}get updating(){return this.length>0||this.onGoingCount>0}abort(I){this._queue.abort("string"==typeof I?I:I.id)}clear(){this._queue.clear(),this._keyToItem.clear(),this.notifyChange("updating")}has(I){return this._keyToItem.has("string"==typeof I?I:I.id)}isOngoing(I){const w="string"==typeof I?I:I.id;return this.has(w)&&this._queue.isOngoing(w)}pause(){this._queue.pause()}push(I,w){const F=I.key.id+"-"+w;if(this.has(F))return this.get(F);const k=this._queue.push(F),W=()=>{this._keyToItem.delete(F),this.notifyChange("updating")};return this._keyToItem.set(F,I),k.then(W,W),this.notifyChange("updating"),k}reset(){this._queue.reset(),this.notifyChange("updating")}resume(){this._queue.resume()}_peekByScaleFirst(I){if(!this.state)return I.values().next().value;const w=this.tileInfoView;let F=Number.NEGATIVE_INFINITY,k=Number.POSITIVE_INFINITY;I.forEach(fe=>{const pe=this._keyToItem.get(fe),oe=this.tileInfoView.getTileScale(pe.key);$.has(oe)||($.set(oe,[]),F=Math.max(oe,F),k=Math.min(oe,k)),$.get(oe).push(pe.key),Z.add(oe)});let W=this.state.scale;$.has(W)||(function x(I,w){I.length=0,w.forEach(F=>I.push(F))}(Y,Z),Y.sort((fe,pe)=>fe-pe),W=Y.reduce((fe,pe)=>Math.abs(pe-W)<Math.abs(fe-W)?pe:fe,Y[0])),W=Math.min(W,F),W=Math.max(W,k);const re=$.get(W),Q=w.getClosestInfoForScale(W),ue=Q.getColumnForX(this.state.center[0]),he=Q.getRowForY(this.state.center[1]);return re.sort((fe,pe)=>{const oe=Q.denormalizeCol(fe.col,fe.world),K=Q.denormalizeCol(pe.col,pe.world);return Math.sqrt((ue-oe)*(ue-oe)+(he-fe.row)*(he-fe.row))-Math.sqrt((ue-K)*(ue-K)+(he-pe.row)*(he-pe.row))}),Z.clear(),$.clear(),re[0].id}_peekByCenterFirst(I){if(!this.state)return I.values().next().value;const w=this.tileInfoView,F=this.state.center;let k=Number.POSITIVE_INFINITY,W=null;return I.forEach(re=>{const Q=this._keyToItem.get(re);w.getTileCoords(se,Q.key);const ue=(0,L.b)(se,F);ue<k&&(k=ue,W=Q.key)}),W.id}};(0,M._)([(0,X.Cb)({constructOnly:!0})],ne.prototype,"concurrency",void 0),(0,M._)([(0,X.Cb)({constructOnly:!0})],ne.prototype,"process",void 0),(0,M._)([(0,X.Cb)()],ne.prototype,"state",void 0),(0,M._)([(0,X.Cb)({constructOnly:!0})],ne.prototype,"strategy",void 0),(0,M._)([(0,X.Cb)({constructOnly:!0})],ne.prototype,"tileInfoView",void 0),(0,M._)([(0,X.Cb)({readOnly:!0})],ne.prototype,"updating",null),ne=(0,M._)([(0,z.j)("esri.views.2d.tiling.PagedTileQueue")],ne)},84378:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>O});var M=E(27899);class O{constructor(){this.spans=[]}acquire(B){this.lodInfo=B}release(){this.lodInfo=null,this.spans.length=0}forEach(B,N){const{spans:ee,lodInfo:z}=this,{level:L}=z;if(0!==ee.length)for(const{row:T,colFrom:x,colTo:Z}of ee)for(let Y=x;Y<=Z;Y++)B.call(N,L,T,z.normalizeCol(Y),z.getWorldForColumn(Y))}}O.pool=new M.Z(O)},9598:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>ne});var M=E(37053),O=E(62208),X=E(58098);function B(j,I){return[j,I]}function N(j,I,w){return j[0]=I,j[1]=w,j}const z=new X.Z("0/0/0/0");class L{constructor(I,w,F,k,W,re,Q,ue,he,fe,pe,oe){this.level=I,this.resolution=w,this.scale=F,this.origin=k,this.first=W,this.last=re,this.size=Q,this.norm=ue,this.worldStart=he,this.worldEnd=fe,this.worldSize=pe,this.wrap=oe}static create(I,w,F=null){const k=(0,M.C5)(I.spatialReference),W=w.origin||B(I.origin.x,I.origin.y),re=B(I.size[0]*w.resolution,I.size[1]*w.resolution),Q=B(-1/0,-1/0),ue=B(1/0,1/0),he=B(1/0,1/0);(0,O.pC)(F)&&(N(Q,Math.max(0,Math.floor((F.xmin-W[0])/re[0])),Math.max(0,Math.floor((W[1]-F.ymax)/re[1]))),N(ue,Math.max(0,Math.floor((F.xmax-W[0])/re[0])),Math.max(0,Math.floor((W[1]-F.ymin)/re[1]))),N(he,ue[0]-Q[0]+1,ue[1]-Q[1]+1));const{cols:fe,rows:pe}=w;let oe,K,de,le;return!F&&fe&&pe&&(N(Q,fe[0],pe[0]),N(ue,fe[1],pe[1]),N(he,fe[1]-fe[0]+1,pe[1]-pe[0]+1)),I.isWrappable?(oe=B(Math.ceil(Math.round((k.valid[1]-k.valid[0])/w.resolution)/I.size[0]),he[1]),K=B(Math.floor((k.origin[0]-W[0])/re[0]),Q[1]),de=B(oe[0]+K[0]-1,ue[1]),le=!0):(K=Q,de=ue,oe=he,le=!1),new L(w.level,w.resolution,w.scale,W,Q,ue,he,re,K,de,oe,le)}normalizeCol(I){if(!this.wrap)return I;const w=this.worldSize[0];return I<0?w-1-Math.abs((I+1)%w):I%w}denormalizeCol(I,w){return this.wrap?this.worldSize[0]*w+I:I}getWorldForColumn(I){return this.wrap?Math.floor(I/this.worldSize[0]):0}getFirstColumnForWorld(I){return I*this.worldSize[0]+this.first[0]}getLastColumnForWorld(I){return I*this.worldSize[0]+this.first[0]+this.size[0]-1}getColumnForX(I){return(I-this.origin[0])/this.norm[0]}getXForColumn(I){return this.origin[0]+I*this.norm[0]}getRowForY(I){return(this.origin[1]-I)/this.norm[1]}getYForRow(I){return this.origin[1]-I*this.norm[1]}getTileBounds(I,w,F=!1){z.set(w);const k=F?z.col:this.denormalizeCol(z.col,z.world),W=z.row;return function ee(j,I,w,F,k){j[0]=I,j[1]=w,j[2]=F,j[3]=k}(I,this.getXForColumn(k),this.getYForRow(W+1),this.getXForColumn(k+1),this.getYForRow(W)),I}getTileCoords(I,w,F=!1){z.set(w);const k=F?z.col:this.denormalizeCol(z.col,z.world);return Array.isArray(I)?N(I,this.getXForColumn(k),this.getYForRow(z.row)):(I.x=this.getXForColumn(k),I.y=this.getYForRow(z.row)),I}}var T=E(84378);class x{constructor(I,w,F){this.row=I,this.colFrom=w,this.colTo=F}}const Z=new X.Z("0/0/0/0");class Y{constructor(I,w,F,k,W,re,Q,ue){this.x=I,this.ymin=w,this.ymax=F,this.invM=k,this.leftAdjust=W,this.rightAdjust=re,this.leftBound=Q,this.rightBound=ue}static create(I,w){I[1]>w[1]&&([I,w]=[w,I]);const[F,k]=I,[W,re]=w,Q=W-F,ue=re-k,he=0!==ue?Q/ue:0,fe=(Math.ceil(k)-k)*he,pe=(Math.floor(k)-k)*he;return new Y(F,Math.floor(k),Math.ceil(re),he,Q<0?fe:pe,Q<0?pe:fe,Q<0?W:F,Q<0?F:W)}incrRow(){this.x+=this.invM}getLeftCol(){return Math.max(this.x+this.leftAdjust,this.leftBound)}getRightCol(){return Math.min(this.x+this.rightAdjust,this.rightBound)}}const $=[[0,0],[0,0],[0,0],[0,0]];class ne{constructor(I,w=null){this.tileInfo=I,this.fullExtent=w,this.scales=[],this._lodInfos=null,this._infoByScale={},this._infoByLevel={};const F=I.lods.slice();F.sort(function(W,re){return re.scale-W.scale});const k=this._lodInfos=F.map(W=>L.create(I,W,w));F.forEach((W,re)=>{this._infoByLevel[W.level]=k[re],this._infoByScale[W.scale]=k[re],this.scales[re]=W.scale},this),this._wrap=I.isWrappable}get spatialReference(){return this.tileInfo.spatialReference}getLODInfoAt(I){return this._infoByLevel["number"==typeof I?I:I.level]}getTileBounds(I,w,F=!1){Z.set(w);const k=this._infoByLevel[Z.level];return k?k.getTileBounds(I,Z,F):I}getTileCoords(I,w,F=!1){Z.set(w);const k=this._infoByLevel[Z.level];return k?k.getTileCoords(I,Z,F):I}getTileCoverage(I,w=192,F="closest"){const k="closest"===F?this.getClosestInfoForScale(I.scale):this.getSmallestInfoForScale(I.scale),W=T.Z.pool.acquire(k),re=this._wrap;let Q,ue,he,fe=1/0,pe=-1/0;const oe=W.spans;$[0][0]=$[0][1]=$[1][1]=$[3][0]=-w,$[1][0]=$[2][0]=I.size[0]+w,$[2][1]=$[3][1]=I.size[1]+w;for(const me of $)I.toMap(me,me),me[0]=k.getColumnForX(me[0]),me[1]=k.getRowForY(me[1]);const K=[];let de=3;for(let me=0;me<4;me++){if($[me][1]===$[de][1]){de=me;continue}const ce=Y.create($[me],$[de]);fe=Math.min(ce.ymin,fe),pe=Math.max(ce.ymax,pe),void 0===K[ce.ymin]&&(K[ce.ymin]=[]),K[ce.ymin].push(ce),de=me}if(null==fe||null==pe||pe-fe>100)return null;let le=[];for(Q=fe;Q<pe;){null!=K[Q]&&(le=le.concat(K[Q])),ue=1/0,he=-1/0;for(let me=le.length-1;me>=0;me--){const ce=le[me];ue=Math.min(ue,ce.getLeftCol()),he=Math.max(he,ce.getRightCol())}if(ue=Math.floor(ue),he=Math.floor(he),Q>=k.first[1]&&Q<=k.last[1])if(re)if(k.size[0]<k.worldSize[0]){const me=Math.floor(he/k.worldSize[0]);for(let ce=Math.floor(ue/k.worldSize[0]);ce<=me;ce++)oe.push(new x(Q,Math.max(k.getFirstColumnForWorld(ce),ue),Math.min(k.getLastColumnForWorld(ce),he)))}else oe.push(new x(Q,ue,he));else ue>k.last[0]||he<k.first[0]||(ue=Math.max(ue,k.first[0]),he=Math.min(he,k.last[0]),oe.push(new x(Q,ue,he)));Q+=1;for(let me=le.length-1;me>=0;me--){const ce=le[me];ce.ymax>=Q?ce.incrRow():le.splice(me,1)}}return W}getTileParentId(I){Z.set(I);const F=this._lodInfos.indexOf(this._infoByLevel[Z.level])-1;return F<0?null:(this._getTileIdAtLOD(Z,this._lodInfos[F],Z),Z.id)}getTileResolution(I){const w=this._infoByLevel["object"==typeof I?I.level:I];return w?w.resolution:-1}getTileScale(I){const w=this._infoByLevel[I.level];return w?w.scale:-1}intersects(I,w){Z.set(w);const F=this._infoByLevel[Z.level],k=I.lodInfo;if(k.resolution>F.resolution){this._getTileIdAtLOD(Z,k,Z);const re=k.denormalizeCol(Z.col,Z.world);for(const Q of I.spans)if(Q.row===Z.row&&Q.colFrom<=re&&Q.colTo>=re)return!0}if(k.resolution<F.resolution){const[re,Q,ue,he]=I.spans.reduce((le,me)=>(le[0]=Math.min(le[0],me.row),le[1]=Math.max(le[1],me.row),le[2]=Math.min(le[2],me.colFrom),le[3]=Math.max(le[3],me.colTo),le),[1/0,-1/0,1/0,-1/0]),fe=F.denormalizeCol(Z.col,Z.world),pe=k.getColumnForX(F.getXForColumn(fe)),oe=k.getRowForY(F.getYForRow(Z.row)),K=k.getColumnForX(F.getXForColumn(fe+1))-1,de=k.getRowForY(F.getYForRow(Z.row+1))-1;return!(pe>he||K<ue||oe>Q||de<re)}const W=k.denormalizeCol(Z.col,Z.world);return I.spans.some(re=>re.row===Z.row&&re.colFrom<=W&&re.colTo>=W)}normalizeBounds(I,w,F){if(I[0]=w[0],I[1]=w[1],I[2]=w[2],I[3]=w[3],this._wrap){const k=(0,M.C5)(this.tileInfo.spatialReference),W=-F*(k.valid[1]-k.valid[0]);I[0]+=W,I[2]+=W}return I}getSmallestInfoForScale(I){const w=this.scales;if(this._infoByScale[I])return this._infoByScale[I];if(I>w[0])return this._infoByScale[w[0]];for(let F=1;F<w.length-1;F++)if(I>w[F]+1e-6)return this._infoByScale[w[F-1]];return this._infoByScale[w[w.length-1]]}getClosestInfoForScale(I){const w=this.scales;return this._infoByScale[I]||(I=w.reduce((F,k)=>Math.abs(k-I)<Math.abs(F-I)?k:F,w[0])),this._infoByScale[I]}scaleToLevel(I){const w=this.scales;if(this._infoByScale[I])return this._infoByScale[I].level;for(let F=w.length-1;F>=0;F--)if(I<w[F])return F===w.length-1?this._infoByScale[w[w.length-1]].level:this._infoByScale[w[F]].level+(w[F]-I)/(w[F]-w[F+1]);return this._infoByScale[w[0]].level}scaleToZoom(I){return this.tileInfo.scaleToZoom(I)}_getTileIdAtLOD(I,w,F){const k=this._infoByLevel[F.level];return I.set(F),w.resolution<k.resolution?null:(w.resolution===k.resolution||(I.level=w.level,I.col=Math.floor(F.col*k.resolution/w.resolution+.01),I.row=Math.floor(F.row*k.resolution/w.resolution+.01)),I)}}},58098:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>O});var M=E(27899);class O{constructor(B,N,ee,z){this.set(B,N,ee,z)}static getId(B,N,ee,z){return"object"==typeof B?`${B.level}/${B.row}/${B.col}/${B.world}`:`${B}/${N}/${ee}/${z}`}get key(){return this}get id(){return this.toString()}set id(B){this.set(B)}get hash(){return(3&this.world)<<30|(4095&this.col)<<22|(4095&this.row)<<8|63&this.level}acquire(B,N,ee,z){this.set(B,N,ee,z)}contains(B){const N=B.level-this.level;return this.row===B.row>>N&&this.col===B.col>>N&&this.world===B.world}equals(B){return this.level===B.level&&this.row===B.row&&this.col===B.col&&this.world===B.world}clone(){return new O(this)}release(){this.level=0,this.row=0,this.col=0,this.world=0}set(B,N,ee,z){if(null==B)this.level=0,this.row=0,this.col=0,this.world=0;else if("object"==typeof B)this.level=B.level||0,this.row=B.row||0,this.col=B.col||0,this.world=B.world||0;else if("string"==typeof B){const[L,T,x,Z]=B.split("/");this.level=parseFloat(L),this.row=parseFloat(T),this.col=parseFloat(x),this.world=parseFloat(Z)}else this.level=+B,this.row=+N,this.col=+ee,this.world=+z||0;return this}toString(){return`${this.level}/${this.row}/${this.col}/${this.world}`}getParentKey(){return this.level<=0?null:new O(this.level-1,this.row>>1,this.col>>1,this.world)}getChildKeys(){const B=this.level+1,N=this.row<<1,ee=this.col<<1,z=this.world;return[new O(B,N,ee,z),new O(B,N,ee+1,z),new O(B,N+1,ee,z),new O(B,N+1,ee+1,z)]}compareRowMajor(B){return this.row<B.row?-1:this.row>B.row?1:this.col<B.col?-1:this.col>B.col?1:0}}O.pool=new M.Z(O,null,null,25,50)},8480:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>j});var M=E(17626),O=E(14517),X=E(77712),z=(E(85931),E(8314),E(90912),E(76898)),L=E(67831),T=E(71251);const Z=new Set,Y=[],$=new Map,se=[0,0];let ne=class extends O.Z{constructor(I){super(I),this._keyToItem=new Map,this.concurrency=6,this.strategy="scale-first",this.tileInfoView=null}initialize(){const{concurrency:I,process:w,strategy:F}=this;this._queue=new T.e({concurrency:I,process:(k,W)=>{const re=this._keyToItem.get(k);return w(re,{signal:W})},peeker:"scale-first"===F?k=>this._peekByScaleFirst(k):k=>this._peekByCenterFirst(k)})}destroy(){this.clear(),this._queue.destroy(),this._queue=null}get length(){return this._queue?this._queue.length:0}get onGoingCount(){return this._keyToItem.size}get updating(){return this.length>0||this.onGoingCount>0}abort(I){this._queue.abort("string"==typeof I?I:I.id)}clear(){this._queue.clear(),this._keyToItem.clear(),this.notifyChange("updating")}has(I){return this._keyToItem.has("string"==typeof I?I:I.id)}isOngoing(I){const w="string"==typeof I?I:I.id;return this.has(w)&&this._queue.isOngoing(w)}pause(){this._queue.pause()}push(I){const w=I.key.id;if(this._queue.has(w))return this._queue.get(w);const F=this._queue.push(w),k=()=>{this._keyToItem.delete(w),this.notifyChange("updating")};return this._keyToItem.set(w,I),F.then(k,k),this.notifyChange("updating"),F}reset(){this._queue.reset()}resume(){this._queue.resume()}_peekByScaleFirst(I){if(!this.state)return I.values().next().value;const w=this.tileInfoView;let F=Number.NEGATIVE_INFINITY,k=Number.POSITIVE_INFINITY;I.forEach(fe=>{const pe=this._keyToItem.get(fe),oe=this.tileInfoView.getTileScale(pe.key);$.has(oe)||($.set(oe,[]),F=Math.max(oe,F),k=Math.min(oe,k)),$.get(oe).push(pe.key),Z.add(oe)});let W=this.state.scale;$.has(W)||(function x(I,w){I.length=0,w.forEach(F=>I.push(F))}(Y,Z),Y.sort((fe,pe)=>fe-pe),W=Y.reduce((fe,pe)=>Math.abs(pe-W)<Math.abs(fe-W)?pe:fe,Y[0])),W=Math.min(W,F),W=Math.max(W,k);const re=$.get(W),Q=w.getClosestInfoForScale(W),ue=Q.getColumnForX(this.state.center[0]),he=Q.getRowForY(this.state.center[1]);return re.sort((fe,pe)=>{const oe=Q.denormalizeCol(fe.col,fe.world),K=Q.denormalizeCol(pe.col,pe.world);return Math.sqrt((ue-oe)*(ue-oe)+(he-fe.row)*(he-fe.row))-Math.sqrt((ue-K)*(ue-K)+(he-pe.row)*(he-pe.row))}),Z.clear(),$.clear(),re[0].id}_peekByCenterFirst(I){if(!this.state)return I.values().next().value;const w=this.tileInfoView,F=this.state.center;let k=Number.POSITIVE_INFINITY,W=null;return I.forEach(re=>{const Q=this._keyToItem.get(re);w.getTileCoords(se,Q.key);const ue=(0,L.b)(se,F);ue<k&&(k=ue,W=Q.key)}),W.id}};(0,M._)([(0,X.Cb)({constructOnly:!0})],ne.prototype,"concurrency",void 0),(0,M._)([(0,X.Cb)({constructOnly:!0})],ne.prototype,"process",void 0),(0,M._)([(0,X.Cb)()],ne.prototype,"state",void 0),(0,M._)([(0,X.Cb)({constructOnly:!0})],ne.prototype,"strategy",void 0),(0,M._)([(0,X.Cb)({constructOnly:!0})],ne.prototype,"tileInfoView",void 0),(0,M._)([(0,X.Cb)({readOnly:!0})],ne.prototype,"updating",null),ne=(0,M._)([(0,z.j)("esri.views.2d.tiling.TileQueue")],ne);const j=ne},79527:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>Z});var M=E(65401),O=E(67831);class X{constructor($,se,ne){this.maxSize=$,this.tileInfoView=se,this.removedFunc=ne,this._tilePerId=new Map,this._tileKeysPerLevel=[]}has($){return this._tilePerId.has($)}get($){return this._tilePerId.get($)}pop($){const se=this._tilePerId.get($);if(!se)return null;const j=this._tileKeysPerLevel[se.key.level];B(this._tilePerId,$);for(let I=0;I<j.length;I++)if(j[I].id===$){j.splice(I,1);break}return se.visible=!0,se}add($){$.visible=!1;const se=$.key,ne=se.id;if(this._tilePerId.has(ne))return;this._tilePerId.set(ne,$);const j=se.level;this._tileKeysPerLevel[j]||(this._tileKeysPerLevel[j]=[]),this._tileKeysPerLevel[j].push(se)}prune($,se,ne){let j=this._tilePerId.size;if(j<=this.maxSize)return;let I=this._tileKeysPerLevel.length-1;for(;j>this.maxSize&&I>=0;)I!==$&&(j=this._pruneAroundCenterTile(j,se,ne,I)),I--;j>this.maxSize&&(j=this._pruneAroundCenterTile(j,se,ne,$))}_pruneAroundCenterTile($,se,ne,j){const I=this._tileKeysPerLevel[j];if(!I||0===I.length)return $;const{size:w,origin:F}=this.tileInfoView.tileInfo,k=ne*w[0],W=ne*w[1],re=[0,0],Q=[0,0];for(I.sort((ue,he)=>(re[0]=F.x+k*(ue.col+.5),re[1]=F.y-W*(ue.row+.5),Q[0]=F.x+k*(he.col+.5),Q[1]=F.y-W*(he.row+.5),(0,O.a)(re,se)-(0,O.a)(Q,se)));I.length>0;){const ue=I.pop();if(this._removeTile(ue.id),--$===this.maxSize)break}return $}_removeTile($){const se=this._tilePerId.get($);this.removedFunc&&this.removedFunc(se),B(this._tilePerId,$)}}function B(Y,$){Y.delete($)}var N=E(84378);const z=new(E(58098).Z)(0,0,0,0),L=new Map,T=[],x=[];class Z{constructor($){this._previousScale=Number.POSITIVE_INFINITY,this.cachePolicy="keep",this.coveragePolicy="closest",this.resampling=!0,this.tileIndex=new Map,this.tiles=[],this.buffer=192,this.acquireTile=$.acquireTile,this.releaseTile=$.releaseTile,this.tileInfoView=$.tileInfoView,this.resampling=null==$.resampling||!!$.resampling,$.cachePolicy&&(this.cachePolicy=$.cachePolicy),$.coveragePolicy&&(this.coveragePolicy=$.coveragePolicy),null!=$.buffer&&(this.buffer=$.buffer),$.cacheSize&&(this._tileCache=new X($.cacheSize,this.tileInfoView,se=>{this.releaseTile(se)}))}destroy(){this.tileIndex.clear()}update($){const{resampling:se,tileIndex:ne}=this,j=this.tileInfoView.getTileCoverage($.state,this.buffer,this.coveragePolicy);if(x.length=0,T.length=0,L.clear(),!j)return;const{minScale:I,maxScale:w}=this.tileInfoView.tileInfo,{spans:F,lodInfo:k}=j,{level:W}=k,{scale:re,center:Q,resolution:ue}=$.state,he=!$.stationary&&re>this._previousScale;if(this._previousScale=re,this.tiles.length=0,!se&&(re>I||re<w))return this.tiles.length=0,L.clear(),ne.forEach(K=>{this.releaseTile(K)}),ne.clear(),x.length=0,T.length=0,L.clear(),N.Z.pool.release(j),!0;ne.forEach(K=>K.visible=!0);let fe=0,pe=0;if(F.length>0)for(const{row:K,colFrom:de,colTo:le}of F)for(let me=de;me<=le;me++){fe++;const ce=z.set(W,K,k.normalizeCol(me),k.getWorldForColumn(me)).id;if(ne.has(ce)){const ge=ne.get(ce);ge.isReady?(L.set(ce,ge),pe++):he||this._addParentTile(ce,L)}else{let ge;if(this._tileCache&&this._tileCache.has(ce)){if(ge=this._tileCache.pop(ce),this.tileIndex.set(ce,ge),ge.isReady){L.set(ce,ge),pe++;continue}}else ge=this.acquireTile(z),this.tileIndex.set(ce,ge);he||this._addParentTile(ce,L)}}const oe=pe===fe;ne.forEach((K,de)=>{if(z.set(de),L.has(de))return;const le=this.tileInfoView.intersects(j,z),me="purge"===this.cachePolicy?z.level!==W:z.level>W;!le||!he&&oe?!me&&le||T.push(de):K.isReady?me&&"purge"===this.cachePolicy&&this._hasReadyAncestor(z,W)?T.push(de):x.push(de):me&&T.push(de)});for(const K of x){const de=ne.get(K);de&&de.isReady&&L.set(K,de)}for(const K of T){const de=ne.get(K);this._tileCache?this._tileCache.add(de):this.releaseTile(de),ne.delete(K)}return L.forEach(K=>this.tiles.push(K)),ne.forEach(K=>{L.has(K.key.id)||(K.visible=!1)}),this._tileCache&&this._tileCache.prune(W,Q,ue),N.Z.pool.release(j),L.clear(),oe}clear($=!0){const{tileIndex:se}=this;$&&se.forEach(ne=>{this.releaseTile(ne)}),se.clear()}updateCacheSize($){this._tileCache&&(this._tileCache.maxSize=$)}_addParentTile($,se){let ne=$,j=null;for(;ne=this.tileInfoView.getTileParentId(ne),ne;)if(this.tileIndex.has(ne)){if(j=this.tileIndex.get(ne),j&&j.isReady){se.has(j.key.id)||se.set(j.key.id,j);break}}else if(this._tileCache&&this._tileCache.has(ne)&&(j=this._tileCache.pop(ne),this.tileIndex.set(ne,j),j&&j.isReady)){se.has(j.key.id)||se.set(j.key.id,j);break}}_hasReadyAncestor($,se){const ne=(0,M.Ue)();this.tileInfoView.getTileBounds(ne,$,!0);for(const j of this.tileIndex.values())if(j.isReady&&j.key.level>=se&&j.key.level<$.level){const I=(0,M.Ue)();if(this.tileInfoView.getTileBounds(I,j.key,!0),(0,M.r3)(I,ne))return!0}return!1}}},78041:(Qe,Me,E)=>{"use strict";function M(N,ee,z,L){const T=3*N,x=3*(z-N)-T,Z=1-T-x,Y=3*ee,$=3*(L-ee)-Y,se=1-Y-$;function ne(F){return((Z*F+x)*F+T)*F}function I(F){return(3*Z*F+2*x)*F+T}return function(F,k=1e-6){return function j(F){return((se*F+$)*F+Y)*F}(function w(F,k){let W,re,Q,ue,he,fe;for(Q=F,fe=0;fe<8;fe++){if(ue=ne(Q)-F,Math.abs(ue)<k)return Q;if(he=I(Q),Math.abs(he)<1e-6)break;Q-=ue/he}if(W=0,re=1,Q=F,Q<W)return W;if(Q>re)return re;for(;W<re;){if(ue=ne(Q),Math.abs(ue-F)<k)return Q;F>ue?W=Q:re=Q,Q=.5*(re-W)+W}return Q}(F,k))}}E.d(Me,{LI:()=>X,Qc:()=>B,n_:()=>M});const O=/^cubic-bezier\((.*)\)/,X={};function B(N){let ee=X[N]||null;if(!ee){const z=O.exec(N);if(z){const L=z[1].split(",").map(T=>parseFloat(T.trim()));4!==L.length||L.some(T=>isNaN(T))||(ee=M.apply(M,L))}}return ee}X.ease=M(.25,.1,.25,1),X.linear=M(0,0,1,1),X.easeIn=X["ease-in"]=M(.42,0,1,1),X.easeOut=X["ease-out"]=M(0,0,.58,1),X.easeInOut=X["ease-in-out"]=M(.42,0,.58,1)},24926:(Qe,Me,E)=>{"use strict";E.d(Me,{$H:()=>Ee,Ck:()=>ve,Dq:()=>J,EK:()=>Q,H4:()=>Ze,Hy:()=>ht,JG:()=>de,Jp:()=>we,L2:()=>nt,Rb:()=>Ve,Rx:()=>vt,SI:()=>te,UZ:()=>ot,Ue:()=>oe,YQ:()=>je,bk:()=>me,dI:()=>Te,gG:()=>at,ni:()=>le,o2:()=>He,qf:()=>ce,uG:()=>De,ut:()=>We});var M=E(15861),O=E(76687),X=E(48701),B=E(62208),N=E(16730),ee=E(39863),z=E(31478),L=E(46342),T=E(67831),x=E(99770),Z=E(2004),Y=E(21674),$=E(49672),se=E(55915),ne=E(65234),j=E(37053);const F=180/Math.PI;function k(Ke){return Ke.wkid?Ke:Ke.spatialReference||ne.Z.WGS84}function W(Ke,ut){return ut.type?(0,T.s)(Ke,ut.x,ut.y):(0,T.c)(Ke,ut)}function re(Ke){return(0,N.c9)(Ke)}function Q(Ke,ut){return Math.max(Ke.width/ut[0],Ke.height/ut[1])*function xe(Ke){return(0,j.JY)(Ke)?39.37*re(Ke)*96:1}(Ke.spatialReference)}function ue(Ke,ut,Et,St){return he.apply(this,arguments)}function he(){return(he=(0,M.Z)(function*(Ke,ut,Et,St){let kt,zt;if(!Ke||Array.isArray(Ke)&&!Ke.length)return null;if(X.Z.isCollection(Ke)&&(Ke=Ke.toArray()),Array.isArray(Ke)&&Ke.length&&"object"==typeof Ke[0]){const dn=Ke.every(An=>"attributes"in An),xn=Ke.some(An=>!An.geometry);let yn=Ke;if(dn&&xn&&ut&&ut.allLayerViews){const An=new Map;for(const Dt of Ke){const jt=Dt.layer,Wt=An.get(jt)||[],Ht=Dt.attributes[jt.objectIdField];null!=Ht&&Wt.push(Ht),An.set(jt,Wt)}const In=[];An.forEach((Dt,jt)=>{const Wt=ut.allLayerViews.find(Ht=>Ht.layer.id===jt.id);if("queryFeatures"in Wt){const Ht=jt.createQuery();Ht.objectIds=Dt,Ht.returnGeometry=!0,In.push(Wt.queryFeatures(Ht))}});const Dn=yield Promise.all(In),st=[];for(const Dt of Dn)if(Dt&&Dt.features&&Dt.features.length)for(const jt of Dt.features)(0,B.pC)(jt.geometry)&&st.push(jt.geometry);yn=st}for(const An of yn)St=yield ue(An,ut,Et,St);return St}if(Array.isArray(Ke)&&2===Ke.length&&"number"==typeof Ke[0]&&"number"==typeof Ke[1])kt=new $.Z(Ke);else if(Ke instanceof Y.Z)kt=Ke;else if("geometry"in Ke)if(Ke.geometry)kt=Ke.geometry;else if(Ke.layer){const dn=Ke.layer,xn=ut.allLayerViews.find(yn=>yn.layer.id===dn.id);if("queryFeatures"in xn){const yn=dn.createQuery();yn.objectIds=[Ke.attributes[dn.objectIdField]],yn.returnGeometry=!0;const An=yield xn.queryFeatures(yn);kt=(0,B.U2)(An,"features",0,"geometry")}}if((0,B.Wi)(kt)||(zt="point"===kt.type?new Z.Z({xmin:kt.x,ymin:kt.y,xmax:kt.x,ymax:kt.y,spatialReference:kt.spatialReference}):kt.extent,!zt))return null;(0,se.kR)()||(0,se.Up)(zt.spatialReference,Et)||(yield(0,se.zD)());const qt=(0,se.iV)(zt,Et);return qt?St=St?St.union(qt):qt:null})).apply(this,arguments)}function fe(Ke){if(Ke&&(!Array.isArray(Ke)||"number"!=typeof Ke[0])&&("object"==typeof Ke||Array.isArray(Ke)&&"object"==typeof Ke[0])){if("layer"in Ke&&Ke.layer&&Ke.layer.minScale&&Ke.layer.maxScale){const ut=Ke.layer;return{min:ut.minScale,max:ut.maxScale}}if(Array.isArray(Ke)&&Ke.length&&Ke.every(ut=>"layer"in ut)){let ut=0,Et=0;for(const St of Ke){const kt=St.layer;kt&&kt.minScale&&kt.maxScale&&(ut=kt.minScale<ut?kt.minScale:ut,Et=kt.maxScale>Et?kt.maxScale:Et)}return ut&&Et?{min:ut,max:Et}:null}}}function pe(Ke,ut){return(0,j.fS)(k(Ke),ut)?Ke:(0,se.iV)(Ke,ut)}function oe(Ke,ut){return K.apply(this,arguments)}function K(){return(K=(0,M.Z)(function*(Ke,ut){if(!Ke||!ut)return new O.Z({targetGeometry:new $.Z,scale:0,rotation:0});let Et=ut.spatialReference;const{constraints:St,padding:kt,viewpoint:zt,size:qt}=ut,dn=[kt?qt[0]-kt.left-kt.right:qt[0],kt?qt[1]-kt.top-kt.bottom:qt[1]];let xn=null;Ke instanceof O.Z?xn=Ke:Ke.viewpoint?xn=Ke.viewpoint:Ke.target&&"esri.Viewpoint"===Ke.target.declaredClass&&(xn=Ke.target);let yn=null;xn&&xn.targetGeometry?yn=xn.targetGeometry:Ke instanceof Z.Z?yn=Ke:(Ke||Ke&&("center"in Ke||"extent"in Ke||"target"in Ke))&&(yn=(yield ue(Ke.center,ut,Et))||(yield ue(Ke.extent,ut,Et))||(yield ue(Ke.target,ut,Et))||(yield ue(Ke,ut,Et))),!yn&&zt&&zt.targetGeometry?yn=zt.targetGeometry:!yn&&ut.extent&&(yn=ut.extent),Et||(Et=k(ut.spatialReference||ut.extent||yn)),(0,se.kR)()||(0,j.fS)(yn.spatialReference,Et)||(0,se.Up)(yn,Et)||(yield(0,se.zD)());const An=pe(yn.center?yn.center:yn,Et);let In=null;if(xn&&(0,B.pC)(xn.targetGeometry)&&"point"===xn.targetGeometry.type)In=xn.scale;else if("scale"in Ke&&Ke.scale)In=Ke.scale;else if("zoom"in Ke&&-1!==Ke.zoom&&St&&St.effectiveLODs)In=St.zoomToScale(Ke.zoom);else if(Array.isArray(yn)||"point"===yn.type||"extent"===yn.type&&0===yn.width&&0===yn.height){const jt=pe(ut.extent,Et);In=(0,B.pC)(jt)?Q(jt,dn):ut.extent?Q(ut.extent,dn):zt.scale}else In=Q(pe(yn.extent,Et),dn);const Dn=fe(Ke);Dn&&(Dn.min&&Dn.min>In?In=Dn.min:Dn.max&&Dn.max<In&&(In=Dn.max));let st=0;xn?st=xn.rotation:Ke.hasOwnProperty("rotation")?st=Ke.rotation:zt&&(st=zt.rotation);let Dt=new O.Z({targetGeometry:An,scale:In,rotation:st});return St&&(Dt=St.fit(Dt),St.constrainByGeometry(Dt),St.rotationEnabled||(Dt.rotation=st)),Dt})).apply(this,arguments)}function de(Ke,ut){const Et=Ke.targetGeometry,St=ut.targetGeometry;return Et.x=St.x,Et.y=St.y,Et.spatialReference=St.spatialReference,Ke.scale=ut.scale,Ke.rotation=ut.rotation,Ke}function le(Ke,ut,Et){return Et?(0,T.s)(Ke,.5*(ut[0]-Et.right+Et.left),.5*(ut[1]-Et.bottom+Et.top)):(0,T.g)(Ke,ut,.5)}const me=function(){const Ke=(0,x.a)();return function(ut,Et,St){const kt=Et.targetGeometry;W(Ke,kt);const zt=.5*De(Et);return ut.xmin=Ke[0]-zt*St[0],ut.ymin=Ke[1]-zt*St[1],ut.xmax=Ke[0]+zt*St[0],ut.ymax=Ke[1]+zt*St[1],ut.spatialReference=kt.spatialReference,ut}}();function ce(Ke,ut,Et,St,kt){return He(Ke,ut,Et.center),Ke.scale=Q(Et,St),kt&&kt.constraints&&kt.constraints.constrain(Ke),Ke}const J=function(){const Ke=(0,x.a)();return function(ut,Et,St){return(0,T.h)(ut,function ke(Ke,ut){return(0,T.g)(Ke,ut,.5)}(ut,Et),le(Ke,Et,St))}}(),ie=function(){const Ke=(0,L.c)(),ut=(0,x.a)();return function(Et,St,kt,zt){const qt=De(St),dn=Ie(St);return(0,T.s)(ut,qt,qt),(0,z.f)(Ke,ut),(0,z.r)(Ke,Ke,dn),(0,z.t)(Ke,Ke,J(ut,kt,zt)),(0,z.t)(Ke,Ke,[0,zt.top-zt.bottom]),(0,T.s)(Et,Ke[4],Ke[5])}}();function De(Ke){return Ke.scale*function _e(Ke){return(0,B.pC)(Ke)&&(0,j.JY)(Ke.spatialReference)?1/(39.37*re(Ke.spatialReference)*96):1}(Ke.targetGeometry)}function Ie(Ke){return(0,ee.t)(Ke.rotation)||0}const Ve=function(){const Ke=(0,x.a)(),ut=(0,x.a)(),Et=(0,x.a)();return function(St,kt,zt,qt,dn,xn){return(0,T.n)(Ke,kt),(0,T.g)(ut,zt,.5*xn),(0,T.s)(Et,1/qt*xn,-1/qt*xn),(0,z.a)(St,ut),dn&&(0,z.r)(St,St,dn),(0,z.s)(St,St,Et),(0,z.t)(St,St,Ke),St}}(),ve=function(){const Ke=(0,x.a)();return function(ut,Et,St,kt){const zt=De(Et),qt=Ie(Et);return W(Ke,Et.targetGeometry),Ve(ut,Ke,St,zt,qt,kt)}}(),we=function(){const Ke=(0,x.a)();return function(ut,Et,St,kt){const zt=De(Et);return W(Ke,Et.targetGeometry),Ve(ut,Ke,St,zt,0,kt)}}();function We(Ke){if(Ke.isWrappable){const ut=(0,j.C5)(Ke);return ut.valid[1]-ut.valid[0]}return 0}function nt(Ke,ut){return Math.round(We(Ke)/ut)}const Te=function(){const Ke=(0,x.a)(),ut=(0,x.a)(),Et=[0,0,0];return function(St,kt,zt){(0,T.f)(Ke,St,kt),(0,T.i)(Ke,Ke),(0,T.f)(ut,St,zt),(0,T.i)(ut,ut),(0,T.j)(Et,Ke,ut);let qt=Math.acos((0,T.k)(Ke,ut)/((0,T.l)(Ke)*(0,T.l)(ut)))*F;return Et[2]<0&&(qt=-qt),isNaN(qt)&&(qt=0),qt}}(),Ze=function(){const Ke=(0,x.a)();return function(ut,Et,St,kt){const zt=ut.targetGeometry;return de(ut,Et),ie(Ke,Et,St,kt),zt.x+=Ke[0],zt.y+=Ke[1],ut}}(),He=function(Ke,ut,Et){de(Ke,ut);const St=Ke.targetGeometry;return St.x=Et.x,St.y=Et.y,St.spatialReference=Et.spatialReference,Ke},te=function(){const Ke=(0,x.a)();return function(ut,Et,St,kt,zt){zt||(zt="center"),(0,T.h)(Ke,St,kt),(0,T.g)(Ke,Ke,.5);const qt=Ke[0],dn=Ke[1];switch(zt){case"center":(0,T.s)(Ke,0,0);break;case"left":(0,T.s)(Ke,-qt,0);break;case"top":(0,T.s)(Ke,0,dn);break;case"right":(0,T.s)(Ke,qt,0);break;case"bottom":(0,T.s)(Ke,0,-dn);break;case"top-left":(0,T.s)(Ke,-qt,dn);break;case"bottom-left":(0,T.s)(Ke,-qt,-dn);break;case"top-right":(0,T.s)(Ke,qt,dn);break;case"bottom-right":(0,T.s)(Ke,qt,-dn)}return vt(ut,Et,Ke),ut}}();function Ee(Ke,ut,Et){return de(Ke,ut),Ke.rotation+=Et,Ke}function je(Ke,ut,Et){return de(Ke,ut),Ke.rotation=Et,Ke}const Ye=function(){const Ke=(0,x.a)();return function(ut,Et,St,kt,zt){return de(ut,Et),isNaN(St)||0===St||(lt(Ke,kt,Et,zt),ut.scale=Et.scale*St,tt(Ke,Ke,ut,zt),vt(ut,ut,(0,T.s)(Ke,Ke[0]-kt[0],kt[1]-Ke[1]))),ut}}();function ht(Ke,ut,Et){return de(Ke,ut),Ke.scale=Et,Ke}const ot=function(){const Ke=(0,x.a)();return function(ut,Et,St,kt,zt,qt){return de(ut,Et),isNaN(St)||0===St||(lt(Ke,zt,Et,qt),ut.scale=Et.scale*St,ut.rotation+=kt,tt(Ke,Ke,ut,qt),vt(ut,ut,(0,T.s)(Ke,Ke[0]-zt[0],zt[1]-Ke[1]))),ut}}(),at=function(){const Ke=(0,x.a)(),ut=(0,x.a)();return function(Et,St,kt,zt,qt,dn,xn){return J(ut,dn,xn),(0,T.m)(Ke,qt,ut),zt?ot(Et,St,kt,zt,Ke,dn):Ye(Et,St,kt,Ke,dn)}}(),lt=function(){const Ke=(0,L.c)();return function(ut,Et,St,kt){return(0,T.t)(ut,Et,function ge(Ke,ut,Et,St){return ve(Ke,ut,Et,St),(0,z.i)(Ke,Ke)}(Ke,St,kt,1))}}(),tt=function(){const Ke=(0,L.c)();return function(ut,Et,St,kt){return(0,T.t)(ut,Et,ve(Ke,St,kt,1))}}(),vt=function(){const Ke=(0,x.a)(),ut=(0,L.c)();return function(Et,St,kt){de(Et,St);const zt=De(St),qt=Et.targetGeometry;return(0,z.b)(ut,Ie(St)),(0,z.s)(ut,ut,(0,x.f)(zt,zt)),(0,T.t)(Ke,kt,ut),qt.x+=Ke[0],qt.y+=Ke[1],Et}}()},59617:(Qe,Me,E)=>{"use strict";var M,B;function X(B){return B===M.Global?"global":"local"}E.d(Me,{JY:()=>M,M7:()=>X}),(B=M||(M={}))[B.Global=1]="Global",B[B.Local=2]="Local"},35216:(Qe,Me,E)=>{"use strict";E.d(Me,{a:()=>B});var M=E(63290);class O{constructor(L,T=[]){this.eventType=L,this.keyModifiers=T}matches(L){if(L.type!==this.eventType)return!1;if(0===this.keyModifiers.length)return!0;const T=L.modifiers;for(const x of this.keyModifiers)if(!T.has(x))return!1;return!0}}const X=M.Z.getLogger("esri.views.input.InputHandler");class B{constructor(L){this._manager=null,this._incoming={},this._outgoing={},this._incomingEventMatches=null,this._incomingEventTypes=null,this._outgoingEventTypes=null,this._hasSideEffects=L}get incomingEventMatches(){if(!this._incomingEventMatches){this._incomingEventMatches=[];for(const L in this._incoming){const T=this._incoming[L];for(const x of T)this._incomingEventMatches.push(x.match)}}return this._incomingEventMatches}get incomingEventTypes(){return this._incomingEventTypes||(this._incomingEventTypes=this.incomingEventMatches.map(L=>L.eventType)),this._incomingEventTypes}get outgoingEventTypes(){return this._outgoingEventTypes||(this._outgoingEventTypes=Object.keys(this._outgoing)),this._outgoingEventTypes}get hasSideEffects(){return this._hasSideEffects}get hasPendingInputs(){return!1}onInstall(L){this._manager?X.error("This InputHandler has already been registered with an InputManager"):(L.setEventCallback(T=>this._handleEvent(T)),L.setUninstallCallback(()=>this._onUninstall()),this._manager=L)}onUninstall(){}registerIncoming(L,T,x){let Z;"function"==typeof T?(x=T,Z=[]):Z=T||[];const Y="string"==typeof L?new O(L,Z):L,$=()=>{this._incomingEventTypes=null,this._incomingEventMatches=null},se=I=>{const w=this._incoming[I.match.eventType];if(w){const F=w.indexOf(I);w.splice(F,1),$(),this._manager&&this._manager.updateDependencies()}},ne=new N(Y,x,{onPause:se,onRemove:se,onResume:I=>{const w=this._incoming[I.match.eventType];w&&-1===w.indexOf(I)&&(w.push(I),$(),this._manager&&this._manager.updateDependencies())}});let j=this._incoming[Y.eventType];return j||(j=[],this._incoming[Y.eventType]=j),j.push(ne),$(),this._manager&&this._manager.updateDependencies(),ne}registerOutgoing(L){if(this._outgoing[L])throw Error("There is already a callback registered for this outgoing InputEvent: "+L);const T=new ee(L,{onEmit:(x,Z,Y,$)=>{this._manager.emit(x.eventType,Z,Y,$)},onRemove:x=>{delete this._outgoing[x.eventType],this._manager.updateDependencies()}});return this._outgoing[L]=T,this._outgoingEventTypes=null,this._manager&&this._manager.updateDependencies(),T}startCapturingPointer(L){this._manager.setPointerCapture(L,!0)}stopCapturingPointer(L){this._manager.setPointerCapture(L,!1)}refreshHasPendingInputs(){this._manager.refreshHasPendingInputs()}_onUninstall(){this._manager?(this.onUninstall(),this._manager=null):X.error("This InputHandler is not registered with an InputManager")}_handleEvent(L){const T=this._incoming[L.type];if(T)for(const x of T)if(x.match.matches(L)&&(x.callback(L),L.shouldStopPropagation()))break}}class N{constructor(L,T,x){this.match=L,this._callback=T,this._handler=x}pause(){this._handler.onPause(this)}resume(){this._handler.onResume(this)}remove(){this._handler.onRemove(this)}get callback(){return this._callback}}class ee{constructor(L,T){this.eventType=L,this._removed=!1,this._handler=T}emit(L,T,x){this._removed||this._handler.onEmit(this,L,T,x)}remove(){this._removed=!0,this._handler.onRemove(this)}}},58677:(Qe,Me,E)=>{"use strict";E.d(Me,{$:()=>se,f:()=>I});var M=E(17626),O=E(14517),X=E(63290),B=E(35133),N=E(77712),T=(E(85931),E(8314),E(90912),E(76898)),x=E(25441),Z=E(35216);class Y extends Z.a{constructor(F){super(!0),this._onChange=F,this._value="mouse",this.registerIncoming("pointer-down",k=>{this._setValue("touch"===k.data.native.pointerType?"touch":"mouse")}),this._moveHandler=this.registerIncoming("pointer-move",k=>{this._setValue("touch"===k.data.native.pointerType?"touch":"mouse")}),this._moveHandler.pause()}_setValue(F){F!==this._value&&("touch"===F?this._moveHandler.resume():this._moveHandler.pause(),this._value=F,this._onChange(F))}}const $=X.Z.getLogger("esri.views.input.InputManager");let se=class extends O.Z{constructor(w){super(w),this._pointerCaptures=new Map,this._nameToGroup={},this._handlers=[],this._currentPropagation=null,this._updateDependenciesAfterPropagation=!1,this._sourceEvents=new Set,this._keyModifiers=new Set,this._activeKeyModifiers=new Set,this._stoppedPropagationEventIds=new Set,this.primaryKey=x.CK,this.latestPointerType="mouse",this.test={timestamp:void 0,hasCurrentPropagation:()=>!!this._currentPropagation}}initialize(){this.eventSource.onEventReceived=this._onEventReceived.bind(this),this._installRecognizers()}destroy(){const w=Object.keys(this._nameToGroup);for(const F of w)this.uninstallHandlers(F);this.eventSource=null,this._currentPropagation=null}get hasPendingInputs(){return this._handlers.some(w=>w.handler.hasPendingInputs)}installHandlers(w,F,k=I.INTERNAL){if(this._nameToGroup[w])return void $.error("There is already an InputHandler group registered under the name `"+w+"`");if(0===F.length)return void $.error("Can't register a group of zero handlers");const W={name:w,handlers:F.map(re=>({handler:re,active:!0,removed:!1,priorityIndex:0,groupPriority:k,eventCallback:null,uninstallCallback:null}))};this._nameToGroup[w]=W;for(let re=W.handlers.length-1;re>=0;re--){const Q=W.handlers[re];this._handlers.push(Q),Q.handler.onInstall({updateDependencies:()=>{this.updateDependencies()},emit:(ue,he,fe,pe,oe)=>{this._emitInputEvent(Q.priorityIndex+1,ue,he,fe,oe,pe)},setPointerCapture:(ue,he)=>{this._setPointerCapture(W,Q,ue,he)},setEventCallback:ue=>{Q.eventCallback=ue},setUninstallCallback:ue=>{Q.uninstallCallback=ue},refreshHasPendingInputs:()=>{this.notifyChange("hasPendingInputs")}})}this.updateDependencies()}uninstallHandlers(w){const F=this._nameToGroup[w];F?(F.handlers.forEach(k=>{k.removed=!0,k.uninstallCallback()}),delete this._nameToGroup[w],this._currentPropagation?this._currentPropagation.needsHandlerGarbageCollect=!0:this._garbageCollectRemovedHandlers()):$.error("There is no InputHandler group registered under the name `"+w+"`")}hasHandlers(w){return void 0!==this._nameToGroup[w]}updateDependencies(){if(this._currentPropagation)return void(this._updateDependenciesAfterPropagation=!0);this._updateDependenciesAfterPropagation=!1;const w=new Set,F=new Set;this._handlersPriority=[];for(let k=this._handlers.length-1;k>=0;k--){const W=this._handlers[k];W.priorityIndex=k,this._handlersPriority.push(W)}this._handlersPriority=this._sortHandlersPriority(this._handlersPriority);for(let k=this._handlersPriority.length-1;k>=0;k--){const W=this._handlersPriority[k];W.priorityIndex=k;let re=W.handler.hasSideEffects;if(!re)for(const Q of W.handler.outgoingEventTypes)if(w.has(Q)){re=!0;break}if(re)for(const Q of W.handler.incomingEventMatches){w.add(Q.eventType);for(const ue of Q.keyModifiers)(0,x.wj)(ue)||F.add(ue)}W.active=re}this._sourceEvents=w,this._keyModifiers=F,this._pointerCaptures.size>0&&this._sourceEvents.add("pointer-capture-lost"),this._keyModifiers.size>0&&(this._sourceEvents.add("key-down"),this._sourceEvents.add("key-up")),this.eventSource&&(this.eventSource.activeEvents=this._sourceEvents)}_setLatestPointerType(w){this._set("latestPointerType",w)}_onEventReceived(w,F){"pointer-capture-lost"===w&&this._pointerCaptures.delete(F.native.pointerId),this._updateKeyModifiers(w,F),this._emitInputEventFromSource(w,F,null!=this.test.timestamp?this.test.timestamp:F.native?F.native.timestamp:void 0,F.native?F.native.cancelable:void 0)}_updateKeyModifiers(w,F){if(!F)return;let k=!1;const W=()=>{if(!k){const ue=new Set;this._activeKeyModifiers.forEach(he=>{ue.add(he)}),this._activeKeyModifiers=ue,k=!0}},re=(ue,he)=>{he&&!this._activeKeyModifiers.has(ue)?(W(),this._activeKeyModifiers.add(ue)):!he&&this._activeKeyModifiers.has(ue)&&(W(),this._activeKeyModifiers.delete(ue))};if("key-down"===w||"key-up"===w){const ue=F.key;this._keyModifiers.has(ue)&&re(ue,"key-down"===w)}const Q=F.native;re("Alt",!(!Q||!Q.altKey)),re("Ctrl",!(!Q||!Q.ctrlKey)),re("Shift",!(!Q||!Q.shiftKey)),re("Meta",!(!Q||!Q.metaKey)),re("Primary",this._activeKeyModifiers.has(this.primaryKey))}_installRecognizers(){this._latestPointerTypeHandler=new Y(w=>this._setLatestPointerType(w)),this.recognizers.length>0&&this.installHandlers("default",this.recognizers,I.INTERNAL),this.installHandlers("input-manager-logic",[this._latestPointerTypeHandler],I.INTERNAL)}_setPointerCapture(w,F,k,W){const re=w.name+"-"+F.priorityIndex,Q=this._pointerCaptures.get(k.pointerId)||new Set;this._pointerCaptures.set(k.pointerId,Q),W?(Q.add(re),1===Q.size&&this.eventSource&&this.eventSource.setPointerCapture(k,!0)):Q.has(re)&&(Q.delete(re),0===Q.size&&(this._pointerCaptures.delete(k.pointerId),this.eventSource&&this.eventSource.setPointerCapture(k,!1)))}_garbageCollectRemovedHandlers(){this._handlers=this._handlers.filter(w=>!w.removed),this.updateDependencies()}_emitInputEventFromSource(w,F,k,W){this._emitInputEvent(0,w,F,k,W)}_emitInputEvent(w,F,k,W,re,Q){const ue=void 0!==W?W:this._currentPropagation?this._currentPropagation.timestamp:performance.now(),fe={event:new ne(F,k,ue,Q||this._activeKeyModifiers,void 0!==re&&re),priorityIndex:w};this._currentPropagation?this._currentPropagation.events.push(fe):this._doNewPropagation(fe)}_doNewPropagation(w){this._currentPropagation={events:new B.Z,currentHandler:null,needsHandlerGarbageCollect:!1,timestamp:w.event.timestamp},this._currentPropagation.events.push(w),this._continuePropagation()}_continuePropagation(){const w=this._currentPropagation;if(w){for(;this._currentPropagation.events.length>0;){const{event:F,priorityIndex:k}=this._currentPropagation.events.pop(),W=F.data&&F.data.eventId;if(null==W||!this._stoppedPropagationEventIds.has(W))for(w.currentHandler=this._handlersPriority[k];w.currentHandler;){if(w.currentHandler.removed)w.needsHandlerGarbageCollect=!0;else{if(w.currentHandler.active&&!F.shouldStopPropagation()&&w.currentHandler.eventCallback(F),F.shouldStopPropagation()){null!=W&&this._stoppedPropagationEventIds.add(W);break}if(F.shouldPausePropagation(()=>this._continuePropagation()))return void this._pausePropagation({event:F,priorityIndex:w.currentHandler.priorityIndex+1})}w.currentHandler=this._handlersPriority[w.currentHandler.priorityIndex+1]}}w.needsHandlerGarbageCollect&&this._garbageCollectRemovedHandlers(),this.hasPendingInputs||this._stoppedPropagationEventIds.clear(),this._currentPropagation=null,this._updateDependenciesAfterPropagation&&this.updateDependencies()}}_pausePropagation(w){const F=new B.Z;for(F.push(w);this._currentPropagation.events.length;)F.push(this._currentPropagation.events.pop());this._currentPropagation.events=F,this._currentPropagation.currentHandler=null}_compareHandlerPriority(w,F){if(w.handler.hasSideEffects!==F.handler.hasSideEffects)return w.handler.hasSideEffects?1:-1;if(w.groupPriority!==F.groupPriority)return w.groupPriority>F.groupPriority?-1:1;for(const k of w.handler.incomingEventMatches)for(const W of F.handler.incomingEventMatches){if(k.eventType!==W.eventType)continue;const re=k.keyModifiers.filter(Q=>-1!==W.keyModifiers.indexOf(Q));if(re.length===k.keyModifiers.length!=(re.length===W.keyModifiers.length))return k.keyModifiers.length>W.keyModifiers.length?-1:1}return w.priorityIndex>F.priorityIndex?-1:1}_sortHandlersPriority(w){const F=[];for(const k of w){let W=0;for(;W<F.length&&this._compareHandlerPriority(k,F[W])>=0;)W++;F.splice(W,0,k)}return F}get debug(){const w=F=>{const k=this._setPointerCapture;this._setPointerCapture=()=>{},F(),this._setPointerCapture=k};return{injectEvent:(F,k)=>{w(()=>{this._onEventReceived(F,k)})},disablePointerCapture:w}}};(0,M._)([(0,N.Cb)({readOnly:!0})],se.prototype,"hasPendingInputs",null),(0,M._)([(0,N.Cb)()],se.prototype,"eventSource",void 0),(0,M._)([(0,N.Cb)()],se.prototype,"recognizers",void 0),(0,M._)([(0,N.Cb)({readOnly:!0})],se.prototype,"latestPointerType",void 0),se=(0,M._)([(0,T.j)("esri.views.input.InputManager")],se);class ne{constructor(F,k,W,re,Q){this.type=F,this.data=k,this.timestamp=W,this.modifiers=re,this.cancelable=Q,this._propagationState=j.NONE,this._resumeCallback=null}stopPropagation(){this._propagationState|=j.STOPPED}shouldStopPropagation(){return 0!=(this._propagationState&j.STOPPED)}async(F){this._propagationState|=j.PAUSED;const k=(W,re)=>{this._propagationState&=~j.PAUSED;const Q=this._resumeCallback;if(this._resumeCallback=null,Q&&Q(),re)throw W;return W};return("function"==typeof F?F():F).then(W=>k(W,!1),W=>k(W,!0))}shouldPausePropagation(F){return!!(this._propagationState&j.PAUSED)&&(this._resumeCallback=F,!0)}preventDefault(){this.data.native.preventDefault()}}var j,w;(w=j||(j={}))[w.NONE=0]="NONE",w[w.STOPPED=1]="STOPPED",w[w.PAUSED=2]="PAUSED";const I={DEFAULT:0,TOOL:-1,WIDGET:-2,INTERNAL:-3}},25441:(Qe,Me,E)=>{"use strict";E.d(Me,{CK:()=>X,kK:()=>N,wj:()=>ee});var M=E(17770);const X=(0,E(8314).Z)("mac")?"Meta":"Ctrl",B={8:"Backspace",9:"Tab",13:"Enter",27:"Escape",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete"};for(let z=48;z<58;z++)B[z]=String.fromCharCode(z);for(let z=1;z<25;z++)B[111+z]=`F${z}`;for(let z=65;z<91;z++)B[z]=[String.fromCharCode(z+32),String.fromCharCode(z)];function N(z){if(void 0!==z.key)return(0,M.kK)(z);const L=B[z.keyCode];return Array.isArray(L)?z.shiftKey?L[1]:L[0]:L}function ee(z){switch(z){case"Ctrl":case"Alt":case"Shift":case"Meta":case"Primary":return!0}return!1}},71251:(Qe,Me,E)=>{"use strict";E.d(Me,{e:()=>ee});var M=E(62208),O=E(10699),X=E(35133),B=E(50618);class N{constructor(L,T){this.item=L,this.controller=T,this.promise=null}}class ee{constructor(L){this._deferreds=new Map,this._controllers=new Map,this._processingItems=new Map,this._isPaused=!1,this._schedule=null,this._task=null,this.concurrency=1,L.concurrency&&(this.concurrency=L.concurrency),this._queue=new X.Z(L.peeker),this.process=L.process;const T=L.scheduler;L.priority&&(0,M.pC)(T)&&(this._task=T.registerTask(L.priority,this))}destroy(){this.clear(),this._schedule&&(this._schedule.remove(),this._schedule=null),this._task&&(this._task.remove(),this._task=null)}get length(){return this._processingItems.size+this._queue.length}abort(L){const T=this._controllers.get(L);T&&T.abort()}clear(){this._queue.clear();const L=[];this._controllers.forEach(T=>L.push(T)),this._controllers.clear(),L.forEach(T=>T.abort()),this._processingItems.clear(),this._cancelNext()}forEach(L){this._deferreds.forEach((T,x)=>L(x))}get(L){const T=this._deferreds.get(L);return T?T.promise:void 0}isOngoing(L){return this._processingItems.has(L)}has(L){return this._deferreds.has(L)}pause(){this._isPaused||(this._isPaused=!0,this._cancelNext())}push(L,T){const x=this.get(L);if(x)return x;const Z=new AbortController;let Y=null;T&&(Y=(0,O.fu)(T,()=>Z.abort()));const se=()=>{ne.remove(),(0,M.pC)(Y)&&Y.remove(),this._deferreds.delete(L),this._controllers.delete(L),this._queue.remove(L),this._processingItems.delete(L),this._scheduleNext()},ne=(0,O.$F)(Z.signal,()=>{const I=this._processingItems.get(L);I&&I.controller.abort(),se(),j.reject((0,O.zE)())}),j=(0,O.dD)();return this._deferreds.set(L,j),this._controllers.set(L,Z),j.promise.then(se,se),this._queue.push(L),this._scheduleNext(),j.promise}last(){return this._queue.last()}peek(){return this._queue.peek()}popLast(){return this._queue.popLast()}reset(){const L=[];this._processingItems.forEach(T=>L.push(T)),this._processingItems.clear();for(const T of L)this._queue.push(T.item),T.controller.abort();this._scheduleNext()}resume(){this._isPaused&&(this._isPaused=!1,this._scheduleNext())}takeAll(){const L=[];for(;this._queue.length;)L.push(this._queue.pop());return this.clear(),L}get running(){return!this._isPaused&&this._queue.length>0&&this._processingItems.size<this.concurrency}runTask(L){for(;!L.done&&this._queue.length>0&&this._processingItems.size<this.concurrency;)this._process(this._queue.pop()),L.madeProgress()}_scheduleNext(){this._task||this._isPaused||this._schedule||(this._schedule=(0,B.Os)(()=>{this._schedule=null,this._next()}))}_next(){for(;this._queue.length>0&&this._processingItems.size<this.concurrency;)this._process(this._queue.pop())}_cancelNext(){this._schedule&&(this._schedule.remove(),this._schedule=null)}_processResult(L,T){this._canProcessFulfillment(L)&&(this._scheduleNext(),this._deferreds.get(L.item).resolve(T))}_processError(L,T){this._canProcessFulfillment(L)&&(this._scheduleNext(),this._deferreds.get(L.item).reject(T))}_canProcessFulfillment(L){return!!this._deferreds.get(L.item)&&this._processingItems.get(L.item)===L}_process(L){if((0,M.Wi)(L))return;let T;const x=new AbortController,Z=new N(L,x);this._processingItems.set(L,Z);try{T=this.process(L,x.signal)}catch(Y){this._processError(Z,Y)}(0,O.y8)(T)?(Z.promise=T,T.then(Y=>this._processResult(Z,Y),Y=>this._processError(Z,Y))):this._processResult(Z,T)}get test(){return{update:L=>this.runTask(L)}}}},74447:(Qe,Me,E)=>{"use strict";E.d(Me,{sq:()=>De,T8:()=>re,G5:()=>J});var M=E(17626),O=E(14517),X=E(72392),B=E(63290),N=E(62208),ee=E(73362),z=E(77029),L=E(10699),T=E(32917),x=E(27422),Z=E(77712),ne=(E(85931),E(8314),E(90912),E(76898));let j=class extends O.Z{constructor(){super(...arguments),this._tasks=new Array,this.running=!1}get length(){return this._tasks.length}destroy(){this.cancelAll()}runTask(Ie){for(;!Ie.done&&this._process(Ie);)Ie.madeProgress()}push(Ie,xe,ke){return this.running=!0,new Promise((Ve,ve)=>this._tasks.push(new I(Ve,ve,Ie,xe,ke)))}unshift(Ie,xe,ke){return this.running=!0,new Promise((Ve,ve)=>this._tasks.unshift(new I(Ve,ve,Ie,xe,ke)))}_process(Ie){if(0===this._tasks.length)return!1;const xe=this._tasks.shift();try{const ke=(0,L.Hc)(xe.signal);if(ke&&!xe.abortCallback)xe.reject((0,L.zE)());else{const Ve=ke?xe.abortCallback((0,L.zE)()):xe.callback(Ie);(0,L.y8)(Ve)?Ve.then(xe.resolve,xe.reject):xe.resolve(Ve)}}catch(ke){xe.reject(ke)}return this.running=this._tasks.length>0,!0}cancelAll(){const Ie=(0,L.zE)();for(const xe of this._tasks)if(xe.abortCallback){const ke=xe.abortCallback(Ie);xe.resolve(ke)}else xe.reject(Ie);this._tasks.length=0,this.running=!1}};(0,M._)([(0,Z.Cb)()],j.prototype,"running",void 0),j=(0,M._)([(0,ne.j)("esri.layers.support.PromiseQueue")],j);class I{constructor(xe,ke,Ve,ve,we){this.resolve=xe,this.reject=ke,this.callback=Ve,this.signal=ve,this.abortCallback=we}}let w=class extends O.Z{constructor(){super(...arguments),this.SCHEDULER_LOG_SLOW_TASKS=!1,this.FEATURE_SERVICE_SNAPPING_SOURCE_TILE_TREE_SHOW_TILES=!1}};(0,M._)([(0,Z.Cb)()],w.prototype,"SCHEDULER_LOG_SLOW_TASKS",void 0),(0,M._)([(0,Z.Cb)()],w.prototype,"FEATURE_SERVICE_SNAPPING_SOURCE_TILE_TREE_SHOW_TILES",void 0),w=(0,M._)([(0,ne.j)("esri.views.support.DebugFlags")],w);const F=new w,k=B.Z.getLogger("esri.views.support.Scheduler");var re,Ie;(Ie=re||(re={})).RESOURCE_CONTROLLER="schedule",Ie.SLIDE="slide",Ie.STREAM_DATA_LOADER="stream loader",Ie.ELEVATION_QUERY="elevation query",Ie.TERRAIN_SURFACE="terrain",Ie.SURFACE_GEOMETRY_UPDATES="surface geometry updates",Ie.GRAPHICS_CORE="Graphics3D",Ie.I3S_CONTROLLER="I3S",Ie.POINT_CLOUD_LAYER="point cloud",Ie.FEATURE_TILE_FETCHER="feature fetcher",Ie.OVERLAY="overlay",Ie.STAGE="stage",Ie.GRAPHICS_DECONFLICTOR="graphics deconflictor",Ie.FILTER_VISIBILITY="Graphics3D filter visibility",Ie.SCALE_VISIBILITY="Graphics3D scale visibility",Ie.FRUSTUM_VISIBILITY="Graphics3D frustum visibility",Ie.POINT_OF_INTEREST_FREQUENT="POI frequent",Ie.POINT_OF_INTEREST_INFREQUENT="POI infrequent",Ie.LABELER="labeler",Ie.FEATURE_QUERY_ENGINE="feature query",Ie.FEATURE_TILE_TREE="feature tile tree",Ie.FEATURE_TILE_TREE_ACTIVE="fast feature tile tree",Ie.ELEVATION_ALIGNMENT="elevation alignment",Ie.TEXT_TEXTURE_ATLAS="text texture atlas",Ie.TEXTURE_UNLOAD="texture unload",Ie.LINE_OF_SIGHT_TOOL="line of sight tool",Ie.LINE_OF_SIGHT_TOOL_INTERACTIVE="interactive line of sight tool",Ie.ELEVATION_PROFILE="elevation profile",Ie.SNAPPING="snapping",Ie.SHADOW_ACCUMULATOR="shadow accumulator",Ie.CLOUDS_GENERATOR="cloud generator",Ie[Ie.TEST_PRIO=1]="TEST_PRIO";const ue=new Map([[re.RESOURCE_CONTROLLER,0],[re.SLIDE,0],[re.STREAM_DATA_LOADER,0],[re.ELEVATION_QUERY,0],[re.TERRAIN_SURFACE,1],[re.SURFACE_GEOMETRY_UPDATES,1],[re.GRAPHICS_CORE,2],[re.I3S_CONTROLLER,2],[re.POINT_CLOUD_LAYER,2],[re.FEATURE_TILE_FETCHER,2],[re.OVERLAY,4],[re.STAGE,4],[re.GRAPHICS_DECONFLICTOR,4],[re.FILTER_VISIBILITY,4],[re.SCALE_VISIBILITY,4],[re.FRUSTUM_VISIBILITY,4],[re.POINT_OF_INTEREST_FREQUENT,6],[re.POINT_OF_INTEREST_INFREQUENT,30],[re.LABELER,8],[re.FEATURE_QUERY_ENGINE,8],[re.FEATURE_TILE_TREE,16],[re.FEATURE_TILE_TREE_ACTIVE,0],[re.ELEVATION_ALIGNMENT,12],[re.TEXT_TEXTURE_ATLAS,12],[re.CLOUDS_GENERATOR,12],[re.TEXTURE_UNLOAD,12],[re.LINE_OF_SIGHT_TOOL,16],[re.LINE_OF_SIGHT_TOOL_INTERACTIVE,0],[re.SNAPPING,0],[re.SHADOW_ACCUMULATOR,30]]);function he(Ie){return ue.has(Ie)?ue.get(Ie):"number"==typeof Ie?Ie:1}var fe;!function(Ie){Ie[Ie.ANIMATING=0]="ANIMATING",Ie[Ie.INTERACTING=1]="INTERACTING",Ie[Ie.IDLE=2]="IDLE"}(fe||(fe={}));const pe=(0,x.HA)(6.5),oe=(0,x.HA)(1),K=(0,x.HA)(30),de=(0,x.HA)(1e3/30),le=(0,x.HA)(100);var ce,ge;(function(Ie){let xe=class extends O.Z{constructor(ve){super(ve),this.updating=!0,this._microTaskQueued=!1,this.performanceInfo={total:new ee.Z("total"),tasks:new Map},this._frameTaskTimes=new Map,this._budget=null,this._state=fe.INTERACTING,this._tasks=new z.Z,this._runQueue=new z.Z,this._load=0,this._idleStateCallbacks=new z.Z,this._idleUpdatesStartFired=!1,this._maxReschedule=_e,this._forceTask=!1,this._debug=!1,this._debugHandle=(0,T.YP)(()=>F.SCHEDULER_LOG_SLOW_TASKS,nt=>this._debug=nt,T.nn),this._budget=new Ve(ve.nowFunc);for(const nt of Object.keys(re))this.performanceInfo.tasks.set(re[nt],new ee.Z(re[nt]));let we;const We=this;this._test={get state(){return(0,N.Pt)(we,We._state)},set state(nt){we=nt},FRAME_SAFETY_BUDGET:pe,INTERACTING_BUDGET:de,IDLE_BUDGET:le,get budget(){return We._budget.budget},usedBudget:0,setBudget:nt=>We._budget=nt,updateTask:nt=>this._updateTask(nt),getState:nt=>this._getState(nt),getRuntime:nt=>this._getRuntime(nt),frameTaskTimes:this._frameTaskTimes,resetRuntimes:()=>this._resetRuntimes(),getRunning:()=>this._getRunning()}}destroy(){this._tasks.toArray().forEach(ve=>ve.remove()),this._tasks.clear(),(0,N.hw)(this._debugHandle),this._microTaskQueued=!1,this.updating=!1}activate(){this._budget.done||this._microTaskQueued||(this._microTaskQueued=!0,queueMicrotask(()=>{this._microTaskQueued&&(this._microTaskQueued=!1,this._budget.done||(this._maxReschedule=_e,this._schedule(),this.frame()))}))}registerTask(ve,we){const We=he(ve),nt=new ke(this,ve,we,We);return this._tasks.push(nt),this.performanceInfo.tasks.has(ve)||this.performanceInfo.tasks.set(ve,new ee.Z(ve)),nt}registerIdleStateCallbacks(ve,we){const We={idleBegin:ve,idleEnd:we};this._idleStateCallbacks.push(We),this.state===fe.IDLE&&this._idleUpdatesStartFired&&We.idleBegin();const nt=this;return{remove:()=>this._removeIdleStateCallbacks(We),set idleBegin(Te){nt._idleUpdatesStartFired&&(We.idleEnd(),nt._state===fe.IDLE&&Te()),We.idleBegin=Te},set idleEnd(Te){We.idleEnd=Te}}}get now(){return this.nowFunc()}get load(){return this._load}set state(ve){this._state!==ve&&(this._state=ve,this.state!==fe.IDLE&&this._idleUpdatesStartFired&&(this._idleUpdatesStartFired=!1,this._idleStateCallbacks.forAll(we=>we.idleEnd())))}get state(){return(0,N.Wi)(this._test.state)?this._state:this._test.state}updateBudget(ve){this._test.usedBudget=0;let we=pe,We=ve.frameDuration,nt=oe;switch(this.state){case fe.IDLE:we=(0,x.HA)(0),We=(0,x.HA)(Math.max(le,ve.frameDuration)),nt=K;break;case fe.INTERACTING:We=(0,x.HA)(Math.max(de,ve.frameDuration))}return We=(0,x.HA)(We-ve.elapsedFrameTime-we),this.state!==fe.IDLE&&We<oe&&!this._forceTask?(this._forceTask=!0,!1):(We=(0,x.HA)(Math.max(We,nt)),this._budget.reset(We,this.state),this._maxReschedule=_e,this._updateLoad(),this._schedule())}frame(){switch(this._forceTask=!1,this._microTaskQueued=!1,this.state){case fe.IDLE:this._idleUpdatesStartFired||(this._idleUpdatesStartFired=!0,this._idleStateCallbacks.forAll(ve=>ve.idleBegin())),this._runIdle();break;case fe.INTERACTING:this._runInteracting();break;default:this._runAnimating()}this._test.usedBudget=this._budget.elapsed}stopFrame(){this._budget.reset((0,x.HA)(0),this._state),this._budget.madeProgress()}_removeIdleStateCallbacks(ve){this._idleUpdatesStartFired&&ve.idleEnd(),this._idleStateCallbacks.removeUnordered(ve)}removeTask(ve){this._tasks.removeUnordered(ve),this._runQueue.removeUnordered(ve)}_updateTask(ve){this._tasks.forAll(we=>{we.name===ve&&we.setPriority(ve)})}_getState(ve){if(this._runQueue.some(We=>We.name===ve))return ge.SCHEDULED;let we=ge.IDLE;return this._tasks.forAll(We=>{We.name===ve&&We.needsUpdate&&(We.schedulePriority<=1?we=ge.READY:we!==ge.READY&&(we=ge.WAITING))}),we}_getRuntime(ve){let we=0;return this._tasks.forAll(We=>{We.name===ve&&(we+=We.runtime)}),we}_resetRuntimes(){this._tasks.forAll(ve=>ve.runtime=0)}_getRunning(){const ve=new Map;if(this._tasks.forAll(We=>{We.needsUpdate&&ve.set(We.name,(ve.get(We.name)||0)+1)}),0===ve.size)return null;let we="";return ve.forEach((We,nt)=>{we+=We>1?` ${We}x ${nt}`:` ${nt}`}),we}_runIdle(){this._run()}_runInteracting(){this._run()}_runAnimating(){this._run()}_updateLoad(){const ve=this._tasks.reduce((we,We)=>We.needsUpdate?++we:we,0);this._load=.9*this._load+ve*(1-.9)}_schedule(){if(this._maxReschedule<=0)return!1;for(this._runQueue.filterInPlace(ve=>!!ve.needsUpdate||(ve.schedulePriority=ve.basePriority,!1)),this._tasks.forAll(ve=>{0===ve.basePriority&&ve.needsUpdate&&!this._runQueue.some(we=>we===ve)&&this._runQueue.unshift(ve)});0===this._runQueue.length;){let ve=!1,we=0;if(this._tasks.forAll(We=>{We.needsUpdate&&0!==We.schedulePriority&&0!==We.basePriority&&(ve=!0,we=Math.max(we,We.basePriority),1===We.schedulePriority?(We.schedulePriority=0,this._runQueue.push(We)):--We.schedulePriority)}),!ve)return this.updating=!1,!1;this._maxReschedule===_e&&(this._maxReschedule=we),--this._maxReschedule}return this.updating=!0,!0}_run(){const ve=this._budget.now();this._startFrameTaskTimes();do{for(;this._runQueue.length>0;){const we=this._budget.now(),We=this._runQueue.pop();this._budget.resetProgress();try{We.task.runTask(this._budget)}catch(Te){k.error(`Exception in task "${We.name}"`,Te)}We.schedulePriority=We.basePriority;const nt=this._budget.now()-we;if(We.runtime+=nt,this._frameTaskTimes.set(We.priority,this._frameTaskTimes.get(We.priority)+nt),this._debug&&this._budget.elapsed>2*this._budget.budget&&console.log("Task",We.name,"used",this._budget.elapsed,"of max",this._budget.budget,"ms"),this._budget.remaining<=0)return this.updating=this._tasks.some(Te=>Te.needsUpdate),void this._recordFrameTaskTimes(this._budget.now()-ve)}}while(this._schedule());this.updating=this._tasks.some(we=>we.needsUpdate),this._recordFrameTaskTimes(this._budget.now()-ve)}_startFrameTaskTimes(){for(const ve of Object.keys(re))this._frameTaskTimes.set(re[ve],0)}_recordFrameTaskTimes(ve){this._frameTaskTimes.forEach((we,We)=>this.performanceInfo.tasks.get(We).record(we)),this.performanceInfo.total.record(ve)}get test(){return this._test}};(0,M._)([(0,Z.Cb)()],xe.prototype,"updating",void 0),(0,M._)([(0,Z.Cb)()],xe.prototype,"nowFunc",void 0),xe=(0,M._)([(0,ne.j)("esri.views.support.Scheduler")],xe),Ie.Scheduler=xe;let ke=class extends O.Z{constructor(ve,we,We,nt){super({}),this._scheduler=ve,this.name=we,this._basePriority=nt,this.runtime=0,this._queue=new j,this._handles=new X.Z,this.schedulePriority=this._basePriority,this.task=(0,N.pC)(We)?We:this._queue,this._handles.add((0,T.gx)(()=>this.task.running,()=>ve.activate()))}get updating(){return this._queue.running}normalizeCtorArgs(){return{}}remove(){this.processQueue(J),this._scheduler.removeTask(this),this.schedule=De.schedule,this.reschedule=De.reschedule,this._handles.destroy()}get basePriority(){return this._basePriority}setPriority(ve){this.name=ve;const we=he(ve);0!==this._basePriority&&0===this.schedulePriority||(this.schedulePriority=we),this._basePriority=we}get priority(){return this.name}set priority(ve){this.setPriority(ve)}get needsUpdate(){return this.updating||this.task.running}schedule(ve,we,We){return this._queue.push(ve,we,We)}reschedule(ve,we,We){return this._queue.unshift(ve,we,We)}processQueue(ve){this._queue.runTask(ve)}};(0,M._)([(0,Z.Cb)({constructOnly:!0})],ke.prototype,"task",void 0),(0,M._)([(0,Z.Cb)({readOnly:!0})],ke.prototype,"updating",null),ke=(0,M._)([(0,ne.j)("esri.views.support.SchedulerTask")],ke);class Ve{constructor(we){this.now=we,this._begin=0,this._budget=0,this._state=fe.IDLE,this._didWork=!1,this._enabled=!0}run(we){return!this.done&&(!0===we()&&(this._didWork=!0),!0)}get done(){return this._didWork&&this.elapsed>=this._budget&&this._enabled}get budget(){return this._budget}madeProgress(){this._didWork=!0}get state(){return this._state}get enabled(){return this._enabled}set enabled(we){this._enabled=we}reset(we,We){this._begin=this.now(),this._budget=we,this._state=We,this._didWork=!1}get remaining(){return Math.max(this._budget-this.elapsed,0)}get elapsed(){return this.now()-this._begin}resetProgress(){this._didWork=!1}get hasProgressed(){return this._didWork}}Ie.Budget=Ve})(ce||(ce={})),function(Ie){Ie.SCHEDULED="s",Ie.READY="r",Ie.WAITING="w",Ie.IDLE="i"}(ge||(ge={}));const J=(()=>{const Ie=new ce.Budget(()=>performance.now());return Ie.enabled=!1,Ie})(),De=new class ie{remove(){}processQueue(){}schedule(xe,ke,Ve){try{if((0,L.Hc)(ke)){const ve=(0,L.zE)();return Ve?Promise.resolve(Ve(ve)):Promise.reject(ve)}return(0,L.gx)(xe(J))}catch(ve){return Promise.reject(ve)}}reschedule(xe,ke,Ve){return this.schedule(xe,ke,Ve)}},_e=Number.MAX_SAFE_INTEGER},70257:(Qe,Me,E)=>{"use strict";E.d(Me,{t:()=>T});var M=E(17626),O=E(14517),X=E(72392),B=E(62208),N=E(32917),ee=E(50618),z=E(77712),L=E(76898);let T=class extends O.Z{constructor(){super(...arguments),this.updating=!1,this.handleId=0,this.handles=new X.Z,this.scheduleHandleId=0,this.pendingPromises=new Set}destroy(){this.removeAll(),this.handles.destroy()}add(Y,$,se={}){return this._installWatch(Y,$,se,N.YP)}addWhen(Y,$,se={}){return this._installWatch(Y,$,se,N.gx)}addOnCollectionChange(Y,$,{initial:se=!1}={}){const ne=++this.handleId;return this.handles.add([(0,N.on)(Y,"after-changes",this._createSyncUpdatingCallback(),N.Z_),(0,N.on)(Y,"change",$,{onListenerAdd:se?j=>$({added:j.toArray(),removed:[]}):void 0})],ne),{remove:()=>this.handles.remove(ne)}}addPromise(Y){if((0,B.Wi)(Y))return Y;const $=++this.handleId;this.handles.add({remove:()=>{this.pendingPromises.delete(Y)&&(0!==this.pendingPromises.size||this.handles.has(x)||this._set("updating",!1))}},$),this.pendingPromises.add(Y),this._set("updating",!0);const se=()=>this.handles.remove($);return Y.then(se,se),Y}removeAll(){this.pendingPromises.clear(),this.handles.removeAll(),this._set("updating",!1)}_installWatch(Y,$,se={},ne){const j=++this.handleId;se.sync||this._installSyncUpdatingWatch(Y,j);const I=ne(Y,$,se);return this.handles.add(I,j),{remove:()=>this.handles.remove(j)}}_installSyncUpdatingWatch(Y,$){const se=this._createSyncUpdatingCallback(),ne=(0,N.YP)(Y,se,{sync:!0,equals:()=>!1});return this.handles.add(ne,$),ne}_createSyncUpdatingCallback(){return()=>{this.handles.remove(x),++this.scheduleHandleId;const Y=this.scheduleHandleId;this._get("updating")||this._set("updating",!0),this.handles.add((0,ee.Os)(()=>{Y===this.scheduleHandleId&&(this._set("updating",this.pendingPromises.size>0),this.handles.remove(x))}),x)}}};(0,M._)([(0,z.Cb)({readOnly:!0})],T.prototype,"updating",void 0),T=(0,M._)([(0,L.j)("esri.views.support.WatchUpdatingTracking")],T);const x=-42;var Z,Y;(Y=Z||(Z={}))[Y.NONE=0]="NONE",Y[Y.SYNC=1]="SYNC",Y[Y.INIT=2]="INIT"},18605:(Qe,Me,E)=>{"use strict";E.d(Me,{Jl:()=>$,LI:()=>x,RZ:()=>Z,TT:()=>se,gH:()=>L,r7:()=>Y}),E(8314);var O=E(21286);function L(ce,ge,J,ie){ie.premultipliedAlpha&&function pe(ce){const ge=ce.data,J=ge.length;for(let ie=0;ie<J;ie+=4){const De=ge[ie+3];if(De>0){const _e=De/255;ge[ie+0]=ge[ie+0]/_e,ge[ie+1]=ge[ie+1]/_e,ge[ie+2]=ge[ie+2]/_e}}}(ce),J.width=ce.width,J.height=ce.height;const De=J.getContext("2d");De.putImageData(ce,0,0),ie.flipY&&function fe(ce){ce.save(),ce.globalCompositeOperation="copy",ce.scale(1,-1),ce.translate(0,-ce.canvas.height),ce.drawImage(ce.canvas,0,0),ce.restore()}(De);const _e=De.getImageData(0,0,ce.width,ce.height),Ie=function T(ce,ge){return ce.toDataURL(oe[ge.format],ge.quality/100)}(J,ge);return J.width=0,J.height=0,{dataUrl:Ie,data:_e}}function x(ce,ge){const J=function he(ce){switch(ce){case"png":case"jpg":case"jpeg":return ce;default:return de}}(ce);return{format:J,quality:(0,O.uZ)(null!=ge?ge:le[J],0,100)}}function Z(ce,ge){return ge/Math.max(ce[0],ce[1])}function Y(ce,ge,J){if(!ce||!ge)throw new Error("Cannot construct image data without dimensions");if(w)try{return new ImageData(ce,ge)}catch(ie){w=!1}return j(ce,ge,J)}function $(ce,ge,J,ie){if(!ge||!J)throw new Error("Cannot construct image data without dimensions");if(w)try{return new ImageData(ce,ge,J)}catch(_e){w=!1}const De=j(ge,J,ie);return De.data.set(ce,0),De}function se(ce,ge,J,ie=0,De=0,_e=ce.width-ie,Ie=ce.height-De,xe=!1){const{data:ke}=ce,{width:Ve,height:ve,data:we}=ge,We=_e/Ve,nt=Ie/ve,Te=Math.ceil(We/2),Ze=Math.ceil(nt/2),He=ce.width;for(let te=0;te<ve;te++)for(let Ee=0;Ee<Ve;Ee++){const je=4*(Ee+(xe?ve-te-1:te)*Ve);let Ye=0,ht=0,ot=0,at=0,lt=0,tt=0;const vt=(te+.5)*nt;for(let Ke=Math.floor(te*nt);Ke<(te+1)*nt;Ke++){const ut=Math.abs(vt-(Ke+.5))/Ze,Et=(Ee+.5)*We,St=ut*ut;for(let kt=Math.floor(Ee*We);kt<(Ee+1)*We;kt++){const zt=Math.abs(Et-(kt+.5))/Te,qt=Math.sqrt(St+zt*zt);if(qt>=1)continue;let dn=2*qt*qt*qt-3*qt*qt+1;const xn=4*(ie+kt+(De+Ke)*He);tt+=dn*ke[xn+3],ht+=dn,!J&&ke[xn+3]<255&&(dn=dn*ke[xn+3]/255),ot+=dn*ke[xn],at+=dn*ke[xn+1],lt+=dn*ke[xn+2],Ye+=dn}}we[je]=ot/Ye,we[je+1]=at/Ye,we[je+2]=lt/Ye,we[je+3]=tt/ht}return ge}function j(ce,ge,J){return J||(J=function F(){return I||(I=document.createElement("canvas"),I.width=1,I.height=1),I}()),J.getContext("2d").createImageData(ce,ge)}let I=null,w=!0;const oe={png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg"},de="png",le={png:100,jpg:98,jpeg:98}},31637:(Qe,Me,E)=>{"use strict";E.d(Me,{Y:()=>ee,hc:()=>N});var M=E(62208),O=E(57596);let X,B;function N(se){switch(se){case O.zO.WEBGL1:return ee();case O.zO.WEBGL2:return function z(){return B||(B=function $(){const se=new x,ne=Z(O.zO.WEBGL2,se);return(0,M.Wi)(ne),se}()),B}()}}function ee(){return X||(X=function Y(){const se=new T,ne=Z(O.zO.WEBGL1,se);return(0,M.Wi)(ne)||(se.supportsElementIndexUint=null!==ne.getExtension("OES_element_index_uint"),se.supportsStandardDerivatives=null!==ne.getExtension("OES_standard_derivatives"),se.supportsInstancedArrays=null!==ne.getExtension("ANGLE_instanced_arrays"),se.supportsTextureFloat=null!==ne.getExtension("OES_texture_float")),se}()),X}class L{constructor(){this.available=!1,this.majorPerformanceCaveat=!1,this.maxTextureSize=0,this.supportsVertexShaderSamplers=!1,this.supportsHighPrecisionFragment=!1}}class T extends L{constructor(){super(...arguments),this.type=O.zO.WEBGL1,this.supportsElementIndexUint=!1,this.supportsStandardDerivatives=!1,this.supportsInstancedArrays=!1,this.supportsTextureFloat=!1}}class x extends L{constructor(){super(...arguments),this.type=O.zO.WEBGL2}}function Z(se,ne){if(se===O.zO.WEBGL1&&void 0===typeof WebGLRenderingContext||se===O.zO.WEBGL2&&void 0===typeof WebGL2RenderingContext)return null;const j=document.createElement("canvas");if(!j)return null;let I=(0,O.kr)(j,se,{failIfMajorPerformanceCaveat:!0});if((0,M.Wi)(I)&&(I=(0,O.kr)(j,se),(0,M.pC)(I)&&(ne.majorPerformanceCaveat=!0)),(0,M.Wi)(I))return I;if(se===O.zO.WEBGL1){const F=I.getParameter(I.VERSION),k=null==F?void 0:F.match(/^WebGL\s+([\d.]*)/);if(k){const W=parseFloat(k[1]);ne.available=W>=.94}}else ne.available=!0;ne.maxTextureSize=I.getParameter(I.MAX_TEXTURE_SIZE),ne.supportsVertexShaderSamplers=I.getParameter(I.MAX_VERTEX_TEXTURE_IMAGE_UNITS)>0;const w=I.getShaderPrecisionFormat(I.FRAGMENT_SHADER,I.HIGH_FLOAT);return w&&(ne.supportsHighPrecisionFragment=w.precision>0),I}},57596:(Qe,Me,E)=>{"use strict";E.d(Me,{Sh:()=>N,kr:()=>z,sj:()=>B,zO:()=>X});var X,Z,M=E(8314),O=E(62208);function B(Z,Y,$={}){const se=N(Z);for(;se.length>1;){const ne=z(Y,se.shift(),$);if((0,O.pC)(ne))return ne}return function ee(Z,Y,$={}){if(!window.WebGLRenderingContext)return L(Z,T),null;const se=z(Z,Y,$);return(0,O.Wi)(se)&&L(Z,x),se}(Y,se.shift(),$)}function N(Z){const Y=(0,M.Z)("esri-force-webgl");if(Y===X.WEBGL1||Y===X.WEBGL2)return[Y];switch(Z){case"2d":return[X.WEBGL1];case"3d":return[X.WEBGL2,X.WEBGL1]}}function z(Z,Y,$={}){const se=Y===X.WEBGL1?["webgl","experimental-webgl","webkit-3d","moz-webgl"]:["webgl2"];let ne=null;for(const j of se){try{ne=Z.getContext(j,$)}catch(I){}if(ne)break}return ne}function L(Z,Y){const $=Z.parentNode;$&&($.innerHTML='<table style="background-color: #8CE; width: 100%; height: 100%;"><tr><td align="center"><div style="display: table-cell; vertical-align: middle;"><div style="">'+Y+"</div></div></td></tr></table>")}(Z=X||(X={}))[Z.WEBGL1=1]="WEBGL1",Z[Z.WEBGL2=2]="WEBGL2";const T='This page requires a browser that supports WebGL.<br/><a href="http://get.webgl.org">Click here to upgrade your browser.</a>',x='It doesn\'t appear your computer can support WebGL.<br/><a href="http://get.webgl.org/troubleshooting/">Click here for more information.</a>'},92236:(Qe,Me,E)=>{"use strict";E.d(Me,{a:()=>O,b:()=>X});var M=E(90912);function O(B){const N=(0,M.vU)(100*(1-B));return Math.max(0,Math.min(N,100))}function X(B){return Math.max(0,Math.min(1-B/100,1))}},32584:(Qe,Me,E)=>{"use strict";E.d(Me,{Nw:()=>j});var M=E(26584),O=E(58817),X=E(62208),B=E(94113),N=E(23025);const ee=new Set(["bing-maps","imagery","imagery-tile","map-image","open-street-map","tile","unknown","unsupported","vector-tile","web-tile","wms","wmts"]),z=new Set(["csv","feature","geo-rss","geojson","group","imagery","imagery-tile","kml","map-image","map-notes","ogc-feature","route","tile","unknown","unsupported","vector-tile","web-tile","wfs","wms","wmts"]);function Z(I){return!("feature"!==I.type||I.url||!I.source||"memory"!==I.source.type)}function se(I,w){"maxScale"in I&&(w.maxScale=(0,N.k)(I.maxScale)),"minScale"in I&&(w.minScale=(0,N.k)(I.minScale))}function j(I,w,F){if(!("write"in I)||!I.write)return F&&F.messages&&F.messages.push(new M.Z("layer:unsupported",`Layers (${I.title}, ${I.id}) of type '${I.declaredClass}' cannot be persisted`,{layer:I})),null;if(function Y(I,w){if(w.restrictedWebMapWriting){const F=function x(I){return"basemap"===I.layerContainerType?ee:"operational-layers"===I.layerContainerType?z:null}(w);return!(0,X.pC)(F)||F.has(I.type)&&!Z(I)}return!0}(I,F)){const k={};return I.write(k,F)?k:null}return(0,X.pC)(w)&&function ne(I,w){if(function $(I,w){if(Z(I)){const F=(0,B.hS)("featureCollection.layers",w),k=F&&F[0]&&F[0].layerDefinition;k&&se(I,k)}else"stream"===I.type?se(I,w.layerDefinition=w.layerDefinition||{}):"group"!==I.type&&se(I,w)}(I,w),"blendMode"in I&&(w.blendMode=I.blendMode,"normal"===w.blendMode&&delete w.blendMode),w.opacity=(0,N.k)(I.opacity),w.title=I.title||"Layer",w.visibility=I.visible,"legendEnabled"in I&&"wmts"!==I.type)if(Z(I)){const F=w.featureCollection;F&&(F.showLegend=I.legendEnabled)}else w.showLegend=I.legendEnabled}(I,w=(0,O.d9)(w)),w}},6785:(Qe,Me,E)=>{"use strict";E.d(Me,{Z:()=>He});var M=E(15861),O=E(17626),B=(E(52515),E(55538)),N=E(40764),ee=E(61885),z=E(72392),T=(E(8314),E(58817)),x=E(63290),Z=E(62208),Y=E(60330),$=E(10699),se=E(32917),ne=E(35948),j=E(77712),I=E(66656),w=E(76898),F=E(36082),k=E(819),W=E(39605);E(62996);const Q={handleInterceptedEvent:(te,Ee,je,Ye)=>(te.scheduleRender(),Ee.properties[`on${Ye.type}`].apply(Ee.properties.bind||je,[Ye]))},ue={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(te,Ee,je)=>{te.style[Ee]=je}},oe=(te,Ee,je=!1)=>{let Ye=te;return Ee.forEach((ht,ot)=>{var at;const lt=null!=(at=Ye)&&at.children?((te,Ee)=>te.find(tt=>tt.domNode===ht))(Ye.children):void 0;je&&!lt&&ot!==Ee.length-1||(Ye=lt)}),Ye};var de=E(76210),le=E(54346),me=E(21726);let ce;ce="components/assets";var J=E(81431),ie=E(66950),De=E(38570),_e=E(38745),Ie=E(56683),xe=E(41840);const ke="esri.widgets.Widget",Ve=x.Z.getLogger(ke);let ve=0;function We(te,Ee){for(const je in Ee)null!=te[je]&&("object"==typeof te[je]&&"object"==typeof Ee[je]?We(te[je],Ee[je]):te[je]=Ee[je]);return te}const nt=(te=>{let Ee;const je=Ct(Ct({},Q),te),Ye=(te=>Ct(Ct({},ue),te))(je),ht=Ye.performanceLogger;let ot,at=!0,lt=!1;const tt=[],vt=[],Ke=(Et,St,kt)=>{let zt;Ye.eventHandlerInterceptor=(dn,xn,yn,An)=>function(In){let Dn;ht("domEvent",In);const st=((te,Ee)=>{const je=[];for(;te&&te!==Ee;)je.push(te),te=te.parentNode;return je})(In.currentTarget,zt.domNode),Dt=st.some(Wt=>{var Ht;return customElements.get(null==Wt||null==(Ht=Wt.tagName)?void 0:Ht.toLowerCase())});if(In.eventPhase!==Event.CAPTURING_PHASE&&Dt){const Wt=In.composedPath(),Ht=Wt.slice(Wt.indexOf(In.currentTarget),Wt.indexOf(zt.domNode)).filter(Nt=>Nt.getRootNode()===Nt.ownerDocument).reverse();Dn=oe(zt.getLastRender(),Ht,!0)}else st.reverse(),Dn=oe(zt.getLastRender(),st);let jt;return Dn&&(jt=je.handleInterceptedEvent(Ee,Dn,this,In)),ht("domEventProcessed",In),jt},null==je.postProcessProjectionOptions||je.postProcessProjectionOptions(Ye);const qt=kt();zt=Et(St,qt,Ye),tt.push(zt),vt.push(kt),je.afterFirstVNodeRendered&&je.afterFirstVNodeRendered(zt,qt)};let ut=()=>{if(ot=void 0,at){at=!1,ht("renderStart",void 0);for(let Et=0;Et<tt.length;Et++){const St=vt[Et]();ht("rendered",void 0),tt[Et].update(St),ht("patched",void 0)}ht("renderDone",void 0),at=!0}};return je.modifyDoRenderImplementation&&(ut=je.modifyDoRenderImplementation(ut,tt,vt)),Ee={renderNow:ut,scheduleRender:()=>{ot||lt||(ot=requestAnimationFrame(ut))},stop:()=>{ot&&(cancelAnimationFrame(ot),ot=void 0),lt=!0},resume:()=>{lt=!1,at=!0,Ee.scheduleRender()},append:(Et,St)=>{Ke(W.v.append,Et,St)},insertBefore:(Et,St)=>{Ke(W.v.insertBefore,Et,St)},merge:(Et,St)=>{Ke(W.v.merge,Et,St)},replace:(Et,St)=>{Ke(W.v.replace,Et,St)},detach:Et=>{for(let St=0;St<vt.length;St++)if(vt[St]===Et)return vt.splice(St,1),tt.splice(St,1)[0];throw new Error("renderFunction was not found")}},Ee})({postProcessProjectionOptions(te){const Ee=te.eventHandlerInterceptor,je=/capture$/i;te.eventHandlerInterceptor=(Ye,ht,ot,at)=>{const lt=Ee(Ye,ht,ot,at),tt=je.test(Ye);if(!((Ye=Ye.replace(je,"")).toLowerCase()in ot)||tt){const vt=Ye[2].toLowerCase()+Ye.slice(3),Ke=St=>lt.call(ot,St);ot.addEventListener(vt,Ke,tt);const ut=()=>ot.removeEventListener(vt,Ke,tt),Et=at.afterRemoved;at.afterRemoved=St=>{null==Et||Et(St),ut()}}return lt}},handleInterceptedEvent(te,Ee,je,Ye){const{eventPhase:ht,type:ot}=Ye,at=ht===Event.CAPTURING_PHASE;let lt=`on${ot}${at?"capture":""}`;const tt=Ee.properties;(lt in tt||(lt=`on${ot[0].toUpperCase()}${ot.slice(1)}${at?"Capture":""}`,lt in tt))&&((0,ie.Uy)(),te.scheduleRender(),tt[lt].call(tt.bind||je,Ye))}});let Te=!1,Ze=class extends((0,Y.v)(ee.Z.EventedAccessor)){constructor(te,Ee){var je;super(te,Ee),je=this,this._attached=!1,this._internalHandles=new z.Z,this._projector=nt,this._readyForTrueRender=!1,this.domNode=null,this.iconClass="esri-icon-checkbox-unchecked",this.label=this.declaredClass.split(".").pop(),this.visible=!0,this.key=this,this._loadLocale=(0,$.Ds)((0,M.Z)(function*(){if(je._messageBundleProps&&je._messageBundleProps.length){const tt=yield(0,$.as)(je._messageBundleProps.map(function(){var vt=(0,M.Z)(function*({bundlePath:Ke,propertyName:ut}){let Et=yield(0,xe.ME)(Ke);je.uiStrings&&Object.keys(je.uiStrings)&&(Et=We((0,T.d9)(Et),je.uiStrings)),je[ut]=Et});return function(Ke){return vt.apply(this,arguments)}}()));for(const vt of tt)vt.error&&Ve.error("widget-intl:locale-error",je.declaredClass,vt.error)}yield je.loadLocale()})),function ge(){(0,de.YY)((0,me.hF)((0,le.V)("components/assets")))}();const ht=(0,_e.Yo)()||"light";["light","dark"].includes(ht)||(0,B.x9)(Ve,"The following themes are deprecated: light-blue, dark-blue, light-green, dark-green, light-purple, dark-purple, light-red, and dark-red.",{version:"4.19",warnOnce:!0,see:"https://developers.arcgis.com/javascript/latest/styling/"});const ot="esri-widget-uid-"+(0,ne.D)(),at=this.render.bind(this);this._trackingTarget=new k.M(()=>this.scheduleRender());const lt=()=>{var tt;if(!this._readyForTrueRender||this.destroyed)return null;if(!this.visible)return{vnodeSelector:"div",properties:{key:ot,class:"",styles:{display:"none"}},domNode:void 0,children:void 0,text:void 0};const vt=at();let{properties:Ke}=vt;Ke||(vt.properties=Ke={});let{key:ut,styles:Et}=Ke;ut||(Ke.key=ot),Et||(Ke.styles=Et={}),Et.display||(Et.display="");let St=0;return null==(tt=vt.children)||tt.forEach(kt=>{if((0,J.ZJ)(kt.vnodeSelector))return;let{properties:zt}=kt;zt||(kt.properties=zt={}),zt.key||(zt.key=`${this.id}--${St++}`)}),(0,J.dh)(this,vt)};this.render=()=>{if(Te)return lt();let tt=(0,ie.O9)(this);if(tt)return tt;this._trackingTarget.clear(),Te=!0;try{tt=(0,F.LJ)(this._trackingTarget,lt)}finally{Te=!1}return(0,ie.KF)(this,tt),tt},this.addResolvingPromise(this._resourcesFetch=this.beforeFirstRender().then(()=>{this._readyForTrueRender=!0,this._postInitialize()}))}normalizeCtorArgs(te,Ee){const je=Ct({},te);return Ee&&(je.container=Ee),je}postInitialize(){}beforeFirstRender(){return Promise.all([this.loadDependencies(),this._loadLocale()]).then(()=>{}).catch($.H9)}loadDependencies(){return(0,M.Z)(function*(){})()}loadLocale(){return(0,M.Z)(function*(){})()}destroy(){this.destroyed||(this._trackingTarget=(0,Z.SC)(this._trackingTarget),this.viewModel=(0,Z.SC)(this.viewModel),this._detach(this.container),this._set("container",null),this._internalHandles.destroy(),this._emitter.clear(),this.render=()=>null,this._projector=null,(0,ie.w7)(this))}set container(te){this._get("container")||this._set("container",te)}castContainer(te){return(0,N.L7)(te)}get id(){return this._get("id")||this.get("container.id")||Date.now().toString(16)+"-widget-"+ve++}set id(te){te&&this._set("id",te)}get renderable(){return this._resourcesFetch}get test(){return{projector:this._projector,handles:this._internalHandles}}render(){throw new Error("not implemented")}scheduleRender(){this.destroyed||((0,ie.w7)(this),this._projector.scheduleRender())}classes(...te){return De.Sh.apply(this,te)}own(te){arguments.length>1&&(te=Array.prototype.slice.call(arguments)),this._internalHandles.add(te)}renderNow(){(0,ie.w7)(this),this._projector.renderNow()}_postInitialize(){var Ee,te=this;if(this.destroyed)return;this.scheduleRender(),null!=(Ee=this._delegatedEventNames)&&Ee.length&&this._internalHandles.add((0,se.YP)(()=>this.viewModel,(Ye,ht)=>{ht&&this._internalHandles.remove("delegated-events"),Ye&&this._internalHandles.add(this._delegatedEventNames.map(ot=>Ye.on(ot,at=>{this.emit(ot,at)})),"delegated-events")},se.nn)),this.postInitialize();const je=function(){var Ye=(0,M.Z)(function*(){yield te._loadLocale().catch($.H9),te.scheduleRender()});return function(){return Ye.apply(this,arguments)}}();this._internalHandles.add([(0,Ie.qe)(je),(0,se.YP)(()=>this.uiStrings,je),(0,se.gx)(()=>this.container,Ye=>{this.destroyed||this._attach(Ye)},{initial:!0,once:!0})])}_attach(te){te&&(this._projector.merge(te,this.render),this._attached=!0)}_detach(te){te&&this._attached&&(this._projector.detach(this.render),te.parentNode&&te.parentNode.removeChild(te),this._attached=!1)}};Ze[J.$X]=!0,(0,O._)([(0,j.Cb)()],Ze.prototype,"_readyForTrueRender",void 0),(0,O._)([(0,j.Cb)({value:null})],Ze.prototype,"container",null),(0,O._)([(0,I.p)("container")],Ze.prototype,"castContainer",null),(0,O._)([(0,j.Cb)({aliasOf:"container"})],Ze.prototype,"domNode",void 0),(0,O._)([(0,j.Cb)()],Ze.prototype,"iconClass",void 0),(0,O._)([(0,j.Cb)()],Ze.prototype,"id",null),(0,O._)([(0,j.Cb)()],Ze.prototype,"label",void 0),(0,O._)([(0,j.Cb)()],Ze.prototype,"renderable",null),(0,O._)([(0,j.Cb)()],Ze.prototype,"uiStrings",void 0),(0,O._)([(0,j.Cb)()],Ze.prototype,"viewModel",void 0),(0,O._)([(0,j.Cb)()],Ze.prototype,"visible",void 0),(0,O._)([(0,j.Cb)()],Ze.prototype,"key",void 0),(0,O._)([(0,j.Cb)()],Ze.prototype,"children",void 0),(0,O._)([(0,j.Cb)()],Ze.prototype,"afterCreate",void 0),(0,O._)([(0,j.Cb)()],Ze.prototype,"afterUpdate",void 0),(0,O._)([(0,j.Cb)()],Ze.prototype,"afterRemoved",void 0),Ze=(0,O._)([(0,w.j)(ke)],Ze);const He=Ze},24940:(Qe,Me,E)=>{"use strict";E.d(Me,{h:()=>O});var M=E(38570);function O(){return function(N,ee){if(!N[ee])throw new TypeError(`Cannot auto bind undefined function '${ee}'`);return{value:B(N[ee])}}}function B(N){return function(ee,...z){!function X(N){const{type:ee}=N;return N instanceof KeyboardEvent||"keyup"===ee||"keydown"===ee||"keypress"===ee}(ee)?N.call(this,ee,...z):(0,M.pf)(ee.key)&&(ee.preventDefault(),ee.stopPropagation(),ee.target.click())}}},25552:(Qe,Me,E)=>{"use strict";function M(O){return function(X,B){X.hasOwnProperty("_messageBundleProps")||(X._messageBundleProps=X._messageBundleProps?X._messageBundleProps.slice():[]),X._messageBundleProps.push({bundlePath:O,propertyName:B})}}E.d(Me,{H:()=>M})},94450:(Qe,Me,E)=>{"use strict";E.d(Me,{u:()=>N});var M=E(81431),O=function(z){return{vnodeSelector:"",properties:void 0,children:void 0,text:z.toString(),domNode:null}},X=function(z,L){for(var T=0,x=z.length;T<x;T++){var Z=z[T];Array.isArray(Z)?X(Z,L):null!=Z&&!1!==Z&&(Z.hasOwnProperty("vnodeSelector")||(Z=O(Z)),L.push(Z))}};function N(z,L,...T){return"function"!=typeof z||(0,M.ZJ)(z)?function(z,L){for(var T=[],x=2;x<arguments.length;x++)T[x-2]=arguments[x];if(1===T.length&&"string"==typeof T[0])return{vnodeSelector:z,properties:L||void 0,children:void 0,text:T[0],domNode:null};var Z=[];return X(T,Z),{vnodeSelector:z,properties:L||void 0,children:Z,text:void 0,domNode:null}}(z,L,...T):z(L,...T)}},81431:(Qe,Me,E)=>{"use strict";E.d(Me,{$X:()=>O,ZJ:()=>x,dh:()=>ee});var M=E(54024);const O=Symbol("widget"),X=[],B={},N=new WeakMap;function ee(Z,Y){let $=Y.children;if($&&$.length)for(let ne=0;ne<$.length;++ne)$[ne]=ee(Z,$[ne]);else $=X;const se=Y.vnodeSelector;if(x(se)){const ne=Y.properties||B,j=ne.key||se;return{vnodeSelector:"div",properties:{key:j,afterCreate:z,afterUpdate:L,afterRemoved:T,parentWidget:Z,widgetConstructor:se,widgetProperties:Bn(Ct({},ne),{key:j,children:$})},children:void 0,text:void 0,domNode:null}}return Y}function z(Z,Y,$,{parentWidget:se,widgetConstructor:ne,widgetProperties:j}){const I=new ne(j);I.container=Z,N.set(Z,I),null==I.afterCreate||I.afterCreate(I,Z),se._internalHandles.add((0,M.kB)(()=>T(Z)))}function L(Z,Y,$,{widgetProperties:se}){const ne=N.get(Z);ne&&(ne.set(se),null==ne.afterUpdate||ne.afterUpdate(ne,Z))}function T(Z){const Y=N.get(Z);Y&&(Y.destroy(),N.delete(Z))}function x(Z){return"function"==typeof Z&&Z[O]}},66950:(Qe,Me,E)=>{"use strict";E.d(Me,{KF:()=>B,O9:()=>X,Uy:()=>O,w7:()=>N});const M=new Map;function O(){M.clear()}function X(ee){return M.get(ee)}function B(ee,z){M.set(ee,z)}function N(ee){M.delete(ee)}},40669:(Qe,Me,E)=>{"use strict";function L(x){return x&&"function"==typeof x.render}function T(x){return x&&"function"==typeof x.postMixInProperties&&"function"==typeof x.buildRendering&&"function"==typeof x.postCreate&&"function"==typeof x.startup}E.d(Me,{o:()=>T,Qd:()=>L}),E(24940),E(55538),E(8314),E(63290),E(94450),E(38570)},38745:(Qe,Me,E)=>{"use strict";function M(){return getComputedStyle(document.body).getPropertyValue("--esri-calcite-theme-name").replace(/\s|'|"/g,"")}function O(){return M().startsWith("dark")}function X(){return"calcite-theme-"+(O()?"dark":"light")}E.d(Me,{$o:()=>O,Yo:()=>M,rk:()=>X})},38570:(Qe,Me,E)=>{"use strict";E.d(Me,{Sh:()=>zs,vU:()=>li,pV:()=>Vi,pf:()=>Ms,dZ:()=>zr,_q:()=>ks,w3:()=>Jr,Yo:()=>ls});var N=Object.prototype,ee=Function.prototype.toString,z=N.hasOwnProperty,L=ee.call(Object),T=N.toString,x=function X(Le,Kt){return function(wt){return Le(Kt(wt))}}(Object.getPrototypeOf,Object),se={exports:{}},ne={},j={exports:{}},I={};function w(){return{"align-content":!1,"align-items":!1,"align-self":!1,"alignment-adjust":!1,"alignment-baseline":!1,all:!1,"anchor-point":!1,animation:!1,"animation-delay":!1,"animation-direction":!1,"animation-duration":!1,"animation-fill-mode":!1,"animation-iteration-count":!1,"animation-name":!1,"animation-play-state":!1,"animation-timing-function":!1,azimuth:!1,"backface-visibility":!1,background:!0,"background-attachment":!0,"background-clip":!0,"background-color":!0,"background-image":!0,"background-origin":!0,"background-position":!0,"background-repeat":!0,"background-size":!0,"baseline-shift":!1,binding:!1,bleed:!1,"bookmark-label":!1,"bookmark-level":!1,"bookmark-state":!1,border:!0,"border-bottom":!0,"border-bottom-color":!0,"border-bottom-left-radius":!0,"border-bottom-right-radius":!0,"border-bottom-style":!0,"border-bottom-width":!0,"border-collapse":!0,"border-color":!0,"border-image":!0,"border-image-outset":!0,"border-image-repeat":!0,"border-image-slice":!0,"border-image-source":!0,"border-image-width":!0,"border-left":!0,"border-left-color":!0,"border-left-style":!0,"border-left-width":!0,"border-radius":!0,"border-right":!0,"border-right-color":!0,"border-right-style":!0,"border-right-width":!0,"border-spacing":!0,"border-style":!0,"border-top":!0,"border-top-color":!0,"border-top-left-radius":!0,"border-top-right-radius":!0,"border-top-style":!0,"border-top-width":!0,"border-width":!0,bottom:!1,"box-decoration-break":!0,"box-shadow":!0,"box-sizing":!0,"box-snap":!0,"box-suppress":!0,"break-after":!0,"break-before":!0,"break-inside":!0,"caption-side":!1,chains:!1,clear:!0,clip:!1,"clip-path":!1,"clip-rule":!1,color:!0,"color-interpolation-filters":!0,"column-count":!1,"column-fill":!1,"column-gap":!1,"column-rule":!1,"column-rule-color":!1,"column-rule-style":!1,"column-rule-width":!1,"column-span":!1,"column-width":!1,columns:!1,contain:!1,content:!1,"counter-increment":!1,"counter-reset":!1,"counter-set":!1,crop:!1,cue:!1,"cue-after":!1,"cue-before":!1,cursor:!1,direction:!1,display:!0,"display-inside":!0,"display-list":!0,"display-outside":!0,"dominant-baseline":!1,elevation:!1,"empty-cells":!1,filter:!1,flex:!1,"flex-basis":!1,"flex-direction":!1,"flex-flow":!1,"flex-grow":!1,"flex-shrink":!1,"flex-wrap":!1,float:!1,"float-offset":!1,"flood-color":!1,"flood-opacity":!1,"flow-from":!1,"flow-into":!1,font:!0,"font-family":!0,"font-feature-settings":!0,"font-kerning":!0,"font-language-override":!0,"font-size":!0,"font-size-adjust":!0,"font-stretch":!0,"font-style":!0,"font-synthesis":!0,"font-variant":!0,"font-variant-alternates":!0,"font-variant-caps":!0,"font-variant-east-asian":!0,"font-variant-ligatures":!0,"font-variant-numeric":!0,"font-variant-position":!0,"font-weight":!0,grid:!1,"grid-area":!1,"grid-auto-columns":!1,"grid-auto-flow":!1,"grid-auto-rows":!1,"grid-column":!1,"grid-column-end":!1,"grid-column-start":!1,"grid-row":!1,"grid-row-end":!1,"grid-row-start":!1,"grid-template":!1,"grid-template-areas":!1,"grid-template-columns":!1,"grid-template-rows":!1,"hanging-punctuation":!1,height:!0,hyphens:!1,icon:!1,"image-orientation":!1,"image-resolution":!1,"ime-mode":!1,"initial-letters":!1,"inline-box-align":!1,"justify-content":!1,"justify-items":!1,"justify-self":!1,left:!1,"letter-spacing":!0,"lighting-color":!0,"line-box-contain":!1,"line-break":!1,"line-grid":!1,"line-height":!1,"line-snap":!1,"line-stacking":!1,"line-stacking-ruby":!1,"line-stacking-shift":!1,"line-stacking-strategy":!1,"list-style":!0,"list-style-image":!0,"list-style-position":!0,"list-style-type":!0,margin:!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,"margin-top":!0,"marker-offset":!1,"marker-side":!1,marks:!1,mask:!1,"mask-box":!1,"mask-box-outset":!1,"mask-box-repeat":!1,"mask-box-slice":!1,"mask-box-source":!1,"mask-box-width":!1,"mask-clip":!1,"mask-image":!1,"mask-origin":!1,"mask-position":!1,"mask-repeat":!1,"mask-size":!1,"mask-source-type":!1,"mask-type":!1,"max-height":!0,"max-lines":!1,"max-width":!0,"min-height":!0,"min-width":!0,"move-to":!1,"nav-down":!1,"nav-index":!1,"nav-left":!1,"nav-right":!1,"nav-up":!1,"object-fit":!1,"object-position":!1,opacity:!1,order:!1,orphans:!1,outline:!1,"outline-color":!1,"outline-offset":!1,"outline-style":!1,"outline-width":!1,overflow:!1,"overflow-wrap":!1,"overflow-x":!1,"overflow-y":!1,padding:!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,page:!1,"page-break-after":!1,"page-break-before":!1,"page-break-inside":!1,"page-policy":!1,pause:!1,"pause-after":!1,"pause-before":!1,perspective:!1,"perspective-origin":!1,pitch:!1,"pitch-range":!1,"play-during":!1,position:!1,"presentation-level":!1,quotes:!1,"region-fragment":!1,resize:!1,rest:!1,"rest-after":!1,"rest-before":!1,richness:!1,right:!1,rotation:!1,"rotation-point":!1,"ruby-align":!1,"ruby-merge":!1,"ruby-position":!1,"shape-image-threshold":!1,"shape-outside":!1,"shape-margin":!1,size:!1,speak:!1,"speak-as":!1,"speak-header":!1,"speak-numeral":!1,"speak-punctuation":!1,"speech-rate":!1,stress:!1,"string-set":!1,"tab-size":!1,"table-layout":!1,"text-align":!0,"text-align-last":!0,"text-combine-upright":!0,"text-decoration":!0,"text-decoration-color":!0,"text-decoration-line":!0,"text-decoration-skip":!0,"text-decoration-style":!0,"text-emphasis":!0,"text-emphasis-color":!0,"text-emphasis-position":!0,"text-emphasis-style":!0,"text-height":!0,"text-indent":!0,"text-justify":!0,"text-orientation":!0,"text-overflow":!0,"text-shadow":!0,"text-space-collapse":!0,"text-transform":!0,"text-underline-position":!0,"text-wrap":!0,top:!1,transform:!1,"transform-origin":!1,"transform-style":!1,transition:!1,"transition-delay":!1,"transition-duration":!1,"transition-property":!1,"transition-timing-function":!1,"unicode-bidi":!1,"vertical-align":!1,visibility:!1,"voice-balance":!1,"voice-duration":!1,"voice-family":!1,"voice-pitch":!1,"voice-range":!1,"voice-rate":!1,"voice-stress":!1,"voice-volume":!1,volume:!1,"white-space":!1,widows:!1,width:!0,"will-change":!1,"word-break":!0,"word-spacing":!0,"word-wrap":!0,"wrap-flow":!1,"wrap-through":!1,"writing-mode":!1,"z-index":!1}}var W=/javascript\s*\:/gim;I.whiteList={"align-content":!1,"align-items":!1,"align-self":!1,"alignment-adjust":!1,"alignment-baseline":!1,all:!1,"anchor-point":!1,animation:!1,"animation-delay":!1,"animation-direction":!1,"animation-duration":!1,"animation-fill-mode":!1,"animation-iteration-count":!1,"animation-name":!1,"animation-play-state":!1,"animation-timing-function":!1,azimuth:!1,"backface-visibility":!1,background:!0,"background-attachment":!0,"background-clip":!0,"background-color":!0,"background-image":!0,"background-origin":!0,"background-position":!0,"background-repeat":!0,"background-size":!0,"baseline-shift":!1,binding:!1,bleed:!1,"bookmark-label":!1,"bookmark-level":!1,"bookmark-state":!1,border:!0,"border-bottom":!0,"border-bottom-color":!0,"border-bottom-left-radius":!0,"border-bottom-right-radius":!0,"border-bottom-style":!0,"border-bottom-width":!0,"border-collapse":!0,"border-color":!0,"border-image":!0,"border-image-outset":!0,"border-image-repeat":!0,"border-image-slice":!0,"border-image-source":!0,"border-image-width":!0,"border-left":!0,"border-left-color":!0,"border-left-style":!0,"border-left-width":!0,"border-radius":!0,"border-right":!0,"border-right-color":!0,"border-right-style":!0,"border-right-width":!0,"border-spacing":!0,"border-style":!0,"border-top":!0,"border-top-color":!0,"border-top-left-radius":!0,"border-top-right-radius":!0,"border-top-style":!0,"border-top-width":!0,"border-width":!0,bottom:!1,"box-decoration-break":!0,"box-shadow":!0,"box-sizing":!0,"box-snap":!0,"box-suppress":!0,"break-after":!0,"break-before":!0,"break-inside":!0,"caption-side":!1,chains:!1,clear:!0,clip:!1,"clip-path":!1,"clip-rule":!1,color:!0,"color-interpolation-filters":!0,"column-count":!1,"column-fill":!1,"column-gap":!1,"column-rule":!1,"column-rule-color":!1,"column-rule-style":!1,"column-rule-width":!1,"column-span":!1,"column-width":!1,columns:!1,contain:!1,content:!1,"counter-increment":!1,"counter-reset":!1,"counter-set":!1,crop:!1,cue:!1,"cue-after":!1,"cue-before":!1,cursor:!1,direction:!1,display:!0,"display-inside":!0,"display-list":!0,"display-outside":!0,"dominant-baseline":!1,elevation:!1,"empty-cells":!1,filter:!1,flex:!1,"flex-basis":!1,"flex-direction":!1,"flex-flow":!1,"flex-grow":!1,"flex-shrink":!1,"flex-wrap":!1,float:!1,"float-offset":!1,"flood-color":!1,"flood-opacity":!1,"flow-from":!1,"flow-into":!1,font:!0,"font-family":!0,"font-feature-settings":!0,"font-kerning":!0,"font-language-override":!0,"font-size":!0,"font-size-adjust":!0,"font-stretch":!0,"font-style":!0,"font-synthesis":!0,"font-variant":!0,"font-variant-alternates":!0,"font-variant-caps":!0,"font-variant-east-asian":!0,"font-variant-ligatures":!0,"font-variant-numeric":!0,"font-variant-position":!0,"font-weight":!0,grid:!1,"grid-area":!1,"grid-auto-columns":!1,"grid-auto-flow":!1,"grid-auto-rows":!1,"grid-column":!1,"grid-column-end":!1,"grid-column-start":!1,"grid-row":!1,"grid-row-end":!1,"grid-row-start":!1,"grid-template":!1,"grid-template-areas":!1,"grid-template-columns":!1,"grid-template-rows":!1,"hanging-punctuation":!1,height:!0,hyphens:!1,icon:!1,"image-orientation":!1,"image-resolution":!1,"ime-mode":!1,"initial-letters":!1,"inline-box-align":!1,"justify-content":!1,"justify-items":!1,"justify-self":!1,left:!1,"letter-spacing":!0,"lighting-color":!0,"line-box-contain":!1,"line-break":!1,"line-grid":!1,"line-height":!1,"line-snap":!1,"line-stacking":!1,"line-stacking-ruby":!1,"line-stacking-shift":!1,"line-stacking-strategy":!1,"list-style":!0,"list-style-image":!0,"list-style-position":!0,"list-style-type":!0,margin:!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,"margin-top":!0,"marker-offset":!1,"marker-side":!1,marks:!1,mask:!1,"mask-box":!1,"mask-box-outset":!1,"mask-box-repeat":!1,"mask-box-slice":!1,"mask-box-source":!1,"mask-box-width":!1,"mask-clip":!1,"mask-image":!1,"mask-origin":!1,"mask-position":!1,"mask-repeat":!1,"mask-size":!1,"mask-source-type":!1,"mask-type":!1,"max-height":!0,"max-lines":!1,"max-width":!0,"min-height":!0,"min-width":!0,"move-to":!1,"nav-down":!1,"nav-index":!1,"nav-left":!1,"nav-right":!1,"nav-up":!1,"object-fit":!1,"object-position":!1,opacity:!1,order:!1,orphans:!1,outline:!1,"outline-color":!1,"outline-offset":!1,"outline-style":!1,"outline-width":!1,overflow:!1,"overflow-wrap":!1,"overflow-x":!1,"overflow-y":!1,padding:!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,page:!1,"page-break-after":!1,"page-break-before":!1,"page-break-inside":!1,"page-policy":!1,pause:!1,"pause-after":!1,"pause-before":!1,perspective:!1,"perspective-origin":!1,pitch:!1,"pitch-range":!1,"play-during":!1,position:!1,"presentation-level":!1,quotes:!1,"region-fragment":!1,resize:!1,rest:!1,"rest-after":!1,"rest-before":!1,richness:!1,right:!1,rotation:!1,"rotation-point":!1,"ruby-align":!1,"ruby-merge":!1,"ruby-position":!1,"shape-image-threshold":!1,"shape-outside":!1,"shape-margin":!1,size:!1,speak:!1,"speak-as":!1,"speak-header":!1,"speak-numeral":!1,"speak-punctuation":!1,"speech-rate":!1,stress:!1,"string-set":!1,"tab-size":!1,"table-layout":!1,"text-align":!0,"text-align-last":!0,"text-combine-upright":!0,"text-decoration":!0,"text-decoration-color":!0,"text-decoration-line":!0,"text-decoration-skip":!0,"text-decoration-style":!0,"text-emphasis":!0,"text-emphasis-color":!0,"text-emphasis-position":!0,"text-emphasis-style":!0,"text-height":!0,"text-indent":!0,"text-justify":!0,"text-orientation":!0,"text-overflow":!0,"text-shadow":!0,"text-space-collapse":!0,"text-transform":!0,"text-underline-position":!0,"text-wrap":!0,top:!1,transform:!1,"transform-origin":!1,"transform-style":!1,transition:!1,"transition-delay":!1,"transition-duration":!1,"transition-property":!1,"transition-timing-function":!1,"unicode-bidi":!1,"vertical-align":!1,visibility:!1,"voice-balance":!1,"voice-duration":!1,"voice-family":!1,"voice-pitch":!1,"voice-range":!1,"voice-rate":!1,"voice-stress":!1,"voice-volume":!1,volume:!1,"white-space":!1,widows:!1,width:!0,"will-change":!1,"word-break":!0,"word-spacing":!0,"word-wrap":!0,"wrap-flow":!1,"wrap-through":!1,"writing-mode":!1,"z-index":!1},I.getDefaultWhiteList=w,I.onAttr=function F(Le,Kt,wt){},I.onIgnoreAttr=function k(Le,Kt,wt){},I.safeAttrValue=function re(Le,Kt){return W.test(Kt)?"":Kt};var ue_trim=function(Le){return String.prototype.trim?Le.trim():Le.replace(/(^\s*)|(\s*$)/g,"")},ue_trimRight=function(Le){return String.prototype.trimRight?Le.trimRight():Le.replace(/(\s*$)/g,"")},pe=I;function K(Le){return null==Le}function le(Le){(Le=function de(Le){var Kt={};for(var wt in Le)Kt[wt]=Le[wt];return Kt}(Le||{})).whiteList=Le.whiteList||pe.whiteList,Le.onAttr=Le.onAttr||pe.onAttr,Le.onIgnoreAttr=Le.onIgnoreAttr||pe.onIgnoreAttr,Le.safeAttrValue=Le.safeAttrValue||pe.safeAttrValue,this.options=Le}le.prototype.process=function(Le){if(!(Le=(Le=Le||"").toString()))return"";var wt=this.options,fn=wt.whiteList,cn=wt.onAttr,Mn=wt.onIgnoreAttr,Wn=wt.safeAttrValue;return function he(Le,Kt){";"!==(Le=ue_trimRight(Le))[Le.length-1]&&(Le+=";");var wt=Le.length,fn=!1,cn=0,Mn=0,Wn="";function dt(){if(!fn){var Lt=ue_trim(Le.slice(cn,Mn)),_t=Lt.indexOf(":");if(-1!==_t){var un=ue_trim(Lt.slice(0,_t)),hn=ue_trim(Lt.slice(_t+1));if(un){var pn=Kt(cn,Wn.length,un,hn,Lt);pn&&(Wn+=pn+"; ")}}}cn=Mn+1}for(;Mn<wt;Mn++){var bt=Le[Mn];if("/"===bt&&"*"===Le[Mn+1]){var pt=Le.indexOf("*/",Mn+2);if(-1===pt)break;cn=(Mn=pt+1)+1,fn=!1}else"("===bt?fn=!0:")"===bt?fn=!1:";"===bt?fn||dt():"\n"===bt&&dt()}return ue_trim(Wn)}(Le,function(bt,pt,Lt,_t,un){var hn=fn[Lt],pn=!1;if(!0===hn?pn=hn:"function"==typeof hn?pn=hn(_t):hn instanceof RegExp&&(pn=hn.test(_t)),!0!==pn&&(pn=!1),_t=Wn(Lt,_t)){var mn,Fn={position:pt,sourcePosition:bt,source:un,isWhite:pn};if(pn)return K(mn=cn(Lt,_t,Fn))?Lt+":"+_t:mn;if(!K(mn=Mn(Lt,_t,Fn)))return mn}})};var me=le;!function(Le,Kt){var wt=I,fn=me;for(var Mn in(Kt=Le.exports=function cn(Wn,dt){return new fn(dt).process(Wn)}).FilterCSS=fn,wt)Kt[Mn]=wt[Mn]}(j,j.exports);var ce={indexOf:function(Le,Kt){var wt,fn;if(Array.prototype.indexOf)return Le.indexOf(Kt);for(wt=0,fn=Le.length;wt<fn;wt++)if(Le[wt]===Kt)return wt;return-1},forEach:function(Le,Kt,wt){var fn,cn;if(Array.prototype.forEach)return Le.forEach(Kt,wt);for(fn=0,cn=Le.length;fn<cn;fn++)Kt.call(wt,Le[fn],fn,Le)},trim:function(Le){return String.prototype.trim?Le.trim():Le.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(Le){var wt=/\s|\n|\t/.exec(Le);return wt?wt.index:-1}},J=j.exports.getDefaultWhiteList,ie=ce;var _e=new(0,j.exports.FilterCSS);function ve(Le){return Le.replace(We,"&lt;").replace(nt,"&gt;")}var We=/</g,nt=/>/g,Te=/"/g,Ze=/&quot;/g,He=/&#([a-zA-Z0-9]*);?/gim,te=/&colon;?/gim,Ee=/&newline;?/gim,je=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a)\:/gi,Ye=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,ht=/u\s*r\s*l\s*\(.*/gi;function ot(Le){return Le.replace(Te,"&quot;")}function at(Le){return Le.replace(Ze,'"')}function lt(Le){return Le.replace(He,function(wt,fn){return String.fromCharCode("x"===fn[0]||"X"===fn[0]?parseInt(fn.substr(1),16):parseInt(fn,10))})}function tt(Le){return Le.replace(te,":").replace(Ee," ")}function vt(Le){for(var Kt="",wt=0,fn=Le.length;wt<fn;wt++)Kt+=Le.charCodeAt(wt)<32?" ":Le.charAt(wt);return ie.trim(Kt)}function Ke(Le){return vt(Le=tt(Le=lt(Le=at(Le))))}function ut(Le){return ve(Le=ot(Le))}ne.whiteList={a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]},ne.getDefaultWhiteList=function De(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}},ne.onTag=function Ie(Le,Kt,wt){},ne.onIgnoreTag=function xe(Le,Kt,wt){},ne.onTagAttr=function ke(Le,Kt,wt){},ne.onIgnoreTagAttr=function Ve(Le,Kt,wt){},ne.safeAttrValue=function we(Le,Kt,wt,fn){if(wt=Ke(wt),"href"===Kt||"src"===Kt){if("#"===(wt=ie.trim(wt)))return"#";if("http://"!==wt.substr(0,7)&&"https://"!==wt.substr(0,8)&&"mailto:"!==wt.substr(0,7)&&"tel:"!==wt.substr(0,4)&&"data:image/"!==wt.substr(0,11)&&"ftp://"!==wt.substr(0,6)&&"./"!==wt.substr(0,2)&&"../"!==wt.substr(0,3)&&"#"!==wt[0]&&"/"!==wt[0])return""}else if("background"===Kt){if(je.lastIndex=0,je.test(wt))return""}else if("style"===Kt){if(Ye.lastIndex=0,Ye.test(wt)||(ht.lastIndex=0,ht.test(wt)&&(je.lastIndex=0,je.test(wt))))return"";!1!==fn&&(wt=(fn=fn||_e).process(wt))}return ut(wt)},ne.escapeHtml=ve,ne.escapeQuote=ot,ne.unescapeQuote=at,ne.escapeHtmlEntities=lt,ne.escapeDangerHtml5Entities=tt,ne.clearNonPrintableCharacter=vt,ne.friendlyAttrValue=Ke,ne.escapeAttrValue=ut,ne.onIgnoreTagStripAll=function Et(){return""},ne.StripTagBody=function St(Le,Kt){"function"!=typeof Kt&&(Kt=function(){});var wt=!Array.isArray(Le),cn=[],Mn=!1;return{onIgnoreTag:function(Wn,dt,bt){if(function fn(Wn){return!!wt||-1!==ie.indexOf(Le,Wn)}(Wn)){if(bt.isClosing){var pt="[/removed]";return cn.push([!1!==Mn?Mn:bt.position,bt.position+pt.length]),Mn=!1,pt}return Mn||(Mn=bt.position),"[removed]"}return Kt(Wn,dt,bt)},remove:function(Wn){var dt="",bt=0;return ie.forEach(cn,function(pt){dt+=Wn.slice(bt,pt[0]),bt=pt[1]}),dt+=Wn.slice(bt)}}},ne.stripCommentTag=function kt(Le){for(var Kt="",wt=0;wt<Le.length;){var fn=Le.indexOf("\x3c!--",wt);if(-1===fn){Kt+=Le.slice(wt);break}Kt+=Le.slice(wt,fn);var cn=Le.indexOf("--\x3e",fn);if(-1===cn)break;wt=cn+3}return Kt},ne.stripBlankChar=function zt(Le){var Kt=Le.split("");return(Kt=Kt.filter(function(wt){var fn=wt.charCodeAt(0);return!(127===fn||fn<=31&&10!==fn&&13!==fn)})).join("")},ne.cssFilter=_e,ne.getDefaultCSSWhiteList=J;var qt={},dn=ce;function xn(Le){var Kt=dn.spaceIndex(Le);if(-1===Kt)var wt=Le.slice(1,-1);else wt=Le.slice(1,Kt+1);return"/"===(wt=dn.trim(wt).toLowerCase()).slice(0,1)&&(wt=wt.slice(1)),"/"===wt.slice(-1)&&(wt=wt.slice(0,-1)),wt}function yn(Le){return"</"===Le.slice(0,2)}var In=/[^a-zA-Z0-9_:\.\-]/gim;function st(Le,Kt){for(;Kt<Le.length;Kt++){var wt=Le[Kt];if(" "!==wt)return"="===wt?Kt:-1}}function Dt(Le,Kt){for(;Kt>0;Kt--){var wt=Le[Kt];if(" "!==wt)return"="===wt?Kt:-1}}function Wt(Le){return function jt(Le){return'"'===Le[0]&&'"'===Le[Le.length-1]||"'"===Le[0]&&"'"===Le[Le.length-1]}(Le)?Le.substr(1,Le.length-2):Le}qt.parseTag=function An(Le,Kt,wt){var fn="",cn=0,Mn=!1,Wn=!1,dt=0,bt=Le.length,pt="",Lt="";e:for(dt=0;dt<bt;dt++){var _t=Le.charAt(dt);if(!1===Mn){if("<"===_t){Mn=dt;continue}}else if(!1===Wn){if("<"===_t){fn+=wt(Le.slice(cn,dt)),Mn=dt,cn=dt;continue}if(">"===_t){fn+=wt(Le.slice(cn,Mn)),pt=xn(Lt=Le.slice(Mn,dt+1)),fn+=Kt(Mn,fn.length,pt,Lt,yn(Lt)),cn=dt+1,Mn=!1;continue}if('"'===_t||"'"===_t)for(var un=1,hn=Le.charAt(dt-un);""===hn.trim()||"="===hn;){if("="===hn){Wn=_t;continue e}hn=Le.charAt(dt-++un)}}else if(_t===Wn){Wn=!1;continue}}return cn<Le.length&&(fn+=wt(Le.substr(cn))),fn},qt.parseAttr=function Dn(Le,Kt){var wt=0,fn=[],cn=!1,Mn=Le.length;function Wn(_t,un){if(!((_t=(_t=dn.trim(_t)).replace(In,"").toLowerCase()).length<1)){var hn=Kt(_t,un||"");hn&&fn.push(hn)}}for(var dt=0;dt<Mn;dt++){var Lt,bt=Le.charAt(dt);if(!1!==cn||"="!==bt)if(!1===cn||dt!==wt||'"'!==bt&&"'"!==bt||"="!==Le.charAt(dt-1)){if(/\s|\n|\t/.test(bt)){if(Le=Le.replace(/\s|\n|\t/g," "),!1===cn){if(-1===(Lt=st(Le,dt))){Wn(dn.trim(Le.slice(wt,dt))),cn=!1,wt=dt+1;continue}dt=Lt-1;continue}if(-1===(Lt=Dt(Le,dt-1))){Wn(cn,Wt(dn.trim(Le.slice(wt,dt)))),cn=!1,wt=dt+1;continue}}}else{if(-1===(Lt=Le.indexOf(bt,dt+1)))break;Wn(cn,dn.trim(Le.slice(wt+1,Lt))),cn=!1,wt=(dt=Lt)+1}else cn=Le.slice(wt,dt),wt=dt+1}return wt<Le.length&&(!1===cn?Wn(Le.slice(wt)):Wn(cn,Wt(dn.trim(Le.slice(wt))))),dn.trim(fn.join(" "))};var Ht=j.exports.FilterCSS,Nt=ne,Jt=qt.parseTag,an=qt.parseAttr,Ot=ce;function yt(Le){return null==Le}function Ae(Le){(Le=function mt(Le){var Kt={};for(var wt in Le)Kt[wt]=Le[wt];return Kt}(Le||{})).stripIgnoreTag&&(Le.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),Le.onIgnoreTag=Nt.onIgnoreTagStripAll),Le.whiteList=Le.whiteList||Nt.whiteList,Le.onTag=Le.onTag||Nt.onTag,Le.onTagAttr=Le.onTagAttr||Nt.onTagAttr,Le.onIgnoreTag=Le.onIgnoreTag||Nt.onIgnoreTag,Le.onIgnoreTagAttr=Le.onIgnoreTagAttr||Nt.onIgnoreTagAttr,Le.safeAttrValue=Le.safeAttrValue||Nt.safeAttrValue,Le.escapeHtml=Le.escapeHtml||Nt.escapeHtml,this.options=Le,!1===Le.css?this.cssFilter=!1:(Le.css=Le.css||{},this.cssFilter=new Ht(Le.css))}Ae.prototype.process=function(Le){if(!(Le=(Le=Le||"").toString()))return"";var wt=this.options,fn=wt.whiteList,cn=wt.onTag,Mn=wt.onIgnoreTag,Wn=wt.onTagAttr,dt=wt.onIgnoreTagAttr,bt=wt.safeAttrValue,pt=wt.escapeHtml,Lt=this.cssFilter;wt.stripBlankChar&&(Le=Nt.stripBlankChar(Le)),wt.allowCommentTag||(Le=Nt.stripCommentTag(Le));var _t=!1;wt.stripIgnoreTagBody&&(_t=Nt.StripTagBody(wt.stripIgnoreTagBody,Mn),Mn=_t.onIgnoreTag);var un=Jt(Le,function(hn,pn,Fn,mn,sr){var Cr,er={sourcePosition:hn,position:pn,isClosing:sr,isWhite:fn.hasOwnProperty(Fn)};if(!yt(Cr=cn(Fn,mn,er)))return Cr;if(er.isWhite){if(er.isClosing)return"</"+Fn+">";var Rs=function ze(Le){var Kt=Ot.spaceIndex(Le);if(-1===Kt)return{html:"",closing:"/"===Le[Le.length-2]};var wt="/"===(Le=Ot.trim(Le.slice(Kt+1,-1)))[Le.length-1];return wt&&(Le=Ot.trim(Le.slice(0,-1))),{html:Le,closing:wt}}(mn),$r=fn[Fn],ms=an(Rs.html,function(Yn,Cs){var ui,xr=-1!==Ot.indexOf($r,Yn);return yt(ui=Wn(Fn,Yn,Cs,xr))?xr?(Cs=bt(Fn,Yn,Cs,Lt))?Yn+'="'+Cs+'"':Yn:yt(ui=dt(Fn,Yn,Cs,xr))?void 0:ui:ui});return mn="<"+Fn,ms&&(mn+=" "+ms),Rs.closing&&(mn+=" /"),mn+">"}return yt(Cr=Mn(Fn,mn,er))?pt(mn):Cr},pt);return _t&&(un=_t.remove(un)),un};var et=Ae;!function(Le,Kt){var wt=ne,fn=qt,cn=et;function Mn(bt,pt){return new cn(pt).process(bt)}for(var Wn in(Kt=Le.exports=Mn).filterXSS=Mn,Kt.FilterXSS=cn,wt)Kt[Wn]=wt[Wn];for(var Wn in fn)Kt[Wn]=fn[Wn];(function dt(){return"undefined"!=typeof self&&"undefined"!=typeof DedicatedWorkerGlobalScope&&self instanceof DedicatedWorkerGlobalScope})()&&(self.filterXSS=Le.exports)}(se,se.exports);var rn,gn,Tt=function(){function Le(Kt,wt){var cn,fn=this;this.arcgisWhiteList={a:["href","style","target"],abbr:["title"],audio:["autoplay","controls","loop","muted","preload"],b:[],br:[],dd:["style"],div:["align","style"],dl:["style"],dt:["style"],em:[],figcaption:["style"],figure:["style"],font:["color","face","size","style"],h1:["style"],h2:["style"],h3:["style"],h4:["style"],h5:["style"],h6:["style"],hr:[],i:[],img:["alt","border","height","src","style","width"],li:[],ol:[],p:["style"],source:["media","src","type"],span:["style"],strong:[],sub:["style"],sup:["style"],table:["border","cellpadding","cellspacing","height","style","width"],tbody:[],tr:["align","height","style","valign"],td:["align","colspan","height","nowrap","rowspan","style","valign","width"],th:["align","colspan","height","nowrap","rowspan","style","valign","width"],u:[],ul:[],video:["autoplay","controls","height","loop","muted","poster","preload","width"]},this.allowedProtocols=["http","https","mailto","iform","tel","flow","lfmobile","arcgis-navigator","arcgis-appstudio-player","arcgis-survey123","arcgis-collector","arcgis-workforce","arcgis-explorer","arcgis-trek2there","arcgis-quickcapture","mspbi","comgooglemaps","pdfefile","pdfehttp","pdfehttps","boxapp","boxemm","awb","awbs","gropen","radarscope"],this.arcgisFilterOptions={allowCommentTag:!0,safeAttrValue:function(Mn,Wn,dt,bt){return"a"===Mn&&"href"===Wn||("img"===Mn||"source"===Mn)&&"src"===Wn?fn.sanitizeUrl(dt):se.exports.safeAttrValue(Mn,Wn,dt,bt)}},Kt&&!wt?cn=Kt:Kt&&wt?(cn=Object.create(this.arcgisFilterOptions),Object.keys(Kt).forEach(function(Mn){"whiteList"===Mn?cn.whiteList=fn._extendObjectOfArrays([fn.arcgisWhiteList,Kt.whiteList||{}]):cn[Mn]=Kt[Mn]})):(cn=Object.create(this.arcgisFilterOptions)).whiteList=this.arcgisWhiteList,this.xssFilterOptions=cn,this._xssFilter=new se.exports.FilterXSS(cn)}return Le.prototype.sanitize=function(Kt,wt){switch(void 0===wt&&(wt={}),typeof Kt){case"number":return isNaN(Kt)||!isFinite(Kt)?null:Kt;case"boolean":return Kt;case"string":return this._xssFilter.process(Kt);case"object":return this._iterateOverObject(Kt,wt);default:return wt.allowUndefined&&void 0===Kt?void 0:null}},Le.prototype.sanitizeUrl=function(Kt){var wt=this._trim(Kt.substring(0,Kt.indexOf(":")));return"/"===Kt||"#"===Kt||"#"===Kt[0]||this.allowedProtocols.indexOf(wt.toLowerCase())>-1?se.exports.escapeAttrValue(Kt):""},Le.prototype.sanitizeHTMLAttribute=function(Kt,wt,fn,cn){return"function"==typeof this.xssFilterOptions.safeAttrValue?this.xssFilterOptions.safeAttrValue(Kt,wt,fn,cn):se.exports.safeAttrValue(Kt,wt,fn,cn)},Le.prototype.validate=function(Kt,wt){void 0===wt&&(wt={});var fn=this.sanitize(Kt,wt);return{isValid:Kt===fn,sanitized:fn}},Le.prototype._extendObjectOfArrays=function(Kt){var wt={};return Kt.forEach(function(fn){Object.keys(fn).forEach(function(cn){wt[cn]=Array.isArray(fn[cn])&&Array.isArray(wt[cn])?wt[cn].concat(fn[cn]):fn[cn]})}),wt},Le.prototype._iterateOverObject=function(Kt,wt){var fn=this;void 0===wt&&(wt={});try{var cn=!1,Mn=void 0;if(Array.isArray(Kt))Mn=Kt.reduce(function(dt,bt){var pt=fn.validate(bt,wt);return pt.isValid?dt.concat([bt]):(cn=!0,dt.concat([pt.sanitized]))},[]);else{if(!function Y(Le){if(!function Z(Le){return!!Le&&"object"==typeof Le}(Le)||"[object Object]"!=T.call(Le)||function O(Le){var Kt=!1;if(null!=Le&&"function"!=typeof Le.toString)try{Kt=!!(Le+"")}catch(wt){}return Kt}(Le))return!1;var Kt=x(Le);if(null===Kt)return!0;var wt=z.call(Kt,"constructor")&&Kt.constructor;return"function"==typeof wt&&wt instanceof wt&&ee.call(wt)==L}(Kt))return wt.allowUndefined&&void 0===Kt?void 0:null;Mn=Object.keys(Kt).reduce(function(dt,bt){var pt=Kt[bt],Lt=fn.validate(pt,wt);return Lt.isValid?dt[bt]=pt:(cn=!0,dt[bt]=Lt.sanitized),dt},{})}return cn?Mn:Kt}catch(dt){return null}},Le.prototype._trim=function(Kt){return String.prototype.trim?Kt.trim():Kt.replace(/(^\s*)|(\s*$)/g,"")},Le}(),Qt=E(35575),Vt=(E(54024),E(8314),E(63290)),$t=E(66950),mr=function(Le){rn||function(Le){if("WebkitTransition"in Le.style)rn="webkitTransitionEnd",gn="webkitAnimationEnd";else{if(!("transition"in Le.style))throw new Error("Your browser is not supported!");rn="transitionend",gn="animationend"}}(Le)},fr=function(Le,Kt){return void 0===Kt&&(Kt=Le+"-active"),function(wt){mr(wt);var fn=!1,cn=function(Mn){fn||(fn=!0,wt.removeEventListener(rn,cn),wt.removeEventListener(gn,cn),wt.classList.remove(Le),wt.classList.remove(Kt))};wt.classList.add(Le),wt.addEventListener(rn,cn),wt.addEventListener(gn,cn),requestAnimationFrame(function(){wt.classList.add(Kt)})}},Mr=function(Le,Kt){return void 0===Kt&&(Kt=Le+"-active"),function(wt,fn){mr(wt);var cn=!1,Mn=function(Wn){cn||(cn=!0,wt.removeEventListener(rn,Mn),wt.removeEventListener(gn,Mn),fn())};wt.classList.add(Le),wt.addEventListener(rn,Mn),wt.addEventListener(gn,Mn),requestAnimationFrame(function(){wt.classList.add(Kt)})}};Vt.Z.getLogger("esri.widgets.support.widgetUtils");function zs(Le){const Kt=Qt.Z.acquire();for(let fn=0;fn<arguments.length;fn++){const cn=arguments[fn],Mn=typeof cn;if("string"===Mn)Kt.push(cn);else if(Array.isArray(cn))Kt.push.apply(Kt,cn);else if("object"===Mn)for(const Wn in cn)cn[Wn]&&Kt.push(Wn)}const wt=Kt.join(" ");return Qt.Z.release(Kt),wt}function zr(Le){const Kt=null==Le?void 0:Le.closest("[dir]");return null!==Kt&&Kt instanceof HTMLElement&&"rtl"===Kt.dir||"rtl"===document.dir}function Vi(Le){this[Le.getAttribute("data-node-ref")]=null}function ls(Le){this[Le.getAttribute("data-node-ref")]=Le}function li(Le,Kt){return("enter"===Le?fr:Mr)(Kt)}(()=>{const Le=new Map;new ResizeObserver(wt=>{(0,$t.Uy)();for(const fn of wt)Le.get(fn.target)(fn)})})();const As=["dd","dl","dt","h1","h2","h3","h4","h5","h6","sub","sup","animate","animatetransform","circle","clippath","defs","ellipse","g","image","line","lineargradient","marker","mask","path","pattern","polygon","polyline","radialgradient","rect","stop","svg","switch","symbol","text","textpath","tspan","use"].reduce((Le,Kt)=>(Le[Kt]=[],Le),{}),Gs=["align","alink","alt","bgcolor","border","cellpadding","cellspacing","class","color","cols","colspan","coords","d","dir","face","height","hspace","ismap","lang","marginheight","marginwidth","multiple","nohref","noresize","noshade","nowrap","ref","rel","rev","rows","rowspan","scrolling","shape","span","summary","tabindex","title","usemap","valign","value","vlink","vspace","width"],Jr=new Tt({whiteList:As,onTagAttr:(Le,Kt,wt)=>{const fn=`${Kt}="${wt}"`;if(Gs.includes(Kt))return fn},stripIgnoreTag:!0,stripIgnoreTagBody:["script","style"]},!0);function ks(Le,Kt){const wt=Le.getBoundingClientRect(),fn=Kt.getBoundingClientRect();(wt.top+wt.height>fn.top+fn.height||wt.top<fn.top)&&Le.scrollIntoView({block:"end"})}function Ms(Le){return"Enter"===Le||" "===Le}},15861:(Qe,Me,E)=>{"use strict";function M(X,B,N,ee,z,L,T){try{var x=X[L](T),Z=x.value}catch(Y){return void N(Y)}x.done?B(Z):Promise.resolve(Z).then(ee,z)}function O(X){return function(){var B=this,N=arguments;return new Promise(function(ee,z){var L=X.apply(B,N);function T(Z){M(L,ee,z,T,x,"next",Z)}function x(Z){M(L,ee,z,T,x,"throw",Z)}T(void 0)})}}E.d(Me,{Z:()=>O})}},Qe=>{Qe(Qe.s=48828)}]);